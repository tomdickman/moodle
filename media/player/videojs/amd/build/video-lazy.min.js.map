{"version":3,"sources":["../src/video-lazy.js"],"names":["global","factory","exports","module","require","define","amd","self","videojs","window","document","window$1","hasOwnProperty","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_setPrototypeOf","o","p","setPrototypeOf","isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_construct","Parent","args","Class","a","push","apply","Constructor","Function","bind","instance","arguments","_assertThisInitialized","ReferenceError","_taggedTemplateLiteralLoose","strings","raw","slice","history","LogByTypeFactory","name","log","type","level","lvl","levels","lvlRegExp","RegExp","unshift","toUpperCase","concat","console","fn","info","test","Array","isArray","createLogger","logByType","_len","length","_key","subname","all","off","debug","warn","error","DEFAULT","Error","filter","fname","historyItem","clear","disable","enable","_len2","_key2","_len3","_key3","_len4","_key4","createLogger$1","clean","s","replace","tsml","sa","i","keys","object","isObject","each","forEach","key","reduce","initial","accum","assign","target","sources","source","value","isPlain","computedStyle","el","prop","getComputedStyle","cs","_templateObject","data","isNonBlankString","str","throwIfWhitespace","classRegExp","className","isReal","isEl","nodeType","isInFrame","parent","x","createQuerier","method","selector","context","querySelector","ctx","createEl","tagName","properties","attributes","content","createElement","getOwnPropertyNames","propName","val","indexOf","setAttribute","textContent","attrName","appendContent","text","innerText","prependTo","child","firstChild","insertBefore","appendChild","hasClass","element","classToCheck","classList","contains","addClass","classToAdd","add","trim","removeClass","classToRemove","remove","split","c","join","toggleClass","classToToggle","predicate","has","setAttributes","attrValue","removeAttribute","getAttributes","tag","obj","attrs","attrVal","getAttribute","attribute","blockTextSelection","body","focus","onselectstart","unblockTextSelection","getBoundingClientRect","parentNode","rect","result","k","height","parseFloat","width","findPosition","box","left","top","docEl","documentElement","clientLeft","scrollLeft","pageXOffset","clientTop","scrollTop","pageYOffset","Math","round","getPointerPosition","event","position","boxW","offsetWidth","boxH","offsetHeight","boxY","boxX","pageY","pageX","changedTouches","y","max","min","isTextNode","emptyEl","removeChild","normalizeContent","map","createTextNode","node","insertContent","isSingleLeftClick","button","buttons","$","$$","Dom","freeze","_guid","newGUID","elData","elIdAttr","getTime","getData","id","hasData","removeData","_cleanUpEvents","elem","handlers","removeEventListener","dispatcher","detachEvent","disabled","_handleMultipleEvents","types","callback","fixEvent","returnTrue","returnFalse","isPropagationStopped","old","preventDefault","srcElement","relatedTarget","fromElement","toElement","returnValue","defaultPrevented","stopPropagation","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","clientX","doc","clientY","which","charCode","keyCode","_supportsPassive","opts","defineProperty","get","addEventListener","passiveEvents","on","guid","hash","handlersCopy","m","n","options","passive","attachEvent","removeType","t","splice","trigger","elemData","ownerDocument","bubbles","targetData","one","func","Events","_windowLoaded","autoSetup","vids","getElementsByTagName","audios","divs","mediaEls","mediaEl","player","autoSetupTimeout","wait","vjs","setTimeout","readyState","createStyleElement","style","setTextContent","styleSheet","cssText","uid","bound","throttle","last","now","throttled","debounce","immediate","timeout","cancel","clearTimeout","debounced","_later","EventTarget","allowedEvents_","ael","dispatchEvent","EVENT_MAP","queueTrigger","_this","Map","set","oldTimeout","delete","size","isEvented","eventBusEl_","every","addEventedCallback","eventedCallbacks","isValidEventType","validateTarget","nodeName","validateEventType","validateListener","listener","normalizeListenArgs","isTargetingSelf","shift","listen","EventedMixin","_normalizeListenArgs","removeListenerOnDispose","removeRemoverOnTargetDispose","_this2","_normalizeListenArgs2","wrapper","largs","targetOrType","typeOrListener","evented","_options","eventBusKey","StatefulMixin","state","setState","stateUpdates","changes","from","to","stateful","defaultState","handleStateChanged","toTitleCase","string","charAt","titleCaseEquals","str1","str2","mergeOptions","Component","ready","play","player_","parentComponent_","options_","id_","name_","el_","children_","childIndex_","childNameIndex_","initChildren","reportTouchActivity","enableTouchActivity","_proto","dispose","localize","tokens","defaultValue","code","language","languages","primaryCode","primaryLang","localizedString","match","index","ret","contentEl","contentEl_","children","getChildById","getChild","addChild","component","componentName","componentClassName","componentClass","ComponentClass","getComponent","childNodes","refNode","childFound","compEl","parentOptions","handleAdd","playerOptions","newChild","workingChildren","Tech","some","wchild","isTech","buildCSSClass","sync","isReady_","readyQueue_","triggerReady","readyQueue","show","hide","lockShowing","unlockShowing","num","skipListeners","dimension","dimensions","widthOrHeight","pxIndex","parseInt","currentDimension","computedWidthOrHeight","getPropertyValue","rule","currentDimensions","currentWidth","currentHeight","blur","handleKeyDown","handleKeyPress","emitTapEvents","touchStart","firstTouch","couldBeTap","touches","xdiff","ydiff","touchDistance","sqrt","noTap","touchTime","reportUserActivity","report","touchHolding","clearInterval","setInterval","touchEnd","timeoutId","disposeFn","interval","_this3","intervalId","requestAnimationFrame","_this4","supportsRaf_","cancelAnimationFrame","registerComponent","ComponentToRegister","isComp","isPrototypeOf","reason","components_","Player","players","playerNames","pname","Boolean","USER_AGENT","navigator","userAgent","webkitVersionMap","exec","appleWebkitVersion","pop","IS_IPAD","IS_IPHONE","IS_IPOD","IS_IOS","IOS_VERSION","IS_ANDROID","ANDROID_VERSION","major","minor","IS_NATIVE_ANDROID","IS_FIREFOX","IS_EDGE","IS_CHROME","CHROME_VERSION","IE_VERSION","version","IS_SAFARI","IS_ANY_SAFARI","TOUCH_ENABLED","maxTouchPoints","DocumentTouch","browser","rangeCheck","fnName","maxIndex","getRange","valueIndex","ranges","rangeIndex","createTimeRangesObj","start","end","createTimeRanges","bufferedPercent","buffered","duration","bufferedDuration","FullscreenApi","apiMap","specApi","browserApi","prefixedAPI","_i","MediaError","message","defaultMessages","status","errorTypes","errNum","tuple","reviver","json","JSON","parse","err","isPromise","then","silencePromise","trackToJson_","track","acc","cues","cue","startTime","endTime","textTrackConverter","textTracksToJson","tech","trackEls","trackObjs","tracks","trackEl","src","textTracks","jsonToTextTracks","addedTrack","addRemoteTextTrack","addCue","commonjsGlobal","createCommonjsModule","keycode","searchInput","hasKeyCode","names","search","foundNamedKey","codes","toLowerCase","aliases","charCodeAt","isEventKey","nameOrCode","String","fromCharCode","title","alias","keycode_1","keycode_2","keycode_3","keycode_4","keycode_5","MODAL_CLASS_NAME","ModalDialog","_Component","opened_","hasBeenOpened_","hasBeenFilled_","closeable","uncloseable","role","descEl_","description","tabIndex","label","previouslyActiveEl_","desc","open","fillAlways","fill","wasPlaying_","paused","pauseOnOpen","pause","hadControls_","controls","conditionalFocus_","opened","close","conditionalBlur_","temporary","closeable_","temp","controlText","fillWith","parentEl","nextSiblingEl","nextSibling","empty","closeButton","content_","activeEl","activeElement","playerEl","focusableEls","focusableEls_","focusIndex","shiftKey","allChildren","querySelectorAll","HTMLAnchorElement","HTMLAreaElement","hasAttribute","HTMLInputElement","HTMLSelectElement","HTMLTextAreaElement","HTMLButtonElement","HTMLIFrameElement","HTMLObjectElement","HTMLEmbedElement","TrackList","_EventTarget","tracks_","addTrack","removeTrack","rtrack","l","getTrackById","change","addtrack","removetrack","disableOthers","list","enabled","AudioTrackList","_TrackList","changing_","enabledChange_","disableOthers$1","selected","VideoTrackList","selectedChange_","TextTrackList","queueChange_","triggerSelectedlanguagechange","triggerSelectedlanguagechange_","kind","selectedlanguagechange_","HtmlTrackElementList","trackElements","trackElements_","addTrackElement_","trackElement","getTrackElementByTrack_","trackElement_","removeTrackElement_","TextTrackCueList","setCues_","length_","oldLength","cues_","defineProp","getCueById","VideoTrackKind","alternative","captions","main","sign","subtitles","commentary","AudioTrackKind","TextTrackKind","descriptions","chapters","metadata","TextTrackMode","hidden","showing","Track","trackProps","_loop","parseUrl","url","props","href","addToBody","host","protocol","div","innerHTML","details","location","getAbsoluteURL","getFileExtension","path","splitPathRe","pathParts","isCrossOrigin","winLoc","urlInfo","srcProtocol","crossOrigin","Url","isFunction_1","toString$1","alert","confirm","prompt","trim_1","right","trim_2","trim_3","fnToStr","constructorRegex","isES6ClassFn","fnStr","tryFunctionObject","toStr","hasToStringTag","Symbol","toStringTag","isCallable","strClass","toStr$1","forEachArray","array","iterator","receiver","len","forEachString","forEachObject","forEach_1","thisArg","TypeError","arg","parseHeaders","headers","row","hasOwnProperty$1","extend","xhr","createXHR","XMLHttpRequest","XDomainRequest","forEachArray$1","uri","initParams","_createXHR","isEmpty","params","called","response","readystatechange","loadFunc","getBody","responseText","getXml","isJson","errorFunc","evt","timeoutTimer","statusCode","failureResponse","aborted","useXDR","rawRequest","getAllResponseHeaders","cors","stringify","onreadystatechange","onload","onerror","onprogress","onabort","ontimeout","username","password","withCredentials","abort","setRequestHeader","responseType","beforeSend","send","responseXML","firefoxBugTakenEffect","parseCues","srcContent","parser","WebVTT","Parser","vttjs","StringDecoder","errors","oncue","onparsingerror","onflush","groupCollapsed","groupEnd","flush","loadTrack","responseBody","loaded_","tech_","loadHandler","errorHandler","TextTrack","_Track","settings","srclang","mode","default_","default","activeCues_","activeCues","changed","timeupdateHandler","defineProperties","newMode","ct","currentTime","active","originalCue","VTTCue","originalCue_","removeCue","_removeCue","cuechange","AudioTrack","newEnabled","VideoTrack","newSelected","NONE","LOADED","HTMLTrackElement","load","LOADING","ERROR","NORMAL","audio","ListClass","TrackClass","capitalName","video","getterName","privateName","REMOTE","remoteText","remoteTextEl","ALL","_objCreate","F","ParsingError","errorData","Errors","BadSignature","BadTimeStamp","parseTimeStamp","input","computeSeconds","h","f","Settings","values","v","dflt","defaultKey","alt","integer","percent","parseOptions","keyValueDelim","groupDelim","groups","kv","parseCue","regionList","oInput","consumeTimeStamp","ts","consumeCueSettings","region","vals","vals0","vertical","line","lineAlign","snapToLines","align","middle","positionAlign","skipWhitespace","substr","ESCAPE","TAG_NAME","b","u","ruby","rt","lang","TAG_ANNOTATION","NEEDS_PARENT","parseContent","nextToken","consume","unescape1","unescape","shouldAdd","current","localName","annotation","rootDiv","tagStack","createProcessingInstruction","strongRTLRanges","isStrongRTLChar","currentRange","determineBidi","cueDiv","nodeStack","pushNodes","nextTextNode","computeLinePos","textTrackList","mediaElement","trackList","count","StyleBox","applyStyles","styles","formatStyle","unit","CueStyleBox","styleOptions","color","backgroundColor","bottom","display","writingMode","unicodeBidi","direction","textAlign","font","whiteSpace","textPos","move","BoxPosition","lh","offsetTop","rects","getClientRects","lineHeight","axis","toMove","overlaps","b2","overlapsAny","boxes","within","container","overlapsOppositeAxis","intersectPercentage","toCSSCompatValues","reference","getSimpleBoxPosition","moveBoxToLinePosition","styleBox","containerBox","boxPositions","findBestPosition","bestPosition","specifiedPosition","percentage","boxPosition","linePos","step","maxPosition","initialAxis","abs","ceil","reverse","calculatedPercentage","WebVTT$1","decode","decodeURIComponent","encodeURIComponent","convertCueToDOMTree","cuetext","processCues","overlay","paddedOverlay","margin","shouldCompute","hasBeenReset","displayState","fontSize","decoder","buffer","TextDecoder","reportOrThrowError","stream","collectNextLine","pos","parseRegion","xy","anchor","VTTRegion","lines","regionAnchorX","regionAnchorY","viewportAnchorX","viewportAnchorY","scroll","onregion","parseTimestampMap","ontimestampmap","parseHeader","alreadyCollectedLine","hasSubstring","directionSetting","alignSetting","findDirectionSetting","dir","findAlignSetting","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","enumerable","setting","SyntaxError","getCueAsHTML","scrollSetting","findScrollSetting","isValidPercentValue","vttregion","_width","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","browserIndex","cueShim","regionShim","nativeVTTCue","nativeVTTRegion","shim","restore","browserIndex_1","browserIndex_2","browserIndex_3","createTrackHelper","hasStarted_","featuresProgressEvents","manualProgressOn","featuresTimeupdateEvents","manualTimeUpdatesOn","nativeCaptions","nativeTextTracks","featuresNativeTextTracks","emulateTextTracks","autoRemoteTextTracks_","initTrackListeners","nativeControlsForTouch","triggerSourceset","onDurationChange","manualProgress","trackProgress","manualProgressOff","stopTrackingProgress","progressInterval","numBufferedPercent","bufferedPercent_","duration_","manualTimeUpdates","trackCurrentTime","stopTrackingCurrentTime","manualTimeUpdatesOff","currentTimeInterval","manuallyTriggered","clearTracks","removeRemoteTextTrack","cleanupAutoTextTracks","reset","error_","played","setCurrentTime","trackListChanges","addWebVttScript_","_this5","script","_this6","remoteTracks","remoteTextTracks","handleAddTrack","handleRemoveTrack","updateDisplay","textTracksChanges","addTextTrack","createRemoteTextTrack","manualCleanup","_this7","htmlTrackElement","remoteTextTrackEls","getVideoPlaybackQuality","setPoster","playsinline","setPlaysinline","overrideNativeAudioTracks","overrideNativeVideoTracks","canPlayType","canPlaySource","srcObj","registerTech","techs_","defaultTechOrder_","getTech","featuresVolumeControl","featuresMuteControl","featuresFullscreenResize","featuresPlaybackRate","featuresSourceset","withSourceHandlers","_Tech","registerSourceHandler","handler","sourceHandlers","can","selectSourceHandler","canHandleSource","sh","originalFn","sourceHandler_","setSource","nativeSourceHandler","disposeSourceHandler","currentSource_","handleSource","middlewares","middlewareInstances","TERMINATOR","next","setSourceHelper","setTech","middleware","mw","reduceRight","middlewareIterator","set$1","mediate","callMethod","middlewareValue","terminated","executeRight","allowedGetters","seekable","allowedSetters","allowedMediators","mws","clearCacheForPlayer","getOrCreateFactory","mwFactory","_mws$i","mwf","mwi","lastRun","_middleware","mwrest","_src","MimetypesKind","opus","ogv","mp4","mov","m4v","mkv","mp3","aac","oga","m3u8","jpg","jpeg","gif","png","svg","webp","getMimetype","ext","mimetype","findMimetype","cache_","matchingSources","filterSource","newsrc","srcobj","fixSource","MediaLoader","j","techOrder","techName","isSupported","loadTech_","ClickableComponent","tabIndex_","createControlTextEl","controlTextEl_","controlText_","localizedText","nonIconControl","enabled_","handleClick","PosterImage","_ClickableComponent","update","poster","setSrc","backgroundImage","lightGray","fontMap","monospace","sansSerif","serif","monospaceSansSerif","monospaceSerif","proportionalSansSerif","proportionalSerif","casual","smallcaps","constructColor","opacity","hex","tryUpdateStyle","TextTrackDisplay","updateDisplayHandler","toggleDisplay","preselectTrack","modes","userPref","selectedLanguage","firstDesc","firstCaptions","preferredTrack","clearDisplay","descriptionsTrack","captionsSubtitlesTrack","updateForTrack","textTrackSettings","overrides","getValues","textOpacity","backgroundOpacity","windowColor","windowOpacity","edgeStyle","textShadow","fontPercent","fontFamily","fontVariant","LoadingSpinner","isAudio","playerType","Button","BigPlayButton","_Button","mouseused_","handleMouseDown","playPromise","cb","playToggle","playFocus","CloseButton","PlayToggle","replay","handlePlay","handlePause","handleEnded","handleSeeked","defaultImplementation","seconds","guide","floor","gm","gh","isNaN","implementation","formatTime","TimeDisplay","throttledUpdateContent","updateContent","labelText_","updateTextNode_","textNode_","formattedTime_","formatTime_","time","updateFormattedTime_","formattedTime","CurrentTimeDisplay","_TimeDisplay","scrubbing","getCache","DurationDisplay","TimeDivider","RemainingTimeDisplay","remainingTimeDisplay","remainingTime","LiveDisplay","updateShowing","SeekToLive","updateLiveEdgeStatus","liveTracker","textEl_","atLiveEdge","seekToLiveEdge","Slider","bar","barName","playerEvent","handleMouseMove","handleMouseUp","progress","getPercent","toFixed","calculateDistance","stepBack","stepForward","bool","vertical_","LoadProgressBar","partEls_","isLive","seekableEnd","bufferedEnd","controlTextPercentage","percentify","rounded","part","TimeTooltip","seekBarRect","seekBarPoint","tooltipRect","playerRect","seekBarPointPx","spaceLeftOfPoint","spaceRightOfPoint","pullTooltipBy","updateTime","rafId_","liveWindow","secondsBehind","PlayProgressBar","timeTooltip","MouseTimeDisplay","PAGE_KEY_MULTIPLIER","UPDATE_REFRESH_INTERVAL","SeekBar","_Slider","setEventHandlers_","updateInterval","enableInterval_","disableInterval_","toggleVisibility_","update_","liveCurrentTime","offsetParent","getCurrentTime_","seekableStart","videoWasPlaying","newTime","distance","mouseTimeDisplay","handleAction","gotoFraction","ProgressControl","throttledHandleMouseSeek","handleMouseSeek","seekBar","seekBarEl","FullscreenToggle","handleFullscreenChange","fullscreenEnabled","isFullscreen","requestFullscreen","exitFullscreen","checkVolumeSupport","VolumeLevel","VolumeBar","updateLastVolume_","updateARIAAttributes","checkMuted","volume","muted","ariaValue","volumeAsPercentage_","volumeBeforeDrag","lastVolume_","VolumeControl","volumeBar","throttledHandleMouseMove","orientationClass","checkMuteSupport","MuteToggle","vol","lastVolume","volumeToSet","updateIcon_","updateControlText_","soundOff","VolumePanel","inline","volumeControl","volumePanelState_","sliderActive_","sliderInactive_","muteToggle","Menu","menuButton_","menuButton","focusedChild_","boundHandleBlur_","handleBlur","boundHandleTapClick_","handleTapClick","addEventListenerForItem","removeEventListenerForItem","addItem","childComponent","contentElType","append","btn","buttonPressed_","unpressButton","childComponents","foundComponent","stepChild","item","haveTitle","MenuButton","buttonClass","menu","handleSubmenuKeyDown","createMenu","items","hideThreshold_","titleEl","titleComponent","createItems","buildWrapperCSSClass","menuButtonClass","pressButton","handleSubmenuKeyPress","TrackButton","_MenuButton","updateHandler","MenuKeys","MenuItem","selectable","isSelected_","multiSelectable","_selected","TextTrackMenuItem","_MenuItem","kinds","changeHandler","handleTracksChange","selectedLanguageChangeHandler","handleSelectedLanguageChange","onchange","Event","createEvent","initEvent","referenceTrack","shouldBeSelected","OffTextTrackMenuItem","_TextTrackMenuItem","allHidden","TextTrackButton","_TrackButton","TrackMenuItem","label_","kinds_","kind_","ChaptersTrackMenuItem","ChaptersButton","_TextTrackButton","track_","setTrack","findChaptersTrack","updateHandler_","remoteTextTrackEl","_remoteTextTrackEl","getMenuCaption","mi","DescriptionsButton","SubtitlesButton","CaptionSettingsMenuItem","CaptionsButton","SubsCapsMenuItem","SubsCapsButton","language_","AudioTrackMenuItem","audioTracks","AudioTrackButton","PlaybackRateMenuItem","rate","playbackRate","PlaybackRateMenuButton","updateVisibility","updateLabel","labelEl_","rates","playbackRates","currentRate","newRate","playbackRateSupported","Spacer","CustomControlSpacer","_Spacer","ControlBar","ErrorDisplay","_ModalDialog","COLOR_BLACK","COLOR_BLUE","COLOR_CYAN","COLOR_GREEN","COLOR_MAGENTA","COLOR_RED","COLOR_WHITE","COLOR_YELLOW","OPACITY_OPAQUE","OPACITY_SEMI","OPACITY_TRANS","selectConfigs","parseOptionValue","getSelectedOptionValue","selectedIndex","setSelectedOption","TextTrackSettings","endDialog","setDefaults","persistTextTrackSettings","saveSettings","config","restoreSettings","createElSelect_","legendId","selectLabelledbyIds","optionId","createElFgColor_","createElBgColor_","createElWinColor_","createElColors_","createElFont_","createElControls_","defaultsDescription","setValues","localStorage","getItem","setItem","removeItem","ttDisplay","controlBar","subsCapsBtn","subsCapsButton","ccBtn","captionsButton","ResizeManager","RESIZE_OBSERVER_AVAILABLE","ResizeObserver","loadListener_","resizeObserver_","debouncedHandler_","resizeHandler","observe","contentWindow","unloadListener_","unobserve","disconnect","resizeObserver","LiveTracker","reset_","handleDurationchange","handleVisibilityChange","stopTracking","startTracking","isBehind_","timeupdateSeen_","seekableIncrement","seekableIncrement_","trackLive_","pastSeekEnd_","newSeekEnd","lastSeekEnd_","pastSeekEnd","behindLiveEdge","behindLiveEdge_","isTracking","trackingInterval_","handleTimeupdate","seekableEnds","sort","seekableStarts","sourcesetLoad","srcUrls","innerHTMLDescriptorPolyfill","cloneNode","dummy","docFrag","createDocumentFragment","Element","getDescriptor","priority","descriptor","getOwnPropertyDescriptor","configurable","getInnerHTMLDescriptor","HTMLMediaElement","firstSourceWatch","resetSourceWatch_","innerDescriptor","appendWrapper","appendFn","retval","srcDescriptorPolyfill","getSrcDescriptor","setupSourceset","resetSourceset_","srcDescriptor","oldSetAttribute","oldLoad","currentSrc","_templateObject$1","Html5","crossoriginTracks","initNetworkState_","handleLateInit_","enableSourceset","setupSourcesetHandling_","hasChildNodes","nodes","nodesLength","removeNodes","proxyNativeTracks_","restoreMetadataTracksInIOSNativePlayer_","setControls","proxyWebkitFullscreen_","disposeMediaElement","metadataTracksPreFullscreenState","takeMetadataTrackSnapshot","storedMode","restoreTrackMode","storedTrack","overrideNative_","override","lowerCaseType","eventName","elTracks","proxyNativeTracksForType_","techTracks","listeners","currentTarget","removeOldTracks","removeTracks","found","playerElIngest","movingMediaElementInDOM","clone","tagAttributes","techId","class","playerId","preload","settingsAttrs","attr","networkState","loadstartFired","setLoadstartFired","triggerLoadstart","eventsToTrigger","checkProgress","NaN","endFn","beginFn","webkitPresentationMode","supportsFullScreen","webkitEnterFullScreen","enterFullScreen","HAVE_METADATA","exitFullScreen","webkitExitFullScreen","resetMediaElement","videoPlaybackQuality","webkitDroppedFrameCount","webkitDecodedFrameCount","droppedVideoFrames","totalVideoFrames","performance","creationTime","timing","navigationStart","TEST_VID","canControlVolume","canMuteVolume","canControlPlaybackRate","canOverrideAttributes","noop","supportsNativeTextTracks","supportsNativeVideoTracks","videoTracks","supportsNativeAudioTracks","featuresNativeVideoTracks","featuresNativeAudioTracks","mpegurlRE","patchCanPlayType","unpatchCanPlayType","r","_templateObject$2","TECH_EVENTS_RETRIGGER","TECH_EVENTS_QUEUE","canplay","canplaythrough","playing","seeked","BREAKPOINT_ORDER","BREAKPOINT_CLASSES","substring","DEFAULT_BREAKPOINTS","tiny","xsmall","small","medium","large","xlarge","huge","getTagSettings","closest","boundDocumentFullscreenChange_","documentFullscreenChange_","boundFullWindowOnEscKey_","fullWindowOnEscKey","isPosterFromTech_","queuedCallbacks_","userActive_","languagesToLower","name$$1","languages_","resetCache_","poster_","controls_","changingSrc_","playCallbacks_","playTerminatedQueue_","autoplay","plugins","scrubbing_","fluid_","updateStyleEl_","playerOptionsCopy","middleware_","flexNotSupported_","majorVersion","userActive","listenForUserActivity_","handleStageClick_","breakpoints","responsive","fullscreenchange","styleEl_","playerElIngest_","divEmbed","tabindex","VIDEOJS_NO_DYNAMIC_STYLE","defaultsStyleEl","head","fill_","fluid","aspectRatio","links","linkEl","_dimension","privDimension","parsedVal","ratio","aspectRatio_","width_","_height","height_","techEl","idClass","videoWidth","videoHeight","ratioParts","ratioMultiplier","unloadTech_","titleTechName","camelTechName","techName_","techOptions","loop","techCanOverridePoster","TechClass","handleTechReady_","textTracksJson_","eventObj","seeking","handleTechLoadStart_","handleTechSourceset_","handleTechWaiting_","handleTechEnded_","handleTechSeeking_","handleTechPlay_","handleTechFirstPlay_","handleTechPause_","handleTechDurationChange_","handleTechFullscreenChange_","handleTechError_","handleTechPosterChange_","handleTechTextData_","handleTechRateChange_","usingNativeControls","techGet_","addTechControlsListeners_","safety","removeTechControlsListeners_","handleTechClick_","handleTechDoubleClick_","handleTechTouchStart_","handleTechTouchMove_","handleTechTouchEnd_","handleTechTap_","techCall_","hasStarted","manualAutoplay_","previouslyMuted","restoreMuted","mutedPromise","catch","promise","updateSourceCaches_","sourceElSources","sourceEls","matchingSourceEls","sourceObj","updateSourceCaches","playerSrc","currentSource","eventSrc","lastSource_","updateCache","techSrc","techGet","request","lastPlaybackRate","queued","timeWhenWaiting","timeUpdateListener","handleTechCanPlay_","handleTechCanPlayThrough_","handleTechPlaying_","handleTechSeeked_","starttime","inAllowedEls","userActions","doubleClick","userWasActive","toggleFullscreenClass_","fsApi","isFs","fullscreenElement","matches","fullscreen","msMatchesSelector","inactivityTimeout","defaultPlaybackRate","media","_this8","PromiseClass","Promise","resolve","play_","_this9","isSrcReady","waitToPlay_","runPlayTerminatedQueue_","runPlayCallbacks_","queue","q","callbacks","isScrubbing","liveui","percentAsDecimal","_muted","defaultMuted","_defaultMuted","isFS","isFullscreen_","enterFullWindow","exitFullWindow","isFullWindow","docOrigOverflow","overflow","hotkeys","handleHotkeys","_hotkeys$fullscreenKe","fullscreenKey","keydownEvent","_hotkeys$muteKey","muteKey","_hotkeys$playPauseKey","playPauseKey","FSToggle","selectSource","_this10","techs","_ref","findFirstPassingTechSourcePair","outerArray","innerArray","tester","outerChoice","innerChoice","foundSourceAndTech","flip","finder","_ref2","sourceOrder","_this11","notSupportedMessage","middlewareSource","src_","_this12","sourceTech","_this13","doReset_","resetControlBarUI_","resetProgressBar_","resetPlaybackRate_","resetVolumeBar_","_this$controlBar","durationDisplay","currentSources","currentType","techAutoplay","newPoster","usingNativeControls_","errorDisplay","userActivity_","mouseInProgress","lastMoveX","lastMoveY","handleActivity","screenX","screenY","isAudio_","_obj","toJSON","createModal","_this14","modal","updateCurrentBreakpoint_","currentBreakpoint","candidateBreakpoint","maxWidth","breakpoints_","breakpoint_","removeCurrentBreakpoint_","currentBreakpointClass","_breakpoints","responsive_","loadMedia","_this15","_this$cache_$media","artwork","tt","getMedia","baseOptions","tagOptions","dataSetup","_safeParseTuple","childName","html5","flash","userLanguage","PLUGIN_CACHE_KEY","pluginStorage","pluginExists","getPlugin","markPluginAsActive","triggerSetupEvent","before","createBasicPlugin","plugin","basicPluginWrapper","createPluginFactory","PluginSubClass","getEventHash","Plugin","VERSION","isBasic","registerPlugin","deregisterPlugin","getPlugins","getPluginVersion","BASE_PLUGIN_NAME","usingPlugin","hasPlugin","_inherits$1","writable","super_","extend$1","subClassMethods","methods","normalizeId","videojs$1","getPlayer","defaultView","hooks","hookFunction","PlayerComponent","hooks_","hook","hookOnce","original","removeHook","style$1","getPlayers","nId","_tag","_player","getAllPlayers","comp","use","writeable","addLanguage","_mergeOptions","createTimeRange","setFormatTime","customImplementation","resetFormatTime","dom","urlToolkit","URL_REGEX","FIRST_SEGMENT_REGEX","SLASH_DOT_REGEX","SLASH_DOT_DOT_REGEX","URLToolkit","buildAbsoluteURL","baseURL","relativeURL","alwaysNormalize","basePartsForNormalise","parseURL","normalizePath","buildURLFromParts","relativeParts","scheme","baseParts","netLoc","builtParts","query","fragment","baseURLPath","newPath","lastIndexOf","parts","_extends$1","_inheritsLoose$1","_assertThisInitialized$1","Stream","pipe","destination","LineStream","_Stream","nextNewline","attributeSeparator","parseAttributes","ParseStream","customParsers","tagMappers","newLines","mapper","mappedLine","newLine","tagType","number","playlistType","offset","allowed","URI","BYTERANGE","_attributes$BYTERANGE","byterange","RESOLUTION","resolution","BANDWIDTH","dateTimeString","dateTimeObject","IV","Uint32Array","PRECISE","addParser","expression","customType","dataParser","segment","addTagMapper","lineStream","parseStream","uris","currentUri","currentMap","defaultMediaGroups","currentTimeline","manifest","allowCache","discontinuityStarts","segments","entry","mediaGroup","rendition","endlist","endList","inf","mediaSequence","discontinuitySequence","METHOD","iv","isFinite","playlist","playlists","mediaGroups","TYPE","NAME","mediaGroupType","autoselect","AUTOSELECT","LANGUAGE","instreamId","CHARACTERISTICS","characteristics","FORCED","forced","discontinuity","targetduration","targetDuration","totalduration","totalDuration","timeOffset","precise","cueOut","cueOutCont","cueIn","timeline","comment","custom","chunk","isObject$1","merge","objects","range","flatten","lists","findIndexes","mergeDiscontiguousPlaylists","mergedPlaylists","_acc$name$segments","contentProtection","formatAudioPlaylist","_attributes","bandwidth","CODECS","codecs","periodIndex","resolvedUri","formatVttPlaylist","_attributes2","baseUrl","sourceDuration","organizeAudioPlaylists","organizeVttPlaylists","formatVideoPlaylist","_ref3","_attributes3","AUDIO","SUBTITLES","toM3u8","dashPlaylists","_mediaGroups","_dashPlaylists$0$attr","_dashPlaylists$0$attr2","minimumUpdatePeriod","videoPlaylists","_ref4","mimeType","contentType","audioPlaylists","_ref5","vttPlaylists","_ref6","master","VIDEO","subs","commonjsGlobal$1","urlToolkit$1","resolveUrl","relativeUrl","urlTypeToSegment","_ref$baseUrl","_ref$source","_ref$range","init","startRange","endRange","getLiveRValue","NOW","clientOffset","availabilityStartTime","_attributes$timescale","timescale","_attributes$start","_attributes$minimumUp","parseByTimeline","segmentTimeline","_attributes$type","_attributes$minimumUp2","_attributes$media","_attributes$timescale2","_attributes$startNumb","startNumber","sIndex","S","d","repeat","segmentTime","nextS","segmentRange","static","dynamic","_attributes$timeShift","timeShiftBufferDepth","periodStartWC","segmentCount","availableStart","availableEnd","toSegments","_attributes$timescale3","parseByDuration","_attributes$timescale4","_segmentRange$type","identifierPattern","identifierReplacement","identifier","format","constructTemplateUrl","parseTemplateInfo","segmentsFromTemplate","templateValues","RepresentationID","Bandwidth","_attributes$initializ","initialization","sourceURL","mapSegment","Number","Time","INVALID_NUMBER_OF_PERIOD","DASH_EMPTY_MANIFEST","DASH_INVALID_XML","NO_BASE_URL","MISSING_SEGMENT_INFORMATION","SEGMENT_TIME_UNSPECIFIED","UNSUPPORTED_UTC_TIMING_SCHEME","SegmentURLToSegmentObject","segmentUrl","initSegment","mediaRange","segmentsFromList","_attributes$segmentUr","segmentUrls","segmentUrlMap","segmentUrlObject","segmentTimeInfo","segmentsFromBase","_attributes$indexRang","indexRange","generateSegments","segmentInfo","segmentAttributes","segmentsFn","template","base","_segmentAttributes","_segmentAttributes$ti","toPlaylists","representations","findChildren","getContent","parseDuration","durationRegex","_match$slice","year","month","day","hour","minute","second","parseDate","dateRegex","parsers","mediaPresentationDuration","parsedValue","parseAttributes$1","parseFn","decodeB64ToUint8Array","b64Text","decodedString","atob","Uint8Array","keySystemsMap","buildBaseUrls","referenceUrls","baseUrlElements","baseUrlElement","getSegmentInformation","adaptationSet","segmentTemplate","segmentList","segmentBase","segmentTimelineParentNode","segmentInitializationParentNode","segmentInitialization","inheritBaseUrls","adaptationSetAttributes","adaptationSetBaseUrls","adaptationSetSegmentInfo","representation","repBaseUrlElements","repBaseUrls","representationSegmentInfo","generateKeySystemInformation","contentProtectionNodes","keySystem","schemeIdUri","psshNode","pssh","psshBuffer","toRepresentations","periodAttributes","periodBaseUrls","periodSegmentInfo","roleAttributes","toAdaptationSets","mpdAttributes","mpdBaseUrls","period","periodAtt","parsedPeriodId","adaptationSets","inheritAttributes","mpd","_options$manifestUri","manifestUri","_options$NOW","_options$clientOffset","periods","stringToMpdXml","manifestString","DOMParser","xml","parseFromString","parseUTCTimingScheme","UTCTimingNode","parseUTCTiming","toUnsigned$1","toUnsigned","_findBox","parseType","getVideoTrackIds","results","subresults","byteLength","subarray","traks","trak","tkhd","mdhd","trafs","baseTimes","traf","tfhd","scale","baseTime","tfdt","pow","videoTrackIds","hdlrs","tkhds","hdlr","handlerType","view","trackId","DataView","byteOffset","getUint8","getUint32","probe","findBox","UINT32_MAX","dinf","esds","ftyp","mdat","mfhd","minf","moof","moov","mvex","mvhd","mdia","sdtp","stbl","stsd","trex","trun","MAJOR_BRAND","MINOR_VERSION","AVC1_BRAND","VIDEO_HDLR","AUDIO_HDLR","HDLR_TYPES","VMHD","SMHD","DREF","STCO","STSC","STSZ","STTS","avc1","avcC","btrt","dref","mp4a","smhd","stco","stsc","stsz","stts","styp","vmhd","payload","setUint32","audioobjecttype","samplingfrequencyindex","channelcount","samplerate","sequenceNumber","trackFragments","bytes","samples","flags","dependsOn","isDependedOn","hasRedundancy","videoSample","audioSample","sps","pps","sequenceParameterSets","pictureParameterSets","profileIdc","profileCompatibility","levelIdc","samplesize","trackFragmentHeader","trackFragmentDecodeTime","trackFragmentRun","sampleDependencyTable","dataOffset","upperWordBaseMediaDecodeTime","lowerWordBaseMediaDecodeTime","baseMediaDecodeTime","audioTrun","videoTrun","trunHeader","durationPresent","sizePresent","flagsPresent","compositionTimeOffset","sample","isLeading","paddingValue","isNonSyncSample","degradationPriority","mp4Generator","fileType","movie","Stream$1","flushSource","groupNalsIntoFrames","nalUnits","currentNal","currentFrame","frames","nalUnitType","dts","pts","keyFrame","groupFramesIntoGops","currentGop","gops","nalCount","createDefaultSample","sampleForFrame","frame","generateSampleTable","baseDataOffset","concatenateNalData","nalsByteLength","numberOfNals","frameUtils","extendFirstKeyFrame","highPrefix","lowPrefix","zeroFill","coneOfSilence","silence","metaTable","arr","ONE_SECOND_IN_TS","secondsToVideoTs","secondsToAudioTs","videoTsToSeconds","audioTsToSeconds","audioTsToVideoTs","videoTsToAudioTs","sampleRate","timestamp","clock","ONE_SECOND_IN_TS$1","sumFrameByteLengths","currentObj","sum","prefixWithSilence","audioAppendStartTs","videoBaseMediaDecodeTime","baseMediaDecodeTimeTs","frameDuration","audioGapDuration","audioFillFrameCount","audioFillDuration","silentFrame","generateSampleTable$1","concatenateFrameData","audioFrameUtils","trimAdtsFramesByEarliestDts","adtsFrames","earliestAllowedDts","minSegmentDts","minSegmentPts","trackDecodeInfo","clearDtsInfo","maxSegmentDts","maxSegmentPts","calculateTrackBaseMediaDecodeTime","keepOriginalTimestamps","timelineStartInfo","collectDtsInfo","USER_DATA_REGISTERED_ITU_T_T35","parseSei","payloadType","payloadSize","parseCaptionPackets","userData","ccData","discardEmulationPreventionBytes","emulationPreventionBytesPositions","newLength","newData","sourceIndex","captionPacketParser","parseUserData","sei","CaptionStream","captionPackets_","ccStreams_","Cea608Stream","cc","newCaptionPackets","escapedRBSP","latestDts_","ignoreNextEqualDts_","numSameDts_","idx","presortIndex","packet","dispatchCea608Packet","activeCea608Channel_","ccStream","setsChannel1Active","setsChannel2Active","CHARACTER_TRANSLATION","getCharFromCode","BOTTOM_ROW","ROWS","createDisplayBuffer","field","dataChannel","field_","dataChannel_","setConstants","swap","char0","char1","lastControlCode_","PADDING_","RESUME_CAPTION_LOADING_","mode_","END_OF_CAPTION_","clearFormatting","flushDisplayed","displayed_","nonDisplayed_","startPts_","ROLL_UP_2_ROWS_","rollUpRows_","setRollUp","ROLL_UP_3_ROWS_","ROLL_UP_4_ROWS_","CARRIAGE_RETURN_","shiftRowsUp_","BACKSPACE_","row_","ERASE_DISPLAYED_MEMORY_","ERASE_NON_DISPLAYED_MEMORY_","RESUME_DIRECT_CAPTIONING_","isSpecialCharacter","column_","isExtCharacter","isMidRowCode","addFormatting","isOffsetControlCode","isPAC","formatting_","isColorPAC","isNormalChar","startPts","endPts","topRow_","BASE_","EXT_","CONTROL_","OFFSET_","char","newBaseRow","popOn","baseRow","rollUp","paintOn","captionStream","streamTypes","H264_STREAM_TYPE","ADTS_STREAM_TYPE","METADATA_STREAM_TYPE","handleRollover","TimestampRolloverStream","lastDTS","referenceDTS","type_","timestampRolloverStream","percentEncode","parseUtf8","parseIso88591","parseSyncSafeInteger","tagParsers","TXXX","WXXX","PRIV","owner","privateData","_MetadataStream","tagSize","bufferSize","dispatchType","frameStart","frameSize","frameHeader","dataAlignmentIndicator","timeStamp","metadataStream","TimestampRolloverStream$1","_TransportPacketStream","_TransportParseStream","_ElementaryStream","MP2T_PACKET_LENGTH","SYNC_BYTE","bytesInBuffer","startIndex","endIndex","everything","parsePsi","parsePat","parsePmt","packetsWaitingForPmt","programMapTable","psi","payloadUnitStartIndicator","pat","section_number","last_section_number","pmtPid","pmt","sectionLength","tableEnd","programInfoLength","streamType","pid","processPes_","STREAM_TYPES","h264","adts","timedMetadata","parsePes","pes","ptsDtsFlags","packetLength","flushStream","stream$$1","forceFlush","packetData","packetFlushable","codec","m2ts","PAT_PID","TransportPacketStream","TransportParseStream","ElementaryStream","MetadataStream","type$1","m2ts_1","_AdtsStream","ADTS_SAMPLING_FREQUENCIES","frameNum","frameLength","protectionSkipBytes","frameEnd","oldBuffer","sampleCount","adtsFrameDuration","ExpGolomb","workingData","workingBytesAvailable","workingWord","workingBitsAvailable","bitsAvailable","loadWord","workingBytes","availableBytes","skipBits","skipBytes","readBits","bits","valu","skipLeadingZeros","leadingZeroCount","skipUnsignedExpGolomb","skipExpGolomb","readUnsignedExpGolomb","clz","readExpGolomb","readBoolean","readUnsignedByte","expGolomb","_H264Stream","_NalByteStream","PROFILES_WITH_OPTIONAL_SPS_DATA","syncPoint","swapBuffer","nalByteStream","currentPts","currentDts","readSequenceParameterSet","skipScalingList","expGolombDecoder","lastScale","nextScale","deltaScale","frameCropLeftOffset","frameCropRightOffset","frameCropTopOffset","frameCropBottomOffset","sarScale","chromaFormatIdc","picOrderCntType","numRefFramesInPicOrderCntCycle","picWidthInMbsMinus1","picHeightInMapUnitsMinus1","frameMbsOnlyFlag","scalingListCount","sarRatio","aspectRatioIdc","H264Stream","NalByteStream","ADTS_SAMPLING_FREQUENCIES$1","parseSyncSafeInteger$1","percentEncode$1","parseIso88591$1","parseSampleRate","parseAacTimestamp","utils","isLikelyAacData","parseId3TagSize","header","byteIndex","returnSize","parseAdtsSize","lowThree","highTwo","_AacStream","setTimestamp","bytesLeft","tempLength","isLikelyAacData$1","AUDIO_PROPERTIES","VIDEO_PROPERTIES","_VideoSegmentStream","_AudioSegmentStream","_Transmuxer","_CoalesceStream","arrayEquals","generateVideoSegmentTimingInfo","startDts","endDts","prependedContentDuration","setEarliestDts","earliestDts","setVideoBaseMediaDecodeTime","setAudioAppendStart","gopsToAlignWith","minPTS","gopCache_","nalUnit","gopForFusion","firstGop","lastGop","resetStream_","getGopForFusion_","alignedGops","alignGopsAtEnd","alignGopsAtEnd_","alignGopsAtStart_","gop","nearestDistance","dtsDistance","nearestGopObj","currentGopObj","alignIndex","gopIndex","alignEndIndex","matchFound","trimIndex","total","alignGopsWith","newGopsToAlignWith","numberOfTracks","remux","remuxTracks","pendingTracks","videoTrack","pendingBoxes","pendingCaptions","pendingMetadata","pendingBytes","emittedTracks","output","audioTrack","captionStreams","caption","id3","timelineStartPts","cueTime","hasFlushed","transmuxPipeline_","setupAacPipeline","pipeline","aacStream","audioTimestampRolloverStream","timedMetadataTimestampRolloverStream","adtsStream","coalesceStream","headOfPipeline","audioSegmentStream","setupTsPipeline","packetStream","elementaryStream","videoTimestampRolloverStream","h264Stream","videoSegmentStream","setBaseMediaDecodeTime","isAac","resetCaptions","transmuxer","Transmuxer","VideoSegmentStream","AudioSegmentStream","inspectMp4","_textifyMp","parseType$2","parseMp4Date","parseSampleFlags","nalParse","avcStream","avcView","parse$1","dataReferenceIndex","getUint16","horizresolution","vertresolution","frameCount","depth","configurationVersion","avcProfileIndication","avcLevelIndication","lengthSizeMinusOne","numOfSequenceParameterSets","numOfPictureParameterSets","nalSize","bufferSizeDB","maxBitrate","avgBitrate","esId","streamPriority","decoderConfig","objectProfileIndication","decoderConfigDescriptor","audioObjectType","samplingFrequencyIndex","channelConfiguration","majorBrand","minorVersion","compatibleBrands","dataReferences","escape","nals","modificationTime","streamDescriptor","matrix","nextTrackId","pdin","initialDelay","sidx","references","referenceId","earliestPresentationTime","firstOffset","referenceCount","referenceType","referencedSize","subsegmentDuration","startsWithSap","sapType","sapDeltaTime","balance","chunkOffsets","entryCount","sampleToChunks","firstChunk","samplesPerChunk","sampleDescriptionIndex","sampleDescriptions","sampleSize","entries","timeToSamples","sampleDelta","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","durationIsEmpty","defaultBaseIsMoof","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","baseDataOffsetIsMoof","layer","alternateGroup","defaultSampleDescriptionIndex","sampleDependsOn","sampleIsDependedOn","sampleHasRedundancy","samplePaddingValue","sampleIsDifferenceSample","sampleDegradationPriority","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","getInt32","graphicsmode","opcolor","Uint16Array","ab","ArrayBuffer","z","inspectedMp4","indent","prefix","byte","mp4Inspector","inspect","textify","parseTfdt","parseHdlr","parseTfhd","parseTrun","parseSidx","discardEmulationPreventionBytes$1","CaptionStream$1","mapToSample","approximateOffset","findSeiNals","seiNal","lastMatchedSample","matchingSample","parseSamples","truns","allSamples","trackRun","parseCaptionNals","videoTrackId","mdats","captionNals","mdatTrafPairs","matchingTraf","pair","headerInfo","seiNals","parseEmbeddedCaptions","generator","CaptionParser","isInitialized","captionStream$$1","segmentCache","parsedCaptions","isNewInit","timescales","parsedData","cachedSegment","pushNals","nal","clearParsedCaptions","resetCaptionStream","clearAllCaptions","mp4_6","parsePid","parsePayloadUnitStartIndicator","parseAdaptionField","pusi","payloadOffset","parseNalUnitType","handleRollover$1","probe$2","parsePesType","parsePesTime","videoPacketContainsKeyFrame","frameBuffer","frameI","frameSyncPoint","foundKeyFrame","nalType","parsePsi_","table","parseAudioPes_","pesType","parsed","endLoop","parseVideoPes_","firstKeyFrame","adjustTimestamp_","baseTimestamp","audioBaseTimestamp","dtsTime","ptsTime","videoBaseTimestamp","inspectAac_","audioCount","audioTimescale","inspectTs_","unpad","padded","classCallCheck","createClass","protoProps","staticProps","inherits","possibleConstructorReturn","precompute","tables","encTable","decTable","sbox","sboxInv","xInv","th","x2","x4","x8","tEnc","tDec","aesTables","AES","_tables","tmp","encKey","decKey","keyLen","rcon","decrypt","encrypted0","encrypted1","encrypted2","encrypted3","out","a2","c2","nInnerRounds","kIndex","table0","table1","table2","table3","Stream$2","_length","AsyncStream","jobs","delay","timeout_","processJob_","job","ntoh","word","encrypted","initVector","encrypted32","Int32Array","decipher","decrypted","decrypted32","init0","init1","init2","init3","wordIx","Decrypter","done","STEP","asyncStream_","decryptChunk_","resolveUrl$1","resolveManifestRedirect","handleManifestRedirect","req","responseURL","classCallCheck$1","createClass$1","get$1","property","getPrototypeOf","getter","inherits$1","possibleConstructorReturn$1","slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","mergeOptions$1","EventTarget$1","log$1","forEachMediaGroup","mediaType","groupKey","labelKey","mediaProperties","updateSegments","resolveSegmentUris","baseUri","updateMaster","mergedPlaylist","setupMediaPlaylists","resolveMediaGroupUris","refreshDelay","lastSegment","PlaylistLoader","srcUrl","hls","_options$withCredenti","_options$handleManife","handleManifestRedirects","hls_","hlsOptions","customTagParsers","customTagMappers","playlistRequestError","haveMetadata","startingState","customParser","media_","mediaUpdateTimeout","stopRequest","oldRequest","mediaChange","started","isFinalRendition","backwardDuration","endSequence","forwardDuration","intervalDuration","expired","backward","forward","Infinity","sumDurations","durations","safeLiveIndex","distanceFromEnd","safeDistance","playlistEnd","useSafeLiveEnd","isWholeNumber","roundSignificantDigit","increment","numDecimalDigits","ceilLeastSignificantDigit","floorLeastSignificantDigit","getMediaInfoForTime","numSegments","mediaIndex","isBlacklisted","excludeUntil","isIncompatible","isEnabled","blacklisted","isAes","isFmp4","isLowestEnabledRendition","currentBandwidth","MAX_VALUE","Playlist","isDisabled","estimateSegmentRequestTime","segmentDuration","bytesReceived","videojsXHR","mergeOptions$1$1","xhrFactory","XhrFunction","beforeRequest","Hls","newOptions","reqResponse","responseTime","roundTripTime","requestTime","responseHeaders","timedout","originalAbort","textRange","formatHexString","formatAsciiString","createTransferableMessage","transferable","isView","initSegmentId","hexDump","ascii","textRanges","utils$1","tagDump","SEGMENT_END_FUDGE_PERCENT","playerTimeToProgramTime","playerTime","transmuxerPrependedSeconds","videoTimingInfo","transmuxedStart","transmuxedPresentationStart","originalSegmentVideoDuration","transmuxedPresentationEnd","findSegmentForProgramTime","programTime","nextSegmentStart","lastSegmentStart","lastSegmentDuration","lastSegmentEnd","estimatedStart","findSegmentForPlayerTime","segmentEnd","getOffsetFromTimestamp","comparisonTimeStamp","segmentDateTime","programDateTime","segmentTimeEpoch","programTimeEpoch","verifyProgramDateTimeTags","getProgramTime","_ref$time","matchedSegment","seekTime","programTimeObject","mediaSeconds","toISOString","seekToProgramTime","_ref2$retryCount","retryCount","seekTo","_ref2$pauseAfterSeek","pauseAfterSeek","mediaOffset","seekToTime","TIME_FUDGE_FACTOR","SAFE_TIME_DELTA","filterRanges","timeRanges","findRange","findNextRange","findGaps","printableRange","strArr","timeUntilRebuffer","timeRangesToArray","timeRangesList","createTextTracksIfNecessary","sourceBuffer","mediaSource","inbandTextTracks_","metadataTrack_","inBandMetadataTrackDispatchType","removeCuesFromTrack","deprecateOldCue","durationOfVideo","dur","addTextTrackData","sourceHandler","captionArray","metadataArray","Cue","WebKitDataCue","timestampOffset","videoDuration","mediaSource_","cuesArray","cuesGroupedByStartTime","timeSlot","sortedStartTimes","cueGroup","nextTime","win","TARGET","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","URL","webkitURL","msURL","Worker","shimWorker","filename","forceFallback","objURL","createSourceObject","wrapTerminate","selfShim","postMessage","onmessage","isThisThread","testWorker","testArray","revokeObjectURL","terminate","createObjectURL","Blob","blob","getBlob","worker","term","TransmuxWorker","transmuxerWorker","probe$$1","parse$$1","mp4$$1","wireTransmuxerEvents","initArray","typedArray","action","gopInfo","videoSegmentTimingInfo","MessageHandlers","appendStart","messageHandlers","defaultCodecs","videoCodec","videoObjectTypeIndicator","audioProfile","translateLegacyCodecs","orig","profile","avcLevel","profileHex","avcLevelHex","parseCodecs","codecCount","mapLegacyAvcCodecs","codecString","makeMimeTypeString","getContainerType","getCodecs","mediaAttributes","audioProfileFromDefault","audioGroupId","audioGroup","audioType","mimeTypesForPlaylist","containerType","codecInfo","isMuxed","isMaat","groupId","codecStrings","justAudio","justVideo","bothVideoAudio","parseContentType","parameters","parameter","isAudioCodec","isVideoCodec","gopsSafeToAlignWith","mapping","currentTimePts","updateGopBuffer","removeGopBuffer","updatedBuffer","videoBuffer","audioBuffer","audioDisabled","arity","extents","videoBuffered","audioBuffered","ONE_SECOND_IN_TS$3","makeWrappedSourceBuffer","addSourceBuffer","updating","realBuffer_","VirtualSourceBuffer","_videojs$EventTarget","timestampOffset_","pendingBuffers_","bufferUpdating_","codecs_","audioCodec_","videoCodec_","audioDisabled_","appendAudioInitSegment_","gopBuffer_","timeMapping_","safeAppend_","transmuxer_","data_","done_","appendGopInfo_","videoSegmentTimingInfo_","videoBuffer_","audioBuffer_","appendWindowStart","processPendingSegments_","timingInfo","timingInfoInSeconds","presentation","nativeMediaSource_","shouldTrigger","sortedSegments","segmentObj","createRealSourceBuffers_","triggerUpdateend","concatAndAppendSegments_","destinationBuffer","tempBuffer","appendBuffer","originalError","HtmlMediaSource","MediaSource","activeSourceBuffers_","sourceBuffers","updateActiveSourceBuffers_","disableCombined","disableAudioOnly","onPlayerMediachange_","onHlsReset_","onHlsSegmentTimeMapping_","url_","sourcebuffer","parsedType","urlCount","mediaSources","msObjectURL","swfId","supportsNativeMediaSources","isTypeSupported","URL$1","EventTarget$1$1","mergeOptions$2","updateMaster$1","oldMaster","newMaster","noChanges","playlistUpdate","group","_playlistUpdate","DashPlaylistLoader","srcUrlOrPlaylist","masterPlaylistLoader","refreshXml_","refreshMedia_","loadedPlaylists_","setupChildLoader","masterPlaylistLoader_","childPlaylist_","mediaRequest_","masterXml_","clientOffset_","phonyUri","_phonyUri","haveMaster_","date","masterLoaded_","syncClientServerClock_","onClientServerClockSync_","utcTiming","serverTime","parseMasterXml","hasPendingRequest","updatedMaster","logger","noop$1","SourceUpdater","sourceBufferEmitter","callbacks_","pendingCallback_","processedAppend_","mimeType_","logger_","createSourceBuffer_","sourceBuffer_","start_","started_","onUpdateendCallback_","pendingCallback","runCallback_","queueCallback_","videoSegmentTimingInfoCallback","Config","GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","INITIAL_BANDWIDTH","BANDWIDTH_VARIANCE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","REQUEST_ERRORS","FAILURE","TIMEOUT","ABORTED","byterangeStr","byterangeStart","byterangeEnd","segmentXhrHeaders","Range","abortAll","activeXhrs","getRequestStats","getProgressStats","progressEvent","stats","loaded","handleErrors","handleKeyResponse","finishProcessingFn","errorObj","handleInitSegmentResponse","captionParser","handleSegmentResponse","encryptedBytes","fmp4Captions","decryptSegment","decrypter","doneFn","decryptionHandler","requestId","waitForCompletion","didError","endOfAllRequests","handleProgress","progressFn","firstBytesReceivedAt","mediaSegmentRequest","xhrOptions","decryptionWorker","keyRequestOptions","keyRequestCallback","keyXhr","initSegmentOptions","initSegmentRequestCallback","initSegmentXhr","segmentRequestOptions","segmentRequestCallback","segmentXhr","safeGetComputedStyle","stableSort","sortFn","newArray","cmp","comparePlaylistBandwidth","leftBandwidth","rightBandwidth","comparePlaylistResolution","leftWidth","rightWidth","simpleSelector","playerBandwidth","playerWidth","playerHeight","limitRenditionByPlayerDimensions","sortedPlaylistReps","rep","enabledPlaylistReps","bandwidthPlaylistReps","highestRemainingBandwidthRep","bandwidthBestRep","_chosenRep","haveResolution","resolutionBestRepList","resolutionBestRep","resolutionPlusOneList","resolutionPlusOneSmallest","resolutionPlusOneRep","chosenRep","minRebufferMaxBandwidthSelector","duration$$1","syncController","compatiblePlaylists","enabledPlaylists","bandwidthPlaylists","rebufferingEstimates","getSyncPoint","numRequests","requestTimeEstimate","rebufferingImpact","noRebufferingPlaylists","estimate","createCaptionsTrackIfNotExists","inbandTextTracks","addCaptionData","detectEndOfStream","segmentIndex","appendedLastSegment","finite","illegalMediaSwitch","loaderType","startingMedia","newSegmentMedia","containsAudio","containsVideo","safeBackBufferTrimTime","seekable$$1","removeToTime","segmentInfoString","_segmentInfo$segment","_segmentInfo$playlist","seq","_segmentInfo$playlist2","SegmentLoader","throughput","roundTrip","resetStats_","hasPlayed_","hasPlayed","currentTime_","seekable_","seeking_","loaderType_","startingMedia_","segmentMetadataTrack_","segmentMetadataTrack","goalBufferLength_","goalBufferLength","sourceType_","sourceType","state_","checkBufferTimeout_","currentTimeline_","pendingSegment_","sourceUpdater_","xhrOptions_","activeInitSegmentId_","initSegments_","captionParser_","decrypter_","syncController_","syncPoint_","ended_","fetchAtBuffer_","newState","mediaBytesTransferred","mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaSecondsLoaded","abort_","monitorBuffer_","abortRequests","_error","set$$1","storedMap","playlist_","setDateTimeMapping","couldBeginLoading_","init_","sourceBufferEmitter_","resetEverything","newPlaylist","oldPlaylist","syncInfo","oldId","resyncLoader","mediaSequenceDiff","saveExpiredSegmentInfo","_mimeType","resetLoader","monitorBufferTick_","fillBuffer_","checkBuffer_","buffered_","isEndOfStream_","endOfStream","startOfSegment","loadSegment_","lastBufferedEnd","bufferedTime","getSyncSegmentCandidate_","generateSegmentInfo_","mediaSourceInfo","_mediaSourceInfo","segmentIndexArray","isSyncRequest","random","measuredBandwidth","requestTimeRemaining","timeUntilRebuffer$$1","switchCandidate","timeSavedBySwitching","minimumTimeSaving","simpleSegment","abortRequestEarly_","trimBackBuffer_","createSimplifiedSegmentObj_","handleProgress_","segmentRequestFinished_","processSegmentResponse_","handleSegment_","probeSegmentInfo","illegalMediaSwitchError","blacklistDuration","timelineMapping","mappingForTimeline","initId","handleVideoSegmentTimingInfo_","handleUpdateEnd_","isWalkingForward","recordThroughput_","addSegmentMetadataCue_","segmentProcessingTime","segmentProcessingThroughput","uint8ToUtf8","uintArray","VTT_LINE_TERMINATORS","VTTSegmentLoader","_SegmentLoader","subtitlesTrack_","combinedByteLength","combinedSegment","_track","skipEmptySegments_","timestampOffsetForTimeline","checkTimestampOffset","requested","parseVTTCues_","updateTimeMapping_","timelines","decodeBytesToString","timestampmap","MPEGTS","LOCAL","mapData","segmentData","mappingObj","diff","firstStart","lastStart","findAdCue","mediaTime","adStartTime","adEndTime","updateAdCues","adOffset","adTotal","_segment$cueOutCont$s","_segment$cueOutCont$s2","tsprobe","isAacData","syncPointStrategies","run","datetimeToDisplayTime","lastDistance","segmentStart","discontinuitySync","discontinuities","SyncController","inspectCache_","syncPoints","runStrategies_","selectSyncPoint_","strategy","bestSyncPoint","bestDistance","bestStrategy","newDistance","lastRemovedSegment","playlistTimestamp","probeMp4Segment_","probeTsSegment_","calculateSegmentTimeMapping_","saveDiscontinuitySyncInfo_","timeInfo","segmentStartTime","segmentEndTime","probedInfo","accuracy","mediaIndexDiff","Decrypter$1","decrypterWorker","AsyncStream$$1","decrypt$$1","Decrypter$$1","audioTrackKind_","stopLoaders","segmentLoader","activePlaylistLoader","startLoaders","playlistLoader","onGroupChanged","_settings$segmentLoad","segmentLoaders","mainSegmentLoader","mediaTypes","activeTrack","activeGroup","previousActiveLoader","onTrackChanged","_settings$segmentLoad2","onError","blacklistCurrentPlaylist","defaultTrack","setupListeners","requestOptions","byGroupId","byResolvedUri","initialize","_settings$master","_settings$mediaTypes$","groupPlaylists","variantLabel","matchingPlaylists","_settings$mediaTypes$2","_settings$mediaTypes$3","variants","setupMediaGroups","onAudioTrackChanged","createMediaTypes","loaderStats","sumLoaderStat","stat","audioSegmentLoader_","mainSegmentLoader_","MasterPlaylistController","externHls","useCueTags","enableLowInitialPlaylist","seekTo_","useCueTags_","cueTagsTrack_","requestOptions_","mediaTypes_","handleSourceOpen_","segmentLoaderSettings","setupMasterPlaylistLoaderListeners_","subtitleSegmentLoader_","setupSegmentLoaderListeners_","requestTimeout","triggerPresenceUsage_","setupSourceBuffers_","setupFirstPlay","updatedPlaylist","excludeUnsupportedVariants_","selectedMedia","selectInitialPlaylist","selectPlaylist","initialMedia_","updateAdCues_","updateDuration","addSeekableRange","addSeekableRange_","onDurationchange","playlistOutdated","stuckAtPlaylistEnd_","defaultDemuxed","audioGroupKeys","nextPlaylist","currentPlaylist","forwardBuffer","bufferLowWaterLine","onSyncInfoUpdate_","onEndOfStream","ended","isEndOfStream","getExpiredTime","absolutePlaylistEnd","mainSeekable","audioSeekable","oldEnd","oldStart","oldDuration","newDuration","setDuration","mimeTypes","configureLoaderMimeTypes_","excludeIncompatibleVariants_","variant","variantCodecs","enableFunction","loader","playlistUri","changePlaylistFn","incompatible","currentlyEnabled","Representation","hlsHandler","mpc","masterPlaylistController_","smoothQualityChange","changeType","qualityChangeFunction","renditionSelectionMixin","timerCancelEvents","PlaybackWatcher","allowSeeksWithinUnsafeLiveWindow","consecutiveUpdates","lastRecordedTime","timer_","checkCurrentTimeTimeout_","canPlayHandler","monitorCurrentTime_","waitingHandler","techWaiting_","cancelTimerHandler","cancelTimer_","fixesBadSeeksHandler","fixesBadSeeks_","checkCurrentTime_","waiting_","isAfterSeekableRange","afterSeekableWindow_","beforeSeekableWindow_","livePoint","nextRange","videoUnderflow_","difference","skipTheGap_","allowedEnd","gap","gapFromVideoUnderflow_","scheduledCurrentTime","gaps","defaultOptions","errorInterval","getSource","IWillNotUseThisInPlugins","initPlugin","lastCalled","localOptions","loadedMetadataHandler","cleanupEvents","reloadSourceOnError","vhs","source_","Hls$1","STANDARD_PLAYLIST_SELECTOR","systemBandwidth","INITIAL_PLAYLIST_SELECTOR","playlistsWithVideo","simpleTypeFromSourceType","dashRE","handleHlsMediaChange","qualityLevels","selectedIndex_","handleHlsLoadedMetadata","addQualityLevel","emeKeySystems","keySystemOptions","videoPlaylist","audioPlaylist","keySystemContentTypes","audioContentType","videoContentType","setupEmeOptions","eme","sourceOptions","keySystems","initializeMediaKeys","getVhsLocalStorage","storedObject","updateVhsLocalStorage","objectToStore","supportsNativeHls","canItPlay","supportsNativeDash","supportsTypeNatively","Component$1","HlsHandler","dash","setOptions_","overrideNative","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","smoothQualityChange_","pauseLoading","useBandwidthFromLocalStorage","option","playbackWatcher_","invBandwidth","invThroughput","systemBitrate","mediaRequests_","mediaRequestsAborted_","mediaRequestsTimedout_","mediaRequestsErrored_","mediaTransferDuration_","mediaBytesTransferred_","mediaSecondsLoaded_","currentTech","playerDimensions","setupQualityLevels_","qualityLevels_","HlsSourceHandler","_videojs$mergeOptions","supportedType","canUseMsePlayback"],"mappings":"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","sourcesContent":["/**\n * @license\n * Video.js 7.5.5 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('global/window'), require('global/document')) :\n  typeof define === 'function' && define.amd ? define(['./window', './document'], factory) :\n  (global = global || self, global.videojs = factory(global.window, global.document));\n}(this, function (window$1, document) {\n  window$1 = window$1 && window$1.hasOwnProperty('default') ? window$1['default'] : window$1;\n  document = document && document.hasOwnProperty('default') ? document['default'] : document;\n\n  var version = \"7.5.5\";\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    strings.raw = raw;\n    return strings;\n  }\n\n  /**\n   * @file create-logger.js\n   * @module create-logger\n   */\n\n  var history = [];\n  /**\n   * Log messages to the console and history based on the type of message\n   *\n   * @private\n   * @param  {string} type\n   *         The name of the console method to use.\n   *\n   * @param  {Array} args\n   *         The arguments to be passed to the matching console method.\n   */\n\n  var LogByTypeFactory = function LogByTypeFactory(name, log) {\n    return function (type, level, args) {\n      var lvl = log.levels[level];\n      var lvlRegExp = new RegExp(\"^(\" + lvl + \")$\");\n\n      if (type !== 'log') {\n        // Add the type to the front of the message when it's not \"log\".\n        args.unshift(type.toUpperCase() + ':');\n      } // Add console prefix after adding to history.\n\n\n      args.unshift(name + ':'); // Add a clone of the args at this point to history.\n\n      if (history) {\n        history.push([].concat(args));\n      } // If there's no console then don't try to output messages, but they will\n      // still be stored in history.\n\n\n      if (!window$1.console) {\n        return;\n      } // Was setting these once outside of this function, but containing them\n      // in the function makes it easier to test cases where console doesn't exist\n      // when the module is executed.\n\n\n      var fn = window$1.console[type];\n\n      if (!fn && type === 'debug') {\n        // Certain browsers don't have support for console.debug. For those, we\n        // should default to the closest comparable log.\n        fn = window$1.console.info || window$1.console.log;\n      } // Bail out if there's no console or if this type is not allowed by the\n      // current logging level.\n\n\n      if (!fn || !lvl || !lvlRegExp.test(type)) {\n        return;\n      }\n\n      fn[Array.isArray(args) ? 'apply' : 'call'](window$1.console, args);\n    };\n  };\n\n  function createLogger(name) {\n    // This is the private tracking variable for logging level.\n    var level = 'info'; // the curried logByType bound to the specific log and history\n\n    var logByType;\n    /**\n     * Logs plain debug messages. Similar to `console.log`.\n     *\n     * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n     * of our JSDoc template, we cannot properly document this as both a function\n     * and a namespace, so its function signature is documented here.\n     *\n     * #### Arguments\n     * ##### *args\n     * Mixed[]\n     *\n     * Any combination of values that could be passed to `console.log()`.\n     *\n     * #### Return Value\n     *\n     * `undefined`\n     *\n     * @namespace\n     * @param    {Mixed[]} args\n     *           One or more messages or objects that should be logged.\n     */\n\n    var log = function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      logByType('log', level, args);\n    }; // This is the logByType helper that the logging methods below use\n\n\n    logByType = LogByTypeFactory(name, log);\n    /**\n     * Create a new sublogger which chains the old name to the new name.\n     *\n     * For example, doing `videojs.log.createLogger('player')` and then using that logger will log the following:\n     * ```js\n     *  mylogger('foo');\n     *  // > VIDEOJS: player: foo\n     * ```\n     *\n     * @param {string} name\n     *        The name to add call the new logger\n     * @return {Object}\n     */\n\n    log.createLogger = function (subname) {\n      return createLogger(name + ': ' + subname);\n    };\n    /**\n     * Enumeration of available logging levels, where the keys are the level names\n     * and the values are `|`-separated strings containing logging methods allowed\n     * in that logging level. These strings are used to create a regular expression\n     * matching the function name being called.\n     *\n     * Levels provided by Video.js are:\n     *\n     * - `off`: Matches no calls. Any value that can be cast to `false` will have\n     *   this effect. The most restrictive.\n     * - `all`: Matches only Video.js-provided functions (`debug`, `log`,\n     *   `log.warn`, and `log.error`).\n     * - `debug`: Matches `log.debug`, `log`, `log.warn`, and `log.error` calls.\n     * - `info` (default): Matches `log`, `log.warn`, and `log.error` calls.\n     * - `warn`: Matches `log.warn` and `log.error` calls.\n     * - `error`: Matches only `log.error` calls.\n     *\n     * @type {Object}\n     */\n\n\n    log.levels = {\n      all: 'debug|log|warn|error',\n      off: '',\n      debug: 'debug|log|warn|error',\n      info: 'log|warn|error',\n      warn: 'warn|error',\n      error: 'error',\n      DEFAULT: level\n    };\n    /**\n     * Get or set the current logging level.\n     *\n     * If a string matching a key from {@link module:log.levels} is provided, acts\n     * as a setter.\n     *\n     * @param  {string} [lvl]\n     *         Pass a valid level to set a new logging level.\n     *\n     * @return {string}\n     *         The current logging level.\n     */\n\n    log.level = function (lvl) {\n      if (typeof lvl === 'string') {\n        if (!log.levels.hasOwnProperty(lvl)) {\n          throw new Error(\"\\\"\" + lvl + \"\\\" in not a valid log level\");\n        }\n\n        level = lvl;\n      }\n\n      return level;\n    };\n    /**\n     * Returns an array containing everything that has been logged to the history.\n     *\n     * This array is a shallow clone of the internal history record. However, its\n     * contents are _not_ cloned; so, mutating objects inside this array will\n     * mutate them in history.\n     *\n     * @return {Array}\n     */\n\n\n    log.history = function () {\n      return history ? [].concat(history) : [];\n    };\n    /**\n     * Allows you to filter the history by the given logger name\n     *\n     * @param {string} fname\n     *        The name to filter by\n     *\n     * @return {Array}\n     *         The filtered list to return\n     */\n\n\n    log.history.filter = function (fname) {\n      return (history || []).filter(function (historyItem) {\n        // if the first item in each historyItem includes `fname`, then it's a match\n        return new RegExp(\".*\" + fname + \".*\").test(historyItem[0]);\n      });\n    };\n    /**\n     * Clears the internal history tracking, but does not prevent further history\n     * tracking.\n     */\n\n\n    log.history.clear = function () {\n      if (history) {\n        history.length = 0;\n      }\n    };\n    /**\n     * Disable history tracking if it is currently enabled.\n     */\n\n\n    log.history.disable = function () {\n      if (history !== null) {\n        history.length = 0;\n        history = null;\n      }\n    };\n    /**\n     * Enable history tracking if it is currently disabled.\n     */\n\n\n    log.history.enable = function () {\n      if (history === null) {\n        history = [];\n      }\n    };\n    /**\n     * Logs error messages. Similar to `console.error`.\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as an error\n     */\n\n\n    log.error = function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return logByType('error', level, args);\n    };\n    /**\n     * Logs warning messages. Similar to `console.warn`.\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as a warning.\n     */\n\n\n    log.warn = function () {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return logByType('warn', level, args);\n    };\n    /**\n     * Logs debug messages. Similar to `console.debug`, but may also act as a comparable\n     * log if `console.debug` is not available\n     *\n     * @param {Mixed[]} args\n     *        One or more messages or objects that should be logged as debug.\n     */\n\n\n    log.debug = function () {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return logByType('debug', level, args);\n    };\n\n    return log;\n  }\n\n  /**\n   * @file log.js\n   * @module log\n   */\n  var log = createLogger('VIDEOJS');\n  var createLogger$1 = log.createLogger;\n\n  function clean(s) {\n    return s.replace(/\\n\\r?\\s*/g, '');\n  }\n\n  var tsml = function tsml(sa) {\n    var s = '',\n        i = 0;\n\n    for (; i < arguments.length; i++) {\n      s += clean(sa[i]) + (arguments[i + 1] || '');\n    }\n\n    return s;\n  };\n\n  /**\n   * @file obj.js\n   * @module obj\n   */\n\n  /**\n   * @callback obj:EachCallback\n   *\n   * @param {Mixed} value\n   *        The current key for the object that is being iterated over.\n   *\n   * @param {string} key\n   *        The current key-value for object that is being iterated over\n   */\n\n  /**\n   * @callback obj:ReduceCallback\n   *\n   * @param {Mixed} accum\n   *        The value that is accumulating over the reduce loop.\n   *\n   * @param {Mixed} value\n   *        The current key for the object that is being iterated over.\n   *\n   * @param {string} key\n   *        The current key-value for object that is being iterated over\n   *\n   * @return {Mixed}\n   *         The new accumulated value.\n   */\n  var toString = Object.prototype.toString;\n  /**\n   * Get the keys of an Object\n   *\n   * @param {Object}\n   *        The Object to get the keys from\n   *\n   * @return {string[]}\n   *         An array of the keys from the object. Returns an empty array if the\n   *         object passed in was invalid or had no keys.\n   *\n   * @private\n   */\n\n  var keys = function keys(object) {\n    return isObject(object) ? Object.keys(object) : [];\n  };\n  /**\n   * Array-like iteration for objects.\n   *\n   * @param {Object} object\n   *        The object to iterate over\n   *\n   * @param {obj:EachCallback} fn\n   *        The callback function which is called for each key in the object.\n   */\n\n\n  function each(object, fn) {\n    keys(object).forEach(function (key) {\n      return fn(object[key], key);\n    });\n  }\n  /**\n   * Array-like reduce for objects.\n   *\n   * @param {Object} object\n   *        The Object that you want to reduce.\n   *\n   * @param {Function} fn\n   *         A callback function which is called for each key in the object. It\n   *         receives the accumulated value and the per-iteration value and key\n   *         as arguments.\n   *\n   * @param {Mixed} [initial = 0]\n   *        Starting value\n   *\n   * @return {Mixed}\n   *         The final accumulated value.\n   */\n\n  function reduce(object, fn, initial) {\n    if (initial === void 0) {\n      initial = 0;\n    }\n\n    return keys(object).reduce(function (accum, key) {\n      return fn(accum, object[key], key);\n    }, initial);\n  }\n  /**\n   * Object.assign-style object shallow merge/extend.\n   *\n   * @param  {Object} target\n   * @param  {Object} ...sources\n   * @return {Object}\n   */\n\n  function assign(target) {\n    for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      sources[_key - 1] = arguments[_key];\n    }\n\n    if (Object.assign) {\n      return Object.assign.apply(Object, [target].concat(sources));\n    }\n\n    sources.forEach(function (source) {\n      if (!source) {\n        return;\n      }\n\n      each(source, function (value, key) {\n        target[key] = value;\n      });\n    });\n    return target;\n  }\n  /**\n   * Returns whether a value is an object of any kind - including DOM nodes,\n   * arrays, regular expressions, etc. Not functions, though.\n   *\n   * This avoids the gotcha where using `typeof` on a `null` value\n   * results in `'object'`.\n   *\n   * @param  {Object} value\n   * @return {boolean}\n   */\n\n  function isObject(value) {\n    return !!value && typeof value === 'object';\n  }\n  /**\n   * Returns whether an object appears to be a \"plain\" object - that is, a\n   * direct instance of `Object`.\n   *\n   * @param  {Object} value\n   * @return {boolean}\n   */\n\n  function isPlain(value) {\n    return isObject(value) && toString.call(value) === '[object Object]' && value.constructor === Object;\n  }\n\n  /**\n   * @file computed-style.js\n   * @module computed-style\n   */\n  /**\n   * A safe getComputedStyle.\n   *\n   * This is needed because in Firefox, if the player is loaded in an iframe with\n   * `display:none`, then `getComputedStyle` returns `null`, so, we do a\n   * null-check to make sure that the player doesn't break in these cases.\n   *\n   * @function\n   * @param    {Element} el\n   *           The element you want the computed style of\n   *\n   * @param    {string} prop\n   *           The property name you want\n   *\n   * @see      https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   */\n\n  function computedStyle(el, prop) {\n    if (!el || !prop) {\n      return '';\n    }\n\n    if (typeof window$1.getComputedStyle === 'function') {\n      var cs = window$1.getComputedStyle(el);\n      return cs ? cs[prop] : '';\n    }\n\n    return '';\n  }\n\n  function _templateObject() {\n    var data = _taggedTemplateLiteralLoose([\"Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set \", \" to \", \".\"]);\n\n    _templateObject = function _templateObject() {\n      return data;\n    };\n\n    return data;\n  }\n  /**\n   * Detect if a value is a string with any non-whitespace characters.\n   *\n   * @private\n   * @param  {string} str\n   *         The string to check\n   *\n   * @return {boolean}\n   *         Will be `true` if the string is non-blank, `false` otherwise.\n   *\n   */\n\n  function isNonBlankString(str) {\n    return typeof str === 'string' && /\\S/.test(str);\n  }\n  /**\n   * Throws an error if the passed string has whitespace. This is used by\n   * class methods to be relatively consistent with the classList API.\n   *\n   * @private\n   * @param  {string} str\n   *         The string to check for whitespace.\n   *\n   * @throws {Error}\n   *         Throws an error if there is whitespace in the string.\n   */\n\n\n  function throwIfWhitespace(str) {\n    if (/\\s/.test(str)) {\n      throw new Error('class has illegal whitespace characters');\n    }\n  }\n  /**\n   * Produce a regular expression for matching a className within an elements className.\n   *\n   * @private\n   * @param  {string} className\n   *         The className to generate the RegExp for.\n   *\n   * @return {RegExp}\n   *         The RegExp that will check for a specific `className` in an elements\n   *         className.\n   */\n\n\n  function classRegExp(className) {\n    return new RegExp('(^|\\\\s)' + className + '($|\\\\s)');\n  }\n  /**\n   * Whether the current DOM interface appears to be real (i.e. not simulated).\n   *\n   * @return {boolean}\n   *         Will be `true` if the DOM appears to be real, `false` otherwise.\n   */\n\n\n  function isReal() {\n    // Both document and window will never be undefined thanks to `global`.\n    return document === window$1.document;\n  }\n  /**\n   * Determines, via duck typing, whether or not a value is a DOM element.\n   *\n   * @param  {Mixed} value\n   *         The value to check.\n   *\n   * @return {boolean}\n   *         Will be `true` if the value is a DOM element, `false` otherwise.\n   */\n\n  function isEl(value) {\n    return isObject(value) && value.nodeType === 1;\n  }\n  /**\n   * Determines if the current DOM is embedded in an iframe.\n   *\n   * @return {boolean}\n   *         Will be `true` if the DOM is embedded in an iframe, `false`\n   *         otherwise.\n   */\n\n  function isInFrame() {\n    // We need a try/catch here because Safari will throw errors when attempting\n    // to get either `parent` or `self`\n    try {\n      return window$1.parent !== window$1.self;\n    } catch (x) {\n      return true;\n    }\n  }\n  /**\n   * Creates functions to query the DOM using a given method.\n   *\n   * @private\n   * @param   {string} method\n   *          The method to create the query with.\n   *\n   * @return  {Function}\n   *          The query method\n   */\n\n  function createQuerier(method) {\n    return function (selector, context) {\n      if (!isNonBlankString(selector)) {\n        return document[method](null);\n      }\n\n      if (isNonBlankString(context)) {\n        context = document.querySelector(context);\n      }\n\n      var ctx = isEl(context) ? context : document;\n      return ctx[method] && ctx[method](selector);\n    };\n  }\n  /**\n   * Creates an element and applies properties, attributes, and inserts content.\n   *\n   * @param  {string} [tagName='div']\n   *         Name of tag to be created.\n   *\n   * @param  {Object} [properties={}]\n   *         Element properties to be applied.\n   *\n   * @param  {Object} [attributes={}]\n   *         Element attributes to be applied.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor object.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n\n  function createEl(tagName, properties, attributes, content) {\n    if (tagName === void 0) {\n      tagName = 'div';\n    }\n\n    if (properties === void 0) {\n      properties = {};\n    }\n\n    if (attributes === void 0) {\n      attributes = {};\n    }\n\n    var el = document.createElement(tagName);\n    Object.getOwnPropertyNames(properties).forEach(function (propName) {\n      var val = properties[propName]; // See #2176\n      // We originally were accepting both properties and attributes in the\n      // same object, but that doesn't work so well.\n\n      if (propName.indexOf('aria-') !== -1 || propName === 'role' || propName === 'type') {\n        log.warn(tsml(_templateObject(), propName, val));\n        el.setAttribute(propName, val); // Handle textContent since it's not supported everywhere and we have a\n        // method for it.\n      } else if (propName === 'textContent') {\n        textContent(el, val);\n      } else {\n        el[propName] = val;\n      }\n    });\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      el.setAttribute(attrName, attributes[attrName]);\n    });\n\n    if (content) {\n      appendContent(el, content);\n    }\n\n    return el;\n  }\n  /**\n   * Injects text into an element, replacing any existing contents entirely.\n   *\n   * @param  {Element} el\n   *         The element to add text content into\n   *\n   * @param  {string} text\n   *         The text content to add.\n   *\n   * @return {Element}\n   *         The element with added text content.\n   */\n\n  function textContent(el, text) {\n    if (typeof el.textContent === 'undefined') {\n      el.innerText = text;\n    } else {\n      el.textContent = text;\n    }\n\n    return el;\n  }\n  /**\n   * Insert an element as the first child node of another\n   *\n   * @param {Element} child\n   *        Element to insert\n   *\n   * @param {Element} parent\n   *        Element to insert child into\n   */\n\n  function prependTo(child, parent) {\n    if (parent.firstChild) {\n      parent.insertBefore(child, parent.firstChild);\n    } else {\n      parent.appendChild(child);\n    }\n  }\n  /**\n   * Check if an element has a class name.\n   *\n   * @param  {Element} element\n   *         Element to check\n   *\n   * @param  {string} classToCheck\n   *         Class name to check for\n   *\n   * @return {boolean}\n   *         Will be `true` if the element has a class, `false` otherwise.\n   *\n   * @throws {Error}\n   *         Throws an error if `classToCheck` has white space.\n   */\n\n  function hasClass(element, classToCheck) {\n    throwIfWhitespace(classToCheck);\n\n    if (element.classList) {\n      return element.classList.contains(classToCheck);\n    }\n\n    return classRegExp(classToCheck).test(element.className);\n  }\n  /**\n   * Add a class name to an element.\n   *\n   * @param  {Element} element\n   *         Element to add class name to.\n   *\n   * @param  {string} classToAdd\n   *         Class name to add.\n   *\n   * @return {Element}\n   *         The DOM element with the added class name.\n   */\n\n  function addClass(element, classToAdd) {\n    if (element.classList) {\n      element.classList.add(classToAdd); // Don't need to `throwIfWhitespace` here because `hasElClass` will do it\n      // in the case of classList not being supported.\n    } else if (!hasClass(element, classToAdd)) {\n      element.className = (element.className + ' ' + classToAdd).trim();\n    }\n\n    return element;\n  }\n  /**\n   * Remove a class name from an element.\n   *\n   * @param  {Element} element\n   *         Element to remove a class name from.\n   *\n   * @param  {string} classToRemove\n   *         Class name to remove\n   *\n   * @return {Element}\n   *         The DOM element with class name removed.\n   */\n\n  function removeClass(element, classToRemove) {\n    if (element.classList) {\n      element.classList.remove(classToRemove);\n    } else {\n      throwIfWhitespace(classToRemove);\n      element.className = element.className.split(/\\s+/).filter(function (c) {\n        return c !== classToRemove;\n      }).join(' ');\n    }\n\n    return element;\n  }\n  /**\n   * The callback definition for toggleClass.\n   *\n   * @callback module:dom~PredicateCallback\n   * @param    {Element} element\n   *           The DOM element of the Component.\n   *\n   * @param    {string} classToToggle\n   *           The `className` that wants to be toggled\n   *\n   * @return   {boolean|undefined}\n   *           If `true` is returned, the `classToToggle` will be added to the\n   *           `element`. If `false`, the `classToToggle` will be removed from\n   *           the `element`. If `undefined`, the callback will be ignored.\n   */\n\n  /**\n   * Adds or removes a class name to/from an element depending on an optional\n   * condition or the presence/absence of the class name.\n   *\n   * @param  {Element} element\n   *         The element to toggle a class name on.\n   *\n   * @param  {string} classToToggle\n   *         The class that should be toggled.\n   *\n   * @param  {boolean|module:dom~PredicateCallback} [predicate]\n   *         See the return value for {@link module:dom~PredicateCallback}\n   *\n   * @return {Element}\n   *         The element with a class that has been toggled.\n   */\n\n  function toggleClass(element, classToToggle, predicate) {\n    // This CANNOT use `classList` internally because IE11 does not support the\n    // second parameter to the `classList.toggle()` method! Which is fine because\n    // `classList` will be used by the add/remove functions.\n    var has = hasClass(element, classToToggle);\n\n    if (typeof predicate === 'function') {\n      predicate = predicate(element, classToToggle);\n    }\n\n    if (typeof predicate !== 'boolean') {\n      predicate = !has;\n    } // If the necessary class operation matches the current state of the\n    // element, no action is required.\n\n\n    if (predicate === has) {\n      return;\n    }\n\n    if (predicate) {\n      addClass(element, classToToggle);\n    } else {\n      removeClass(element, classToToggle);\n    }\n\n    return element;\n  }\n  /**\n   * Apply attributes to an HTML element.\n   *\n   * @param {Element} el\n   *        Element to add attributes to.\n   *\n   * @param {Object} [attributes]\n   *        Attributes to be applied.\n   */\n\n  function setAttributes(el, attributes) {\n    Object.getOwnPropertyNames(attributes).forEach(function (attrName) {\n      var attrValue = attributes[attrName];\n\n      if (attrValue === null || typeof attrValue === 'undefined' || attrValue === false) {\n        el.removeAttribute(attrName);\n      } else {\n        el.setAttribute(attrName, attrValue === true ? '' : attrValue);\n      }\n    });\n  }\n  /**\n   * Get an element's attribute values, as defined on the HTML tag.\n   *\n   * Attributes are not the same as properties. They're defined on the tag\n   * or with setAttribute.\n   *\n   * @param  {Element} tag\n   *         Element from which to get tag attributes.\n   *\n   * @return {Object}\n   *         All attributes of the element. Boolean attributes will be `true` or\n   *         `false`, others will be strings.\n   */\n\n  function getAttributes(tag) {\n    var obj = {}; // known boolean attributes\n    // we can check for matching boolean properties, but not all browsers\n    // and not all tags know about these attributes, so, we still want to check them manually\n\n    var knownBooleans = ',' + 'autoplay,controls,playsinline,loop,muted,default,defaultMuted' + ',';\n\n    if (tag && tag.attributes && tag.attributes.length > 0) {\n      var attrs = tag.attributes;\n\n      for (var i = attrs.length - 1; i >= 0; i--) {\n        var attrName = attrs[i].name;\n        var attrVal = attrs[i].value; // check for known booleans\n        // the matching element property will return a value for typeof\n\n        if (typeof tag[attrName] === 'boolean' || knownBooleans.indexOf(',' + attrName + ',') !== -1) {\n          // the value of an included boolean attribute is typically an empty\n          // string ('') which would equal false if we just check for a false value.\n          // we also don't want support bad code like autoplay='false'\n          attrVal = attrVal !== null ? true : false;\n        }\n\n        obj[attrName] = attrVal;\n      }\n    }\n\n    return obj;\n  }\n  /**\n   * Get the value of an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to get the value of.\n   *\n   * @return {string}\n   *         The value of the attribute.\n   */\n\n  function getAttribute(el, attribute) {\n    return el.getAttribute(attribute);\n  }\n  /**\n   * Set the value of an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to set.\n   *\n   * @param {string} value\n   *        Value to set the attribute to.\n   */\n\n  function setAttribute(el, attribute, value) {\n    el.setAttribute(attribute, value);\n  }\n  /**\n   * Remove an element's attribute.\n   *\n   * @param {Element} el\n   *        A DOM element.\n   *\n   * @param {string} attribute\n   *        Attribute to remove.\n   */\n\n  function removeAttribute(el, attribute) {\n    el.removeAttribute(attribute);\n  }\n  /**\n   * Attempt to block the ability to select text.\n   */\n\n  function blockTextSelection() {\n    document.body.focus();\n\n    document.onselectstart = function () {\n      return false;\n    };\n  }\n  /**\n   * Turn off text selection blocking.\n   */\n\n  function unblockTextSelection() {\n    document.onselectstart = function () {\n      return true;\n    };\n  }\n  /**\n   * Identical to the native `getBoundingClientRect` function, but ensures that\n   * the method is supported at all (it is in all browsers we claim to support)\n   * and that the element is in the DOM before continuing.\n   *\n   * This wrapper function also shims properties which are not provided by some\n   * older browsers (namely, IE8).\n   *\n   * Additionally, some browsers do not support adding properties to a\n   * `ClientRect`/`DOMRect` object; so, we shallow-copy it with the standard\n   * properties (except `x` and `y` which are not widely supported). This helps\n   * avoid implementations where keys are non-enumerable.\n   *\n   * @param  {Element} el\n   *         Element whose `ClientRect` we want to calculate.\n   *\n   * @return {Object|undefined}\n   *         Always returns a plain object - or `undefined` if it cannot.\n   */\n\n  function getBoundingClientRect(el) {\n    if (el && el.getBoundingClientRect && el.parentNode) {\n      var rect = el.getBoundingClientRect();\n      var result = {};\n      ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(function (k) {\n        if (rect[k] !== undefined) {\n          result[k] = rect[k];\n        }\n      });\n\n      if (!result.height) {\n        result.height = parseFloat(computedStyle(el, 'height'));\n      }\n\n      if (!result.width) {\n        result.width = parseFloat(computedStyle(el, 'width'));\n      }\n\n      return result;\n    }\n  }\n  /**\n   * Represents the position of a DOM element on the page.\n   *\n   * @typedef  {Object} module:dom~Position\n   *\n   * @property {number} left\n   *           Pixels to the left.\n   *\n   * @property {number} top\n   *           Pixels from the top.\n   */\n\n  /**\n   * Get the position of an element in the DOM.\n   *\n   * Uses `getBoundingClientRect` technique from John Resig.\n   *\n   * @see http://ejohn.org/blog/getboundingclientrect-is-awesome/\n   *\n   * @param  {Element} el\n   *         Element from which to get offset.\n   *\n   * @return {module:dom~Position}\n   *         The position of the element that was passed in.\n   */\n\n  function findPosition(el) {\n    var box;\n\n    if (el.getBoundingClientRect && el.parentNode) {\n      box = el.getBoundingClientRect();\n    }\n\n    if (!box) {\n      return {\n        left: 0,\n        top: 0\n      };\n    }\n\n    var docEl = document.documentElement;\n    var body = document.body;\n    var clientLeft = docEl.clientLeft || body.clientLeft || 0;\n    var scrollLeft = window$1.pageXOffset || body.scrollLeft;\n    var left = box.left + scrollLeft - clientLeft;\n    var clientTop = docEl.clientTop || body.clientTop || 0;\n    var scrollTop = window$1.pageYOffset || body.scrollTop;\n    var top = box.top + scrollTop - clientTop; // Android sometimes returns slightly off decimal values, so need to round\n\n    return {\n      left: Math.round(left),\n      top: Math.round(top)\n    };\n  }\n  /**\n   * Represents x and y coordinates for a DOM element or mouse pointer.\n   *\n   * @typedef  {Object} module:dom~Coordinates\n   *\n   * @property {number} x\n   *           x coordinate in pixels\n   *\n   * @property {number} y\n   *           y coordinate in pixels\n   */\n\n  /**\n   * Get the pointer position within an element.\n   *\n   * The base on the coordinates are the bottom left of the element.\n   *\n   * @param  {Element} el\n   *         Element on which to get the pointer position on.\n   *\n   * @param  {EventTarget~Event} event\n   *         Event object.\n   *\n   * @return {module:dom~Coordinates}\n   *         A coordinates object corresponding to the mouse position.\n   *\n   */\n\n  function getPointerPosition(el, event) {\n    var position = {};\n    var box = findPosition(el);\n    var boxW = el.offsetWidth;\n    var boxH = el.offsetHeight;\n    var boxY = box.top;\n    var boxX = box.left;\n    var pageY = event.pageY;\n    var pageX = event.pageX;\n\n    if (event.changedTouches) {\n      pageX = event.changedTouches[0].pageX;\n      pageY = event.changedTouches[0].pageY;\n    }\n\n    position.y = Math.max(0, Math.min(1, (boxY - pageY + boxH) / boxH));\n    position.x = Math.max(0, Math.min(1, (pageX - boxX) / boxW));\n    return position;\n  }\n  /**\n   * Determines, via duck typing, whether or not a value is a text node.\n   *\n   * @param  {Mixed} value\n   *         Check if this value is a text node.\n   *\n   * @return {boolean}\n   *         Will be `true` if the value is a text node, `false` otherwise.\n   */\n\n  function isTextNode(value) {\n    return isObject(value) && value.nodeType === 3;\n  }\n  /**\n   * Empties the contents of an element.\n   *\n   * @param  {Element} el\n   *         The element to empty children from\n   *\n   * @return {Element}\n   *         The element with no children\n   */\n\n  function emptyEl(el) {\n    while (el.firstChild) {\n      el.removeChild(el.firstChild);\n    }\n\n    return el;\n  }\n  /**\n   * This is a mixed value that describes content to be injected into the DOM\n   * via some method. It can be of the following types:\n   *\n   * Type       | Description\n   * -----------|-------------\n   * `string`   | The value will be normalized into a text node.\n   * `Element`  | The value will be accepted as-is.\n   * `TextNode` | The value will be accepted as-is.\n   * `Array`    | A one-dimensional array of strings, elements, text nodes, or functions. These functions should return a string, element, or text node (any other return value, like an array, will be ignored).\n   * `Function` | A function, which is expected to return a string, element, text node, or array - any of the other possible values described above. This means that a content descriptor could be a function that returns an array of functions, but those second-level functions must return strings, elements, or text nodes.\n   *\n   * @typedef {string|Element|TextNode|Array|Function} module:dom~ContentDescriptor\n   */\n\n  /**\n   * Normalizes content for eventual insertion into the DOM.\n   *\n   * This allows a wide range of content definition methods, but helps protect\n   * from falling into the trap of simply writing to `innerHTML`, which could\n   * be an XSS concern.\n   *\n   * The content for an element can be passed in multiple types and\n   * combinations, whose behavior is as follows:\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Array}\n   *         All of the content that was passed in, normalized to an array of\n   *         elements or text nodes.\n   */\n\n  function normalizeContent(content) {\n    // First, invoke content if it is a function. If it produces an array,\n    // that needs to happen before normalization.\n    if (typeof content === 'function') {\n      content = content();\n    } // Next up, normalize to an array, so one or many items can be normalized,\n    // filtered, and returned.\n\n\n    return (Array.isArray(content) ? content : [content]).map(function (value) {\n      // First, invoke value if it is a function to produce a new value,\n      // which will be subsequently normalized to a Node of some kind.\n      if (typeof value === 'function') {\n        value = value();\n      }\n\n      if (isEl(value) || isTextNode(value)) {\n        return value;\n      }\n\n      if (typeof value === 'string' && /\\S/.test(value)) {\n        return document.createTextNode(value);\n      }\n    }).filter(function (value) {\n      return value;\n    });\n  }\n  /**\n   * Normalizes and appends content to an element.\n   *\n   * @param  {Element} el\n   *         Element to append normalized content to.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Element}\n   *         The element with appended normalized content.\n   */\n\n  function appendContent(el, content) {\n    normalizeContent(content).forEach(function (node) {\n      return el.appendChild(node);\n    });\n    return el;\n  }\n  /**\n   * Normalizes and inserts content into an element; this is identical to\n   * `appendContent()`, except it empties the element first.\n   *\n   * @param {Element} el\n   *        Element to insert normalized content into.\n   *\n   * @param {module:dom~ContentDescriptor} content\n   *        A content descriptor value.\n   *\n   * @return {Element}\n   *         The element with inserted normalized content.\n   */\n\n  function insertContent(el, content) {\n    return appendContent(emptyEl(el), content);\n  }\n  /**\n   * Check if an event was a single left click.\n   *\n   * @param  {EventTarget~Event} event\n   *         Event object.\n   *\n   * @return {boolean}\n   *         Will be `true` if a single left click, `false` otherwise.\n   */\n\n  function isSingleLeftClick(event) {\n    // Note: if you create something draggable, be sure to\n    // call it on both `mousedown` and `mousemove` event,\n    // otherwise `mousedown` should be enough for a button\n    if (event.button === undefined && event.buttons === undefined) {\n      // Why do we need `buttons` ?\n      // Because, middle mouse sometimes have this:\n      // e.button === 0 and e.buttons === 4\n      // Furthermore, we want to prevent combination click, something like\n      // HOLD middlemouse then left click, that would be\n      // e.button === 0, e.buttons === 5\n      // just `button` is not gonna work\n      // Alright, then what this block does ?\n      // this is for chrome `simulate mobile devices`\n      // I want to support this as well\n      return true;\n    }\n\n    if (event.button === 0 && event.buttons === undefined) {\n      // Touch screen, sometimes on some specific device, `buttons`\n      // doesn't have anything (safari on ios, blackberry...)\n      return true;\n    }\n\n    if (event.button !== 0 || event.buttons !== 1) {\n      // This is the reason we have those if else block above\n      // if any special case we can catch and let it slide\n      // we do it above, when get to here, this definitely\n      // is-not-left-click\n      return false;\n    }\n\n    return true;\n  }\n  /**\n   * Finds a single DOM element matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @param  {string} selector\n   *         A valid CSS selector, which will be passed to `querySelector`.\n   *\n   * @param  {Element|String} [context=document]\n   *         A DOM element within which to query. Can also be a selector\n   *         string in which case the first matching element will be used\n   *         as context. If missing (or no element matches selector), falls\n   *         back to `document`.\n   *\n   * @return {Element|null}\n   *         The element that was found or null.\n   */\n\n  var $ = createQuerier('querySelector');\n  /**\n   * Finds a all DOM elements matching `selector` within the optional\n   * `context` of another DOM element (defaulting to `document`).\n   *\n   * @param  {string} selector\n   *         A valid CSS selector, which will be passed to `querySelectorAll`.\n   *\n   * @param  {Element|String} [context=document]\n   *         A DOM element within which to query. Can also be a selector\n   *         string in which case the first matching element will be used\n   *         as context. If missing (or no element matches selector), falls\n   *         back to `document`.\n   *\n   * @return {NodeList}\n   *         A element list of elements that were found. Will be empty if none\n   *         were found.\n   *\n   */\n\n  var $$ = createQuerier('querySelectorAll');\n\n  var Dom = /*#__PURE__*/Object.freeze({\n    isReal: isReal,\n    isEl: isEl,\n    isInFrame: isInFrame,\n    createEl: createEl,\n    textContent: textContent,\n    prependTo: prependTo,\n    hasClass: hasClass,\n    addClass: addClass,\n    removeClass: removeClass,\n    toggleClass: toggleClass,\n    setAttributes: setAttributes,\n    getAttributes: getAttributes,\n    getAttribute: getAttribute,\n    setAttribute: setAttribute,\n    removeAttribute: removeAttribute,\n    blockTextSelection: blockTextSelection,\n    unblockTextSelection: unblockTextSelection,\n    getBoundingClientRect: getBoundingClientRect,\n    findPosition: findPosition,\n    getPointerPosition: getPointerPosition,\n    isTextNode: isTextNode,\n    emptyEl: emptyEl,\n    normalizeContent: normalizeContent,\n    appendContent: appendContent,\n    insertContent: insertContent,\n    isSingleLeftClick: isSingleLeftClick,\n    $: $,\n    $$: $$\n  });\n\n  /**\n   * @file guid.js\n   * @module guid\n   */\n\n  /**\n   * Unique ID for an element or function\n   * @type {Number}\n   */\n  var _guid = 1;\n  /**\n   * Get a unique auto-incrementing ID by number that has not been returned before.\n   *\n   * @return {number}\n   *         A new unique ID.\n   */\n\n  function newGUID() {\n    return _guid++;\n  }\n\n  /**\n   * @file dom-data.js\n   * @module dom-data\n   */\n  /**\n   * Element Data Store.\n   *\n   * Allows for binding data to an element without putting it directly on the\n   * element. Ex. Event listeners are stored here.\n   * (also from jsninja.com, slightly modified and updated for closure compiler)\n   *\n   * @type {Object}\n   * @private\n   */\n\n  var elData = {};\n  /*\n   * Unique attribute name to store an element's guid in\n   *\n   * @type {String}\n   * @constant\n   * @private\n   */\n\n  var elIdAttr = 'vdata' + new Date().getTime();\n  /**\n   * Returns the cache object where data for an element is stored\n   *\n   * @param {Element} el\n   *        Element to store data for.\n   *\n   * @return {Object}\n   *         The cache object for that el that was passed in.\n   */\n\n  function getData(el) {\n    var id = el[elIdAttr];\n\n    if (!id) {\n      id = el[elIdAttr] = newGUID();\n    }\n\n    if (!elData[id]) {\n      elData[id] = {};\n    }\n\n    return elData[id];\n  }\n  /**\n   * Returns whether or not an element has cached data\n   *\n   * @param {Element} el\n   *        Check if this element has cached data.\n   *\n   * @return {boolean}\n   *         - True if the DOM element has cached data.\n   *         - False otherwise.\n   */\n\n  function hasData(el) {\n    var id = el[elIdAttr];\n\n    if (!id) {\n      return false;\n    }\n\n    return !!Object.getOwnPropertyNames(elData[id]).length;\n  }\n  /**\n   * Delete data for the element from the cache and the guid attr from getElementById\n   *\n   * @param {Element} el\n   *        Remove cached data for this element.\n   */\n\n  function removeData(el) {\n    var id = el[elIdAttr];\n\n    if (!id) {\n      return;\n    } // Remove all stored data\n\n\n    delete elData[id]; // Remove the elIdAttr property from the DOM node\n\n    try {\n      delete el[elIdAttr];\n    } catch (e) {\n      if (el.removeAttribute) {\n        el.removeAttribute(elIdAttr);\n      } else {\n        // IE doesn't appear to support removeAttribute on the document element\n        el[elIdAttr] = null;\n      }\n    }\n  }\n\n  /**\n   * @file events.js. An Event System (John Resig - Secrets of a JS Ninja http://jsninja.com/)\n   * (Original book version wasn't completely usable, so fixed some things and made Closure Compiler compatible)\n   * This should work very similarly to jQuery's events, however it's based off the book version which isn't as\n   * robust as jquery's, so there's probably some differences.\n   *\n   * @file events.js\n   * @module events\n   */\n  /**\n   * Clean up the listener cache and dispatchers\n   *\n   * @param {Element|Object} elem\n   *        Element to clean up\n   *\n   * @param {string} type\n   *        Type of event to clean up\n   */\n\n  function _cleanUpEvents(elem, type) {\n    var data = getData(elem); // Remove the events of a particular type if there are none left\n\n    if (data.handlers[type].length === 0) {\n      delete data.handlers[type]; // data.handlers[type] = null;\n      // Setting to null was causing an error with data.handlers\n      // Remove the meta-handler from the element\n\n      if (elem.removeEventListener) {\n        elem.removeEventListener(type, data.dispatcher, false);\n      } else if (elem.detachEvent) {\n        elem.detachEvent('on' + type, data.dispatcher);\n      }\n    } // Remove the events object if there are no types left\n\n\n    if (Object.getOwnPropertyNames(data.handlers).length <= 0) {\n      delete data.handlers;\n      delete data.dispatcher;\n      delete data.disabled;\n    } // Finally remove the element data if there is no data left\n\n\n    if (Object.getOwnPropertyNames(data).length === 0) {\n      removeData(elem);\n    }\n  }\n  /**\n   * Loops through an array of event types and calls the requested method for each type.\n   *\n   * @param {Function} fn\n   *        The event method we want to use.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind listeners to\n   *\n   * @param {string} type\n   *        Type of event to bind to.\n   *\n   * @param {EventTarget~EventListener} callback\n   *        Event listener.\n   */\n\n\n  function _handleMultipleEvents(fn, elem, types, callback) {\n    types.forEach(function (type) {\n      // Call the event method for each one of the types\n      fn(elem, type, callback);\n    });\n  }\n  /**\n   * Fix a native event to have standard property values\n   *\n   * @param {Object} event\n   *        Event object to fix.\n   *\n   * @return {Object}\n   *         Fixed event object.\n   */\n\n\n  function fixEvent(event) {\n    function returnTrue() {\n      return true;\n    }\n\n    function returnFalse() {\n      return false;\n    } // Test if fixing up is needed\n    // Used to check if !event.stopPropagation instead of isPropagationStopped\n    // But native events return true for stopPropagation, but don't have\n    // other expected methods like isPropagationStopped. Seems to be a problem\n    // with the Javascript Ninja code. So we're just overriding all events now.\n\n\n    if (!event || !event.isPropagationStopped) {\n      var old = event || window$1.event;\n      event = {}; // Clone the old object so that we can modify the values event = {};\n      // IE8 Doesn't like when you mess with native event properties\n      // Firefox returns false for event.hasOwnProperty('type') and other props\n      //  which makes copying more difficult.\n      // TODO: Probably best to create a whitelist of event props\n\n      for (var key in old) {\n        // Safari 6.0.3 warns you if you try to copy deprecated layerX/Y\n        // Chrome warns you if you try to copy deprecated keyboardEvent.keyLocation\n        // and webkitMovementX/Y\n        if (key !== 'layerX' && key !== 'layerY' && key !== 'keyLocation' && key !== 'webkitMovementX' && key !== 'webkitMovementY') {\n          // Chrome 32+ warns if you try to copy deprecated returnValue, but\n          // we still want to if preventDefault isn't supported (IE8).\n          if (!(key === 'returnValue' && old.preventDefault)) {\n            event[key] = old[key];\n          }\n        }\n      } // The event occurred on this element\n\n\n      if (!event.target) {\n        event.target = event.srcElement || document;\n      } // Handle which other element the event is related to\n\n\n      if (!event.relatedTarget) {\n        event.relatedTarget = event.fromElement === event.target ? event.toElement : event.fromElement;\n      } // Stop the default browser action\n\n\n      event.preventDefault = function () {\n        if (old.preventDefault) {\n          old.preventDefault();\n        }\n\n        event.returnValue = false;\n        old.returnValue = false;\n        event.defaultPrevented = true;\n      };\n\n      event.defaultPrevented = false; // Stop the event from bubbling\n\n      event.stopPropagation = function () {\n        if (old.stopPropagation) {\n          old.stopPropagation();\n        }\n\n        event.cancelBubble = true;\n        old.cancelBubble = true;\n        event.isPropagationStopped = returnTrue;\n      };\n\n      event.isPropagationStopped = returnFalse; // Stop the event from bubbling and executing other handlers\n\n      event.stopImmediatePropagation = function () {\n        if (old.stopImmediatePropagation) {\n          old.stopImmediatePropagation();\n        }\n\n        event.isImmediatePropagationStopped = returnTrue;\n        event.stopPropagation();\n      };\n\n      event.isImmediatePropagationStopped = returnFalse; // Handle mouse position\n\n      if (event.clientX !== null && event.clientX !== undefined) {\n        var doc = document.documentElement;\n        var body = document.body;\n        event.pageX = event.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        event.pageY = event.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      } // Handle key presses\n\n\n      event.which = event.charCode || event.keyCode; // Fix button for mouse clicks:\n      // 0 == left; 1 == middle; 2 == right\n\n      if (event.button !== null && event.button !== undefined) {\n        // The following is disabled because it does not pass videojs-standard\n        // and... yikes.\n\n        /* eslint-disable */\n        event.button = event.button & 1 ? 0 : event.button & 4 ? 1 : event.button & 2 ? 2 : 0;\n        /* eslint-enable */\n      }\n    } // Returns fixed-up instance\n\n\n    return event;\n  }\n  /**\n   * Whether passive event listeners are supported\n   */\n\n  var _supportsPassive = false;\n\n  (function () {\n    try {\n      var opts = Object.defineProperty({}, 'passive', {\n        get: function get() {\n          _supportsPassive = true;\n        }\n      });\n      window$1.addEventListener('test', null, opts);\n      window$1.removeEventListener('test', null, opts);\n    } catch (e) {// disregard\n    }\n  })();\n  /**\n   * Touch events Chrome expects to be passive\n   */\n\n\n  var passiveEvents = ['touchstart', 'touchmove'];\n  /**\n   * Add an event listener to element\n   * It stores the handler function in a separate cache object\n   * and adds a generic handler to the element's event,\n   * along with a unique id (guid) to the element.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind listeners to\n   *\n   * @param {string|string[]} type\n   *        Type of event to bind to.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        Event listener.\n   */\n\n  function on(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(on, elem, type, fn);\n    }\n\n    var data = getData(elem); // We need a place to store all our handler data\n\n    if (!data.handlers) {\n      data.handlers = {};\n    }\n\n    if (!data.handlers[type]) {\n      data.handlers[type] = [];\n    }\n\n    if (!fn.guid) {\n      fn.guid = newGUID();\n    }\n\n    data.handlers[type].push(fn);\n\n    if (!data.dispatcher) {\n      data.disabled = false;\n\n      data.dispatcher = function (event, hash) {\n        if (data.disabled) {\n          return;\n        }\n\n        event = fixEvent(event);\n        var handlers = data.handlers[event.type];\n\n        if (handlers) {\n          // Copy handlers so if handlers are added/removed during the process it doesn't throw everything off.\n          var handlersCopy = handlers.slice(0);\n\n          for (var m = 0, n = handlersCopy.length; m < n; m++) {\n            if (event.isImmediatePropagationStopped()) {\n              break;\n            } else {\n              try {\n                handlersCopy[m].call(elem, event, hash);\n              } catch (e) {\n                log.error(e);\n              }\n            }\n          }\n        }\n      };\n    }\n\n    if (data.handlers[type].length === 1) {\n      if (elem.addEventListener) {\n        var options = false;\n\n        if (_supportsPassive && passiveEvents.indexOf(type) > -1) {\n          options = {\n            passive: true\n          };\n        }\n\n        elem.addEventListener(type, data.dispatcher, options);\n      } else if (elem.attachEvent) {\n        elem.attachEvent('on' + type, data.dispatcher);\n      }\n    }\n  }\n  /**\n   * Removes event listeners from an element\n   *\n   * @param {Element|Object} elem\n   *        Object to remove listeners from.\n   *\n   * @param {string|string[]} [type]\n   *        Type of listener to remove. Don't include to remove all events from element.\n   *\n   * @param {EventTarget~EventListener} [fn]\n   *        Specific listener to remove. Don't include to remove listeners for an event\n   *        type.\n   */\n\n  function off(elem, type, fn) {\n    // Don't want to add a cache object through getElData if not needed\n    if (!hasData(elem)) {\n      return;\n    }\n\n    var data = getData(elem); // If no events exist, nothing to unbind\n\n    if (!data.handlers) {\n      return;\n    }\n\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(off, elem, type, fn);\n    } // Utility function\n\n\n    var removeType = function removeType(el, t) {\n      data.handlers[t] = [];\n\n      _cleanUpEvents(el, t);\n    }; // Are we removing all bound events?\n\n\n    if (type === undefined) {\n      for (var t in data.handlers) {\n        if (Object.prototype.hasOwnProperty.call(data.handlers || {}, t)) {\n          removeType(elem, t);\n        }\n      }\n\n      return;\n    }\n\n    var handlers = data.handlers[type]; // If no handlers exist, nothing to unbind\n\n    if (!handlers) {\n      return;\n    } // If no listener was provided, remove all listeners for type\n\n\n    if (!fn) {\n      removeType(elem, type);\n      return;\n    } // We're only removing a single handler\n\n\n    if (fn.guid) {\n      for (var n = 0; n < handlers.length; n++) {\n        if (handlers[n].guid === fn.guid) {\n          handlers.splice(n--, 1);\n        }\n      }\n    }\n\n    _cleanUpEvents(elem, type);\n  }\n  /**\n   * Trigger an event for an element\n   *\n   * @param {Element|Object} elem\n   *        Element to trigger an event on\n   *\n   * @param {EventTarget~Event|string} event\n   *        A string (the type) or an event object with a type attribute\n   *\n   * @param {Object} [hash]\n   *        data hash to pass along with the event\n   *\n   * @return {boolean|undefined}\n   *         Returns the opposite of `defaultPrevented` if default was\n   *         prevented. Otherwise, returns `undefined`\n   */\n\n  function trigger(elem, event, hash) {\n    // Fetches element data and a reference to the parent (for bubbling).\n    // Don't want to add a data object to cache for every parent,\n    // so checking hasElData first.\n    var elemData = hasData(elem) ? getData(elem) : {};\n    var parent = elem.parentNode || elem.ownerDocument; // type = event.type || event,\n    // handler;\n    // If an event name was passed as a string, creates an event out of it\n\n    if (typeof event === 'string') {\n      event = {\n        type: event,\n        target: elem\n      };\n    } else if (!event.target) {\n      event.target = elem;\n    } // Normalizes the event properties.\n\n\n    event = fixEvent(event); // If the passed element has a dispatcher, executes the established handlers.\n\n    if (elemData.dispatcher) {\n      elemData.dispatcher.call(elem, event, hash);\n    } // Unless explicitly stopped or the event does not bubble (e.g. media events)\n    // recursively calls this function to bubble the event up the DOM.\n\n\n    if (parent && !event.isPropagationStopped() && event.bubbles === true) {\n      trigger.call(null, parent, event, hash); // If at the top of the DOM, triggers the default action unless disabled.\n    } else if (!parent && !event.defaultPrevented && event.target && event.target[event.type]) {\n      var targetData = getData(event.target); // Checks if the target has a default action for this event.\n\n      if (event.target[event.type]) {\n        // Temporarily disables event dispatching on the target as we have already executed the handler.\n        targetData.disabled = true; // Executes the default action.\n\n        if (typeof event.target[event.type] === 'function') {\n          event.target[event.type]();\n        } // Re-enables event dispatching.\n\n\n        targetData.disabled = false;\n      }\n    } // Inform the triggerer if the default was prevented by returning false\n\n\n    return !event.defaultPrevented;\n  }\n  /**\n   * Trigger a listener only once for an event.\n   *\n   * @param {Element|Object} elem\n   *        Element or object to bind to.\n   *\n   * @param {string|string[]} type\n   *        Name/type of event\n   *\n   * @param {Event~EventListener} fn\n   *        Event listener function\n   */\n\n  function one(elem, type, fn) {\n    if (Array.isArray(type)) {\n      return _handleMultipleEvents(one, elem, type, fn);\n    }\n\n    var func = function func() {\n      off(elem, type, func);\n      fn.apply(this, arguments);\n    }; // copy the guid to the new function so it can removed using the original function's ID\n\n\n    func.guid = fn.guid = fn.guid || newGUID();\n    on(elem, type, func);\n  }\n\n  var Events = /*#__PURE__*/Object.freeze({\n    fixEvent: fixEvent,\n    on: on,\n    off: off,\n    trigger: trigger,\n    one: one\n  });\n\n  /**\n   * @file setup.js - Functions for setting up a player without\n   * user interaction based on the data-setup `attribute` of the video tag.\n   *\n   * @module setup\n   */\n  var _windowLoaded = false;\n  var videojs;\n  /**\n   * Set up any tags that have a data-setup `attribute` when the player is started.\n   */\n\n  var autoSetup = function autoSetup() {\n    // Protect against breakage in non-browser environments and check global autoSetup option.\n    if (!isReal() || videojs.options.autoSetup === false) {\n      return;\n    }\n\n    var vids = Array.prototype.slice.call(document.getElementsByTagName('video'));\n    var audios = Array.prototype.slice.call(document.getElementsByTagName('audio'));\n    var divs = Array.prototype.slice.call(document.getElementsByTagName('video-js'));\n    var mediaEls = vids.concat(audios, divs); // Check if any media elements exist\n\n    if (mediaEls && mediaEls.length > 0) {\n      for (var i = 0, e = mediaEls.length; i < e; i++) {\n        var mediaEl = mediaEls[i]; // Check if element exists, has getAttribute func.\n\n        if (mediaEl && mediaEl.getAttribute) {\n          // Make sure this player hasn't already been set up.\n          if (mediaEl.player === undefined) {\n            var options = mediaEl.getAttribute('data-setup'); // Check if data-setup attr exists.\n            // We only auto-setup if they've added the data-setup attr.\n\n            if (options !== null) {\n              // Create new video.js instance.\n              videojs(mediaEl);\n            }\n          } // If getAttribute isn't defined, we need to wait for the DOM.\n\n        } else {\n          autoSetupTimeout(1);\n          break;\n        }\n      } // No videos were found, so keep looping unless page is finished loading.\n\n    } else if (!_windowLoaded) {\n      autoSetupTimeout(1);\n    }\n  };\n  /**\n   * Wait until the page is loaded before running autoSetup. This will be called in\n   * autoSetup if `hasLoaded` returns false.\n   *\n   * @param {number} wait\n   *        How long to wait in ms\n   *\n   * @param {module:videojs} [vjs]\n   *        The videojs library function\n   */\n\n\n  function autoSetupTimeout(wait, vjs) {\n    if (vjs) {\n      videojs = vjs;\n    }\n\n    window$1.setTimeout(autoSetup, wait);\n  }\n\n  if (isReal() && document.readyState === 'complete') {\n    _windowLoaded = true;\n  } else {\n    /**\n     * Listen for the load event on window, and set _windowLoaded to true.\n     *\n     * @listens load\n     */\n    one(window$1, 'load', function () {\n      _windowLoaded = true;\n    });\n  }\n\n  /**\n   * @file stylesheet.js\n   * @module stylesheet\n   */\n  /**\n   * Create a DOM syle element given a className for it.\n   *\n   * @param {string} className\n   *        The className to add to the created style element.\n   *\n   * @return {Element}\n   *         The element that was created.\n   */\n\n  var createStyleElement = function createStyleElement(className) {\n    var style = document.createElement('style');\n    style.className = className;\n    return style;\n  };\n  /**\n   * Add text to a DOM element.\n   *\n   * @param {Element} el\n   *        The Element to add text content to.\n   *\n   * @param {string} content\n   *        The text to add to the element.\n   */\n\n  var setTextContent = function setTextContent(el, content) {\n    if (el.styleSheet) {\n      el.styleSheet.cssText = content;\n    } else {\n      el.textContent = content;\n    }\n  };\n\n  /**\n   * @file fn.js\n   * @module fn\n   */\n  /**\n   * Bind (a.k.a proxy or context). A simple method for changing the context of\n   * a function.\n   *\n   * It also stores a unique id on the function so it can be easily removed from\n   * events.\n   *\n   * @function\n   * @param    {Mixed} context\n   *           The object to bind as scope.\n   *\n   * @param    {Function} fn\n   *           The function to be bound to a scope.\n   *\n   * @param    {number} [uid]\n   *           An optional unique ID for the function to be set\n   *\n   * @return   {Function}\n   *           The new function that will be bound into the context given\n   */\n\n  var bind = function bind(context, fn, uid) {\n    // Make sure the function has a unique ID\n    if (!fn.guid) {\n      fn.guid = newGUID();\n    } // Create the new function that changes the context\n\n\n    var bound = function bound() {\n      return fn.apply(context, arguments);\n    }; // Allow for the ability to individualize this function\n    // Needed in the case where multiple objects might share the same prototype\n    // IF both items add an event listener with the same function, then you try to remove just one\n    // it will remove both because they both have the same guid.\n    // when using this, you need to use the bind method when you remove the listener as well.\n    // currently used in text tracks\n\n\n    bound.guid = uid ? uid + '_' + fn.guid : fn.guid;\n    return bound;\n  };\n  /**\n   * Wraps the given function, `fn`, with a new function that only invokes `fn`\n   * at most once per every `wait` milliseconds.\n   *\n   * @function\n   * @param    {Function} fn\n   *           The function to be throttled.\n   *\n   * @param    {number}   wait\n   *           The number of milliseconds by which to throttle.\n   *\n   * @return   {Function}\n   */\n\n  var throttle = function throttle(fn, wait) {\n    var last = Date.now();\n\n    var throttled = function throttled() {\n      var now = Date.now();\n\n      if (now - last >= wait) {\n        fn.apply(void 0, arguments);\n        last = now;\n      }\n    };\n\n    return throttled;\n  };\n  /**\n   * Creates a debounced function that delays invoking `func` until after `wait`\n   * milliseconds have elapsed since the last time the debounced function was\n   * invoked.\n   *\n   * Inspired by lodash and underscore implementations.\n   *\n   * @function\n   * @param    {Function} func\n   *           The function to wrap with debounce behavior.\n   *\n   * @param    {number} wait\n   *           The number of milliseconds to wait after the last invocation.\n   *\n   * @param    {boolean} [immediate]\n   *           Whether or not to invoke the function immediately upon creation.\n   *\n   * @param    {Object} [context=window]\n   *           The \"context\" in which the debounced function should debounce. For\n   *           example, if this function should be tied to a Video.js player,\n   *           the player can be passed here. Alternatively, defaults to the\n   *           global `window` object.\n   *\n   * @return   {Function}\n   *           A debounced function.\n   */\n\n  var debounce = function debounce(func, wait, immediate, context) {\n    if (context === void 0) {\n      context = window$1;\n    }\n\n    var timeout;\n\n    var cancel = function cancel() {\n      context.clearTimeout(timeout);\n      timeout = null;\n    };\n    /* eslint-disable consistent-this */\n\n\n    var debounced = function debounced() {\n      var self = this;\n      var args = arguments;\n\n      var _later = function later() {\n        timeout = null;\n        _later = null;\n\n        if (!immediate) {\n          func.apply(self, args);\n        }\n      };\n\n      if (!timeout && immediate) {\n        func.apply(self, args);\n      }\n\n      context.clearTimeout(timeout);\n      timeout = context.setTimeout(_later, wait);\n    };\n    /* eslint-enable consistent-this */\n\n\n    debounced.cancel = cancel;\n    return debounced;\n  };\n\n  /**\n   * @file src/js/event-target.js\n   */\n  /**\n   * `EventTarget` is a class that can have the same API as the DOM `EventTarget`. It\n   * adds shorthand functions that wrap around lengthy functions. For example:\n   * the `on` function is a wrapper around `addEventListener`.\n   *\n   * @see [EventTarget Spec]{@link https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget}\n   * @class EventTarget\n   */\n\n  var EventTarget = function EventTarget() {};\n  /**\n   * A Custom DOM event.\n   *\n   * @typedef {Object} EventTarget~Event\n   * @see [Properties]{@link https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent}\n   */\n\n  /**\n   * All event listeners should follow the following format.\n   *\n   * @callback EventTarget~EventListener\n   * @this {EventTarget}\n   *\n   * @param {EventTarget~Event} event\n   *        the event that triggered this function\n   *\n   * @param {Object} [hash]\n   *        hash of data sent during the event\n   */\n\n  /**\n   * An object containing event names as keys and booleans as values.\n   *\n   * > NOTE: If an event name is set to a true value here {@link EventTarget#trigger}\n   *         will have extra functionality. See that function for more information.\n   *\n   * @property EventTarget.prototype.allowedEvents_\n   * @private\n   */\n\n\n  EventTarget.prototype.allowedEvents_ = {};\n  /**\n   * Adds an `event listener` to an instance of an `EventTarget`. An `event listener` is a\n   * function that will get called when an event with a certain name gets triggered.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to call with `EventTarget`s\n   */\n\n  EventTarget.prototype.on = function (type, fn) {\n    // Remove the addEventListener alias before calling Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    on(this, type, fn);\n    this.addEventListener = ael;\n  };\n  /**\n   * An alias of {@link EventTarget#on}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#on}\n   */\n\n\n  EventTarget.prototype.addEventListener = EventTarget.prototype.on;\n  /**\n   * Removes an `event listener` for a specific event from an instance of `EventTarget`.\n   * This makes it so that the `event listener` will no longer get called when the\n   * named event happens.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to remove.\n   */\n\n  EventTarget.prototype.off = function (type, fn) {\n    off(this, type, fn);\n  };\n  /**\n   * An alias of {@link EventTarget#off}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#off}\n   */\n\n\n  EventTarget.prototype.removeEventListener = EventTarget.prototype.off;\n  /**\n   * This function will add an `event listener` that gets triggered only once. After the\n   * first trigger it will get removed. This is like adding an `event listener`\n   * with {@link EventTarget#on} that calls {@link EventTarget#off} on itself.\n   *\n   * @param {string|string[]} type\n   *        An event name or an array of event names.\n   *\n   * @param {EventTarget~EventListener} fn\n   *        The function to be called once for each event name.\n   */\n\n  EventTarget.prototype.one = function (type, fn) {\n    // Remove the addEventListener alialing Events.on\n    // so we don't get into an infinite type loop\n    var ael = this.addEventListener;\n\n    this.addEventListener = function () {};\n\n    one(this, type, fn);\n    this.addEventListener = ael;\n  };\n  /**\n   * This function causes an event to happen. This will then cause any `event listeners`\n   * that are waiting for that event, to get called. If there are no `event listeners`\n   * for an event then nothing will happen.\n   *\n   * If the name of the `Event` that is being triggered is in `EventTarget.allowedEvents_`.\n   * Trigger will also call the `on` + `uppercaseEventName` function.\n   *\n   * Example:\n   * 'click' is in `EventTarget.allowedEvents_`, so, trigger will attempt to call\n   * `onClick` if it exists.\n   *\n   * @param {string|EventTarget~Event|Object} event\n   *        The name of the event, an `Event`, or an object with a key of type set to\n   *        an event name.\n   */\n\n\n  EventTarget.prototype.trigger = function (event) {\n    var type = event.type || event; // deprecation\n    // In a future version we should default target to `this`\n    // similar to how we default the target to `elem` in\n    // `Events.trigger`. Right now the default `target` will be\n    // `document` due to the `Event.fixEvent` call.\n\n    if (typeof event === 'string') {\n      event = {\n        type: type\n      };\n    }\n\n    event = fixEvent(event);\n\n    if (this.allowedEvents_[type] && this['on' + type]) {\n      this['on' + type](event);\n    }\n\n    trigger(this, event);\n  };\n  /**\n   * An alias of {@link EventTarget#trigger}. Allows `EventTarget` to mimic\n   * the standard DOM API.\n   *\n   * @function\n   * @see {@link EventTarget#trigger}\n   */\n\n\n  EventTarget.prototype.dispatchEvent = EventTarget.prototype.trigger;\n  var EVENT_MAP;\n\n  EventTarget.prototype.queueTrigger = function (event) {\n    var _this = this;\n\n    // only set up EVENT_MAP if it'll be used\n    if (!EVENT_MAP) {\n      EVENT_MAP = new Map();\n    }\n\n    var type = event.type || event;\n    var map = EVENT_MAP.get(this);\n\n    if (!map) {\n      map = new Map();\n      EVENT_MAP.set(this, map);\n    }\n\n    var oldTimeout = map.get(type);\n    map.delete(type);\n    window$1.clearTimeout(oldTimeout);\n    var timeout = window$1.setTimeout(function () {\n      // if we cleared out all timeouts for the current target, delete its map\n      if (map.size === 0) {\n        map = null;\n        EVENT_MAP.delete(_this);\n      }\n\n      _this.trigger(event);\n    }, 0);\n    map.set(type, timeout);\n  };\n\n  /**\n   * @file mixins/evented.js\n   * @module evented\n   */\n  /**\n   * Returns whether or not an object has had the evented mixin applied.\n   *\n   * @param  {Object} object\n   *         An object to test.\n   *\n   * @return {boolean}\n   *         Whether or not the object appears to be evented.\n   */\n\n  var isEvented = function isEvented(object) {\n    return object instanceof EventTarget || !!object.eventBusEl_ && ['on', 'one', 'off', 'trigger'].every(function (k) {\n      return typeof object[k] === 'function';\n    });\n  };\n  /**\n   * Adds a callback to run after the evented mixin applied.\n   *\n   * @param  {Object} object\n   *         An object to Add\n   * @param  {Function} callback\n   *         The callback to run.\n   */\n\n\n  var addEventedCallback = function addEventedCallback(target, callback) {\n    if (isEvented(target)) {\n      callback();\n    } else {\n      if (!target.eventedCallbacks) {\n        target.eventedCallbacks = [];\n      }\n\n      target.eventedCallbacks.push(callback);\n    }\n  };\n  /**\n   * Whether a value is a valid event type - non-empty string or array.\n   *\n   * @private\n   * @param  {string|Array} type\n   *         The type value to test.\n   *\n   * @return {boolean}\n   *         Whether or not the type is a valid event type.\n   */\n\n\n  var isValidEventType = function isValidEventType(type) {\n    return (// The regex here verifies that the `type` contains at least one non-\n      // whitespace character.\n      typeof type === 'string' && /\\S/.test(type) || Array.isArray(type) && !!type.length\n    );\n  };\n  /**\n   * Validates a value to determine if it is a valid event target. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the target does not appear to be a valid event target.\n   *\n   * @param  {Object} target\n   *         The object to test.\n   */\n\n\n  var validateTarget = function validateTarget(target) {\n    if (!target.nodeName && !isEvented(target)) {\n      throw new Error('Invalid target; must be a DOM node or evented object.');\n    }\n  };\n  /**\n   * Validates a value to determine if it is a valid event target. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the type does not appear to be a valid event type.\n   *\n   * @param  {string|Array} type\n   *         The type to test.\n   */\n\n\n  var validateEventType = function validateEventType(type) {\n    if (!isValidEventType(type)) {\n      throw new Error('Invalid event type; must be a non-empty string or array.');\n    }\n  };\n  /**\n   * Validates a value to determine if it is a valid listener. Throws if not.\n   *\n   * @private\n   * @throws {Error}\n   *         If the listener is not a function.\n   *\n   * @param  {Function} listener\n   *         The listener to test.\n   */\n\n\n  var validateListener = function validateListener(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Invalid listener; must be a function.');\n    }\n  };\n  /**\n   * Takes an array of arguments given to `on()` or `one()`, validates them, and\n   * normalizes them into an object.\n   *\n   * @private\n   * @param  {Object} self\n   *         The evented object on which `on()` or `one()` was called. This\n   *         object will be bound as the `this` value for the listener.\n   *\n   * @param  {Array} args\n   *         An array of arguments passed to `on()` or `one()`.\n   *\n   * @return {Object}\n   *         An object containing useful values for `on()` or `one()` calls.\n   */\n\n\n  var normalizeListenArgs = function normalizeListenArgs(self, args) {\n    // If the number of arguments is less than 3, the target is always the\n    // evented object itself.\n    var isTargetingSelf = args.length < 3 || args[0] === self || args[0] === self.eventBusEl_;\n    var target;\n    var type;\n    var listener;\n\n    if (isTargetingSelf) {\n      target = self.eventBusEl_; // Deal with cases where we got 3 arguments, but we are still listening to\n      // the evented object itself.\n\n      if (args.length >= 3) {\n        args.shift();\n      }\n\n      type = args[0];\n      listener = args[1];\n    } else {\n      target = args[0];\n      type = args[1];\n      listener = args[2];\n    }\n\n    validateTarget(target);\n    validateEventType(type);\n    validateListener(listener);\n    listener = bind(self, listener);\n    return {\n      isTargetingSelf: isTargetingSelf,\n      target: target,\n      type: type,\n      listener: listener\n    };\n  };\n  /**\n   * Adds the listener to the event type(s) on the target, normalizing for\n   * the type of target.\n   *\n   * @private\n   * @param  {Element|Object} target\n   *         A DOM node or evented object.\n   *\n   * @param  {string} method\n   *         The event binding method to use (\"on\" or \"one\").\n   *\n   * @param  {string|Array} type\n   *         One or more event type(s).\n   *\n   * @param  {Function} listener\n   *         A listener function.\n   */\n\n\n  var listen = function listen(target, method, type, listener) {\n    validateTarget(target);\n\n    if (target.nodeName) {\n      Events[method](target, type, listener);\n    } else {\n      target[method](type, listener);\n    }\n  };\n  /**\n   * Contains methods that provide event capabilities to an object which is passed\n   * to {@link module:evented|evented}.\n   *\n   * @mixin EventedMixin\n   */\n\n\n  var EventedMixin = {\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    on: function on$$1() {\n      var _this = this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var _normalizeListenArgs = normalizeListenArgs(this, args),\n          isTargetingSelf = _normalizeListenArgs.isTargetingSelf,\n          target = _normalizeListenArgs.target,\n          type = _normalizeListenArgs.type,\n          listener = _normalizeListenArgs.listener;\n\n      listen(target, 'on', type, listener); // If this object is listening to another evented object.\n\n      if (!isTargetingSelf) {\n        // If this object is disposed, remove the listener.\n        var removeListenerOnDispose = function removeListenerOnDispose() {\n          return _this.off(target, type, listener);\n        }; // Use the same function ID as the listener so we can remove it later it\n        // using the ID of the original listener.\n\n\n        removeListenerOnDispose.guid = listener.guid; // Add a listener to the target's dispose event as well. This ensures\n        // that if the target is disposed BEFORE this object, we remove the\n        // removal listener that was just added. Otherwise, we create a memory leak.\n\n        var removeRemoverOnTargetDispose = function removeRemoverOnTargetDispose() {\n          return _this.off('dispose', removeListenerOnDispose);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        removeRemoverOnTargetDispose.guid = listener.guid;\n        listen(this, 'on', 'dispose', removeListenerOnDispose);\n        listen(target, 'on', 'dispose', removeRemoverOnTargetDispose);\n      }\n    },\n\n    /**\n     * Add a listener to an event (or events) on this object or another evented\n     * object. The listener will only be called once and then removed.\n     *\n     * @param  {string|Array|Element|Object} targetOrType\n     *         If this is a string or array, it represents the event type(s)\n     *         that will trigger the listener.\n     *\n     *         Another evented object can be passed here instead, which will\n     *         cause the listener to listen for events on _that_ object.\n     *\n     *         In either case, the listener's `this` value will be bound to\n     *         this object.\n     *\n     * @param  {string|Array|Function} typeOrListener\n     *         If the first argument was a string or array, this should be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function.\n     */\n    one: function one$$1() {\n      var _this2 = this;\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var _normalizeListenArgs2 = normalizeListenArgs(this, args),\n          isTargetingSelf = _normalizeListenArgs2.isTargetingSelf,\n          target = _normalizeListenArgs2.target,\n          type = _normalizeListenArgs2.type,\n          listener = _normalizeListenArgs2.listener; // Targeting this evented object.\n\n\n      if (isTargetingSelf) {\n        listen(target, 'one', type, listener); // Targeting another evented object.\n      } else {\n        var wrapper = function wrapper() {\n          _this2.off(target, type, wrapper);\n\n          for (var _len3 = arguments.length, largs = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            largs[_key3] = arguments[_key3];\n          }\n\n          listener.apply(null, largs);\n        }; // Use the same function ID as the listener so we can remove it later\n        // it using the ID of the original listener.\n\n\n        wrapper.guid = listener.guid;\n        listen(target, 'one', type, wrapper);\n      }\n    },\n\n    /**\n     * Removes listener(s) from event(s) on an evented object.\n     *\n     * @param  {string|Array|Element|Object} [targetOrType]\n     *         If this is a string or array, it represents the event type(s).\n     *\n     *         Another evented object can be passed here instead, in which case\n     *         ALL 3 arguments are _required_.\n     *\n     * @param  {string|Array|Function} [typeOrListener]\n     *         If the first argument was a string or array, this may be the\n     *         listener function. Otherwise, this is a string or array of event\n     *         type(s).\n     *\n     * @param  {Function} [listener]\n     *         If the first argument was another evented object, this will be\n     *         the listener function; otherwise, _all_ listeners bound to the\n     *         event type(s) will be removed.\n     */\n    off: function off$$1(targetOrType, typeOrListener, listener) {\n      // Targeting this evented object.\n      if (!targetOrType || isValidEventType(targetOrType)) {\n        off(this.eventBusEl_, targetOrType, typeOrListener); // Targeting another evented object.\n      } else {\n        var target = targetOrType;\n        var type = typeOrListener; // Fail fast and in a meaningful way!\n\n        validateTarget(target);\n        validateEventType(type);\n        validateListener(listener); // Ensure there's at least a guid, even if the function hasn't been used\n\n        listener = bind(this, listener); // Remove the dispose listener on this evented object, which was given\n        // the same guid as the event listener in on().\n\n        this.off('dispose', listener);\n\n        if (target.nodeName) {\n          off(target, type, listener);\n          off(target, 'dispose', listener);\n        } else if (isEvented(target)) {\n          target.off(type, listener);\n          target.off('dispose', listener);\n        }\n      }\n    },\n\n    /**\n     * Fire an event on this evented object, causing its listeners to be called.\n     *\n     * @param   {string|Object} event\n     *          An event type or an object with a type property.\n     *\n     * @param   {Object} [hash]\n     *          An additional object to pass along to listeners.\n     *\n     * @return {boolean}\n     *          Whether or not the default behavior was prevented.\n     */\n    trigger: function trigger$$1(event, hash) {\n      return trigger(this.eventBusEl_, event, hash);\n    }\n  };\n  /**\n   * Applies {@link module:evented~EventedMixin|EventedMixin} to a target object.\n   *\n   * @param  {Object} target\n   *         The object to which to add event methods.\n   *\n   * @param  {Object} [options={}]\n   *         Options for customizing the mixin behavior.\n   *\n   * @param  {string} [options.eventBusKey]\n   *         By default, adds a `eventBusEl_` DOM element to the target object,\n   *         which is used as an event bus. If the target object already has a\n   *         DOM element that should be used, pass its key here.\n   *\n   * @return {Object}\n   *         The target object.\n   */\n\n  function evented(target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        eventBusKey = _options.eventBusKey; // Set or create the eventBusEl_.\n\n    if (eventBusKey) {\n      if (!target[eventBusKey].nodeName) {\n        throw new Error(\"The eventBusKey \\\"\" + eventBusKey + \"\\\" does not refer to an element.\");\n      }\n\n      target.eventBusEl_ = target[eventBusKey];\n    } else {\n      target.eventBusEl_ = createEl('span', {\n        className: 'vjs-event-bus'\n      });\n    }\n\n    assign(target, EventedMixin);\n\n    if (target.eventedCallbacks) {\n      target.eventedCallbacks.forEach(function (callback) {\n        callback();\n      });\n    } // When any evented object is disposed, it removes all its listeners.\n\n\n    target.on('dispose', function () {\n      target.off();\n      window$1.setTimeout(function () {\n        target.eventBusEl_ = null;\n      }, 0);\n    });\n    return target;\n  }\n\n  /**\n   * @file mixins/stateful.js\n   * @module stateful\n   */\n  /**\n   * Contains methods that provide statefulness to an object which is passed\n   * to {@link module:stateful}.\n   *\n   * @mixin StatefulMixin\n   */\n\n  var StatefulMixin = {\n    /**\n     * A hash containing arbitrary keys and values representing the state of\n     * the object.\n     *\n     * @type {Object}\n     */\n    state: {},\n\n    /**\n     * Set the state of an object by mutating its\n     * {@link module:stateful~StatefulMixin.state|state} object in place.\n     *\n     * @fires   module:stateful~StatefulMixin#statechanged\n     * @param   {Object|Function} stateUpdates\n     *          A new set of properties to shallow-merge into the plugin state.\n     *          Can be a plain object or a function returning a plain object.\n     *\n     * @return {Object|undefined}\n     *          An object containing changes that occurred. If no changes\n     *          occurred, returns `undefined`.\n     */\n    setState: function setState(stateUpdates) {\n      var _this = this;\n\n      // Support providing the `stateUpdates` state as a function.\n      if (typeof stateUpdates === 'function') {\n        stateUpdates = stateUpdates();\n      }\n\n      var changes;\n      each(stateUpdates, function (value, key) {\n        // Record the change if the value is different from what's in the\n        // current state.\n        if (_this.state[key] !== value) {\n          changes = changes || {};\n          changes[key] = {\n            from: _this.state[key],\n            to: value\n          };\n        }\n\n        _this.state[key] = value;\n      }); // Only trigger \"statechange\" if there were changes AND we have a trigger\n      // function. This allows us to not require that the target object be an\n      // evented object.\n\n      if (changes && isEvented(this)) {\n        /**\n         * An event triggered on an object that is both\n         * {@link module:stateful|stateful} and {@link module:evented|evented}\n         * indicating that its state has changed.\n         *\n         * @event    module:stateful~StatefulMixin#statechanged\n         * @type     {Object}\n         * @property {Object} changes\n         *           A hash containing the properties that were changed and\n         *           the values they were changed `from` and `to`.\n         */\n        this.trigger({\n          changes: changes,\n          type: 'statechanged'\n        });\n      }\n\n      return changes;\n    }\n  };\n  /**\n   * Applies {@link module:stateful~StatefulMixin|StatefulMixin} to a target\n   * object.\n   *\n   * If the target object is {@link module:evented|evented} and has a\n   * `handleStateChanged` method, that method will be automatically bound to the\n   * `statechanged` event on itself.\n   *\n   * @param   {Object} target\n   *          The object to be made stateful.\n   *\n   * @param   {Object} [defaultState]\n   *          A default set of properties to populate the newly-stateful object's\n   *          `state` property.\n   *\n   * @return {Object}\n   *          Returns the `target`.\n   */\n\n  function stateful(target, defaultState) {\n    assign(target, StatefulMixin); // This happens after the mixing-in because we need to replace the `state`\n    // added in that step.\n\n    target.state = assign({}, target.state, defaultState); // Auto-bind the `handleStateChanged` method of the target object if it exists.\n\n    if (typeof target.handleStateChanged === 'function' && isEvented(target)) {\n      target.on('statechanged', target.handleStateChanged);\n    }\n\n    return target;\n  }\n\n  /**\n   * @file to-title-case.js\n   * @module to-title-case\n   */\n\n  /**\n   * Uppercase the first letter of a string.\n   *\n   * @param {string} string\n   *        String to be uppercased\n   *\n   * @return {string}\n   *         The string with an uppercased first letter\n   */\n  function toTitleCase(string) {\n    if (typeof string !== 'string') {\n      return string;\n    }\n\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n  /**\n   * Compares the TitleCase versions of the two strings for equality.\n   *\n   * @param {string} str1\n   *        The first string to compare\n   *\n   * @param {string} str2\n   *        The second string to compare\n   *\n   * @return {boolean}\n   *         Whether the TitleCase versions of the strings are equal\n   */\n\n  function titleCaseEquals(str1, str2) {\n    return toTitleCase(str1) === toTitleCase(str2);\n  }\n\n  /**\n   * @file merge-options.js\n   * @module merge-options\n   */\n  /**\n   * Merge two objects recursively.\n   *\n   * Performs a deep merge like\n   * {@link https://lodash.com/docs/4.17.10#merge|lodash.merge}, but only merges\n   * plain objects (not arrays, elements, or anything else).\n   *\n   * Non-plain object values will be copied directly from the right-most\n   * argument.\n   *\n   * @static\n   * @param   {Object[]} sources\n   *          One or more objects to merge into a new object.\n   *\n   * @return {Object}\n   *          A new object that is the merged result of all sources.\n   */\n\n  function mergeOptions() {\n    var result = {};\n\n    for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n      sources[_key] = arguments[_key];\n    }\n\n    sources.forEach(function (source) {\n      if (!source) {\n        return;\n      }\n\n      each(source, function (value, key) {\n        if (!isPlain(value)) {\n          result[key] = value;\n          return;\n        }\n\n        if (!isPlain(result[key])) {\n          result[key] = {};\n        }\n\n        result[key] = mergeOptions(result[key], value);\n      });\n    });\n    return result;\n  }\n\n  /**\n   * Player Component - Base class for all UI objects\n   *\n   * @file component.js\n   */\n  /**\n   * Base class for all UI Components.\n   * Components are UI objects which represent both a javascript object and an element\n   * in the DOM. They can be children of other components, and can have\n   * children themselves.\n   *\n   * Components can also use methods from {@link EventTarget}\n   */\n\n  var Component =\n  /*#__PURE__*/\n  function () {\n    /**\n     * A callback that is called when a component is ready. Does not have any\n     * paramters and any callback value will be ignored.\n     *\n     * @callback Component~ReadyCallback\n     * @this Component\n     */\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Object[]} [options.children]\n     *        An array of children objects to intialize this component with. Children objects have\n     *        a name property that will be used if more than one component of the same type needs to be\n     *        added.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        Function that gets called when the `Component` is ready.\n     */\n    function Component(player, options, ready) {\n      // The component might be the player itself and we can't pass `this` to super\n      if (!player && this.play) {\n        this.player_ = player = this; // eslint-disable-line\n      } else {\n        this.player_ = player;\n      } // Hold the reference to the parent component via `addChild` method\n\n\n      this.parentComponent_ = null; // Make a copy of prototype.options_ to protect against overriding defaults\n\n      this.options_ = mergeOptions({}, this.options_); // Updated options with supplied options\n\n      options = this.options_ = mergeOptions(this.options_, options); // Get ID from options or options element if one is supplied\n\n      this.id_ = options.id || options.el && options.el.id; // If there was no ID from the options, generate one\n\n      if (!this.id_) {\n        // Don't require the player ID function in the case of mock players\n        var id = player && player.id && player.id() || 'no_player';\n        this.id_ = id + \"_component_\" + newGUID();\n      }\n\n      this.name_ = options.name || null; // Create element if one wasn't provided in options\n\n      if (options.el) {\n        this.el_ = options.el;\n      } else if (options.createEl !== false) {\n        this.el_ = this.createEl();\n      } // if evented is anything except false, we want to mixin in evented\n\n\n      if (options.evented !== false) {\n        // Make this an evented object and use `el_`, if available, as its event bus\n        evented(this, {\n          eventBusKey: this.el_ ? 'el_' : null\n        });\n      }\n\n      stateful(this, this.constructor.defaultState);\n      this.children_ = [];\n      this.childIndex_ = {};\n      this.childNameIndex_ = {}; // Add any child components in options\n\n      if (options.initChildren !== false) {\n        this.initChildren();\n      }\n\n      this.ready(ready); // Don't want to trigger ready here or it will before init is actually\n      // finished for all children that run this constructor\n\n      if (options.reportTouchActivity !== false) {\n        this.enableTouchActivity();\n      }\n    }\n    /**\n     * Dispose of the `Component` and all child components.\n     *\n     * @fires Component#dispose\n     */\n\n\n    var _proto = Component.prototype;\n\n    _proto.dispose = function dispose() {\n      /**\n       * Triggered when a `Component` is disposed.\n       *\n       * @event Component#dispose\n       * @type {EventTarget~Event}\n       *\n       * @property {boolean} [bubbles=false]\n       *           set to false so that the close event does not\n       *           bubble up\n       */\n      this.trigger({\n        type: 'dispose',\n        bubbles: false\n      }); // Dispose all children.\n\n      if (this.children_) {\n        for (var i = this.children_.length - 1; i >= 0; i--) {\n          if (this.children_[i].dispose) {\n            this.children_[i].dispose();\n          }\n        }\n      } // Delete child references\n\n\n      this.children_ = null;\n      this.childIndex_ = null;\n      this.childNameIndex_ = null;\n      this.parentComponent_ = null;\n\n      if (this.el_) {\n        // Remove element from DOM\n        if (this.el_.parentNode) {\n          this.el_.parentNode.removeChild(this.el_);\n        }\n\n        removeData(this.el_);\n        this.el_ = null;\n      } // remove reference to the player after disposing of the element\n\n\n      this.player_ = null;\n    }\n    /**\n     * Return the {@link Player} that the `Component` has attached to.\n     *\n     * @return {Player}\n     *         The player that this `Component` has attached to.\n     */\n    ;\n\n    _proto.player = function player() {\n      return this.player_;\n    }\n    /**\n     * Deep merge of options objects with new options.\n     * > Note: When both `obj` and `options` contain properties whose values are objects.\n     *         The two properties get merged using {@link module:mergeOptions}\n     *\n     * @param {Object} obj\n     *        The object that contains new options.\n     *\n     * @return {Object}\n     *         A new object of `this.options_` and `obj` merged together.\n     *\n     * @deprecated since version 5\n     */\n    ;\n\n    _proto.options = function options(obj) {\n      log.warn('this.options() has been deprecated and will be moved to the constructor in 6.0');\n\n      if (!obj) {\n        return this.options_;\n      }\n\n      this.options_ = mergeOptions(this.options_, obj);\n      return this.options_;\n    }\n    /**\n     * Get the `Component`s DOM element\n     *\n     * @return {Element}\n     *         The DOM element for this `Component`.\n     */\n    ;\n\n    _proto.el = function el() {\n      return this.el_;\n    }\n    /**\n     * Create the `Component`s DOM element.\n     *\n     * @param {string} [tagName]\n     *        Element's DOM node type. e.g. 'div'\n     *\n     * @param {Object} [properties]\n     *        An object of properties that should be set.\n     *\n     * @param {Object} [attributes]\n     *        An object of attributes that should be set.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1(tagName, properties, attributes) {\n      return createEl(tagName, properties, attributes);\n    }\n    /**\n     * Localize a string given the string in english.\n     *\n     * If tokens are provided, it'll try and run a simple token replacement on the provided string.\n     * The tokens it looks for look like `{1}` with the index being 1-indexed into the tokens array.\n     *\n     * If a `defaultValue` is provided, it'll use that over `string`,\n     * if a value isn't found in provided language files.\n     * This is useful if you want to have a descriptive key for token replacement\n     * but have a succinct localized string and not require `en.json` to be included.\n     *\n     * Currently, it is used for the progress bar timing.\n     * ```js\n     * {\n     *   \"progress bar timing: currentTime={1} duration={2}\": \"{1} of {2}\"\n     * }\n     * ```\n     * It is then used like so:\n     * ```js\n     * this.localize('progress bar timing: currentTime={1} duration{2}',\n     *               [this.player_.currentTime(), this.player_.duration()],\n     *               '{1} of {2}');\n     * ```\n     *\n     * Which outputs something like: `01:23 of 24:56`.\n     *\n     *\n     * @param {string} string\n     *        The string to localize and the key to lookup in the language files.\n     * @param {string[]} [tokens]\n     *        If the current item has token replacements, provide the tokens here.\n     * @param {string} [defaultValue]\n     *        Defaults to `string`. Can be a default value to use for token replacement\n     *        if the lookup key is needed to be separate.\n     *\n     * @return {string}\n     *         The localized string or if no localization exists the english string.\n     */\n    ;\n\n    _proto.localize = function localize(string, tokens, defaultValue) {\n      if (defaultValue === void 0) {\n        defaultValue = string;\n      }\n\n      var code = this.player_.language && this.player_.language();\n      var languages = this.player_.languages && this.player_.languages();\n      var language = languages && languages[code];\n      var primaryCode = code && code.split('-')[0];\n      var primaryLang = languages && languages[primaryCode];\n      var localizedString = defaultValue;\n\n      if (language && language[string]) {\n        localizedString = language[string];\n      } else if (primaryLang && primaryLang[string]) {\n        localizedString = primaryLang[string];\n      }\n\n      if (tokens) {\n        localizedString = localizedString.replace(/\\{(\\d+)\\}/g, function (match, index) {\n          var value = tokens[index - 1];\n          var ret = value;\n\n          if (typeof value === 'undefined') {\n            ret = match;\n          }\n\n          return ret;\n        });\n      }\n\n      return localizedString;\n    }\n    /**\n     * Return the `Component`s DOM element. This is where children get inserted.\n     * This will usually be the the same as the element returned in {@link Component#el}.\n     *\n     * @return {Element}\n     *         The content element for this `Component`.\n     */\n    ;\n\n    _proto.contentEl = function contentEl() {\n      return this.contentEl_ || this.el_;\n    }\n    /**\n     * Get this `Component`s ID\n     *\n     * @return {string}\n     *         The id of this `Component`\n     */\n    ;\n\n    _proto.id = function id() {\n      return this.id_;\n    }\n    /**\n     * Get the `Component`s name. The name gets used to reference the `Component`\n     * and is set during registration.\n     *\n     * @return {string}\n     *         The name of this `Component`.\n     */\n    ;\n\n    _proto.name = function name() {\n      return this.name_;\n    }\n    /**\n     * Get an array of all child components\n     *\n     * @return {Array}\n     *         The children\n     */\n    ;\n\n    _proto.children = function children() {\n      return this.children_;\n    }\n    /**\n     * Returns the child `Component` with the given `id`.\n     *\n     * @param {string} id\n     *        The id of the child `Component` to get.\n     *\n     * @return {Component|undefined}\n     *         The child `Component` with the given `id` or undefined.\n     */\n    ;\n\n    _proto.getChildById = function getChildById(id) {\n      return this.childIndex_[id];\n    }\n    /**\n     * Returns the child `Component` with the given `name`.\n     *\n     * @param {string} name\n     *        The name of the child `Component` to get.\n     *\n     * @return {Component|undefined}\n     *         The child `Component` with the given `name` or undefined.\n     */\n    ;\n\n    _proto.getChild = function getChild(name) {\n      if (!name) {\n        return;\n      }\n\n      name = toTitleCase(name);\n      return this.childNameIndex_[name];\n    }\n    /**\n     * Add a child `Component` inside the current `Component`.\n     *\n     *\n     * @param {string|Component} child\n     *        The name or instance of a child to add.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of options that will get passed to children of\n     *        the child.\n     *\n     * @param {number} [index=this.children_.length]\n     *        The index to attempt to add a child into.\n     *\n     * @return {Component}\n     *         The `Component` that gets added as a child. When using a string the\n     *         `Component` will get created by this process.\n     */\n    ;\n\n    _proto.addChild = function addChild(child, options, index) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (index === void 0) {\n        index = this.children_.length;\n      }\n\n      var component;\n      var componentName; // If child is a string, create component with options\n\n      if (typeof child === 'string') {\n        componentName = toTitleCase(child);\n        var componentClassName = options.componentClass || componentName; // Set name through options\n\n        options.name = componentName; // Create a new object & element for this controls set\n        // If there's no .player_, this is a player\n\n        var ComponentClass = Component.getComponent(componentClassName);\n\n        if (!ComponentClass) {\n          throw new Error(\"Component \" + componentClassName + \" does not exist\");\n        } // data stored directly on the videojs object may be\n        // misidentified as a component to retain\n        // backwards-compatibility with 4.x. check to make sure the\n        // component class can be instantiated.\n\n\n        if (typeof ComponentClass !== 'function') {\n          return null;\n        }\n\n        component = new ComponentClass(this.player_ || this, options); // child is a component instance\n      } else {\n        component = child;\n      }\n\n      if (component.parentComponent_) {\n        component.parentComponent_.removeChild(component);\n      }\n\n      this.children_.splice(index, 0, component);\n      component.parentComponent_ = this;\n\n      if (typeof component.id === 'function') {\n        this.childIndex_[component.id()] = component;\n      } // If a name wasn't used to create the component, check if we can use the\n      // name function of the component\n\n\n      componentName = componentName || component.name && toTitleCase(component.name());\n\n      if (componentName) {\n        this.childNameIndex_[componentName] = component;\n      } // Add the UI object's element to the container div (box)\n      // Having an element is not required\n\n\n      if (typeof component.el === 'function' && component.el()) {\n        var childNodes = this.contentEl().children;\n        var refNode = childNodes[index] || null;\n        this.contentEl().insertBefore(component.el(), refNode);\n      } // Return so it can stored on parent object if desired.\n\n\n      return component;\n    }\n    /**\n     * Remove a child `Component` from this `Component`s list of children. Also removes\n     * the child `Component`s element from this `Component`s element.\n     *\n     * @param {Component} component\n     *        The child `Component` to remove.\n     */\n    ;\n\n    _proto.removeChild = function removeChild(component) {\n      if (typeof component === 'string') {\n        component = this.getChild(component);\n      }\n\n      if (!component || !this.children_) {\n        return;\n      }\n\n      var childFound = false;\n\n      for (var i = this.children_.length - 1; i >= 0; i--) {\n        if (this.children_[i] === component) {\n          childFound = true;\n          this.children_.splice(i, 1);\n          break;\n        }\n      }\n\n      if (!childFound) {\n        return;\n      }\n\n      component.parentComponent_ = null;\n      this.childIndex_[component.id()] = null;\n      this.childNameIndex_[component.name()] = null;\n      var compEl = component.el();\n\n      if (compEl && compEl.parentNode === this.contentEl()) {\n        this.contentEl().removeChild(component.el());\n      }\n    }\n    /**\n     * Add and initialize default child `Component`s based upon options.\n     */\n    ;\n\n    _proto.initChildren = function initChildren() {\n      var _this = this;\n\n      var children = this.options_.children;\n\n      if (children) {\n        // `this` is `parent`\n        var parentOptions = this.options_;\n\n        var handleAdd = function handleAdd(child) {\n          var name = child.name;\n          var opts = child.opts; // Allow options for children to be set at the parent options\n          // e.g. videojs(id, { controlBar: false });\n          // instead of videojs(id, { children: { controlBar: false });\n\n          if (parentOptions[name] !== undefined) {\n            opts = parentOptions[name];\n          } // Allow for disabling default components\n          // e.g. options['children']['posterImage'] = false\n\n\n          if (opts === false) {\n            return;\n          } // Allow options to be passed as a simple boolean if no configuration\n          // is necessary.\n\n\n          if (opts === true) {\n            opts = {};\n          } // We also want to pass the original player options\n          // to each component as well so they don't need to\n          // reach back into the player for options later.\n\n\n          opts.playerOptions = _this.options_.playerOptions; // Create and add the child component.\n          // Add a direct reference to the child by name on the parent instance.\n          // If two of the same component are used, different names should be supplied\n          // for each\n\n          var newChild = _this.addChild(name, opts);\n\n          if (newChild) {\n            _this[name] = newChild;\n          }\n        }; // Allow for an array of children details to passed in the options\n\n\n        var workingChildren;\n        var Tech = Component.getComponent('Tech');\n\n        if (Array.isArray(children)) {\n          workingChildren = children;\n        } else {\n          workingChildren = Object.keys(children);\n        }\n\n        workingChildren // children that are in this.options_ but also in workingChildren  would\n        // give us extra children we do not want. So, we want to filter them out.\n        .concat(Object.keys(this.options_).filter(function (child) {\n          return !workingChildren.some(function (wchild) {\n            if (typeof wchild === 'string') {\n              return child === wchild;\n            }\n\n            return child === wchild.name;\n          });\n        })).map(function (child) {\n          var name;\n          var opts;\n\n          if (typeof child === 'string') {\n            name = child;\n            opts = children[name] || _this.options_[name] || {};\n          } else {\n            name = child.name;\n            opts = child;\n          }\n\n          return {\n            name: name,\n            opts: opts\n          };\n        }).filter(function (child) {\n          // we have to make sure that child.name isn't in the techOrder since\n          // techs are registerd as Components but can't aren't compatible\n          // See https://github.com/videojs/video.js/issues/2772\n          var c = Component.getComponent(child.opts.componentClass || toTitleCase(child.name));\n          return c && !Tech.isTech(c);\n        }).forEach(handleAdd);\n      }\n    }\n    /**\n     * Builds the default DOM class name. Should be overriden by sub-components.\n     *\n     * @return {string}\n     *         The DOM class name for this object.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      // Child classes can include a function that does:\n      // return 'CLASS NAME' + this._super();\n      return '';\n    }\n    /**\n     * Bind a listener to the component's ready state.\n     * Different from event listeners in that if the ready event has already happened\n     * it will trigger the function immediately.\n     *\n     * @return {Component}\n     *         Returns itself; method can be chained.\n     */\n    ;\n\n    _proto.ready = function ready(fn, sync) {\n      if (sync === void 0) {\n        sync = false;\n      }\n\n      if (!fn) {\n        return;\n      }\n\n      if (!this.isReady_) {\n        this.readyQueue_ = this.readyQueue_ || [];\n        this.readyQueue_.push(fn);\n        return;\n      }\n\n      if (sync) {\n        fn.call(this);\n      } else {\n        // Call the function asynchronously by default for consistency\n        this.setTimeout(fn, 1);\n      }\n    }\n    /**\n     * Trigger all the ready listeners for this `Component`.\n     *\n     * @fires Component#ready\n     */\n    ;\n\n    _proto.triggerReady = function triggerReady() {\n      this.isReady_ = true; // Ensure ready is triggered asynchronously\n\n      this.setTimeout(function () {\n        var readyQueue = this.readyQueue_; // Reset Ready Queue\n\n        this.readyQueue_ = [];\n\n        if (readyQueue && readyQueue.length > 0) {\n          readyQueue.forEach(function (fn) {\n            fn.call(this);\n          }, this);\n        } // Allow for using event listeners also\n\n        /**\n         * Triggered when a `Component` is ready.\n         *\n         * @event Component#ready\n         * @type {EventTarget~Event}\n         */\n\n\n        this.trigger('ready');\n      }, 1);\n    }\n    /**\n     * Find a single DOM element matching a `selector`. This can be within the `Component`s\n     * `contentEl()` or another custom context.\n     *\n     * @param {string} selector\n     *        A valid CSS selector, which will be passed to `querySelector`.\n     *\n     * @param {Element|string} [context=this.contentEl()]\n     *        A DOM element within which to query. Can also be a selector string in\n     *        which case the first matching element will get used as context. If\n     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n     *        nothing it falls back to `document`.\n     *\n     * @return {Element|null}\n     *         the dom element that was found, or null\n     *\n     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n     */\n    ;\n\n    _proto.$ = function $$$1(selector, context) {\n      return $(selector, context || this.contentEl());\n    }\n    /**\n     * Finds all DOM element matching a `selector`. This can be within the `Component`s\n     * `contentEl()` or another custom context.\n     *\n     * @param {string} selector\n     *        A valid CSS selector, which will be passed to `querySelectorAll`.\n     *\n     * @param {Element|string} [context=this.contentEl()]\n     *        A DOM element within which to query. Can also be a selector string in\n     *        which case the first matching element will get used as context. If\n     *        missing `this.contentEl()` gets used. If  `this.contentEl()` returns\n     *        nothing it falls back to `document`.\n     *\n     * @return {NodeList}\n     *         a list of dom elements that were found\n     *\n     * @see [Information on CSS Selectors](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Getting_Started/Selectors)\n     */\n    ;\n\n    _proto.$$ = function $$$$1(selector, context) {\n      return $$(selector, context || this.contentEl());\n    }\n    /**\n     * Check if a component's element has a CSS class name.\n     *\n     * @param {string} classToCheck\n     *        CSS class name to check.\n     *\n     * @return {boolean}\n     *         - True if the `Component` has the class.\n     *         - False if the `Component` does not have the class`\n     */\n    ;\n\n    _proto.hasClass = function hasClass$$1(classToCheck) {\n      return hasClass(this.el_, classToCheck);\n    }\n    /**\n     * Add a CSS class name to the `Component`s element.\n     *\n     * @param {string} classToAdd\n     *        CSS class name to add\n     */\n    ;\n\n    _proto.addClass = function addClass$$1(classToAdd) {\n      addClass(this.el_, classToAdd);\n    }\n    /**\n     * Remove a CSS class name from the `Component`s element.\n     *\n     * @param {string} classToRemove\n     *        CSS class name to remove\n     */\n    ;\n\n    _proto.removeClass = function removeClass$$1(classToRemove) {\n      removeClass(this.el_, classToRemove);\n    }\n    /**\n     * Add or remove a CSS class name from the component's element.\n     * - `classToToggle` gets added when {@link Component#hasClass} would return false.\n     * - `classToToggle` gets removed when {@link Component#hasClass} would return true.\n     *\n     * @param  {string} classToToggle\n     *         The class to add or remove based on (@link Component#hasClass}\n     *\n     * @param  {boolean|Dom~predicate} [predicate]\n     *         An {@link Dom~predicate} function or a boolean\n     */\n    ;\n\n    _proto.toggleClass = function toggleClass$$1(classToToggle, predicate) {\n      toggleClass(this.el_, classToToggle, predicate);\n    }\n    /**\n     * Show the `Component`s element if it is hidden by removing the\n     * 'vjs-hidden' class name from it.\n     */\n    ;\n\n    _proto.show = function show() {\n      this.removeClass('vjs-hidden');\n    }\n    /**\n     * Hide the `Component`s element if it is currently showing by adding the\n     * 'vjs-hidden` class name to it.\n     */\n    ;\n\n    _proto.hide = function hide() {\n      this.addClass('vjs-hidden');\n    }\n    /**\n     * Lock a `Component`s element in its visible state by adding the 'vjs-lock-showing'\n     * class name to it. Used during fadeIn/fadeOut.\n     *\n     * @private\n     */\n    ;\n\n    _proto.lockShowing = function lockShowing() {\n      this.addClass('vjs-lock-showing');\n    }\n    /**\n     * Unlock a `Component`s element from its visible state by removing the 'vjs-lock-showing'\n     * class name from it. Used during fadeIn/fadeOut.\n     *\n     * @private\n     */\n    ;\n\n    _proto.unlockShowing = function unlockShowing() {\n      this.removeClass('vjs-lock-showing');\n    }\n    /**\n     * Get the value of an attribute on the `Component`s element.\n     *\n     * @param {string} attribute\n     *        Name of the attribute to get the value from.\n     *\n     * @return {string|null}\n     *         - The value of the attribute that was asked for.\n     *         - Can be an empty string on some browsers if the attribute does not exist\n     *           or has no value\n     *         - Most browsers will return null if the attibute does not exist or has\n     *           no value.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute}\n     */\n    ;\n\n    _proto.getAttribute = function getAttribute$$1(attribute) {\n      return getAttribute(this.el_, attribute);\n    }\n    /**\n     * Set the value of an attribute on the `Component`'s element\n     *\n     * @param {string} attribute\n     *        Name of the attribute to set.\n     *\n     * @param {string} value\n     *        Value to set the attribute to.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute}\n     */\n    ;\n\n    _proto.setAttribute = function setAttribute$$1(attribute, value) {\n      setAttribute(this.el_, attribute, value);\n    }\n    /**\n     * Remove an attribute from the `Component`s element.\n     *\n     * @param {string} attribute\n     *        Name of the attribute to remove.\n     *\n     * @see [DOM API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute}\n     */\n    ;\n\n    _proto.removeAttribute = function removeAttribute$$1(attribute) {\n      removeAttribute(this.el_, attribute);\n    }\n    /**\n     * Get or set the width of the component based upon the CSS styles.\n     * See {@link Component#dimension} for more detailed information.\n     *\n     * @param {number|string} [num]\n     *        The width that you want to set postfixed with '%', 'px' or nothing.\n     *\n     * @param {boolean} [skipListeners]\n     *        Skip the componentresize event trigger\n     *\n     * @return {number|string}\n     *         The width when getting, zero if there is no width. Can be a string\n     *           postpixed with '%' or 'px'.\n     */\n    ;\n\n    _proto.width = function width(num, skipListeners) {\n      return this.dimension('width', num, skipListeners);\n    }\n    /**\n     * Get or set the height of the component based upon the CSS styles.\n     * See {@link Component#dimension} for more detailed information.\n     *\n     * @param {number|string} [num]\n     *        The height that you want to set postfixed with '%', 'px' or nothing.\n     *\n     * @param {boolean} [skipListeners]\n     *        Skip the componentresize event trigger\n     *\n     * @return {number|string}\n     *         The width when getting, zero if there is no width. Can be a string\n     *         postpixed with '%' or 'px'.\n     */\n    ;\n\n    _proto.height = function height(num, skipListeners) {\n      return this.dimension('height', num, skipListeners);\n    }\n    /**\n     * Set both the width and height of the `Component` element at the same time.\n     *\n     * @param  {number|string} width\n     *         Width to set the `Component`s element to.\n     *\n     * @param  {number|string} height\n     *         Height to set the `Component`s element to.\n     */\n    ;\n\n    _proto.dimensions = function dimensions(width, height) {\n      // Skip componentresize listeners on width for optimization\n      this.width(width, true);\n      this.height(height);\n    }\n    /**\n     * Get or set width or height of the `Component` element. This is the shared code\n     * for the {@link Component#width} and {@link Component#height}.\n     *\n     * Things to know:\n     * - If the width or height in an number this will return the number postfixed with 'px'.\n     * - If the width/height is a percent this will return the percent postfixed with '%'\n     * - Hidden elements have a width of 0 with `window.getComputedStyle`. This function\n     *   defaults to the `Component`s `style.width` and falls back to `window.getComputedStyle`.\n     *   See [this]{@link http://www.foliotek.com/devblog/getting-the-width-of-a-hidden-element-with-jquery-using-width/}\n     *   for more information\n     * - If you want the computed style of the component, use {@link Component#currentWidth}\n     *   and {@link {Component#currentHeight}\n     *\n     * @fires Component#componentresize\n     *\n     * @param {string} widthOrHeight\n     8        'width' or 'height'\n     *\n     * @param  {number|string} [num]\n     8         New dimension\n     *\n     * @param  {boolean} [skipListeners]\n     *         Skip componentresize event trigger\n     *\n     * @return {number}\n     *         The dimension when getting or 0 if unset\n     */\n    ;\n\n    _proto.dimension = function dimension(widthOrHeight, num, skipListeners) {\n      if (num !== undefined) {\n        // Set to zero if null or literally NaN (NaN !== NaN)\n        if (num === null || num !== num) {\n          num = 0;\n        } // Check if using css width/height (% or px) and adjust\n\n\n        if (('' + num).indexOf('%') !== -1 || ('' + num).indexOf('px') !== -1) {\n          this.el_.style[widthOrHeight] = num;\n        } else if (num === 'auto') {\n          this.el_.style[widthOrHeight] = '';\n        } else {\n          this.el_.style[widthOrHeight] = num + 'px';\n        } // skipListeners allows us to avoid triggering the resize event when setting both width and height\n\n\n        if (!skipListeners) {\n          /**\n           * Triggered when a component is resized.\n           *\n           * @event Component#componentresize\n           * @type {EventTarget~Event}\n           */\n          this.trigger('componentresize');\n        }\n\n        return;\n      } // Not setting a value, so getting it\n      // Make sure element exists\n\n\n      if (!this.el_) {\n        return 0;\n      } // Get dimension value from style\n\n\n      var val = this.el_.style[widthOrHeight];\n      var pxIndex = val.indexOf('px');\n\n      if (pxIndex !== -1) {\n        // Return the pixel value with no 'px'\n        return parseInt(val.slice(0, pxIndex), 10);\n      } // No px so using % or no style was set, so falling back to offsetWidth/height\n      // If component has display:none, offset will return 0\n      // TODO: handle display:none and no dimension style using px\n\n\n      return parseInt(this.el_['offset' + toTitleCase(widthOrHeight)], 10);\n    }\n    /**\n     * Get the computed width or the height of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @param {string} widthOrHeight\n     *        A string containing 'width' or 'height'. Whichever one you want to get.\n     *\n     * @return {number}\n     *         The dimension that gets asked for or 0 if nothing was set\n     *         for that dimension.\n     */\n    ;\n\n    _proto.currentDimension = function currentDimension(widthOrHeight) {\n      var computedWidthOrHeight = 0;\n\n      if (widthOrHeight !== 'width' && widthOrHeight !== 'height') {\n        throw new Error('currentDimension only accepts width or height value');\n      }\n\n      if (typeof window$1.getComputedStyle === 'function') {\n        var computedStyle = window$1.getComputedStyle(this.el_);\n        computedWidthOrHeight = computedStyle.getPropertyValue(widthOrHeight) || computedStyle[widthOrHeight];\n      } // remove 'px' from variable and parse as integer\n\n\n      computedWidthOrHeight = parseFloat(computedWidthOrHeight); // if the computed value is still 0, it's possible that the browser is lying\n      // and we want to check the offset values.\n      // This code also runs wherever getComputedStyle doesn't exist.\n\n      if (computedWidthOrHeight === 0) {\n        var rule = \"offset\" + toTitleCase(widthOrHeight);\n        computedWidthOrHeight = this.el_[rule];\n      }\n\n      return computedWidthOrHeight;\n    }\n    /**\n     * An object that contains width and height values of the `Component`s\n     * computed style. Uses `window.getComputedStyle`.\n     *\n     * @typedef {Object} Component~DimensionObject\n     *\n     * @property {number} width\n     *           The width of the `Component`s computed style.\n     *\n     * @property {number} height\n     *           The height of the `Component`s computed style.\n     */\n\n    /**\n     * Get an object that contains computed width and height values of the\n     * component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {Component~DimensionObject}\n     *         The computed dimensions of the component's element.\n     */\n    ;\n\n    _proto.currentDimensions = function currentDimensions() {\n      return {\n        width: this.currentDimension('width'),\n        height: this.currentDimension('height')\n      };\n    }\n    /**\n     * Get the computed width of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {number}\n     *         The computed width of the component's element.\n     */\n    ;\n\n    _proto.currentWidth = function currentWidth() {\n      return this.currentDimension('width');\n    }\n    /**\n     * Get the computed height of the component's element.\n     *\n     * Uses `window.getComputedStyle`.\n     *\n     * @return {number}\n     *         The computed height of the component's element.\n     */\n    ;\n\n    _proto.currentHeight = function currentHeight() {\n      return this.currentDimension('height');\n    }\n    /**\n     * Set the focus to this component\n     */\n    ;\n\n    _proto.focus = function focus() {\n      this.el_.focus();\n    }\n    /**\n     * Remove the focus from this component\n     */\n    ;\n\n    _proto.blur = function blur() {\n      this.el_.blur();\n    }\n    /**\n     * When this Component receives a `keydown` event which it does not process,\n     *  it passes the event to the Player for handling.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (this.player_) {\n        // We only stop propagation here because we want unhandled events to fall\n        // back to the browser.\n        event.stopPropagation();\n        this.player_.handleKeyDown(event);\n      }\n    }\n    /**\n     * Many components used to have a `handleKeyPress` method, which was poorly\n     * named because it listened to a `keydown` event. This method name now\n     * delegates to `handleKeyDown`. This means anyone calling `handleKeyPress`\n     * will not see their method calls stop working.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleKeyPress = function handleKeyPress(event) {\n      this.handleKeyDown(event);\n    }\n    /**\n     * Emit a 'tap' events when touch event support gets detected. This gets used to\n     * support toggling the controls through a tap on the video. They get enabled\n     * because every sub-component would have extra overhead otherwise.\n     *\n     * @private\n     * @fires Component#tap\n     * @listens Component#touchstart\n     * @listens Component#touchmove\n     * @listens Component#touchleave\n     * @listens Component#touchcancel\n     * @listens Component#touchend\n      */\n    ;\n\n    _proto.emitTapEvents = function emitTapEvents() {\n      // Track the start time so we can determine how long the touch lasted\n      var touchStart = 0;\n      var firstTouch = null; // Maximum movement allowed during a touch event to still be considered a tap\n      // Other popular libs use anywhere from 2 (hammer.js) to 15,\n      // so 10 seems like a nice, round number.\n\n      var tapMovementThreshold = 10; // The maximum length a touch can be while still being considered a tap\n\n      var touchTimeThreshold = 200;\n      var couldBeTap;\n      this.on('touchstart', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length === 1) {\n          // Copy pageX/pageY from the object\n          firstTouch = {\n            pageX: event.touches[0].pageX,\n            pageY: event.touches[0].pageY\n          }; // Record start time so we can detect a tap vs. \"touch and hold\"\n\n          touchStart = new Date().getTime(); // Reset couldBeTap tracking\n\n          couldBeTap = true;\n        }\n      });\n      this.on('touchmove', function (event) {\n        // If more than one finger, don't consider treating this as a click\n        if (event.touches.length > 1) {\n          couldBeTap = false;\n        } else if (firstTouch) {\n          // Some devices will throw touchmoves for all but the slightest of taps.\n          // So, if we moved only a small distance, this could still be a tap\n          var xdiff = event.touches[0].pageX - firstTouch.pageX;\n          var ydiff = event.touches[0].pageY - firstTouch.pageY;\n          var touchDistance = Math.sqrt(xdiff * xdiff + ydiff * ydiff);\n\n          if (touchDistance > tapMovementThreshold) {\n            couldBeTap = false;\n          }\n        }\n      });\n\n      var noTap = function noTap() {\n        couldBeTap = false;\n      }; // TODO: Listen to the original target. http://youtu.be/DujfpXOKUp8?t=13m8s\n\n\n      this.on('touchleave', noTap);\n      this.on('touchcancel', noTap); // When the touch ends, measure how long it took and trigger the appropriate\n      // event\n\n      this.on('touchend', function (event) {\n        firstTouch = null; // Proceed only if the touchmove/leave/cancel event didn't happen\n\n        if (couldBeTap === true) {\n          // Measure how long the touch lasted\n          var touchTime = new Date().getTime() - touchStart; // Make sure the touch was less than the threshold to be considered a tap\n\n          if (touchTime < touchTimeThreshold) {\n            // Don't let browser turn this into a click\n            event.preventDefault();\n            /**\n             * Triggered when a `Component` is tapped.\n             *\n             * @event Component#tap\n             * @type {EventTarget~Event}\n             */\n\n            this.trigger('tap'); // It may be good to copy the touchend event object and change the\n            // type to tap, if the other event properties aren't exact after\n            // Events.fixEvent runs (e.g. event.target)\n          }\n        }\n      });\n    }\n    /**\n     * This function reports user activity whenever touch events happen. This can get\n     * turned off by any sub-components that wants touch events to act another way.\n     *\n     * Report user touch activity when touch events occur. User activity gets used to\n     * determine when controls should show/hide. It is simple when it comes to mouse\n     * events, because any mouse event should show the controls. So we capture mouse\n     * events that bubble up to the player and report activity when that happens.\n     * With touch events it isn't as easy as `touchstart` and `touchend` toggle player\n     * controls. So touch events can't help us at the player level either.\n     *\n     * User activity gets checked asynchronously. So what could happen is a tap event\n     * on the video turns the controls off. Then the `touchend` event bubbles up to\n     * the player. Which, if it reported user activity, would turn the controls right\n     * back on. We also don't want to completely block touch events from bubbling up.\n     * Furthermore a `touchmove` event and anything other than a tap, should not turn\n     * controls back on.\n     *\n     * @listens Component#touchstart\n     * @listens Component#touchmove\n     * @listens Component#touchend\n     * @listens Component#touchcancel\n     */\n    ;\n\n    _proto.enableTouchActivity = function enableTouchActivity() {\n      // Don't continue if the root player doesn't support reporting user activity\n      if (!this.player() || !this.player().reportUserActivity) {\n        return;\n      } // listener for reporting that the user is active\n\n\n      var report = bind(this.player(), this.player().reportUserActivity);\n      var touchHolding;\n      this.on('touchstart', function () {\n        report(); // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n\n        this.clearInterval(touchHolding); // report at the same interval as activityCheck\n\n        touchHolding = this.setInterval(report, 250);\n      });\n\n      var touchEnd = function touchEnd(event) {\n        report(); // stop the interval that maintains activity if the touch is holding\n\n        this.clearInterval(touchHolding);\n      };\n\n      this.on('touchmove', report);\n      this.on('touchend', touchEnd);\n      this.on('touchcancel', touchEnd);\n    }\n    /**\n     * A callback that has no parameters and is bound into `Component`s context.\n     *\n     * @callback Component~GenericCallback\n     * @this Component\n     */\n\n    /**\n     * Creates a function that runs after an `x` millisecond timeout. This function is a\n     * wrapper around `window.setTimeout`. There are a few reasons to use this one\n     * instead though:\n     * 1. It gets cleared via  {@link Component#clearTimeout} when\n     *    {@link Component#dispose} gets called.\n     * 2. The function callback will gets turned into a {@link Component~GenericCallback}\n     *\n     * > Note: You can't use `window.clearTimeout` on the id returned by this function. This\n     *         will cause its dispose listener not to get cleaned up! Please use\n     *         {@link Component#clearTimeout} or {@link Component#dispose} instead.\n     *\n     * @param {Component~GenericCallback} fn\n     *        The function that will be run after `timeout`.\n     *\n     * @param {number} timeout\n     *        Timeout in milliseconds to delay before executing the specified function.\n     *\n     * @return {number}\n     *         Returns a timeout ID that gets used to identify the timeout. It can also\n     *         get used in {@link Component#clearTimeout} to clear the timeout that\n     *         was set.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout}\n     */\n    ;\n\n    _proto.setTimeout = function setTimeout(fn, timeout) {\n      var _this2 = this;\n\n      // declare as variables so they are properly available in timeout function\n      // eslint-disable-next-line\n      var timeoutId, disposeFn;\n      fn = bind(this, fn);\n      timeoutId = window$1.setTimeout(function () {\n        _this2.off('dispose', disposeFn);\n\n        fn();\n      }, timeout);\n\n      disposeFn = function disposeFn() {\n        return _this2.clearTimeout(timeoutId);\n      };\n\n      disposeFn.guid = \"vjs-timeout-\" + timeoutId;\n      this.on('dispose', disposeFn);\n      return timeoutId;\n    }\n    /**\n     * Clears a timeout that gets created via `window.setTimeout` or\n     * {@link Component#setTimeout}. If you set a timeout via {@link Component#setTimeout}\n     * use this function instead of `window.clearTimout`. If you don't your dispose\n     * listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} timeoutId\n     *        The id of the timeout to clear. The return value of\n     *        {@link Component#setTimeout} or `window.setTimeout`.\n     *\n     * @return {number}\n     *         Returns the timeout id that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearTimeout}\n     */\n    ;\n\n    _proto.clearTimeout = function clearTimeout(timeoutId) {\n      window$1.clearTimeout(timeoutId);\n\n      var disposeFn = function disposeFn() {};\n\n      disposeFn.guid = \"vjs-timeout-\" + timeoutId;\n      this.off('dispose', disposeFn);\n      return timeoutId;\n    }\n    /**\n     * Creates a function that gets run every `x` milliseconds. This function is a wrapper\n     * around `window.setInterval`. There are a few reasons to use this one instead though.\n     * 1. It gets cleared via  {@link Component#clearInterval} when\n     *    {@link Component#dispose} gets called.\n     * 2. The function callback will be a {@link Component~GenericCallback}\n     *\n     * @param {Component~GenericCallback} fn\n     *        The function to run every `x` seconds.\n     *\n     * @param {number} interval\n     *        Execute the specified function every `x` milliseconds.\n     *\n     * @return {number}\n     *         Returns an id that can be used to identify the interval. It can also be be used in\n     *         {@link Component#clearInterval} to clear the interval.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval}\n     */\n    ;\n\n    _proto.setInterval = function setInterval(fn, interval) {\n      var _this3 = this;\n\n      fn = bind(this, fn);\n      var intervalId = window$1.setInterval(fn, interval);\n\n      var disposeFn = function disposeFn() {\n        return _this3.clearInterval(intervalId);\n      };\n\n      disposeFn.guid = \"vjs-interval-\" + intervalId;\n      this.on('dispose', disposeFn);\n      return intervalId;\n    }\n    /**\n     * Clears an interval that gets created via `window.setInterval` or\n     * {@link Component#setInterval}. If you set an inteval via {@link Component#setInterval}\n     * use this function instead of `window.clearInterval`. If you don't your dispose\n     * listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} intervalId\n     *        The id of the interval to clear. The return value of\n     *        {@link Component#setInterval} or `window.setInterval`.\n     *\n     * @return {number}\n     *         Returns the interval id that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval}\n     */\n    ;\n\n    _proto.clearInterval = function clearInterval(intervalId) {\n      window$1.clearInterval(intervalId);\n\n      var disposeFn = function disposeFn() {};\n\n      disposeFn.guid = \"vjs-interval-\" + intervalId;\n      this.off('dispose', disposeFn);\n      return intervalId;\n    }\n    /**\n     * Queues up a callback to be passed to requestAnimationFrame (rAF), but\n     * with a few extra bonuses:\n     *\n     * - Supports browsers that do not support rAF by falling back to\n     *   {@link Component#setTimeout}.\n     *\n     * - The callback is turned into a {@link Component~GenericCallback} (i.e.\n     *   bound to the component).\n     *\n     * - Automatic cancellation of the rAF callback is handled if the component\n     *   is disposed before it is called.\n     *\n     * @param  {Component~GenericCallback} fn\n     *         A function that will be bound to this component and executed just\n     *         before the browser's next repaint.\n     *\n     * @return {number}\n     *         Returns an rAF ID that gets used to identify the timeout. It can\n     *         also be used in {@link Component#cancelAnimationFrame} to cancel\n     *         the animation frame callback.\n     *\n     * @listens Component#dispose\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame}\n     */\n    ;\n\n    _proto.requestAnimationFrame = function requestAnimationFrame(fn) {\n      var _this4 = this;\n\n      // declare as variables so they are properly available in rAF function\n      // eslint-disable-next-line\n      var id, disposeFn;\n\n      if (this.supportsRaf_) {\n        fn = bind(this, fn);\n        id = window$1.requestAnimationFrame(function () {\n          _this4.off('dispose', disposeFn);\n\n          fn();\n        });\n\n        disposeFn = function disposeFn() {\n          return _this4.cancelAnimationFrame(id);\n        };\n\n        disposeFn.guid = \"vjs-raf-\" + id;\n        this.on('dispose', disposeFn);\n        return id;\n      } // Fall back to using a timer.\n\n\n      return this.setTimeout(fn, 1000 / 60);\n    }\n    /**\n     * Cancels a queued callback passed to {@link Component#requestAnimationFrame}\n     * (rAF).\n     *\n     * If you queue an rAF callback via {@link Component#requestAnimationFrame},\n     * use this function instead of `window.cancelAnimationFrame`. If you don't,\n     * your dispose listener will not get cleaned up until {@link Component#dispose}!\n     *\n     * @param {number} id\n     *        The rAF ID to clear. The return value of {@link Component#requestAnimationFrame}.\n     *\n     * @return {number}\n     *         Returns the rAF ID that was cleared.\n     *\n     * @see [Similar to]{@link https://developer.mozilla.org/en-US/docs/Web/API/window/cancelAnimationFrame}\n     */\n    ;\n\n    _proto.cancelAnimationFrame = function cancelAnimationFrame(id) {\n      if (this.supportsRaf_) {\n        window$1.cancelAnimationFrame(id);\n\n        var disposeFn = function disposeFn() {};\n\n        disposeFn.guid = \"vjs-raf-\" + id;\n        this.off('dispose', disposeFn);\n        return id;\n      } // Fall back to using a timer.\n\n\n      return this.clearTimeout(id);\n    }\n    /**\n     * Register a `Component` with `videojs` given the name and the component.\n     *\n     * > NOTE: {@link Tech}s should not be registered as a `Component`. {@link Tech}s\n     *         should be registered using {@link Tech.registerTech} or\n     *         {@link videojs:videojs.registerTech}.\n     *\n     * > NOTE: This function can also be seen on videojs as\n     *         {@link videojs:videojs.registerComponent}.\n     *\n     * @param {string} name\n     *        The name of the `Component` to register.\n     *\n     * @param {Component} ComponentToRegister\n     *        The `Component` class to register.\n     *\n     * @return {Component}\n     *         The `Component` that was registered.\n     */\n    ;\n\n    Component.registerComponent = function registerComponent(name, ComponentToRegister) {\n      if (typeof name !== 'string' || !name) {\n        throw new Error(\"Illegal component name, \\\"\" + name + \"\\\"; must be a non-empty string.\");\n      }\n\n      var Tech = Component.getComponent('Tech'); // We need to make sure this check is only done if Tech has been registered.\n\n      var isTech = Tech && Tech.isTech(ComponentToRegister);\n      var isComp = Component === ComponentToRegister || Component.prototype.isPrototypeOf(ComponentToRegister.prototype);\n\n      if (isTech || !isComp) {\n        var reason;\n\n        if (isTech) {\n          reason = 'techs must be registered using Tech.registerTech()';\n        } else {\n          reason = 'must be a Component subclass';\n        }\n\n        throw new Error(\"Illegal component, \\\"\" + name + \"\\\"; \" + reason + \".\");\n      }\n\n      name = toTitleCase(name);\n\n      if (!Component.components_) {\n        Component.components_ = {};\n      }\n\n      var Player = Component.getComponent('Player');\n\n      if (name === 'Player' && Player && Player.players) {\n        var players = Player.players;\n        var playerNames = Object.keys(players); // If we have players that were disposed, then their name will still be\n        // in Players.players. So, we must loop through and verify that the value\n        // for each item is not null. This allows registration of the Player component\n        // after all players have been disposed or before any were created.\n\n        if (players && playerNames.length > 0 && playerNames.map(function (pname) {\n          return players[pname];\n        }).every(Boolean)) {\n          throw new Error('Can not register Player component after player has been created.');\n        }\n      }\n\n      Component.components_[name] = ComponentToRegister;\n      return ComponentToRegister;\n    }\n    /**\n     * Get a `Component` based on the name it was registered with.\n     *\n     * @param {string} name\n     *        The Name of the component to get.\n     *\n     * @return {Component}\n     *         The `Component` that got registered under the given name.\n     *\n     * @deprecated In `videojs` 6 this will not return `Component`s that were not\n     *             registered using {@link Component.registerComponent}. Currently we\n     *             check the global `videojs` object for a `Component` name and\n     *             return that if it exists.\n     */\n    ;\n\n    Component.getComponent = function getComponent(name) {\n      if (!name) {\n        return;\n      }\n\n      name = toTitleCase(name);\n\n      if (Component.components_ && Component.components_[name]) {\n        return Component.components_[name];\n      }\n    };\n\n    return Component;\n  }();\n  /**\n   * Whether or not this component supports `requestAnimationFrame`.\n   *\n   * This is exposed primarily for testing purposes.\n   *\n   * @private\n   * @type {Boolean}\n   */\n\n\n  Component.prototype.supportsRaf_ = typeof window$1.requestAnimationFrame === 'function' && typeof window$1.cancelAnimationFrame === 'function';\n  Component.registerComponent('Component', Component);\n\n  /**\n   * @file browser.js\n   * @module browser\n   */\n  var USER_AGENT = window$1.navigator && window$1.navigator.userAgent || '';\n  var webkitVersionMap = /AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);\n  var appleWebkitVersion = webkitVersionMap ? parseFloat(webkitVersionMap.pop()) : null;\n  /**\n   * Whether or not this device is an iPad.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IPAD = /iPad/i.test(USER_AGENT);\n  /**\n   * Whether or not this device is an iPhone.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n  // The Facebook app's UIWebView identifies as both an iPhone and iPad, so\n  // to identify iPhones, we need to exclude iPads.\n  // http://artsy.github.io/blog/2012/10/18/the-perils-of-ios-user-agent-sniffing/\n\n  var IS_IPHONE = /iPhone/i.test(USER_AGENT) && !IS_IPAD;\n  /**\n   * Whether or not this device is an iPod.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IPOD = /iPod/i.test(USER_AGENT);\n  /**\n   * Whether or not this is an iOS device.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_IOS = IS_IPHONE || IS_IPAD || IS_IPOD;\n  /**\n   * The detected iOS version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {string|null}\n   */\n\n  var IOS_VERSION = function () {\n    var match = USER_AGENT.match(/OS (\\d+)_/i);\n\n    if (match && match[1]) {\n      return match[1];\n    }\n\n    return null;\n  }();\n  /**\n   * Whether or not this is an Android device.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_ANDROID = /Android/i.test(USER_AGENT);\n  /**\n   * The detected Android version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|string|null}\n   */\n\n  var ANDROID_VERSION = function () {\n    // This matches Android Major.Minor.Patch versions\n    // ANDROID_VERSION is Major.Minor as a Number, if Minor isn't available, then only Major is returned\n    var match = USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);\n\n    if (!match) {\n      return null;\n    }\n\n    var major = match[1] && parseFloat(match[1]);\n    var minor = match[2] && parseFloat(match[2]);\n\n    if (major && minor) {\n      return parseFloat(match[1] + '.' + match[2]);\n    } else if (major) {\n      return major;\n    }\n\n    return null;\n  }();\n  /**\n   * Whether or not this is a native Android browser.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_NATIVE_ANDROID = IS_ANDROID && ANDROID_VERSION < 5 && appleWebkitVersion < 537;\n  /**\n   * Whether or not this is Mozilla Firefox.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_FIREFOX = /Firefox/i.test(USER_AGENT);\n  /**\n   * Whether or not this is Microsoft Edge.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_EDGE = /Edge/i.test(USER_AGENT);\n  /**\n   * Whether or not this is Google Chrome.\n   *\n   * This will also be `true` for Chrome on iOS, which will have different support\n   * as it is actually Safari under the hood.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_CHROME = !IS_EDGE && (/Chrome/i.test(USER_AGENT) || /CriOS/i.test(USER_AGENT));\n  /**\n   * The detected Google Chrome version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|null}\n   */\n\n  var CHROME_VERSION = function () {\n    var match = USER_AGENT.match(/(Chrome|CriOS)\\/(\\d+)/);\n\n    if (match && match[2]) {\n      return parseFloat(match[2]);\n    }\n\n    return null;\n  }();\n  /**\n   * The detected Internet Explorer version - or `null`.\n   *\n   * @static\n   * @const\n   * @type {number|null}\n   */\n\n  var IE_VERSION = function () {\n    var result = /MSIE\\s(\\d+)\\.\\d/.exec(USER_AGENT);\n    var version = result && parseFloat(result[1]);\n\n    if (!version && /Trident\\/7.0/i.test(USER_AGENT) && /rv:11.0/.test(USER_AGENT)) {\n      // IE 11 has a different user agent string than other IE versions\n      version = 11.0;\n    }\n\n    return version;\n  }();\n  /**\n   * Whether or not this is desktop Safari.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_SAFARI = /Safari/i.test(USER_AGENT) && !IS_CHROME && !IS_ANDROID && !IS_EDGE;\n  /**\n   * Whether or not this is any flavor of Safari - including iOS.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var IS_ANY_SAFARI = (IS_SAFARI || IS_IOS) && !IS_CHROME;\n  /**\n   * Whether or not this device is touch-enabled.\n   *\n   * @static\n   * @const\n   * @type {Boolean}\n   */\n\n  var TOUCH_ENABLED = isReal() && ('ontouchstart' in window$1 || window$1.navigator.maxTouchPoints || window$1.DocumentTouch && window$1.document instanceof window$1.DocumentTouch);\n\n  var browser = /*#__PURE__*/Object.freeze({\n    IS_IPAD: IS_IPAD,\n    IS_IPHONE: IS_IPHONE,\n    IS_IPOD: IS_IPOD,\n    IS_IOS: IS_IOS,\n    IOS_VERSION: IOS_VERSION,\n    IS_ANDROID: IS_ANDROID,\n    ANDROID_VERSION: ANDROID_VERSION,\n    IS_NATIVE_ANDROID: IS_NATIVE_ANDROID,\n    IS_FIREFOX: IS_FIREFOX,\n    IS_EDGE: IS_EDGE,\n    IS_CHROME: IS_CHROME,\n    CHROME_VERSION: CHROME_VERSION,\n    IE_VERSION: IE_VERSION,\n    IS_SAFARI: IS_SAFARI,\n    IS_ANY_SAFARI: IS_ANY_SAFARI,\n    TOUCH_ENABLED: TOUCH_ENABLED\n  });\n\n  /**\n   * @file time-ranges.js\n   * @module time-ranges\n   */\n\n  /**\n   * Returns the time for the specified index at the start or end\n   * of a TimeRange object.\n   *\n   * @typedef    {Function} TimeRangeIndex\n   *\n   * @param      {number} [index=0]\n   *             The range number to return the time for.\n   *\n   * @return     {number}\n   *             The time offset at the specified index.\n   *\n   * @deprecated The index argument must be provided.\n   *             In the future, leaving it out will throw an error.\n   */\n\n  /**\n   * An object that contains ranges of time.\n   *\n   * @typedef  {Object} TimeRange\n   *\n   * @property {number} length\n   *           The number of time ranges represented by this object.\n   *\n   * @property {module:time-ranges~TimeRangeIndex} start\n   *           Returns the time offset at which a specified time range begins.\n   *\n   * @property {module:time-ranges~TimeRangeIndex} end\n   *           Returns the time offset at which a specified time range ends.\n   *\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges\n   */\n\n  /**\n   * Check if any of the time ranges are over the maximum index.\n   *\n   * @private\n   * @param   {string} fnName\n   *          The function name to use for logging\n   *\n   * @param   {number} index\n   *          The index to check\n   *\n   * @param   {number} maxIndex\n   *          The maximum possible index\n   *\n   * @throws  {Error} if the timeRanges provided are over the maxIndex\n   */\n  function rangeCheck(fnName, index, maxIndex) {\n    if (typeof index !== 'number' || index < 0 || index > maxIndex) {\n      throw new Error(\"Failed to execute '\" + fnName + \"' on 'TimeRanges': The index provided (\" + index + \") is non-numeric or out of bounds (0-\" + maxIndex + \").\");\n    }\n  }\n  /**\n   * Get the time for the specified index at the start or end\n   * of a TimeRange object.\n   *\n   * @private\n   * @param      {string} fnName\n   *             The function name to use for logging\n   *\n   * @param      {string} valueIndex\n   *             The property that should be used to get the time. should be\n   *             'start' or 'end'\n   *\n   * @param      {Array} ranges\n   *             An array of time ranges\n   *\n   * @param      {Array} [rangeIndex=0]\n   *             The index to start the search at\n   *\n   * @return     {number}\n   *             The time that offset at the specified index.\n   *\n   * @deprecated rangeIndex must be set to a value, in the future this will throw an error.\n   * @throws     {Error} if rangeIndex is more than the length of ranges\n   */\n\n\n  function getRange(fnName, valueIndex, ranges, rangeIndex) {\n    rangeCheck(fnName, rangeIndex, ranges.length - 1);\n    return ranges[rangeIndex][valueIndex];\n  }\n  /**\n   * Create a time range object given ranges of time.\n   *\n   * @private\n   * @param   {Array} [ranges]\n   *          An array of time ranges.\n   */\n\n\n  function createTimeRangesObj(ranges) {\n    if (ranges === undefined || ranges.length === 0) {\n      return {\n        length: 0,\n        start: function start() {\n          throw new Error('This TimeRanges object is empty');\n        },\n        end: function end() {\n          throw new Error('This TimeRanges object is empty');\n        }\n      };\n    }\n\n    return {\n      length: ranges.length,\n      start: getRange.bind(null, 'start', 0, ranges),\n      end: getRange.bind(null, 'end', 1, ranges)\n    };\n  }\n  /**\n   * Create a `TimeRange` object which mimics an\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/TimeRanges|HTML5 TimeRanges instance}.\n   *\n   * @param {number|Array[]} start\n   *        The start of a single range (a number) or an array of ranges (an\n   *        array of arrays of two numbers each).\n   *\n   * @param {number} end\n   *        The end of a single range. Cannot be used with the array form of\n   *        the `start` argument.\n   */\n\n\n  function createTimeRanges(start, end) {\n    if (Array.isArray(start)) {\n      return createTimeRangesObj(start);\n    } else if (start === undefined || end === undefined) {\n      return createTimeRangesObj();\n    }\n\n    return createTimeRangesObj([[start, end]]);\n  }\n\n  /**\n   * @file buffer.js\n   * @module buffer\n   */\n  /**\n   * Compute the percentage of the media that has been buffered.\n   *\n   * @param {TimeRange} buffered\n   *        The current `TimeRange` object representing buffered time ranges\n   *\n   * @param {number} duration\n   *        Total duration of the media\n   *\n   * @return {number}\n   *         Percent buffered of the total duration in decimal form.\n   */\n\n  function bufferedPercent(buffered, duration) {\n    var bufferedDuration = 0;\n    var start;\n    var end;\n\n    if (!duration) {\n      return 0;\n    }\n\n    if (!buffered || !buffered.length) {\n      buffered = createTimeRanges(0, 0);\n    }\n\n    for (var i = 0; i < buffered.length; i++) {\n      start = buffered.start(i);\n      end = buffered.end(i); // buffered end can be bigger than duration by a very small fraction\n\n      if (end > duration) {\n        end = duration;\n      }\n\n      bufferedDuration += end - start;\n    }\n\n    return bufferedDuration / duration;\n  }\n\n  /**\n   * @file fullscreen-api.js\n   * @module fullscreen-api\n   * @private\n   */\n  /**\n   * Store the browser-specific methods for the fullscreen API.\n   *\n   * @type {Object}\n   * @see [Specification]{@link https://fullscreen.spec.whatwg.org}\n   * @see [Map Approach From Screenfull.js]{@link https://github.com/sindresorhus/screenfull.js}\n   */\n\n  var FullscreenApi = {}; // browser API methods\n\n  var apiMap = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror', 'fullscreen'], // WebKit\n  ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror', '-webkit-full-screen'], // Mozilla\n  ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror', '-moz-full-screen'], // Microsoft\n  ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError', '-ms-fullscreen']];\n  var specApi = apiMap[0];\n  var browserApi;\n  var prefixedAPI = false; // determine the supported set of functions\n\n  for (var i = 0; i < apiMap.length; i++) {\n    // check for exitFullscreen function\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  } // map the browser API names to the spec API names\n\n\n  if (browserApi) {\n    for (var _i = 0; _i < browserApi.length; _i++) {\n      FullscreenApi[specApi[_i]] = browserApi[_i];\n    }\n\n    prefixedAPI = browserApi[0] === specApi[0];\n  }\n\n  /**\n   * @file media-error.js\n   */\n  /**\n   * A Custom `MediaError` class which mimics the standard HTML5 `MediaError` class.\n   *\n   * @param {number|string|Object|MediaError} value\n   *        This can be of multiple types:\n   *        - number: should be a standard error code\n   *        - string: an error message (the code will be 0)\n   *        - Object: arbitrary properties\n   *        - `MediaError` (native): used to populate a video.js `MediaError` object\n   *        - `MediaError` (video.js): will return itself if it's already a\n   *          video.js `MediaError` object.\n   *\n   * @see [MediaError Spec]{@link https://dev.w3.org/html5/spec-author-view/video.html#mediaerror}\n   * @see [Encrypted MediaError Spec]{@link https://www.w3.org/TR/2013/WD-encrypted-media-20130510/#error-codes}\n   *\n   * @class MediaError\n   */\n\n  function MediaError(value) {\n    // Allow redundant calls to this constructor to avoid having `instanceof`\n    // checks peppered around the code.\n    if (value instanceof MediaError) {\n      return value;\n    }\n\n    if (typeof value === 'number') {\n      this.code = value;\n    } else if (typeof value === 'string') {\n      // default code is zero, so this is a custom error\n      this.message = value;\n    } else if (isObject(value)) {\n      // We assign the `code` property manually because native `MediaError` objects\n      // do not expose it as an own/enumerable property of the object.\n      if (typeof value.code === 'number') {\n        this.code = value.code;\n      }\n\n      assign(this, value);\n    }\n\n    if (!this.message) {\n      this.message = MediaError.defaultMessages[this.code] || '';\n    }\n  }\n  /**\n   * The error code that refers two one of the defined `MediaError` types\n   *\n   * @type {Number}\n   */\n\n\n  MediaError.prototype.code = 0;\n  /**\n   * An optional message that to show with the error. Message is not part of the HTML5\n   * video spec but allows for more informative custom errors.\n   *\n   * @type {String}\n   */\n\n  MediaError.prototype.message = '';\n  /**\n   * An optional status code that can be set by plugins to allow even more detail about\n   * the error. For example a plugin might provide a specific HTTP status code and an\n   * error message for that code. Then when the plugin gets that error this class will\n   * know how to display an error message for it. This allows a custom message to show\n   * up on the `Player` error overlay.\n   *\n   * @type {Array}\n   */\n\n  MediaError.prototype.status = null;\n  /**\n   * Errors indexed by the W3C standard. The order **CANNOT CHANGE**! See the\n   * specification listed under {@link MediaError} for more information.\n   *\n   * @enum {array}\n   * @readonly\n   * @property {string} 0 - MEDIA_ERR_CUSTOM\n   * @property {string} 1 - MEDIA_ERR_ABORTED\n   * @property {string} 2 - MEDIA_ERR_NETWORK\n   * @property {string} 3 - MEDIA_ERR_DECODE\n   * @property {string} 4 - MEDIA_ERR_SRC_NOT_SUPPORTED\n   * @property {string} 5 - MEDIA_ERR_ENCRYPTED\n   */\n\n  MediaError.errorTypes = ['MEDIA_ERR_CUSTOM', 'MEDIA_ERR_ABORTED', 'MEDIA_ERR_NETWORK', 'MEDIA_ERR_DECODE', 'MEDIA_ERR_SRC_NOT_SUPPORTED', 'MEDIA_ERR_ENCRYPTED'];\n  /**\n   * The default `MediaError` messages based on the {@link MediaError.errorTypes}.\n   *\n   * @type {Array}\n   * @constant\n   */\n\n  MediaError.defaultMessages = {\n    1: 'You aborted the media playback',\n    2: 'A network error caused the media download to fail part-way.',\n    3: 'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',\n    4: 'The media could not be loaded, either because the server or network failed or because the format is not supported.',\n    5: 'The media is encrypted and we do not have the keys to decrypt it.'\n  }; // Add types as properties on MediaError\n  // e.g. MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED = 4;\n\n  for (var errNum = 0; errNum < MediaError.errorTypes.length; errNum++) {\n    MediaError[MediaError.errorTypes[errNum]] = errNum; // values should be accessible on both the class and instance\n\n    MediaError.prototype[MediaError.errorTypes[errNum]] = errNum;\n  } // jsdocs for instance/static members added above\n\n  var tuple = SafeParseTuple;\n\n  function SafeParseTuple(obj, reviver) {\n    var json;\n    var error = null;\n\n    try {\n      json = JSON.parse(obj, reviver);\n    } catch (err) {\n      error = err;\n    }\n\n    return [error, json];\n  }\n\n  /**\n   * Returns whether an object is `Promise`-like (i.e. has a `then` method).\n   *\n   * @param  {Object}  value\n   *         An object that may or may not be `Promise`-like.\n   *\n   * @return {boolean}\n   *         Whether or not the object is `Promise`-like.\n   */\n  function isPromise(value) {\n    return value !== undefined && value !== null && typeof value.then === 'function';\n  }\n  /**\n   * Silence a Promise-like object.\n   *\n   * This is useful for avoiding non-harmful, but potentially confusing \"uncaught\n   * play promise\" rejection error messages.\n   *\n   * @param  {Object} value\n   *         An object that may or may not be `Promise`-like.\n   */\n\n  function silencePromise(value) {\n    if (isPromise(value)) {\n      value.then(null, function (e) {});\n    }\n  }\n\n  /**\n   * @file text-track-list-converter.js Utilities for capturing text track state and\n   * re-creating tracks based on a capture.\n   *\n   * @module text-track-list-converter\n   */\n\n  /**\n   * Examine a single {@link TextTrack} and return a JSON-compatible javascript object that\n   * represents the {@link TextTrack}'s state.\n   *\n   * @param {TextTrack} track\n   *        The text track to query.\n   *\n   * @return {Object}\n   *         A serializable javascript representation of the TextTrack.\n   * @private\n   */\n  var trackToJson_ = function trackToJson_(track) {\n    var ret = ['kind', 'label', 'language', 'id', 'inBandMetadataTrackDispatchType', 'mode', 'src'].reduce(function (acc, prop, i) {\n      if (track[prop]) {\n        acc[prop] = track[prop];\n      }\n\n      return acc;\n    }, {\n      cues: track.cues && Array.prototype.map.call(track.cues, function (cue) {\n        return {\n          startTime: cue.startTime,\n          endTime: cue.endTime,\n          text: cue.text,\n          id: cue.id\n        };\n      })\n    });\n    return ret;\n  };\n  /**\n   * Examine a {@link Tech} and return a JSON-compatible javascript array that represents the\n   * state of all {@link TextTrack}s currently configured. The return array is compatible with\n   * {@link text-track-list-converter:jsonToTextTracks}.\n   *\n   * @param {Tech} tech\n   *        The tech object to query\n   *\n   * @return {Array}\n   *         A serializable javascript representation of the {@link Tech}s\n   *         {@link TextTrackList}.\n   */\n\n\n  var textTracksToJson = function textTracksToJson(tech) {\n    var trackEls = tech.$$('track');\n    var trackObjs = Array.prototype.map.call(trackEls, function (t) {\n      return t.track;\n    });\n    var tracks = Array.prototype.map.call(trackEls, function (trackEl) {\n      var json = trackToJson_(trackEl.track);\n\n      if (trackEl.src) {\n        json.src = trackEl.src;\n      }\n\n      return json;\n    });\n    return tracks.concat(Array.prototype.filter.call(tech.textTracks(), function (track) {\n      return trackObjs.indexOf(track) === -1;\n    }).map(trackToJson_));\n  };\n  /**\n   * Create a set of remote {@link TextTrack}s on a {@link Tech} based on an array of javascript\n   * object {@link TextTrack} representations.\n   *\n   * @param {Array} json\n   *        An array of `TextTrack` representation objects, like those that would be\n   *        produced by `textTracksToJson`.\n   *\n   * @param {Tech} tech\n   *        The `Tech` to create the `TextTrack`s on.\n   */\n\n\n  var jsonToTextTracks = function jsonToTextTracks(json, tech) {\n    json.forEach(function (track) {\n      var addedTrack = tech.addRemoteTextTrack(track).track;\n\n      if (!track.src && track.cues) {\n        track.cues.forEach(function (cue) {\n          return addedTrack.addCue(cue);\n        });\n      }\n    });\n    return tech.textTracks();\n  };\n\n  var textTrackConverter = {\n    textTracksToJson: textTracksToJson,\n    jsonToTextTracks: jsonToTextTracks,\n    trackToJson_: trackToJson_\n  };\n\n  var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var keycode = createCommonjsModule(function (module, exports) {\n    // Source: http://jsfiddle.net/vWx8V/\n    // http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n    /**\n     * Conenience method returns corresponding value for given keyName or keyCode.\n     *\n     * @param {Mixed} keyCode {Number} or keyName {String}\n     * @return {Mixed}\n     * @api public\n     */\n    function keyCode(searchInput) {\n      // Keyboard Events\n      if (searchInput && 'object' === typeof searchInput) {\n        var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode;\n        if (hasKeyCode) searchInput = hasKeyCode;\n      } // Numbers\n\n\n      if ('number' === typeof searchInput) return names[searchInput]; // Everything else (cast to string)\n\n      var search = String(searchInput); // check codes\n\n      var foundNamedKey = codes[search.toLowerCase()];\n      if (foundNamedKey) return foundNamedKey; // check aliases\n\n      var foundNamedKey = aliases[search.toLowerCase()];\n      if (foundNamedKey) return foundNamedKey; // weird character?\n\n      if (search.length === 1) return search.charCodeAt(0);\n      return undefined;\n    }\n    /**\n     * Compares a keyboard event with a given keyCode or keyName.\n     *\n     * @param {Event} event Keyboard event that should be tested\n     * @param {Mixed} keyCode {Number} or keyName {String}\n     * @return {Boolean}\n     * @api public\n     */\n\n\n    keyCode.isEventKey = function isEventKey(event, nameOrCode) {\n      if (event && 'object' === typeof event) {\n        var keyCode = event.which || event.keyCode || event.charCode;\n\n        if (keyCode === null || keyCode === undefined) {\n          return false;\n        }\n\n        if (typeof nameOrCode === 'string') {\n          // check codes\n          var foundNamedKey = codes[nameOrCode.toLowerCase()];\n\n          if (foundNamedKey) {\n            return foundNamedKey === keyCode;\n          } // check aliases\n\n\n          var foundNamedKey = aliases[nameOrCode.toLowerCase()];\n\n          if (foundNamedKey) {\n            return foundNamedKey === keyCode;\n          }\n        } else if (typeof nameOrCode === 'number') {\n          return nameOrCode === keyCode;\n        }\n\n        return false;\n      }\n    };\n\n    exports = module.exports = keyCode;\n    /**\n     * Get by name\n     *\n     *   exports.code['enter'] // => 13\n     */\n\n    var codes = exports.code = exports.codes = {\n      'backspace': 8,\n      'tab': 9,\n      'enter': 13,\n      'shift': 16,\n      'ctrl': 17,\n      'alt': 18,\n      'pause/break': 19,\n      'caps lock': 20,\n      'esc': 27,\n      'space': 32,\n      'page up': 33,\n      'page down': 34,\n      'end': 35,\n      'home': 36,\n      'left': 37,\n      'up': 38,\n      'right': 39,\n      'down': 40,\n      'insert': 45,\n      'delete': 46,\n      'command': 91,\n      'left command': 91,\n      'right command': 93,\n      'numpad *': 106,\n      'numpad +': 107,\n      'numpad -': 109,\n      'numpad .': 110,\n      'numpad /': 111,\n      'num lock': 144,\n      'scroll lock': 145,\n      'my computer': 182,\n      'my calculator': 183,\n      ';': 186,\n      '=': 187,\n      ',': 188,\n      '-': 189,\n      '.': 190,\n      '/': 191,\n      '`': 192,\n      '[': 219,\n      '\\\\': 220,\n      ']': 221,\n      \"'\": 222 // Helper aliases\n\n    };\n    var aliases = exports.aliases = {\n      'windows': 91,\n      '⇧': 16,\n      '⌥': 18,\n      '⌃': 17,\n      '⌘': 91,\n      'ctl': 17,\n      'control': 17,\n      'option': 18,\n      'pause': 19,\n      'break': 19,\n      'caps': 20,\n      'return': 13,\n      'escape': 27,\n      'spc': 32,\n      'spacebar': 32,\n      'pgup': 33,\n      'pgdn': 34,\n      'ins': 45,\n      'del': 46,\n      'cmd': 91\n      /*!\n       * Programatically add the following\n       */\n      // lower case chars\n\n    };\n\n    for (i = 97; i < 123; i++) {\n      codes[String.fromCharCode(i)] = i - 32;\n    } // numbers\n\n\n    for (var i = 48; i < 58; i++) {\n      codes[i - 48] = i;\n    } // function keys\n\n\n    for (i = 1; i < 13; i++) {\n      codes['f' + i] = i + 111;\n    } // numpad keys\n\n\n    for (i = 0; i < 10; i++) {\n      codes['numpad ' + i] = i + 96;\n    }\n    /**\n     * Get by code\n     *\n     *   exports.name[13] // => 'Enter'\n     */\n\n\n    var names = exports.names = exports.title = {}; // title for backward compat\n    // Create reverse mapping\n\n    for (i in codes) {\n      names[codes[i]] = i;\n    } // Add aliases\n\n\n    for (var alias in aliases) {\n      codes[alias] = aliases[alias];\n    }\n  });\n  var keycode_1 = keycode.code;\n  var keycode_2 = keycode.codes;\n  var keycode_3 = keycode.aliases;\n  var keycode_4 = keycode.names;\n  var keycode_5 = keycode.title;\n\n  var MODAL_CLASS_NAME = 'vjs-modal-dialog';\n  /**\n   * The `ModalDialog` displays over the video and its controls, which blocks\n   * interaction with the player until it is closed.\n   *\n   * Modal dialogs include a \"Close\" button and will close when that button\n   * is activated - or when ESC is pressed anywhere.\n   *\n   * @extends Component\n   */\n\n  var ModalDialog =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ModalDialog, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Mixed} [options.content=undefined]\n     *        Provide customized content for this modal.\n     *\n     * @param {string} [options.description]\n     *        A text description for the modal, primarily for accessibility.\n     *\n     * @param {boolean} [options.fillAlways=false]\n     *        Normally, modals are automatically filled only the first time\n     *        they open. This tells the modal to refresh its content\n     *        every time it opens.\n     *\n     * @param {string} [options.label]\n     *        A text label for the modal, primarily for accessibility.\n     *\n     * @param {boolean} [options.pauseOnOpen=true]\n     *        If `true`, playback will will be paused if playing when\n     *        the modal opens, and resumed when it closes.\n     *\n     * @param {boolean} [options.temporary=true]\n     *        If `true`, the modal can only be opened once; it will be\n     *        disposed as soon as it's closed.\n     *\n     * @param {boolean} [options.uncloseable=false]\n     *        If `true`, the user will not be able to close the modal\n     *        through the UI in the normal ways. Programmatic closing is\n     *        still possible.\n     */\n    function ModalDialog(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.opened_ = _this.hasBeenOpened_ = _this.hasBeenFilled_ = false;\n\n      _this.closeable(!_this.options_.uncloseable);\n\n      _this.content(_this.options_.content); // Make sure the contentEl is defined AFTER any children are initialized\n      // because we only want the contents of the modal in the contentEl\n      // (not the UI elements like the close button).\n\n\n      _this.contentEl_ = createEl('div', {\n        className: MODAL_CLASS_NAME + \"-content\"\n      }, {\n        role: 'document'\n      });\n      _this.descEl_ = createEl('p', {\n        className: MODAL_CLASS_NAME + \"-description vjs-control-text\",\n        id: _this.el().getAttribute('aria-describedby')\n      });\n      textContent(_this.descEl_, _this.description());\n\n      _this.el_.appendChild(_this.descEl_);\n\n      _this.el_.appendChild(_this.contentEl_);\n\n      return _this;\n    }\n    /**\n     * Create the `ModalDialog`'s DOM element\n     *\n     * @return {Element}\n     *         The DOM element that gets created.\n     */\n\n\n    var _proto = ModalDialog.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass(),\n        tabIndex: -1\n      }, {\n        'aria-describedby': this.id() + \"_description\",\n        'aria-hidden': 'true',\n        'aria-label': this.label(),\n        'role': 'dialog'\n      });\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.descEl_ = null;\n      this.previouslyActiveEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return MODAL_CLASS_NAME + \" vjs-hidden \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Returns the label string for this modal. Primarily used for accessibility.\n     *\n     * @return {string}\n     *         the localized or raw label of this modal.\n     */\n    ;\n\n    _proto.label = function label() {\n      return this.localize(this.options_.label || 'Modal Window');\n    }\n    /**\n     * Returns the description string for this modal. Primarily used for\n     * accessibility.\n     *\n     * @return {string}\n     *         The localized or raw description of this modal.\n     */\n    ;\n\n    _proto.description = function description() {\n      var desc = this.options_.description || this.localize('This is a modal window.'); // Append a universal closeability message if the modal is closeable.\n\n      if (this.closeable()) {\n        desc += ' ' + this.localize('This modal can be closed by pressing the Escape key or activating the close button.');\n      }\n\n      return desc;\n    }\n    /**\n     * Opens the modal.\n     *\n     * @fires ModalDialog#beforemodalopen\n     * @fires ModalDialog#modalopen\n     */\n    ;\n\n    _proto.open = function open() {\n      if (!this.opened_) {\n        var player = this.player();\n        /**\n          * Fired just before a `ModalDialog` is opened.\n          *\n          * @event ModalDialog#beforemodalopen\n          * @type {EventTarget~Event}\n          */\n\n        this.trigger('beforemodalopen');\n        this.opened_ = true; // Fill content if the modal has never opened before and\n        // never been filled.\n\n        if (this.options_.fillAlways || !this.hasBeenOpened_ && !this.hasBeenFilled_) {\n          this.fill();\n        } // If the player was playing, pause it and take note of its previously\n        // playing state.\n\n\n        this.wasPlaying_ = !player.paused();\n\n        if (this.options_.pauseOnOpen && this.wasPlaying_) {\n          player.pause();\n        }\n\n        this.on('keydown', this.handleKeyDown); // Hide controls and note if they were enabled.\n\n        this.hadControls_ = player.controls();\n        player.controls(false);\n        this.show();\n        this.conditionalFocus_();\n        this.el().setAttribute('aria-hidden', 'false');\n        /**\n          * Fired just after a `ModalDialog` is opened.\n          *\n          * @event ModalDialog#modalopen\n          * @type {EventTarget~Event}\n          */\n\n        this.trigger('modalopen');\n        this.hasBeenOpened_ = true;\n      }\n    }\n    /**\n     * If the `ModalDialog` is currently open or closed.\n     *\n     * @param  {boolean} [value]\n     *         If given, it will open (`true`) or close (`false`) the modal.\n     *\n     * @return {boolean}\n     *         the current open state of the modaldialog\n     */\n    ;\n\n    _proto.opened = function opened(value) {\n      if (typeof value === 'boolean') {\n        this[value ? 'open' : 'close']();\n      }\n\n      return this.opened_;\n    }\n    /**\n     * Closes the modal, does nothing if the `ModalDialog` is\n     * not open.\n     *\n     * @fires ModalDialog#beforemodalclose\n     * @fires ModalDialog#modalclose\n     */\n    ;\n\n    _proto.close = function close() {\n      if (!this.opened_) {\n        return;\n      }\n\n      var player = this.player();\n      /**\n        * Fired just before a `ModalDialog` is closed.\n        *\n        * @event ModalDialog#beforemodalclose\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalclose');\n      this.opened_ = false;\n\n      if (this.wasPlaying_ && this.options_.pauseOnOpen) {\n        player.play();\n      }\n\n      this.off('keydown', this.handleKeyDown);\n\n      if (this.hadControls_) {\n        player.controls(true);\n      }\n\n      this.hide();\n      this.el().setAttribute('aria-hidden', 'true');\n      /**\n        * Fired just after a `ModalDialog` is closed.\n        *\n        * @event ModalDialog#modalclose\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('modalclose');\n      this.conditionalBlur_();\n\n      if (this.options_.temporary) {\n        this.dispose();\n      }\n    }\n    /**\n     * Check to see if the `ModalDialog` is closeable via the UI.\n     *\n     * @param  {boolean} [value]\n     *         If given as a boolean, it will set the `closeable` option.\n     *\n     * @return {boolean}\n     *         Returns the final value of the closable option.\n     */\n    ;\n\n    _proto.closeable = function closeable(value) {\n      if (typeof value === 'boolean') {\n        var closeable = this.closeable_ = !!value;\n        var close = this.getChild('closeButton'); // If this is being made closeable and has no close button, add one.\n\n        if (closeable && !close) {\n          // The close button should be a child of the modal - not its\n          // content element, so temporarily change the content element.\n          var temp = this.contentEl_;\n          this.contentEl_ = this.el_;\n          close = this.addChild('closeButton', {\n            controlText: 'Close Modal Dialog'\n          });\n          this.contentEl_ = temp;\n          this.on(close, 'close', this.close);\n        } // If this is being made uncloseable and has a close button, remove it.\n\n\n        if (!closeable && close) {\n          this.off(close, 'close', this.close);\n          this.removeChild(close);\n          close.dispose();\n        }\n      }\n\n      return this.closeable_;\n    }\n    /**\n     * Fill the modal's content element with the modal's \"content\" option.\n     * The content element will be emptied before this change takes place.\n     */\n    ;\n\n    _proto.fill = function fill() {\n      this.fillWith(this.content());\n    }\n    /**\n     * Fill the modal's content element with arbitrary content.\n     * The content element will be emptied before this change takes place.\n     *\n     * @fires ModalDialog#beforemodalfill\n     * @fires ModalDialog#modalfill\n     *\n     * @param {Mixed} [content]\n     *        The same rules apply to this as apply to the `content` option.\n     */\n    ;\n\n    _proto.fillWith = function fillWith(content) {\n      var contentEl = this.contentEl();\n      var parentEl = contentEl.parentNode;\n      var nextSiblingEl = contentEl.nextSibling;\n      /**\n        * Fired just before a `ModalDialog` is filled with content.\n        *\n        * @event ModalDialog#beforemodalfill\n        * @type {EventTarget~Event}\n        */\n\n      this.trigger('beforemodalfill');\n      this.hasBeenFilled_ = true; // Detach the content element from the DOM before performing\n      // manipulation to avoid modifying the live DOM multiple times.\n\n      parentEl.removeChild(contentEl);\n      this.empty();\n      insertContent(contentEl, content);\n      /**\n       * Fired just after a `ModalDialog` is filled with content.\n       *\n       * @event ModalDialog#modalfill\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('modalfill'); // Re-inject the re-filled content element.\n\n      if (nextSiblingEl) {\n        parentEl.insertBefore(contentEl, nextSiblingEl);\n      } else {\n        parentEl.appendChild(contentEl);\n      } // make sure that the close button is last in the dialog DOM\n\n\n      var closeButton = this.getChild('closeButton');\n\n      if (closeButton) {\n        parentEl.appendChild(closeButton.el_);\n      }\n    }\n    /**\n     * Empties the content element. This happens anytime the modal is filled.\n     *\n     * @fires ModalDialog#beforemodalempty\n     * @fires ModalDialog#modalempty\n     */\n    ;\n\n    _proto.empty = function empty() {\n      /**\n      * Fired just before a `ModalDialog` is emptied.\n      *\n      * @event ModalDialog#beforemodalempty\n      * @type {EventTarget~Event}\n      */\n      this.trigger('beforemodalempty');\n      emptyEl(this.contentEl());\n      /**\n      * Fired just after a `ModalDialog` is emptied.\n      *\n      * @event ModalDialog#modalempty\n      * @type {EventTarget~Event}\n      */\n\n      this.trigger('modalempty');\n    }\n    /**\n     * Gets or sets the modal content, which gets normalized before being\n     * rendered into the DOM.\n     *\n     * This does not update the DOM or fill the modal, but it is called during\n     * that process.\n     *\n     * @param  {Mixed} [value]\n     *         If defined, sets the internal content value to be used on the\n     *         next call(s) to `fill`. This value is normalized before being\n     *         inserted. To \"clear\" the internal content value, pass `null`.\n     *\n     * @return {Mixed}\n     *         The current content of the modal dialog\n     */\n    ;\n\n    _proto.content = function content(value) {\n      if (typeof value !== 'undefined') {\n        this.content_ = value;\n      }\n\n      return this.content_;\n    }\n    /**\n     * conditionally focus the modal dialog if focus was previously on the player.\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalFocus_ = function conditionalFocus_() {\n      var activeEl = document.activeElement;\n      var playerEl = this.player_.el_;\n      this.previouslyActiveEl_ = null;\n\n      if (playerEl.contains(activeEl) || playerEl === activeEl) {\n        this.previouslyActiveEl_ = activeEl;\n        this.focus();\n      }\n    }\n    /**\n     * conditionally blur the element and refocus the last focused element\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalBlur_ = function conditionalBlur_() {\n      if (this.previouslyActiveEl_) {\n        this.previouslyActiveEl_.focus();\n        this.previouslyActiveEl_ = null;\n      }\n    }\n    /**\n     * Keydown handler. Attached when modal is focused.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Do not allow keydowns to reach out of the modal dialog.\n      event.stopPropagation();\n\n      if (keycode.isEventKey(event, 'Escape') && this.closeable()) {\n        event.preventDefault();\n        this.close();\n        return;\n      } // exit early if it isn't a tab key\n\n\n      if (!keycode.isEventKey(event, 'Tab')) {\n        return;\n      }\n\n      var focusableEls = this.focusableEls_();\n      var activeEl = this.el_.querySelector(':focus');\n      var focusIndex;\n\n      for (var i = 0; i < focusableEls.length; i++) {\n        if (activeEl === focusableEls[i]) {\n          focusIndex = i;\n          break;\n        }\n      }\n\n      if (document.activeElement === this.el_) {\n        focusIndex = 0;\n      }\n\n      if (event.shiftKey && focusIndex === 0) {\n        focusableEls[focusableEls.length - 1].focus();\n        event.preventDefault();\n      } else if (!event.shiftKey && focusIndex === focusableEls.length - 1) {\n        focusableEls[0].focus();\n        event.preventDefault();\n      }\n    }\n    /**\n     * get all focusable elements\n     *\n     * @private\n     */\n    ;\n\n    _proto.focusableEls_ = function focusableEls_() {\n      var allChildren = this.el_.querySelectorAll('*');\n      return Array.prototype.filter.call(allChildren, function (child) {\n        return (child instanceof window$1.HTMLAnchorElement || child instanceof window$1.HTMLAreaElement) && child.hasAttribute('href') || (child instanceof window$1.HTMLInputElement || child instanceof window$1.HTMLSelectElement || child instanceof window$1.HTMLTextAreaElement || child instanceof window$1.HTMLButtonElement) && !child.hasAttribute('disabled') || child instanceof window$1.HTMLIFrameElement || child instanceof window$1.HTMLObjectElement || child instanceof window$1.HTMLEmbedElement || child.hasAttribute('tabindex') && child.getAttribute('tabindex') !== -1 || child.hasAttribute('contenteditable');\n      });\n    };\n\n    return ModalDialog;\n  }(Component);\n  /**\n   * Default options for `ModalDialog` default options.\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ModalDialog.prototype.options_ = {\n    pauseOnOpen: true,\n    temporary: true\n  };\n  Component.registerComponent('ModalDialog', ModalDialog);\n\n  /**\n   * Common functionaliy between {@link TextTrackList}, {@link AudioTrackList}, and\n   * {@link VideoTrackList}\n   *\n   * @extends EventTarget\n   */\n\n  var TrackList =\n  /*#__PURE__*/\n  function (_EventTarget) {\n    _inheritsLoose(TrackList, _EventTarget);\n\n    /**\n     * Create an instance of this class\n     *\n     * @param {Track[]} tracks\n     *        A list of tracks to initialize the list with.\n     *\n     * @abstract\n     */\n    function TrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      _this = _EventTarget.call(this) || this;\n      _this.tracks_ = [];\n      /**\n       * @memberof TrackList\n       * @member {number} length\n       *         The current number of `Track`s in the this Trackist.\n       * @instance\n       */\n\n      Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), 'length', {\n        get: function get() {\n          return this.tracks_.length;\n        }\n      });\n\n      for (var i = 0; i < tracks.length; i++) {\n        _this.addTrack(tracks[i]);\n      }\n\n      return _this;\n    }\n    /**\n     * Add a {@link Track} to the `TrackList`\n     *\n     * @param {Track} track\n     *        The audio, video, or text track to add to the list.\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = TrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var index = this.tracks_.length;\n\n      if (!('' + index in this)) {\n        Object.defineProperty(this, index, {\n          get: function get() {\n            return this.tracks_[index];\n          }\n        });\n      } // Do not add duplicate tracks\n\n\n      if (this.tracks_.indexOf(track) === -1) {\n        this.tracks_.push(track);\n        /**\n         * Triggered when a track is added to a track list.\n         *\n         * @event TrackList#addtrack\n         * @type {EventTarget~Event}\n         * @property {Track} track\n         *           A reference to track that was added.\n         */\n\n        this.trigger({\n          track: track,\n          type: 'addtrack',\n          target: this\n        });\n      }\n    }\n    /**\n     * Remove a {@link Track} from the `TrackList`\n     *\n     * @param {Track} rtrack\n     *        The audio, video, or text track to remove from the list.\n     *\n     * @fires TrackList#removetrack\n     */\n    ;\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      var track;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        if (this[i] === rtrack) {\n          track = this[i];\n\n          if (track.off) {\n            track.off();\n          }\n\n          this.tracks_.splice(i, 1);\n          break;\n        }\n      }\n\n      if (!track) {\n        return;\n      }\n      /**\n       * Triggered when a track is removed from track list.\n       *\n       * @event TrackList#removetrack\n       * @type {EventTarget~Event}\n       * @property {Track} track\n       *           A reference to track that was removed.\n       */\n\n\n      this.trigger({\n        track: track,\n        type: 'removetrack',\n        target: this\n      });\n    }\n    /**\n     * Get a Track from the TrackList by a tracks id\n     *\n     * @param {string} id - the id of the track to get\n     * @method getTrackById\n     * @return {Track}\n     * @private\n     */\n    ;\n\n    _proto.getTrackById = function getTrackById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var track = this[i];\n\n        if (track.id === id) {\n          result = track;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TrackList;\n  }(EventTarget);\n  /**\n   * Triggered when a different track is selected/enabled.\n   *\n   * @event TrackList#change\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Events that can be called with on + eventName. See {@link EventHandler}.\n   *\n   * @property {Object} TrackList#allowedEvents_\n   * @private\n   */\n\n\n  TrackList.prototype.allowedEvents_ = {\n    change: 'change',\n    addtrack: 'addtrack',\n    removetrack: 'removetrack'\n  }; // emulate attribute EventHandler support to allow for feature detection\n\n  for (var event in TrackList.prototype.allowedEvents_) {\n    TrackList.prototype['on' + event] = null;\n  }\n\n  /**\n   * Anywhere we call this function we diverge from the spec\n   * as we only support one enabled audiotrack at a time\n   *\n   * @param {AudioTrackList} list\n   *        list to work on\n   *\n   * @param {AudioTrack} track\n   *        The track to skip\n   *\n   * @private\n   */\n\n  var disableOthers = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (!Object.keys(list[i]).length || track.id === list[i].id) {\n        continue;\n      } // another audio track is enabled, disable it\n\n\n      list[i].enabled = false;\n    }\n  };\n  /**\n   * The current list of {@link AudioTrack} for a media file.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist}\n   * @extends TrackList\n   */\n\n\n  var AudioTrackList =\n  /*#__PURE__*/\n  function (_TrackList) {\n    _inheritsLoose(AudioTrackList, _TrackList);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {AudioTrack[]} [tracks=[]]\n     *        A list of `AudioTrack` to instantiate the list with.\n     */\n    function AudioTrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].enabled) {\n          disableOthers(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      _this = _TrackList.call(this, tracks) || this;\n      _this.changing_ = false;\n      return _this;\n    }\n    /**\n     * Add an {@link AudioTrack} to the `AudioTrackList`.\n     *\n     * @param {AudioTrack} track\n     *        The AudioTrack to add to the list\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = AudioTrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      if (track.enabled) {\n        disableOthers(this, track);\n      }\n\n      _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n      if (!track.addEventListener) {\n        return;\n      }\n\n      track.enabledChange_ = function () {\n        // when we are disabling other tracks (since we don't support\n        // more than one track at a time) we will set changing_\n        // to true so that we don't trigger additional change events\n        if (_this2.changing_) {\n          return;\n        }\n\n        _this2.changing_ = true;\n        disableOthers(_this2, track);\n        _this2.changing_ = false;\n\n        _this2.trigger('change');\n      };\n      /**\n       * @listens AudioTrack#enabledchange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('enabledchange', track.enabledChange_);\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack);\n\n      if (rtrack.removeEventListener && rtrack.enabledChange_) {\n        rtrack.removeEventListener('enabledchange', rtrack.enabledChange_);\n        rtrack.enabledChange_ = null;\n      }\n    };\n\n    return AudioTrackList;\n  }(TrackList);\n\n  /**\n   * Un-select all other {@link VideoTrack}s that are selected.\n   *\n   * @param {VideoTrackList} list\n   *        list to work on\n   *\n   * @param {VideoTrack} track\n   *        The track to skip\n   *\n   * @private\n   */\n\n  var disableOthers$1 = function disableOthers(list, track) {\n    for (var i = 0; i < list.length; i++) {\n      if (!Object.keys(list[i]).length || track.id === list[i].id) {\n        continue;\n      } // another video track is enabled, disable it\n\n\n      list[i].selected = false;\n    }\n  };\n  /**\n   * The current list of {@link VideoTrack} for a video.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist}\n   * @extends TrackList\n   */\n\n\n  var VideoTrackList =\n  /*#__PURE__*/\n  function (_TrackList) {\n    _inheritsLoose(VideoTrackList, _TrackList);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {VideoTrack[]} [tracks=[]]\n     *        A list of `VideoTrack` to instantiate the list with.\n     */\n    function VideoTrackList(tracks) {\n      var _this;\n\n      if (tracks === void 0) {\n        tracks = [];\n      }\n\n      // make sure only 1 track is enabled\n      // sorted from last index to first index\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        if (tracks[i].selected) {\n          disableOthers$1(tracks, tracks[i]);\n          break;\n        }\n      }\n\n      _this = _TrackList.call(this, tracks) || this;\n      _this.changing_ = false;\n      /**\n       * @member {number} VideoTrackList#selectedIndex\n       *         The current index of the selected {@link VideoTrack`}.\n       */\n\n      Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), 'selectedIndex', {\n        get: function get() {\n          for (var _i = 0; _i < this.length; _i++) {\n            if (this[_i].selected) {\n              return _i;\n            }\n          }\n\n          return -1;\n        },\n        set: function set() {}\n      });\n      return _this;\n    }\n    /**\n     * Add a {@link VideoTrack} to the `VideoTrackList`.\n     *\n     * @param {VideoTrack} track\n     *        The VideoTrack to add to the list\n     *\n     * @fires TrackList#addtrack\n     */\n\n\n    var _proto = VideoTrackList.prototype;\n\n    _proto.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      if (track.selected) {\n        disableOthers$1(this, track);\n      }\n\n      _TrackList.prototype.addTrack.call(this, track); // native tracks don't have this\n\n\n      if (!track.addEventListener) {\n        return;\n      }\n\n      track.selectedChange_ = function () {\n        if (_this2.changing_) {\n          return;\n        }\n\n        _this2.changing_ = true;\n        disableOthers$1(_this2, track);\n        _this2.changing_ = false;\n\n        _this2.trigger('change');\n      };\n      /**\n       * @listens VideoTrack#selectedchange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('selectedchange', track.selectedChange_);\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack);\n\n      if (rtrack.removeEventListener && rtrack.selectedChange_) {\n        rtrack.removeEventListener('selectedchange', rtrack.selectedChange_);\n        rtrack.selectedChange_ = null;\n      }\n    };\n\n    return VideoTrackList;\n  }(TrackList);\n\n  /**\n   * The current list of {@link TextTrack} for a media file.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttracklist}\n   * @extends TrackList\n   */\n\n  var TextTrackList =\n  /*#__PURE__*/\n  function (_TrackList) {\n    _inheritsLoose(TextTrackList, _TrackList);\n\n    function TextTrackList() {\n      return _TrackList.apply(this, arguments) || this;\n    }\n\n    var _proto = TextTrackList.prototype;\n\n    /**\n     * Add a {@link TextTrack} to the `TextTrackList`\n     *\n     * @param {TextTrack} track\n     *        The text track to add to the list.\n     *\n     * @fires TrackList#addtrack\n     */\n    _proto.addTrack = function addTrack(track) {\n      var _this = this;\n\n      _TrackList.prototype.addTrack.call(this, track);\n\n      if (!this.queueChange_) {\n        this.queueChange_ = function () {\n          return _this.queueTrigger('change');\n        };\n      }\n\n      if (!this.triggerSelectedlanguagechange) {\n        this.triggerSelectedlanguagechange_ = function () {\n          return _this.trigger('selectedlanguagechange');\n        };\n      }\n      /**\n       * @listens TextTrack#modechange\n       * @fires TrackList#change\n       */\n\n\n      track.addEventListener('modechange', this.queueChange_);\n      var nonLanguageTextTrackKind = ['metadata', 'chapters'];\n\n      if (nonLanguageTextTrackKind.indexOf(track.kind) === -1) {\n        track.addEventListener('modechange', this.triggerSelectedlanguagechange_);\n      }\n    };\n\n    _proto.removeTrack = function removeTrack(rtrack) {\n      _TrackList.prototype.removeTrack.call(this, rtrack); // manually remove the event handlers we added\n\n\n      if (rtrack.removeEventListener) {\n        if (this.queueChange_) {\n          rtrack.removeEventListener('modechange', this.queueChange_);\n        }\n\n        if (this.selectedlanguagechange_) {\n          rtrack.removeEventListener('modechange', this.triggerSelectedlanguagechange_);\n        }\n      }\n    };\n\n    return TextTrackList;\n  }(TrackList);\n\n  /**\n   * @file html-track-element-list.js\n   */\n\n  /**\n   * The current list of {@link HtmlTrackElement}s.\n   */\n  var HtmlTrackElementList =\n  /*#__PURE__*/\n  function () {\n    /**\n     * Create an instance of this class.\n     *\n     * @param {HtmlTrackElement[]} [tracks=[]]\n     *        A list of `HtmlTrackElement` to instantiate the list with.\n     */\n    function HtmlTrackElementList(trackElements) {\n      if (trackElements === void 0) {\n        trackElements = [];\n      }\n\n      this.trackElements_ = [];\n      /**\n       * @memberof HtmlTrackElementList\n       * @member {number} length\n       *         The current number of `Track`s in the this Trackist.\n       * @instance\n       */\n\n      Object.defineProperty(this, 'length', {\n        get: function get() {\n          return this.trackElements_.length;\n        }\n      });\n\n      for (var i = 0, length = trackElements.length; i < length; i++) {\n        this.addTrackElement_(trackElements[i]);\n      }\n    }\n    /**\n     * Add an {@link HtmlTrackElement} to the `HtmlTrackElementList`\n     *\n     * @param {HtmlTrackElement} trackElement\n     *        The track element to add to the list.\n     *\n     * @private\n     */\n\n\n    var _proto = HtmlTrackElementList.prototype;\n\n    _proto.addTrackElement_ = function addTrackElement_(trackElement) {\n      var index = this.trackElements_.length;\n\n      if (!('' + index in this)) {\n        Object.defineProperty(this, index, {\n          get: function get() {\n            return this.trackElements_[index];\n          }\n        });\n      } // Do not add duplicate elements\n\n\n      if (this.trackElements_.indexOf(trackElement) === -1) {\n        this.trackElements_.push(trackElement);\n      }\n    }\n    /**\n     * Get an {@link HtmlTrackElement} from the `HtmlTrackElementList` given an\n     * {@link TextTrack}.\n     *\n     * @param {TextTrack} track\n     *        The track associated with a track element.\n     *\n     * @return {HtmlTrackElement|undefined}\n     *         The track element that was found or undefined.\n     *\n     * @private\n     */\n    ;\n\n    _proto.getTrackElementByTrack_ = function getTrackElementByTrack_(track) {\n      var trackElement_;\n\n      for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n        if (track === this.trackElements_[i].track) {\n          trackElement_ = this.trackElements_[i];\n          break;\n        }\n      }\n\n      return trackElement_;\n    }\n    /**\n     * Remove a {@link HtmlTrackElement} from the `HtmlTrackElementList`\n     *\n     * @param {HtmlTrackElement} trackElement\n     *        The track element to remove from the list.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeTrackElement_ = function removeTrackElement_(trackElement) {\n      for (var i = 0, length = this.trackElements_.length; i < length; i++) {\n        if (trackElement === this.trackElements_[i]) {\n          if (this.trackElements_[i].track && typeof this.trackElements_[i].track.off === 'function') {\n            this.trackElements_[i].track.off();\n          }\n\n          if (typeof this.trackElements_[i].off === 'function') {\n            this.trackElements_[i].off();\n          }\n\n          this.trackElements_.splice(i, 1);\n          break;\n        }\n      }\n    };\n\n    return HtmlTrackElementList;\n  }();\n\n  /**\n   * @file text-track-cue-list.js\n   */\n\n  /**\n   * @typedef {Object} TextTrackCueList~TextTrackCue\n   *\n   * @property {string} id\n   *           The unique id for this text track cue\n   *\n   * @property {number} startTime\n   *           The start time for this text track cue\n   *\n   * @property {number} endTime\n   *           The end time for this text track cue\n   *\n   * @property {boolean} pauseOnExit\n   *           Pause when the end time is reached if true.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcue}\n   */\n\n  /**\n   * A List of TextTrackCues.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackcuelist}\n   */\n  var TextTrackCueList =\n  /*#__PURE__*/\n  function () {\n    /**\n     * Create an instance of this class..\n     *\n     * @param {Array} cues\n     *        A list of cues to be initialized with\n     */\n    function TextTrackCueList(cues) {\n      TextTrackCueList.prototype.setCues_.call(this, cues);\n      /**\n       * @memberof TextTrackCueList\n       * @member {number} length\n       *         The current number of `TextTrackCue`s in the TextTrackCueList.\n       * @instance\n       */\n\n      Object.defineProperty(this, 'length', {\n        get: function get() {\n          return this.length_;\n        }\n      });\n    }\n    /**\n     * A setter for cues in this list. Creates getters\n     * an an index for the cues.\n     *\n     * @param {Array} cues\n     *        An array of cues to set\n     *\n     * @private\n     */\n\n\n    var _proto = TextTrackCueList.prototype;\n\n    _proto.setCues_ = function setCues_(cues) {\n      var oldLength = this.length || 0;\n      var i = 0;\n      var l = cues.length;\n      this.cues_ = cues;\n      this.length_ = cues.length;\n\n      var defineProp = function defineProp(index) {\n        if (!('' + index in this)) {\n          Object.defineProperty(this, '' + index, {\n            get: function get() {\n              return this.cues_[index];\n            }\n          });\n        }\n      };\n\n      if (oldLength < l) {\n        i = oldLength;\n\n        for (; i < l; i++) {\n          defineProp.call(this, i);\n        }\n      }\n    }\n    /**\n     * Get a `TextTrackCue` that is currently in the `TextTrackCueList` by id.\n     *\n     * @param {string} id\n     *        The id of the cue that should be searched for.\n     *\n     * @return {TextTrackCueList~TextTrackCue|null}\n     *         A single cue or null if none was found.\n     */\n    ;\n\n    _proto.getCueById = function getCueById(id) {\n      var result = null;\n\n      for (var i = 0, l = this.length; i < l; i++) {\n        var cue = this[i];\n\n        if (cue.id === id) {\n          result = cue;\n          break;\n        }\n      }\n\n      return result;\n    };\n\n    return TextTrackCueList;\n  }();\n\n  /**\n   * @file track-kinds.js\n   */\n\n  /**\n   * All possible `VideoTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-videotrack-kind\n   * @typedef VideoTrack~Kind\n   * @enum\n   */\n  var VideoTrackKind = {\n    alternative: 'alternative',\n    captions: 'captions',\n    main: 'main',\n    sign: 'sign',\n    subtitles: 'subtitles',\n    commentary: 'commentary'\n  };\n  /**\n   * All possible `AudioTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-audiotrack-kind\n   * @typedef AudioTrack~Kind\n   * @enum\n   */\n\n  var AudioTrackKind = {\n    'alternative': 'alternative',\n    'descriptions': 'descriptions',\n    'main': 'main',\n    'main-desc': 'main-desc',\n    'translation': 'translation',\n    'commentary': 'commentary'\n  };\n  /**\n   * All possible `TextTrackKind`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-texttrack-kind\n   * @typedef TextTrack~Kind\n   * @enum\n   */\n\n  var TextTrackKind = {\n    subtitles: 'subtitles',\n    captions: 'captions',\n    descriptions: 'descriptions',\n    chapters: 'chapters',\n    metadata: 'metadata'\n  };\n  /**\n   * All possible `TextTrackMode`s\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#texttrackmode\n   * @typedef TextTrack~Mode\n   * @enum\n   */\n\n  var TextTrackMode = {\n    disabled: 'disabled',\n    hidden: 'hidden',\n    showing: 'showing'\n  };\n\n  /**\n   * A Track class that contains all of the common functionality for {@link AudioTrack},\n   * {@link VideoTrack}, and {@link TextTrack}.\n   *\n   * > Note: This class should not be used directly\n   *\n   * @see {@link https://html.spec.whatwg.org/multipage/embedded-content.html}\n   * @extends EventTarget\n   * @abstract\n   */\n\n  var Track =\n  /*#__PURE__*/\n  function (_EventTarget) {\n    _inheritsLoose(Track, _EventTarget);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {string} [options.kind='']\n     *        A valid kind for the track type you are creating.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @abstract\n     */\n    function Track(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _EventTarget.call(this) || this;\n      var trackProps = {\n        id: options.id || 'vjs_track_' + newGUID(),\n        kind: options.kind || '',\n        label: options.label || '',\n        language: options.language || ''\n      };\n      /**\n       * @memberof Track\n       * @member {string} id\n       *         The id of this track. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} kind\n       *         The kind of track that this is. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} label\n       *         The label of this track. Cannot be changed after creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      /**\n       * @memberof Track\n       * @member {string} language\n       *         The two letter language code for this track. Cannot be changed after\n       *         creation.\n       * @instance\n       *\n       * @readonly\n       */\n\n      var _loop = function _loop(key) {\n        Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), key, {\n          get: function get() {\n            return trackProps[key];\n          },\n          set: function set() {}\n        });\n      };\n\n      for (var key in trackProps) {\n        _loop(key);\n      }\n\n      return _this;\n    }\n\n    return Track;\n  }(EventTarget);\n\n  /**\n   * @file url.js\n   * @module url\n   */\n  /**\n   * @typedef {Object} url:URLObject\n   *\n   * @property {string} protocol\n   *           The protocol of the url that was parsed.\n   *\n   * @property {string} hostname\n   *           The hostname of the url that was parsed.\n   *\n   * @property {string} port\n   *           The port of the url that was parsed.\n   *\n   * @property {string} pathname\n   *           The pathname of the url that was parsed.\n   *\n   * @property {string} search\n   *           The search query of the url that was parsed.\n   *\n   * @property {string} hash\n   *           The hash of the url that was parsed.\n   *\n   * @property {string} host\n   *           The host of the url that was parsed.\n   */\n\n  /**\n   * Resolve and parse the elements of a URL.\n   *\n   * @function\n   * @param    {String} url\n   *           The url to parse\n   *\n   * @return   {url:URLObject}\n   *           An object of url details\n   */\n\n  var parseUrl = function parseUrl(url) {\n    var props = ['protocol', 'hostname', 'port', 'pathname', 'search', 'hash', 'host']; // add the url to an anchor and let the browser parse the URL\n\n    var a = document.createElement('a');\n    a.href = url; // IE8 (and 9?) Fix\n    // ie8 doesn't parse the URL correctly until the anchor is actually\n    // added to the body, and an innerHTML is needed to trigger the parsing\n\n    var addToBody = a.host === '' && a.protocol !== 'file:';\n    var div;\n\n    if (addToBody) {\n      div = document.createElement('div');\n      div.innerHTML = \"<a href=\\\"\" + url + \"\\\"></a>\";\n      a = div.firstChild; // prevent the div from affecting layout\n\n      div.setAttribute('style', 'display:none; position:absolute;');\n      document.body.appendChild(div);\n    } // Copy the specific URL properties to a new object\n    // This is also needed for IE8 because the anchor loses its\n    // properties when it's removed from the dom\n\n\n    var details = {};\n\n    for (var i = 0; i < props.length; i++) {\n      details[props[i]] = a[props[i]];\n    } // IE9 adds the port to the host property unlike everyone else. If\n    // a port identifier is added for standard ports, strip it.\n\n\n    if (details.protocol === 'http:') {\n      details.host = details.host.replace(/:80$/, '');\n    }\n\n    if (details.protocol === 'https:') {\n      details.host = details.host.replace(/:443$/, '');\n    }\n\n    if (!details.protocol) {\n      details.protocol = window$1.location.protocol;\n    }\n\n    if (addToBody) {\n      document.body.removeChild(div);\n    }\n\n    return details;\n  };\n  /**\n   * Get absolute version of relative URL. Used to tell Flash the correct URL.\n   *\n   * @function\n   * @param    {string} url\n   *           URL to make absolute\n   *\n   * @return   {string}\n   *           Absolute URL\n   *\n   * @see      http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n   */\n\n  var getAbsoluteURL = function getAbsoluteURL(url) {\n    // Check if absolute URL\n    if (!url.match(/^https?:\\/\\//)) {\n      // Convert to absolute URL. Flash hosted off-site needs an absolute URL.\n      var div = document.createElement('div');\n      div.innerHTML = \"<a href=\\\"\" + url + \"\\\">x</a>\";\n      url = div.firstChild.href;\n    }\n\n    return url;\n  };\n  /**\n   * Returns the extension of the passed file name. It will return an empty string\n   * if passed an invalid path.\n   *\n   * @function\n   * @param    {string} path\n   *           The fileName path like '/path/to/file.mp4'\n   *\n   * @return  {string}\n   *           The extension in lower case or an empty string if no\n   *           extension could be found.\n   */\n\n  var getFileExtension = function getFileExtension(path) {\n    if (typeof path === 'string') {\n      var splitPathRe = /^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/i;\n      var pathParts = splitPathRe.exec(path);\n\n      if (pathParts) {\n        return pathParts.pop().toLowerCase();\n      }\n    }\n\n    return '';\n  };\n  /**\n   * Returns whether the url passed is a cross domain request or not.\n   *\n   * @function\n   * @param    {string} url\n   *           The url to check.\n   *\n   * @return   {boolean}\n   *           Whether it is a cross domain request or not.\n   */\n\n  var isCrossOrigin = function isCrossOrigin(url) {\n    var winLoc = window$1.location;\n    var urlInfo = parseUrl(url); // IE8 protocol relative urls will return ':' for protocol\n\n    var srcProtocol = urlInfo.protocol === ':' ? winLoc.protocol : urlInfo.protocol; // Check if url is for another domain/origin\n    // IE8 doesn't know location.origin, so we won't rely on it here\n\n    var crossOrigin = srcProtocol + urlInfo.host !== winLoc.protocol + winLoc.host;\n    return crossOrigin;\n  };\n\n  var Url = /*#__PURE__*/Object.freeze({\n    parseUrl: parseUrl,\n    getAbsoluteURL: getAbsoluteURL,\n    getFileExtension: getFileExtension,\n    isCrossOrigin: isCrossOrigin\n  });\n\n  var isFunction_1 = isFunction;\n  var toString$1 = Object.prototype.toString;\n\n  function isFunction(fn) {\n    var string = toString$1.call(fn);\n    return string === '[object Function]' || typeof fn === 'function' && string !== '[object RegExp]' || typeof window !== 'undefined' && ( // IE8 and below\n    fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt);\n  }\n\n  var trim_1 = createCommonjsModule(function (module, exports) {\n    exports = module.exports = trim;\n\n    function trim(str) {\n      return str.replace(/^\\s*|\\s*$/g, '');\n    }\n\n    exports.left = function (str) {\n      return str.replace(/^\\s*/, '');\n    };\n\n    exports.right = function (str) {\n      return str.replace(/\\s*$/, '');\n    };\n  });\n  var trim_2 = trim_1.left;\n  var trim_3 = trim_1.right;\n\n  var fnToStr = Function.prototype.toString;\n  var constructorRegex = /^\\s*class\\b/;\n\n  var isES6ClassFn = function isES6ClassFunction(value) {\n    try {\n      var fnStr = fnToStr.call(value);\n      return constructorRegex.test(fnStr);\n    } catch (e) {\n      return false; // not a function\n    }\n  };\n\n  var tryFunctionObject = function tryFunctionToStr(value) {\n    try {\n      if (isES6ClassFn(value)) {\n        return false;\n      }\n\n      fnToStr.call(value);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  var toStr = Object.prototype.toString;\n  var fnClass = '[object Function]';\n  var genClass = '[object GeneratorFunction]';\n  var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';\n\n  var isCallable = function isCallable(value) {\n    if (!value) {\n      return false;\n    }\n\n    if (typeof value !== 'function' && typeof value !== 'object') {\n      return false;\n    }\n\n    if (typeof value === 'function' && !value.prototype) {\n      return true;\n    }\n\n    if (hasToStringTag) {\n      return tryFunctionObject(value);\n    }\n\n    if (isES6ClassFn(value)) {\n      return false;\n    }\n\n    var strClass = toStr.call(value);\n    return strClass === fnClass || strClass === genClass;\n  };\n\n  var toStr$1 = Object.prototype.toString;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  var forEachArray = function forEachArray(array, iterator, receiver) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (hasOwnProperty.call(array, i)) {\n        if (receiver == null) {\n          iterator(array[i], i, array);\n        } else {\n          iterator.call(receiver, array[i], i, array);\n        }\n      }\n    }\n  };\n\n  var forEachString = function forEachString(string, iterator, receiver) {\n    for (var i = 0, len = string.length; i < len; i++) {\n      // no such thing as a sparse string.\n      if (receiver == null) {\n        iterator(string.charAt(i), i, string);\n      } else {\n        iterator.call(receiver, string.charAt(i), i, string);\n      }\n    }\n  };\n\n  var forEachObject = function forEachObject(object, iterator, receiver) {\n    for (var k in object) {\n      if (hasOwnProperty.call(object, k)) {\n        if (receiver == null) {\n          iterator(object[k], k, object);\n        } else {\n          iterator.call(receiver, object[k], k, object);\n        }\n      }\n    }\n  };\n\n  var forEach = function forEach(list, iterator, thisArg) {\n    if (!isCallable(iterator)) {\n      throw new TypeError('iterator must be a function');\n    }\n\n    var receiver;\n\n    if (arguments.length >= 3) {\n      receiver = thisArg;\n    }\n\n    if (toStr$1.call(list) === '[object Array]') {\n      forEachArray(list, iterator, receiver);\n    } else if (typeof list === 'string') {\n      forEachString(list, iterator, receiver);\n    } else {\n      forEachObject(list, iterator, receiver);\n    }\n  };\n\n  var forEach_1 = forEach;\n\n  var isArray = function isArray(arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n  };\n\n  var parseHeaders = function parseHeaders(headers) {\n    if (!headers) return {};\n    var result = {};\n    forEach_1(trim_1(headers).split('\\n'), function (row) {\n      var index = row.indexOf(':'),\n          key = trim_1(row.slice(0, index)).toLowerCase(),\n          value = trim_1(row.slice(index + 1));\n\n      if (typeof result[key] === 'undefined') {\n        result[key] = value;\n      } else if (isArray(result[key])) {\n        result[key].push(value);\n      } else {\n        result[key] = [result[key], value];\n      }\n    });\n    return result;\n  };\n\n  var immutable = extend;\n  var hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n\n  function extend() {\n    var target = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (hasOwnProperty$1.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  }\n\n  var xhr = createXHR;\n  createXHR.XMLHttpRequest = window$1.XMLHttpRequest || noop;\n  createXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window$1.XDomainRequest;\n  forEachArray$1([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (method) {\n    createXHR[method === \"delete\" ? \"del\" : method] = function (uri, options, callback) {\n      options = initParams(uri, options, callback);\n      options.method = method.toUpperCase();\n      return _createXHR(options);\n    };\n  });\n\n  function forEachArray$1(array, iterator) {\n    for (var i = 0; i < array.length; i++) {\n      iterator(array[i]);\n    }\n  }\n\n  function isEmpty(obj) {\n    for (var i in obj) {\n      if (obj.hasOwnProperty(i)) return false;\n    }\n\n    return true;\n  }\n\n  function initParams(uri, options, callback) {\n    var params = uri;\n\n    if (isFunction_1(options)) {\n      callback = options;\n\n      if (typeof uri === \"string\") {\n        params = {\n          uri: uri\n        };\n      }\n    } else {\n      params = immutable(options, {\n        uri: uri\n      });\n    }\n\n    params.callback = callback;\n    return params;\n  }\n\n  function createXHR(uri, options, callback) {\n    options = initParams(uri, options, callback);\n    return _createXHR(options);\n  }\n\n  function _createXHR(options) {\n    if (typeof options.callback === \"undefined\") {\n      throw new Error(\"callback argument missing\");\n    }\n\n    var called = false;\n\n    var callback = function cbOnce(err, response, body) {\n      if (!called) {\n        called = true;\n        options.callback(err, response, body);\n      }\n    };\n\n    function readystatechange() {\n      if (xhr.readyState === 4) {\n        setTimeout(loadFunc, 0);\n      }\n    }\n\n    function getBody() {\n      // Chrome with requestType=blob throws errors arround when even testing access to responseText\n      var body = undefined;\n\n      if (xhr.response) {\n        body = xhr.response;\n      } else {\n        body = xhr.responseText || getXml(xhr);\n      }\n\n      if (isJson) {\n        try {\n          body = JSON.parse(body);\n        } catch (e) {}\n      }\n\n      return body;\n    }\n\n    function errorFunc(evt) {\n      clearTimeout(timeoutTimer);\n\n      if (!(evt instanceof Error)) {\n        evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n      }\n\n      evt.statusCode = 0;\n      return callback(evt, failureResponse);\n    } // will load the data & process the response in a special response object\n\n\n    function loadFunc() {\n      if (aborted) return;\n      var status;\n      clearTimeout(timeoutTimer);\n\n      if (options.useXDR && xhr.status === undefined) {\n        //IE8 CORS GET successful response doesn't have a status field, but body is fine\n        status = 200;\n      } else {\n        status = xhr.status === 1223 ? 204 : xhr.status;\n      }\n\n      var response = failureResponse;\n      var err = null;\n\n      if (status !== 0) {\n        response = {\n          body: getBody(),\n          statusCode: status,\n          method: method,\n          headers: {},\n          url: uri,\n          rawRequest: xhr\n        };\n\n        if (xhr.getAllResponseHeaders) {\n          //remember xhr can in fact be XDR for CORS in IE\n          response.headers = parseHeaders(xhr.getAllResponseHeaders());\n        }\n      } else {\n        err = new Error(\"Internal XMLHttpRequest Error\");\n      }\n\n      return callback(err, response, response.body);\n    }\n\n    var xhr = options.xhr || null;\n\n    if (!xhr) {\n      if (options.cors || options.useXDR) {\n        xhr = new createXHR.XDomainRequest();\n      } else {\n        xhr = new createXHR.XMLHttpRequest();\n      }\n    }\n\n    var key;\n    var aborted;\n    var uri = xhr.url = options.uri || options.url;\n    var method = xhr.method = options.method || \"GET\";\n    var body = options.body || options.data;\n    var headers = xhr.headers = options.headers || {};\n    var sync = !!options.sync;\n    var isJson = false;\n    var timeoutTimer;\n    var failureResponse = {\n      body: undefined,\n      headers: {},\n      statusCode: 0,\n      method: method,\n      url: uri,\n      rawRequest: xhr\n    };\n\n    if (\"json\" in options && options.json !== false) {\n      isJson = true;\n      headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n      if (method !== \"GET\" && method !== \"HEAD\") {\n        headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n        body = JSON.stringify(options.json === true ? body : options.json);\n      }\n    }\n\n    xhr.onreadystatechange = readystatechange;\n    xhr.onload = loadFunc;\n    xhr.onerror = errorFunc; // IE9 must have onprogress be set to a unique function.\n\n    xhr.onprogress = function () {// IE must die\n    };\n\n    xhr.onabort = function () {\n      aborted = true;\n    };\n\n    xhr.ontimeout = errorFunc;\n    xhr.open(method, uri, !sync, options.username, options.password); //has to be after open\n\n    if (!sync) {\n      xhr.withCredentials = !!options.withCredentials;\n    } // Cannot set timeout with sync request\n    // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n    // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\n\n    if (!sync && options.timeout > 0) {\n      timeoutTimer = setTimeout(function () {\n        if (aborted) return;\n        aborted = true; //IE9 may still call readystatechange\n\n        xhr.abort(\"timeout\");\n        var e = new Error(\"XMLHttpRequest timeout\");\n        e.code = \"ETIMEDOUT\";\n        errorFunc(e);\n      }, options.timeout);\n    }\n\n    if (xhr.setRequestHeader) {\n      for (key in headers) {\n        if (headers.hasOwnProperty(key)) {\n          xhr.setRequestHeader(key, headers[key]);\n        }\n      }\n    } else if (options.headers && !isEmpty(options.headers)) {\n      throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n    }\n\n    if (\"responseType\" in options) {\n      xhr.responseType = options.responseType;\n    }\n\n    if (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n      options.beforeSend(xhr);\n    } // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n    // XMLHttpRequest spec says to pass null as body to indicate no body\n    // See https://github.com/naugtur/xhr/issues/100.\n\n\n    xhr.send(body || null);\n    return xhr;\n  }\n\n  function getXml(xhr) {\n    if (xhr.responseType === \"document\") {\n      return xhr.responseXML;\n    }\n\n    var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\";\n\n    if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n      return xhr.responseXML;\n    }\n\n    return null;\n  }\n\n  function noop() {}\n\n  /**\n   * Takes a webvtt file contents and parses it into cues\n   *\n   * @param {string} srcContent\n   *        webVTT file contents\n   *\n   * @param {TextTrack} track\n   *        TextTrack to add cues to. Cues come from the srcContent.\n   *\n   * @private\n   */\n\n  var parseCues = function parseCues(srcContent, track) {\n    var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, window$1.WebVTT.StringDecoder());\n    var errors = [];\n\n    parser.oncue = function (cue) {\n      track.addCue(cue);\n    };\n\n    parser.onparsingerror = function (error) {\n      errors.push(error);\n    };\n\n    parser.onflush = function () {\n      track.trigger({\n        type: 'loadeddata',\n        target: track\n      });\n    };\n\n    parser.parse(srcContent);\n\n    if (errors.length > 0) {\n      if (window$1.console && window$1.console.groupCollapsed) {\n        window$1.console.groupCollapsed(\"Text Track parsing errors for \" + track.src);\n      }\n\n      errors.forEach(function (error) {\n        return log.error(error);\n      });\n\n      if (window$1.console && window$1.console.groupEnd) {\n        window$1.console.groupEnd();\n      }\n    }\n\n    parser.flush();\n  };\n  /**\n   * Load a `TextTrack` from a specified url.\n   *\n   * @param {string} src\n   *        Url to load track from.\n   *\n   * @param {TextTrack} track\n   *        Track to add cues to. Comes from the content at the end of `url`.\n   *\n   * @private\n   */\n\n\n  var loadTrack = function loadTrack(src, track) {\n    var opts = {\n      uri: src\n    };\n    var crossOrigin = isCrossOrigin(src);\n\n    if (crossOrigin) {\n      opts.cors = crossOrigin;\n    }\n\n    xhr(opts, bind(this, function (err, response, responseBody) {\n      if (err) {\n        return log.error(err, response);\n      }\n\n      track.loaded_ = true; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n      // NOTE: this is only used for the alt/video.novtt.js build\n\n      if (typeof window$1.WebVTT !== 'function') {\n        if (track.tech_) {\n          // to prevent use before define eslint error, we define loadHandler\n          // as a let here\n          var loadHandler;\n\n          var errorHandler = function errorHandler() {\n            log.error(\"vttjs failed to load, stopping trying to process \" + track.src);\n            track.tech_.off('vttjsloaded', loadHandler);\n          };\n\n          loadHandler = function loadHandler() {\n            track.tech_.off('vttjserror', errorHandler);\n            return parseCues(responseBody, track);\n          };\n\n          track.tech_.one('vttjsloaded', loadHandler);\n          track.tech_.one('vttjserror', errorHandler);\n        }\n      } else {\n        parseCues(responseBody, track);\n      }\n    }));\n  };\n  /**\n   * A representation of a single `TextTrack`.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#texttrack}\n   * @extends Track\n   */\n\n\n  var TextTrack =\n  /*#__PURE__*/\n  function (_Track) {\n    _inheritsLoose(TextTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} options={}\n     *        Object of option names and values\n     *\n     * @param {Tech} options.tech\n     *        A reference to the tech that owns this TextTrack.\n     *\n     * @param {TextTrack~Kind} [options.kind='subtitles']\n     *        A valid text track kind.\n     *\n     * @param {TextTrack~Mode} [options.mode='disabled']\n     *        A valid text track mode.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this TextTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {string} [options.srclang='']\n     *        A valid two character language code. An alternative, but deprioritized\n     *        version of `options.language`\n     *\n     * @param {string} [options.src]\n     *        A url to TextTrack cues.\n     *\n     * @param {boolean} [options.default]\n     *        If this track should default to on or off.\n     */\n    function TextTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (!options.tech) {\n        throw new Error('A tech was not provided.');\n      }\n\n      var settings = mergeOptions(options, {\n        kind: TextTrackKind[options.kind] || 'subtitles',\n        language: options.language || options.srclang || ''\n      });\n      var mode = TextTrackMode[settings.mode] || 'disabled';\n      var default_ = settings.default;\n\n      if (settings.kind === 'metadata' || settings.kind === 'chapters') {\n        mode = 'hidden';\n      }\n\n      _this = _Track.call(this, settings) || this;\n      _this.tech_ = settings.tech;\n      _this.cues_ = [];\n      _this.activeCues_ = [];\n      var cues = new TextTrackCueList(_this.cues_);\n      var activeCues = new TextTrackCueList(_this.activeCues_);\n      var changed = false;\n      var timeupdateHandler = bind(_assertThisInitialized(_assertThisInitialized(_this)), function () {\n        // Accessing this.activeCues for the side-effects of updating itself\n        // due to its nature as a getter function. Do not remove or cues will\n        // stop updating!\n        // Use the setter to prevent deletion from uglify (pure_getters rule)\n        this.activeCues = this.activeCues;\n\n        if (changed) {\n          this.trigger('cuechange');\n          changed = false;\n        }\n      });\n\n      if (mode !== 'disabled') {\n        _this.tech_.ready(function () {\n          _this.tech_.on('timeupdate', timeupdateHandler);\n        }, true);\n      }\n\n      Object.defineProperties(_assertThisInitialized(_assertThisInitialized(_this)), {\n        /**\n         * @memberof TextTrack\n         * @member {boolean} default\n         *         If this track was set to be on or off by default. Cannot be changed after\n         *         creation.\n         * @instance\n         *\n         * @readonly\n         */\n        default: {\n          get: function get() {\n            return default_;\n          },\n          set: function set() {}\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {string} mode\n         *         Set the mode of this TextTrack to a valid {@link TextTrack~Mode}. Will\n         *         not be set if setting to an invalid mode.\n         * @instance\n         *\n         * @fires TextTrack#modechange\n         */\n        mode: {\n          get: function get() {\n            return mode;\n          },\n          set: function set(newMode) {\n            var _this2 = this;\n\n            if (!TextTrackMode[newMode]) {\n              return;\n            }\n\n            mode = newMode;\n\n            if (mode !== 'disabled') {\n              this.tech_.ready(function () {\n                _this2.tech_.on('timeupdate', timeupdateHandler);\n              }, true);\n            } else {\n              this.tech_.off('timeupdate', timeupdateHandler);\n            }\n            /**\n             * An event that fires when mode changes on this track. This allows\n             * the TextTrackList that holds this track to act accordingly.\n             *\n             * > Note: This is not part of the spec!\n             *\n             * @event TextTrack#modechange\n             * @type {EventTarget~Event}\n             */\n\n\n            this.trigger('modechange');\n          }\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {TextTrackCueList} cues\n         *         The text track cue list for this TextTrack.\n         * @instance\n         */\n        cues: {\n          get: function get() {\n            if (!this.loaded_) {\n              return null;\n            }\n\n            return cues;\n          },\n          set: function set() {}\n        },\n\n        /**\n         * @memberof TextTrack\n         * @member {TextTrackCueList} activeCues\n         *         The list text track cues that are currently active for this TextTrack.\n         * @instance\n         */\n        activeCues: {\n          get: function get() {\n            if (!this.loaded_) {\n              return null;\n            } // nothing to do\n\n\n            if (this.cues.length === 0) {\n              return activeCues;\n            }\n\n            var ct = this.tech_.currentTime();\n            var active = [];\n\n            for (var i = 0, l = this.cues.length; i < l; i++) {\n              var cue = this.cues[i];\n\n              if (cue.startTime <= ct && cue.endTime >= ct) {\n                active.push(cue);\n              } else if (cue.startTime === cue.endTime && cue.startTime <= ct && cue.startTime + 0.5 >= ct) {\n                active.push(cue);\n              }\n            }\n\n            changed = false;\n\n            if (active.length !== this.activeCues_.length) {\n              changed = true;\n            } else {\n              for (var _i = 0; _i < active.length; _i++) {\n                if (this.activeCues_.indexOf(active[_i]) === -1) {\n                  changed = true;\n                }\n              }\n            }\n\n            this.activeCues_ = active;\n            activeCues.setCues_(this.activeCues_);\n            return activeCues;\n          },\n          // /!\\ Keep this setter empty (see the timeupdate handler above)\n          set: function set() {}\n        }\n      });\n\n      if (settings.src) {\n        _this.src = settings.src;\n        loadTrack(settings.src, _assertThisInitialized(_assertThisInitialized(_this)));\n      } else {\n        _this.loaded_ = true;\n      }\n\n      return _this;\n    }\n    /**\n     * Add a cue to the internal list of cues.\n     *\n     * @param {TextTrack~Cue} cue\n     *        The cue to add to our internal list\n     */\n\n\n    var _proto = TextTrack.prototype;\n\n    _proto.addCue = function addCue(originalCue) {\n      var cue = originalCue;\n\n      if (window$1.vttjs && !(originalCue instanceof window$1.vttjs.VTTCue)) {\n        cue = new window$1.vttjs.VTTCue(originalCue.startTime, originalCue.endTime, originalCue.text);\n\n        for (var prop in originalCue) {\n          if (!(prop in cue)) {\n            cue[prop] = originalCue[prop];\n          }\n        } // make sure that `id` is copied over\n\n\n        cue.id = originalCue.id;\n        cue.originalCue_ = originalCue;\n      }\n\n      var tracks = this.tech_.textTracks();\n\n      for (var i = 0; i < tracks.length; i++) {\n        if (tracks[i] !== this) {\n          tracks[i].removeCue(cue);\n        }\n      }\n\n      this.cues_.push(cue);\n      this.cues.setCues_(this.cues_);\n    }\n    /**\n     * Remove a cue from our internal list\n     *\n     * @param {TextTrack~Cue} removeCue\n     *        The cue to remove from our internal list\n     */\n    ;\n\n    _proto.removeCue = function removeCue(_removeCue) {\n      var i = this.cues_.length;\n\n      while (i--) {\n        var cue = this.cues_[i];\n\n        if (cue === _removeCue || cue.originalCue_ && cue.originalCue_ === _removeCue) {\n          this.cues_.splice(i, 1);\n          this.cues.setCues_(this.cues_);\n          break;\n        }\n      }\n    };\n\n    return TextTrack;\n  }(Track);\n  /**\n   * cuechange - One or more cues in the track have become active or stopped being active.\n   */\n\n\n  TextTrack.prototype.allowedEvents_ = {\n    cuechange: 'cuechange'\n  };\n\n  /**\n   * A representation of a single `AudioTrack`. If it is part of an {@link AudioTrackList}\n   * only one `AudioTrack` in the list will be enabled at a time.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotrack}\n   * @extends Track\n   */\n\n  var AudioTrack =\n  /*#__PURE__*/\n  function (_Track) {\n    _inheritsLoose(AudioTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {AudioTrack~Kind} [options.kind='']\n     *        A valid audio track kind\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {boolean} [options.enabled]\n     *        If this track is the one that is currently playing. If this track is part of\n     *        an {@link AudioTrackList}, only one {@link AudioTrack} will be enabled.\n     */\n    function AudioTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var settings = mergeOptions(options, {\n        kind: AudioTrackKind[options.kind] || ''\n      });\n      _this = _Track.call(this, settings) || this;\n      var enabled = false;\n      /**\n       * @memberof AudioTrack\n       * @member {boolean} enabled\n       *         If this `AudioTrack` is enabled or not. When setting this will\n       *         fire {@link AudioTrack#enabledchange} if the state of enabled is changed.\n       * @instance\n       *\n       * @fires VideoTrack#selectedchange\n       */\n\n      Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), 'enabled', {\n        get: function get() {\n          return enabled;\n        },\n        set: function set(newEnabled) {\n          // an invalid or unchanged value\n          if (typeof newEnabled !== 'boolean' || newEnabled === enabled) {\n            return;\n          }\n\n          enabled = newEnabled;\n          /**\n           * An event that fires when enabled changes on this track. This allows\n           * the AudioTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec! Native tracks will do\n           *         this internally without an event.\n           *\n           * @event AudioTrack#enabledchange\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('enabledchange');\n        }\n      }); // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n\n      if (settings.enabled) {\n        _this.enabled = settings.enabled;\n      }\n\n      _this.loaded_ = true;\n      return _this;\n    }\n\n    return AudioTrack;\n  }(Track);\n\n  /**\n   * A representation of a single `VideoTrack`.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#videotrack}\n   * @extends Track\n   */\n\n  var VideoTrack =\n  /*#__PURE__*/\n  function (_Track) {\n    _inheritsLoose(VideoTrack, _Track);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} [options={}]\n     *        Object of option names and values\n     *\n     * @param {string} [options.kind='']\n     *        A valid {@link VideoTrack~Kind}\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this AudioTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {boolean} [options.selected]\n     *        If this track is the one that is currently playing.\n     */\n    function VideoTrack(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var settings = mergeOptions(options, {\n        kind: VideoTrackKind[options.kind] || ''\n      });\n      _this = _Track.call(this, settings) || this;\n      var selected = false;\n      /**\n       * @memberof VideoTrack\n       * @member {boolean} selected\n       *         If this `VideoTrack` is selected or not. When setting this will\n       *         fire {@link VideoTrack#selectedchange} if the state of selected changed.\n       * @instance\n       *\n       * @fires VideoTrack#selectedchange\n       */\n\n      Object.defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), 'selected', {\n        get: function get() {\n          return selected;\n        },\n        set: function set(newSelected) {\n          // an invalid or unchanged value\n          if (typeof newSelected !== 'boolean' || newSelected === selected) {\n            return;\n          }\n\n          selected = newSelected;\n          /**\n           * An event that fires when selected changes on this track. This allows\n           * the VideoTrackList that holds this track to act accordingly.\n           *\n           * > Note: This is not part of the spec! Native tracks will do\n           *         this internally without an event.\n           *\n           * @event VideoTrack#selectedchange\n           * @type {EventTarget~Event}\n           */\n\n          this.trigger('selectedchange');\n        }\n      }); // if the user sets this track to selected then\n      // set selected to that true value otherwise\n      // we keep it false\n\n      if (settings.selected) {\n        _this.selected = settings.selected;\n      }\n\n      return _this;\n    }\n\n    return VideoTrack;\n  }(Track);\n\n  /**\n   * @memberof HTMLTrackElement\n   * @typedef {HTMLTrackElement~ReadyState}\n   * @enum {number}\n   */\n\n  var NONE = 0;\n  var LOADING = 1;\n  var LOADED = 2;\n  var ERROR = 3;\n  /**\n   * A single track represented in the DOM.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#htmltrackelement}\n   * @extends EventTarget\n   */\n\n  var HTMLTrackElement =\n  /*#__PURE__*/\n  function (_EventTarget) {\n    _inheritsLoose(HTMLTrackElement, _EventTarget);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Object} options={}\n     *        Object of option names and values\n     *\n     * @param {Tech} options.tech\n     *        A reference to the tech that owns this HTMLTrackElement.\n     *\n     * @param {TextTrack~Kind} [options.kind='subtitles']\n     *        A valid text track kind.\n     *\n     * @param {TextTrack~Mode} [options.mode='disabled']\n     *        A valid text track mode.\n     *\n     * @param {string} [options.id='vjs_track_' + Guid.newGUID()]\n     *        A unique id for this TextTrack.\n     *\n     * @param {string} [options.label='']\n     *        The menu label for this track.\n     *\n     * @param {string} [options.language='']\n     *        A valid two character language code.\n     *\n     * @param {string} [options.srclang='']\n     *        A valid two character language code. An alternative, but deprioritized\n     *        vesion of `options.language`\n     *\n     * @param {string} [options.src]\n     *        A url to TextTrack cues.\n     *\n     * @param {boolean} [options.default]\n     *        If this track should default to on or off.\n     */\n    function HTMLTrackElement(options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _EventTarget.call(this) || this;\n      var readyState;\n      var track = new TextTrack(options);\n      _this.kind = track.kind;\n      _this.src = track.src;\n      _this.srclang = track.language;\n      _this.label = track.label;\n      _this.default = track.default;\n      Object.defineProperties(_assertThisInitialized(_assertThisInitialized(_this)), {\n        /**\n         * @memberof HTMLTrackElement\n         * @member {HTMLTrackElement~ReadyState} readyState\n         *         The current ready state of the track element.\n         * @instance\n         */\n        readyState: {\n          get: function get() {\n            return readyState;\n          }\n        },\n\n        /**\n         * @memberof HTMLTrackElement\n         * @member {TextTrack} track\n         *         The underlying TextTrack object.\n         * @instance\n         *\n         */\n        track: {\n          get: function get() {\n            return track;\n          }\n        }\n      });\n      readyState = NONE;\n      /**\n       * @listens TextTrack#loadeddata\n       * @fires HTMLTrackElement#load\n       */\n\n      track.addEventListener('loadeddata', function () {\n        readyState = LOADED;\n\n        _this.trigger({\n          type: 'load',\n          target: _assertThisInitialized(_assertThisInitialized(_this))\n        });\n      });\n      return _this;\n    }\n\n    return HTMLTrackElement;\n  }(EventTarget);\n\n  HTMLTrackElement.prototype.allowedEvents_ = {\n    load: 'load'\n  };\n  HTMLTrackElement.NONE = NONE;\n  HTMLTrackElement.LOADING = LOADING;\n  HTMLTrackElement.LOADED = LOADED;\n  HTMLTrackElement.ERROR = ERROR;\n\n  /*\n   * This file contains all track properties that are used in\n   * player.js, tech.js, html5.js and possibly other techs in the future.\n   */\n\n  var NORMAL = {\n    audio: {\n      ListClass: AudioTrackList,\n      TrackClass: AudioTrack,\n      capitalName: 'Audio'\n    },\n    video: {\n      ListClass: VideoTrackList,\n      TrackClass: VideoTrack,\n      capitalName: 'Video'\n    },\n    text: {\n      ListClass: TextTrackList,\n      TrackClass: TextTrack,\n      capitalName: 'Text'\n    }\n  };\n  Object.keys(NORMAL).forEach(function (type) {\n    NORMAL[type].getterName = type + \"Tracks\";\n    NORMAL[type].privateName = type + \"Tracks_\";\n  });\n  var REMOTE = {\n    remoteText: {\n      ListClass: TextTrackList,\n      TrackClass: TextTrack,\n      capitalName: 'RemoteText',\n      getterName: 'remoteTextTracks',\n      privateName: 'remoteTextTracks_'\n    },\n    remoteTextEl: {\n      ListClass: HtmlTrackElementList,\n      TrackClass: HTMLTrackElement,\n      capitalName: 'RemoteTextTrackEls',\n      getterName: 'remoteTextTrackEls',\n      privateName: 'remoteTextTrackEls_'\n    }\n  };\n  var ALL = mergeOptions(NORMAL, REMOTE);\n  REMOTE.names = Object.keys(REMOTE);\n  NORMAL.names = Object.keys(NORMAL);\n  ALL.names = [].concat(REMOTE.names).concat(NORMAL.names);\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\n  /* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\n  var _objCreate = Object.create || function () {\n    function F() {}\n\n    return function (o) {\n      if (arguments.length !== 1) {\n        throw new Error('Object.create shim only accepts one parameter.');\n      }\n\n      F.prototype = o;\n      return new F();\n    };\n  }(); // Creates a new ParserError object from an errorData object. The errorData\n  // object should have default code and message properties. The default message\n  // property can be overriden by passing in a message parameter.\n  // See ParsingError.Errors below for acceptable errors.\n\n\n  function ParsingError(errorData, message) {\n    this.name = \"ParsingError\";\n    this.code = errorData.code;\n    this.message = message || errorData.message;\n  }\n\n  ParsingError.prototype = _objCreate(Error.prototype);\n  ParsingError.prototype.constructor = ParsingError; // ParsingError metadata for acceptable ParsingErrors.\n\n  ParsingError.Errors = {\n    BadSignature: {\n      code: 0,\n      message: \"Malformed WebVTT signature.\"\n    },\n    BadTimeStamp: {\n      code: 1,\n      message: \"Malformed time stamp.\"\n    }\n  }; // Try to parse input as a time stamp.\n\n  function parseTimeStamp(input) {\n    function computeSeconds(h, m, s, f) {\n      return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n    }\n\n    var m = input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);\n\n    if (!m) {\n      return null;\n    }\n\n    if (m[3]) {\n      // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n      return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n    } else if (m[1] > 59) {\n      // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n      // First position is hours as it's over 59.\n      return computeSeconds(m[1], m[2], 0, m[4]);\n    } else {\n      // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n      return computeSeconds(0, m[1], m[2], m[4]);\n    }\n  } // A settings object holds key/value pairs and will ignore anything but the first\n  // assignment to a specific key.\n\n\n  function Settings() {\n    this.values = _objCreate(null);\n  }\n\n  Settings.prototype = {\n    // Only accept the first assignment to any key.\n    set: function set(k, v) {\n      if (!this.get(k) && v !== \"\") {\n        this.values[k] = v;\n      }\n    },\n    // Return the value for a key, or a default value.\n    // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n    // a number of possible default values as properties where 'defaultKey' is\n    // the key of the property that will be chosen; otherwise it's assumed to be\n    // a single value.\n    get: function get(k, dflt, defaultKey) {\n      if (defaultKey) {\n        return this.has(k) ? this.values[k] : dflt[defaultKey];\n      }\n\n      return this.has(k) ? this.values[k] : dflt;\n    },\n    // Check whether we have a value for a key.\n    has: function has(k) {\n      return k in this.values;\n    },\n    // Accept a setting if its one of the given alternatives.\n    alt: function alt(k, v, a) {\n      for (var n = 0; n < a.length; ++n) {\n        if (v === a[n]) {\n          this.set(k, v);\n          break;\n        }\n      }\n    },\n    // Accept a setting if its a valid (signed) integer.\n    integer: function integer(k, v) {\n      if (/^-?\\d+$/.test(v)) {\n        // integer\n        this.set(k, parseInt(v, 10));\n      }\n    },\n    // Accept a setting if its a valid percentage.\n    percent: function percent(k, v) {\n      var m;\n\n      if (m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)) {\n        v = parseFloat(v);\n\n        if (v >= 0 && v <= 100) {\n          this.set(k, v);\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }; // Helper function to parse input into groups separated by 'groupDelim', and\n  // interprete each group as a key/value pair separated by 'keyValueDelim'.\n\n  function parseOptions(input, callback, keyValueDelim, groupDelim) {\n    var groups = groupDelim ? input.split(groupDelim) : [input];\n\n    for (var i in groups) {\n      if (typeof groups[i] !== \"string\") {\n        continue;\n      }\n\n      var kv = groups[i].split(keyValueDelim);\n\n      if (kv.length !== 2) {\n        continue;\n      }\n\n      var k = kv[0];\n      var v = kv[1];\n      callback(k, v);\n    }\n  }\n\n  function parseCue(input, cue, regionList) {\n    // Remember the original input if we need to throw an error.\n    var oInput = input; // 4.1 WebVTT timestamp\n\n    function consumeTimeStamp() {\n      var ts = parseTimeStamp(input);\n\n      if (ts === null) {\n        throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed timestamp: \" + oInput);\n      } // Remove time stamp from input.\n\n\n      input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n      return ts;\n    } // 4.4.2 WebVTT cue settings\n\n\n    function consumeCueSettings(input, cue) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"region\":\n            // Find the last region we parsed with the same region id.\n            for (var i = regionList.length - 1; i >= 0; i--) {\n              if (regionList[i].id === v) {\n                settings.set(k, regionList[i].region);\n                break;\n              }\n            }\n\n            break;\n\n          case \"vertical\":\n            settings.alt(k, v, [\"rl\", \"lr\"]);\n            break;\n\n          case \"line\":\n            var vals = v.split(\",\"),\n                vals0 = vals[0];\n            settings.integer(k, vals0);\n            settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n            settings.alt(k, vals0, [\"auto\"]);\n\n            if (vals.length === 2) {\n              settings.alt(\"lineAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n            }\n\n            break;\n\n          case \"position\":\n            vals = v.split(\",\");\n            settings.percent(k, vals[0]);\n\n            if (vals.length === 2) {\n              settings.alt(\"positionAlign\", vals[1], [\"start\", \"middle\", \"end\"]);\n            }\n\n            break;\n\n          case \"size\":\n            settings.percent(k, v);\n            break;\n\n          case \"align\":\n            settings.alt(k, v, [\"start\", \"middle\", \"end\", \"left\", \"right\"]);\n            break;\n        }\n      }, /:/, /\\s/); // Apply default values for any missing fields.\n\n      cue.region = settings.get(\"region\", null);\n      cue.vertical = settings.get(\"vertical\", \"\");\n      cue.line = settings.get(\"line\", \"auto\");\n      cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n      cue.snapToLines = settings.get(\"snapToLines\", true);\n      cue.size = settings.get(\"size\", 100);\n      cue.align = settings.get(\"align\", \"middle\");\n      cue.position = settings.get(\"position\", {\n        start: 0,\n        left: 0,\n        middle: 50,\n        end: 100,\n        right: 100\n      }, cue.align);\n      cue.positionAlign = settings.get(\"positionAlign\", {\n        start: \"start\",\n        left: \"start\",\n        middle: \"middle\",\n        end: \"end\",\n        right: \"end\"\n      }, cue.align);\n    }\n\n    function skipWhitespace() {\n      input = input.replace(/^\\s+/, \"\");\n    } // 4.1 WebVTT cue timings.\n\n\n    skipWhitespace();\n    cue.startTime = consumeTimeStamp(); // (1) collect cue start time\n\n    skipWhitespace();\n\n    if (input.substr(0, 3) !== \"-->\") {\n      // (3) next characters must match \"-->\"\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed time stamp (time stamps must be separated by '-->'): \" + oInput);\n    }\n\n    input = input.substr(3);\n    skipWhitespace();\n    cue.endTime = consumeTimeStamp(); // (5) collect cue end time\n    // 4.1 WebVTT cue settings list.\n\n    skipWhitespace();\n    consumeCueSettings(input, cue);\n  }\n\n  var ESCAPE = {\n    \"&amp;\": \"&\",\n    \"&lt;\": \"<\",\n    \"&gt;\": \">\",\n    \"&lrm;\": \"\\u200E\",\n    \"&rlm;\": \"\\u200F\",\n    \"&nbsp;\": \"\\xA0\"\n  };\n  var TAG_NAME = {\n    c: \"span\",\n    i: \"i\",\n    b: \"b\",\n    u: \"u\",\n    ruby: \"ruby\",\n    rt: \"rt\",\n    v: \"span\",\n    lang: \"span\"\n  };\n  var TAG_ANNOTATION = {\n    v: \"title\",\n    lang: \"lang\"\n  };\n  var NEEDS_PARENT = {\n    rt: \"ruby\"\n  }; // Parse content into a document fragment.\n\n  function parseContent(window, input) {\n    function nextToken() {\n      // Check for end-of-string.\n      if (!input) {\n        return null;\n      } // Consume 'n' characters from the input.\n\n\n      function consume(result) {\n        input = input.substr(result.length);\n        return result;\n      }\n\n      var m = input.match(/^([^<]*)(<[^>]*>?)?/); // If there is some text before the next tag, return it, otherwise return\n      // the tag.\n\n      return consume(m[1] ? m[1] : m[2]);\n    } // Unescape a string 's'.\n\n\n    function unescape1(e) {\n      return ESCAPE[e];\n    }\n\n    function unescape(s) {\n      while (m = s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)) {\n        s = s.replace(m[0], unescape1);\n      }\n\n      return s;\n    }\n\n    function shouldAdd(current, element) {\n      return !NEEDS_PARENT[element.localName] || NEEDS_PARENT[element.localName] === current.localName;\n    } // Create an element for this tag.\n\n\n    function createElement(type, annotation) {\n      var tagName = TAG_NAME[type];\n\n      if (!tagName) {\n        return null;\n      }\n\n      var element = window.document.createElement(tagName);\n      element.localName = tagName;\n      var name = TAG_ANNOTATION[type];\n\n      if (name && annotation) {\n        element[name] = annotation.trim();\n      }\n\n      return element;\n    }\n\n    var rootDiv = window.document.createElement(\"div\"),\n        current = rootDiv,\n        t,\n        tagStack = [];\n\n    while ((t = nextToken()) !== null) {\n      if (t[0] === '<') {\n        if (t[1] === \"/\") {\n          // If the closing tag matches, move back up to the parent node.\n          if (tagStack.length && tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n            tagStack.pop();\n            current = current.parentNode;\n          } // Otherwise just ignore the end tag.\n\n\n          continue;\n        }\n\n        var ts = parseTimeStamp(t.substr(1, t.length - 2));\n        var node;\n\n        if (ts) {\n          // Timestamps are lead nodes as well.\n          node = window.document.createProcessingInstruction(\"timestamp\", ts);\n          current.appendChild(node);\n          continue;\n        }\n\n        var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/); // If we can't parse the tag, skip to the next tag.\n\n        if (!m) {\n          continue;\n        } // Try to construct an element, and ignore the tag if we couldn't.\n\n\n        node = createElement(m[1], m[3]);\n\n        if (!node) {\n          continue;\n        } // Determine if the tag should be added based on the context of where it\n        // is placed in the cuetext.\n\n\n        if (!shouldAdd(current, node)) {\n          continue;\n        } // Set the class list (as a list of classes, separated by space).\n\n\n        if (m[2]) {\n          node.className = m[2].substr(1).replace('.', ' ');\n        } // Append the node to the current node, and enter the scope of the new\n        // node.\n\n\n        tagStack.push(m[1]);\n        current.appendChild(node);\n        current = node;\n        continue;\n      } // Text nodes are leaf nodes.\n\n\n      current.appendChild(window.document.createTextNode(unescape(t)));\n    }\n\n    return rootDiv;\n  } // This is a list of all the Unicode characters that have a strong\n  // right-to-left category. What this means is that these characters are\n  // written right-to-left for sure. It was generated by pulling all the strong\n  // right-to-left characters out of the Unicode data table. That table can\n  // found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n\n\n  var strongRTLRanges = [[0x5be, 0x5be], [0x5c0, 0x5c0], [0x5c3, 0x5c3], [0x5c6, 0x5c6], [0x5d0, 0x5ea], [0x5f0, 0x5f4], [0x608, 0x608], [0x60b, 0x60b], [0x60d, 0x60d], [0x61b, 0x61b], [0x61e, 0x64a], [0x66d, 0x66f], [0x671, 0x6d5], [0x6e5, 0x6e6], [0x6ee, 0x6ef], [0x6fa, 0x70d], [0x70f, 0x710], [0x712, 0x72f], [0x74d, 0x7a5], [0x7b1, 0x7b1], [0x7c0, 0x7ea], [0x7f4, 0x7f5], [0x7fa, 0x7fa], [0x800, 0x815], [0x81a, 0x81a], [0x824, 0x824], [0x828, 0x828], [0x830, 0x83e], [0x840, 0x858], [0x85e, 0x85e], [0x8a0, 0x8a0], [0x8a2, 0x8ac], [0x200f, 0x200f], [0xfb1d, 0xfb1d], [0xfb1f, 0xfb28], [0xfb2a, 0xfb36], [0xfb38, 0xfb3c], [0xfb3e, 0xfb3e], [0xfb40, 0xfb41], [0xfb43, 0xfb44], [0xfb46, 0xfbc1], [0xfbd3, 0xfd3d], [0xfd50, 0xfd8f], [0xfd92, 0xfdc7], [0xfdf0, 0xfdfc], [0xfe70, 0xfe74], [0xfe76, 0xfefc], [0x10800, 0x10805], [0x10808, 0x10808], [0x1080a, 0x10835], [0x10837, 0x10838], [0x1083c, 0x1083c], [0x1083f, 0x10855], [0x10857, 0x1085f], [0x10900, 0x1091b], [0x10920, 0x10939], [0x1093f, 0x1093f], [0x10980, 0x109b7], [0x109be, 0x109bf], [0x10a00, 0x10a00], [0x10a10, 0x10a13], [0x10a15, 0x10a17], [0x10a19, 0x10a33], [0x10a40, 0x10a47], [0x10a50, 0x10a58], [0x10a60, 0x10a7f], [0x10b00, 0x10b35], [0x10b40, 0x10b55], [0x10b58, 0x10b72], [0x10b78, 0x10b7f], [0x10c00, 0x10c48], [0x1ee00, 0x1ee03], [0x1ee05, 0x1ee1f], [0x1ee21, 0x1ee22], [0x1ee24, 0x1ee24], [0x1ee27, 0x1ee27], [0x1ee29, 0x1ee32], [0x1ee34, 0x1ee37], [0x1ee39, 0x1ee39], [0x1ee3b, 0x1ee3b], [0x1ee42, 0x1ee42], [0x1ee47, 0x1ee47], [0x1ee49, 0x1ee49], [0x1ee4b, 0x1ee4b], [0x1ee4d, 0x1ee4f], [0x1ee51, 0x1ee52], [0x1ee54, 0x1ee54], [0x1ee57, 0x1ee57], [0x1ee59, 0x1ee59], [0x1ee5b, 0x1ee5b], [0x1ee5d, 0x1ee5d], [0x1ee5f, 0x1ee5f], [0x1ee61, 0x1ee62], [0x1ee64, 0x1ee64], [0x1ee67, 0x1ee6a], [0x1ee6c, 0x1ee72], [0x1ee74, 0x1ee77], [0x1ee79, 0x1ee7c], [0x1ee7e, 0x1ee7e], [0x1ee80, 0x1ee89], [0x1ee8b, 0x1ee9b], [0x1eea1, 0x1eea3], [0x1eea5, 0x1eea9], [0x1eeab, 0x1eebb], [0x10fffd, 0x10fffd]];\n\n  function isStrongRTLChar(charCode) {\n    for (var i = 0; i < strongRTLRanges.length; i++) {\n      var currentRange = strongRTLRanges[i];\n\n      if (charCode >= currentRange[0] && charCode <= currentRange[1]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function determineBidi(cueDiv) {\n    var nodeStack = [],\n        text = \"\",\n        charCode;\n\n    if (!cueDiv || !cueDiv.childNodes) {\n      return \"ltr\";\n    }\n\n    function pushNodes(nodeStack, node) {\n      for (var i = node.childNodes.length - 1; i >= 0; i--) {\n        nodeStack.push(node.childNodes[i]);\n      }\n    }\n\n    function nextTextNode(nodeStack) {\n      if (!nodeStack || !nodeStack.length) {\n        return null;\n      }\n\n      var node = nodeStack.pop(),\n          text = node.textContent || node.innerText;\n\n      if (text) {\n        // TODO: This should match all unicode type B characters (paragraph\n        // separator characters). See issue #115.\n        var m = text.match(/^.*(\\n|\\r)/);\n\n        if (m) {\n          nodeStack.length = 0;\n          return m[0];\n        }\n\n        return text;\n      }\n\n      if (node.tagName === \"ruby\") {\n        return nextTextNode(nodeStack);\n      }\n\n      if (node.childNodes) {\n        pushNodes(nodeStack, node);\n        return nextTextNode(nodeStack);\n      }\n    }\n\n    pushNodes(nodeStack, cueDiv);\n\n    while (text = nextTextNode(nodeStack)) {\n      for (var i = 0; i < text.length; i++) {\n        charCode = text.charCodeAt(i);\n\n        if (isStrongRTLChar(charCode)) {\n          return \"rtl\";\n        }\n      }\n    }\n\n    return \"ltr\";\n  }\n\n  function computeLinePos(cue) {\n    if (typeof cue.line === \"number\" && (cue.snapToLines || cue.line >= 0 && cue.line <= 100)) {\n      return cue.line;\n    }\n\n    if (!cue.track || !cue.track.textTrackList || !cue.track.textTrackList.mediaElement) {\n      return -1;\n    }\n\n    var track = cue.track,\n        trackList = track.textTrackList,\n        count = 0;\n\n    for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n      if (trackList[i].mode === \"showing\") {\n        count++;\n      }\n    }\n\n    return ++count * -1;\n  }\n\n  function StyleBox() {} // Apply styles to a div. If there is no div passed then it defaults to the\n  // div on 'this'.\n\n\n  StyleBox.prototype.applyStyles = function (styles, div) {\n    div = div || this.div;\n\n    for (var prop in styles) {\n      if (styles.hasOwnProperty(prop)) {\n        div.style[prop] = styles[prop];\n      }\n    }\n  };\n\n  StyleBox.prototype.formatStyle = function (val, unit) {\n    return val === 0 ? 0 : val + unit;\n  }; // Constructs the computed display state of the cue (a div). Places the div\n  // into the overlay which should be a block level element (usually a div).\n\n\n  function CueStyleBox(window, cue, styleOptions) {\n    StyleBox.call(this);\n    this.cue = cue; // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n    // have inline positioning and will function as the cue background box.\n\n    this.cueDiv = parseContent(window, cue.text);\n    var styles = {\n      color: \"rgba(255, 255, 255, 1)\",\n      backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n      position: \"relative\",\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      display: \"inline\",\n      writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n      unicodeBidi: \"plaintext\"\n    };\n    this.applyStyles(styles, this.cueDiv); // Create an absolutely positioned div that will be used to position the cue\n    // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n    // mirrors of them except \"middle\" which is \"center\" in CSS.\n\n    this.div = window.document.createElement(\"div\");\n    styles = {\n      direction: determineBidi(this.cueDiv),\n      writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n      unicodeBidi: \"plaintext\",\n      textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n      font: styleOptions.font,\n      whiteSpace: \"pre-line\",\n      position: \"absolute\"\n    };\n    this.applyStyles(styles);\n    this.div.appendChild(this.cueDiv); // Calculate the distance from the reference edge of the viewport to the text\n    // position of the cue box. The reference edge will be resolved later when\n    // the box orientation styles are applied.\n\n    var textPos = 0;\n\n    switch (cue.positionAlign) {\n      case \"start\":\n        textPos = cue.position;\n        break;\n\n      case \"middle\":\n        textPos = cue.position - cue.size / 2;\n        break;\n\n      case \"end\":\n        textPos = cue.position - cue.size;\n        break;\n    } // Horizontal box orientation; textPos is the distance from the left edge of the\n    // area to the left edge of the box and cue.size is the distance extending to\n    // the right from there.\n\n\n    if (cue.vertical === \"\") {\n      this.applyStyles({\n        left: this.formatStyle(textPos, \"%\"),\n        width: this.formatStyle(cue.size, \"%\")\n      }); // Vertical box orientation; textPos is the distance from the top edge of the\n      // area to the top edge of the box and cue.size is the height extending\n      // downwards from there.\n    } else {\n      this.applyStyles({\n        top: this.formatStyle(textPos, \"%\"),\n        height: this.formatStyle(cue.size, \"%\")\n      });\n    }\n\n    this.move = function (box) {\n      this.applyStyles({\n        top: this.formatStyle(box.top, \"px\"),\n        bottom: this.formatStyle(box.bottom, \"px\"),\n        left: this.formatStyle(box.left, \"px\"),\n        right: this.formatStyle(box.right, \"px\"),\n        height: this.formatStyle(box.height, \"px\"),\n        width: this.formatStyle(box.width, \"px\")\n      });\n    };\n  }\n\n  CueStyleBox.prototype = _objCreate(StyleBox.prototype);\n  CueStyleBox.prototype.constructor = CueStyleBox; // Represents the co-ordinates of an Element in a way that we can easily\n  // compute things with such as if it overlaps or intersects with another Element.\n  // Can initialize it with either a StyleBox or another BoxPosition.\n\n  function BoxPosition(obj) {\n    // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n    // was passed in and we need to copy the results of 'getBoundingClientRect'\n    // as the object returned is readonly. All co-ordinate values are in reference\n    // to the viewport origin (top left).\n    var lh, height, width, top;\n\n    if (obj.div) {\n      height = obj.div.offsetHeight;\n      width = obj.div.offsetWidth;\n      top = obj.div.offsetTop;\n      var rects = (rects = obj.div.childNodes) && (rects = rects[0]) && rects.getClientRects && rects.getClientRects();\n      obj = obj.div.getBoundingClientRect(); // In certain cases the outter div will be slightly larger then the sum of\n      // the inner div's lines. This could be due to bold text, etc, on some platforms.\n      // In this case we should get the average line height and use that. This will\n      // result in the desired behaviour.\n\n      lh = rects ? Math.max(rects[0] && rects[0].height || 0, obj.height / rects.length) : 0;\n    }\n\n    this.left = obj.left;\n    this.right = obj.right;\n    this.top = obj.top || top;\n    this.height = obj.height || height;\n    this.bottom = obj.bottom || top + (obj.height || height);\n    this.width = obj.width || width;\n    this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n  } // Move the box along a particular axis. Optionally pass in an amount to move\n  // the box. If no amount is passed then the default is the line height of the\n  // box.\n\n\n  BoxPosition.prototype.move = function (axis, toMove) {\n    toMove = toMove !== undefined ? toMove : this.lineHeight;\n\n    switch (axis) {\n      case \"+x\":\n        this.left += toMove;\n        this.right += toMove;\n        break;\n\n      case \"-x\":\n        this.left -= toMove;\n        this.right -= toMove;\n        break;\n\n      case \"+y\":\n        this.top += toMove;\n        this.bottom += toMove;\n        break;\n\n      case \"-y\":\n        this.top -= toMove;\n        this.bottom -= toMove;\n        break;\n    }\n  }; // Check if this box overlaps another box, b2.\n\n\n  BoxPosition.prototype.overlaps = function (b2) {\n    return this.left < b2.right && this.right > b2.left && this.top < b2.bottom && this.bottom > b2.top;\n  }; // Check if this box overlaps any other boxes in boxes.\n\n\n  BoxPosition.prototype.overlapsAny = function (boxes) {\n    for (var i = 0; i < boxes.length; i++) {\n      if (this.overlaps(boxes[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // Check if this box is within another box.\n\n\n  BoxPosition.prototype.within = function (container) {\n    return this.top >= container.top && this.bottom <= container.bottom && this.left >= container.left && this.right <= container.right;\n  }; // Check if this box is entirely within the container or it is overlapping\n  // on the edge opposite of the axis direction passed. For example, if \"+x\" is\n  // passed and the box is overlapping on the left edge of the container, then\n  // return true.\n\n\n  BoxPosition.prototype.overlapsOppositeAxis = function (container, axis) {\n    switch (axis) {\n      case \"+x\":\n        return this.left < container.left;\n\n      case \"-x\":\n        return this.right > container.right;\n\n      case \"+y\":\n        return this.top < container.top;\n\n      case \"-y\":\n        return this.bottom > container.bottom;\n    }\n  }; // Find the percentage of the area that this box is overlapping with another\n  // box.\n\n\n  BoxPosition.prototype.intersectPercentage = function (b2) {\n    var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n        y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n        intersectArea = x * y;\n    return intersectArea / (this.height * this.width);\n  }; // Convert the positions from this box to CSS compatible positions using\n  // the reference container's positions. This has to be done because this\n  // box's positions are in reference to the viewport origin, whereas, CSS\n  // values are in referecne to their respective edges.\n\n\n  BoxPosition.prototype.toCSSCompatValues = function (reference) {\n    return {\n      top: this.top - reference.top,\n      bottom: reference.bottom - this.bottom,\n      left: this.left - reference.left,\n      right: reference.right - this.right,\n      height: this.height,\n      width: this.width\n    };\n  }; // Get an object that represents the box's position without anything extra.\n  // Can pass a StyleBox, HTMLElement, or another BoxPositon.\n\n\n  BoxPosition.getSimpleBoxPosition = function (obj) {\n    var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n    var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n    var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n    obj = obj.div ? obj.div.getBoundingClientRect() : obj.tagName ? obj.getBoundingClientRect() : obj;\n    var ret = {\n      left: obj.left,\n      right: obj.right,\n      top: obj.top || top,\n      height: obj.height || height,\n      bottom: obj.bottom || top + (obj.height || height),\n      width: obj.width || width\n    };\n    return ret;\n  }; // Move a StyleBox to its specified, or next best, position. The containerBox\n  // is the box that contains the StyleBox, such as a div. boxPositions are\n  // a list of other boxes that the styleBox can't overlap with.\n\n\n  function moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n    // Find the best position for a cue box, b, on the video. The axis parameter\n    // is a list of axis, the order of which, it will move the box along. For example:\n    // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n    // direction. If it doesn't find a good position for it there it will then move\n    // it along the x axis in the negative direction.\n    function findBestPosition(b, axis) {\n      var bestPosition,\n          specifiedPosition = new BoxPosition(b),\n          percentage = 1; // Highest possible so the first thing we get is better.\n\n      for (var i = 0; i < axis.length; i++) {\n        while (b.overlapsOppositeAxis(containerBox, axis[i]) || b.within(containerBox) && b.overlapsAny(boxPositions)) {\n          b.move(axis[i]);\n        } // We found a spot where we aren't overlapping anything. This is our\n        // best position.\n\n\n        if (b.within(containerBox)) {\n          return b;\n        }\n\n        var p = b.intersectPercentage(containerBox); // If we're outside the container box less then we were on our last try\n        // then remember this position as the best position.\n\n        if (percentage > p) {\n          bestPosition = new BoxPosition(b);\n          percentage = p;\n        } // Reset the box position to the specified position.\n\n\n        b = new BoxPosition(specifiedPosition);\n      }\n\n      return bestPosition || specifiedPosition;\n    }\n\n    var boxPosition = new BoxPosition(styleBox),\n        cue = styleBox.cue,\n        linePos = computeLinePos(cue),\n        axis = []; // If we have a line number to align the cue to.\n\n    if (cue.snapToLines) {\n      var size;\n\n      switch (cue.vertical) {\n        case \"\":\n          axis = [\"+y\", \"-y\"];\n          size = \"height\";\n          break;\n\n        case \"rl\":\n          axis = [\"+x\", \"-x\"];\n          size = \"width\";\n          break;\n\n        case \"lr\":\n          axis = [\"-x\", \"+x\"];\n          size = \"width\";\n          break;\n      }\n\n      var step = boxPosition.lineHeight,\n          position = step * Math.round(linePos),\n          maxPosition = containerBox[size] + step,\n          initialAxis = axis[0]; // If the specified intial position is greater then the max position then\n      // clamp the box to the amount of steps it would take for the box to\n      // reach the max position.\n\n      if (Math.abs(position) > maxPosition) {\n        position = position < 0 ? -1 : 1;\n        position *= Math.ceil(maxPosition / step) * step;\n      } // If computed line position returns negative then line numbers are\n      // relative to the bottom of the video instead of the top. Therefore, we\n      // need to increase our initial position by the length or width of the\n      // video, depending on the writing direction, and reverse our axis directions.\n\n\n      if (linePos < 0) {\n        position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n        axis = axis.reverse();\n      } // Move the box to the specified position. This may not be its best\n      // position.\n\n\n      boxPosition.move(initialAxis, position);\n    } else {\n      // If we have a percentage line value for the cue.\n      var calculatedPercentage = boxPosition.lineHeight / containerBox.height * 100;\n\n      switch (cue.lineAlign) {\n        case \"middle\":\n          linePos -= calculatedPercentage / 2;\n          break;\n\n        case \"end\":\n          linePos -= calculatedPercentage;\n          break;\n      } // Apply initial line position to the cue box.\n\n\n      switch (cue.vertical) {\n        case \"\":\n          styleBox.applyStyles({\n            top: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n\n        case \"rl\":\n          styleBox.applyStyles({\n            left: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n\n        case \"lr\":\n          styleBox.applyStyles({\n            right: styleBox.formatStyle(linePos, \"%\")\n          });\n          break;\n      }\n\n      axis = [\"+y\", \"-x\", \"+x\", \"-y\"]; // Get the box position again after we've applied the specified positioning\n      // to it.\n\n      boxPosition = new BoxPosition(styleBox);\n    }\n\n    var bestPosition = findBestPosition(boxPosition, axis);\n    styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n  }\n\n  function WebVTT$1() {} // Nothing\n  // Helper to allow strings to be decoded instead of the default binary utf8 data.\n\n\n  WebVTT$1.StringDecoder = function () {\n    return {\n      decode: function decode(data) {\n        if (!data) {\n          return \"\";\n        }\n\n        if (typeof data !== \"string\") {\n          throw new Error(\"Error - expected string data.\");\n        }\n\n        return decodeURIComponent(encodeURIComponent(data));\n      }\n    };\n  };\n\n  WebVTT$1.convertCueToDOMTree = function (window, cuetext) {\n    if (!window || !cuetext) {\n      return null;\n    }\n\n    return parseContent(window, cuetext);\n  };\n\n  var FONT_SIZE_PERCENT = 0.05;\n  var FONT_STYLE = \"sans-serif\";\n  var CUE_BACKGROUND_PADDING = \"1.5%\"; // Runs the processing model over the cues and regions passed to it.\n  // @param overlay A block level element (usually a div) that the computed cues\n  //                and regions will be placed into.\n\n  WebVTT$1.processCues = function (window, cues, overlay) {\n    if (!window || !cues || !overlay) {\n      return null;\n    } // Remove all previous children.\n\n\n    while (overlay.firstChild) {\n      overlay.removeChild(overlay.firstChild);\n    }\n\n    var paddedOverlay = window.document.createElement(\"div\");\n    paddedOverlay.style.position = \"absolute\";\n    paddedOverlay.style.left = \"0\";\n    paddedOverlay.style.right = \"0\";\n    paddedOverlay.style.top = \"0\";\n    paddedOverlay.style.bottom = \"0\";\n    paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n    overlay.appendChild(paddedOverlay); // Determine if we need to compute the display states of the cues. This could\n    // be the case if a cue's state has been changed since the last computation or\n    // if it has not been computed yet.\n\n    function shouldCompute(cues) {\n      for (var i = 0; i < cues.length; i++) {\n        if (cues[i].hasBeenReset || !cues[i].displayState) {\n          return true;\n        }\n      }\n\n      return false;\n    } // We don't need to recompute the cues' display states. Just reuse them.\n\n\n    if (!shouldCompute(cues)) {\n      for (var i = 0; i < cues.length; i++) {\n        paddedOverlay.appendChild(cues[i].displayState);\n      }\n\n      return;\n    }\n\n    var boxPositions = [],\n        containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n        fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n    var styleOptions = {\n      font: fontSize + \"px \" + FONT_STYLE\n    };\n\n    (function () {\n      var styleBox, cue;\n\n      for (var i = 0; i < cues.length; i++) {\n        cue = cues[i]; // Compute the intial position and styles of the cue div.\n\n        styleBox = new CueStyleBox(window, cue, styleOptions);\n        paddedOverlay.appendChild(styleBox.div); // Move the cue div to it's correct line position.\n\n        moveBoxToLinePosition(window, styleBox, containerBox, boxPositions); // Remember the computed div so that we don't have to recompute it later\n        // if we don't have too.\n\n        cue.displayState = styleBox.div;\n        boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n      }\n    })();\n  };\n\n  WebVTT$1.Parser = function (window, vttjs, decoder) {\n    if (!decoder) {\n      decoder = vttjs;\n      vttjs = {};\n    }\n\n    if (!vttjs) {\n      vttjs = {};\n    }\n\n    this.window = window;\n    this.vttjs = vttjs;\n    this.state = \"INITIAL\";\n    this.buffer = \"\";\n    this.decoder = decoder || new TextDecoder(\"utf8\");\n    this.regionList = [];\n  };\n\n  WebVTT$1.Parser.prototype = {\n    // If the error is a ParsingError then report it to the consumer if\n    // possible. If it's not a ParsingError then throw it like normal.\n    reportOrThrowError: function reportOrThrowError(e) {\n      if (e instanceof ParsingError) {\n        this.onparsingerror && this.onparsingerror(e);\n      } else {\n        throw e;\n      }\n    },\n    parse: function parse(data) {\n      var self = this; // If there is no data then we won't decode it, but will just try to parse\n      // whatever is in buffer already. This may occur in circumstances, for\n      // example when flush() is called.\n\n      if (data) {\n        // Try to decode the data that we received.\n        self.buffer += self.decoder.decode(data, {\n          stream: true\n        });\n      }\n\n      function collectNextLine() {\n        var buffer = self.buffer;\n        var pos = 0;\n\n        while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n          ++pos;\n        }\n\n        var line = buffer.substr(0, pos); // Advance the buffer early in case we fail below.\n\n        if (buffer[pos] === '\\r') {\n          ++pos;\n        }\n\n        if (buffer[pos] === '\\n') {\n          ++pos;\n        }\n\n        self.buffer = buffer.substr(pos);\n        return line;\n      } // 3.4 WebVTT region and WebVTT region settings syntax\n\n\n      function parseRegion(input) {\n        var settings = new Settings();\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"id\":\n              settings.set(k, v);\n              break;\n\n            case \"width\":\n              settings.percent(k, v);\n              break;\n\n            case \"lines\":\n              settings.integer(k, v);\n              break;\n\n            case \"regionanchor\":\n            case \"viewportanchor\":\n              var xy = v.split(',');\n\n              if (xy.length !== 2) {\n                break;\n              } // We have to make sure both x and y parse, so use a temporary\n              // settings object here.\n\n\n              var anchor = new Settings();\n              anchor.percent(\"x\", xy[0]);\n              anchor.percent(\"y\", xy[1]);\n\n              if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n                break;\n              }\n\n              settings.set(k + \"X\", anchor.get(\"x\"));\n              settings.set(k + \"Y\", anchor.get(\"y\"));\n              break;\n\n            case \"scroll\":\n              settings.alt(k, v, [\"up\"]);\n              break;\n          }\n        }, /=/, /\\s/); // Create the region, using default values for any values that were not\n        // specified.\n\n        if (settings.has(\"id\")) {\n          var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n          region.width = settings.get(\"width\", 100);\n          region.lines = settings.get(\"lines\", 3);\n          region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n          region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n          region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n          region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n          region.scroll = settings.get(\"scroll\", \"\"); // Register the region.\n\n          self.onregion && self.onregion(region); // Remember the VTTRegion for later in case we parse any VTTCues that\n          // reference it.\n\n          self.regionList.push({\n            id: settings.get(\"id\"),\n            region: region\n          });\n        }\n      } // draft-pantos-http-live-streaming-20\n      // https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5\n      // 3.5 WebVTT\n\n\n      function parseTimestampMap(input) {\n        var settings = new Settings();\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"MPEGT\":\n              settings.integer(k + 'S', v);\n              break;\n\n            case \"LOCA\":\n              settings.set(k + 'L', parseTimeStamp(v));\n              break;\n          }\n        }, /[^\\d]:/, /,/);\n        self.ontimestampmap && self.ontimestampmap({\n          \"MPEGTS\": settings.get(\"MPEGTS\"),\n          \"LOCAL\": settings.get(\"LOCAL\")\n        });\n      } // 3.2 WebVTT metadata header syntax\n\n\n      function parseHeader(input) {\n        if (input.match(/X-TIMESTAMP-MAP/)) {\n          // This line contains HLS X-TIMESTAMP-MAP metadata\n          parseOptions(input, function (k, v) {\n            switch (k) {\n              case \"X-TIMESTAMP-MAP\":\n                parseTimestampMap(v);\n                break;\n            }\n          }, /=/);\n        } else {\n          parseOptions(input, function (k, v) {\n            switch (k) {\n              case \"Region\":\n                // 3.3 WebVTT region metadata header syntax\n                parseRegion(v);\n                break;\n            }\n          }, /:/);\n        }\n      } // 5.1 WebVTT file parsing.\n\n\n      try {\n        var line;\n\n        if (self.state === \"INITIAL\") {\n          // We can't start parsing until we have the first line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          line = collectNextLine();\n          var m = line.match(/^WEBVTT([ \\t].*)?$/);\n\n          if (!m || !m[0]) {\n            throw new ParsingError(ParsingError.Errors.BadSignature);\n          }\n\n          self.state = \"HEADER\";\n        }\n\n        var alreadyCollectedLine = false;\n\n        while (self.buffer) {\n          // We can't parse a line until we have the full line.\n          if (!/\\r\\n|\\n/.test(self.buffer)) {\n            return this;\n          }\n\n          if (!alreadyCollectedLine) {\n            line = collectNextLine();\n          } else {\n            alreadyCollectedLine = false;\n          }\n\n          switch (self.state) {\n            case \"HEADER\":\n              // 13-18 - Allow a header (metadata) under the WEBVTT line.\n              if (/:/.test(line)) {\n                parseHeader(line);\n              } else if (!line) {\n                // An empty line terminates the header and starts the body (cues).\n                self.state = \"ID\";\n              }\n\n              continue;\n\n            case \"NOTE\":\n              // Ignore NOTE blocks.\n              if (!line) {\n                self.state = \"ID\";\n              }\n\n              continue;\n\n            case \"ID\":\n              // Check for the start of NOTE blocks.\n              if (/^NOTE($|[ \\t])/.test(line)) {\n                self.state = \"NOTE\";\n                break;\n              } // 19-29 - Allow any number of line terminators, then initialize new cue values.\n\n\n              if (!line) {\n                continue;\n              }\n\n              self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\");\n              self.state = \"CUE\"; // 30-39 - Check if self line contains an optional identifier or timing data.\n\n              if (line.indexOf(\"-->\") === -1) {\n                self.cue.id = line;\n                continue;\n              }\n\n            // Process line as start of a cue.\n\n            /*falls through*/\n\n            case \"CUE\":\n              // 40 - Collect cue timings and settings.\n              try {\n                parseCue(line, self.cue, self.regionList);\n              } catch (e) {\n                self.reportOrThrowError(e); // In case of an error ignore rest of the cue.\n\n                self.cue = null;\n                self.state = \"BADCUE\";\n                continue;\n              }\n\n              self.state = \"CUETEXT\";\n              continue;\n\n            case \"CUETEXT\":\n              var hasSubstring = line.indexOf(\"-->\") !== -1; // 34 - If we have an empty line then report the cue.\n              // 35 - If we have the special substring '-->' then report the cue,\n              // but do not collect the line as we need to process the current\n              // one as a new cue.\n\n              if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n                // We are done parsing self cue.\n                self.oncue && self.oncue(self.cue);\n                self.cue = null;\n                self.state = \"ID\";\n                continue;\n              }\n\n              if (self.cue.text) {\n                self.cue.text += \"\\n\";\n              }\n\n              self.cue.text += line;\n              continue;\n\n            case \"BADCUE\":\n              // BADCUE\n              // 54-62 - Collect and discard the remaining cue.\n              if (!line) {\n                self.state = \"ID\";\n              }\n\n              continue;\n          }\n        }\n      } catch (e) {\n        self.reportOrThrowError(e); // If we are currently parsing a cue, report what we have.\n\n        if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n          self.oncue(self.cue);\n        }\n\n        self.cue = null; // Enter BADWEBVTT state if header was not parsed correctly otherwise\n        // another exception occurred so enter BADCUE state.\n\n        self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n      }\n\n      return this;\n    },\n    flush: function flush() {\n      var self = this;\n\n      try {\n        // Finish decoding the stream.\n        self.buffer += self.decoder.decode(); // Synthesize the end of the current cue or region.\n\n        if (self.cue || self.state === \"HEADER\") {\n          self.buffer += \"\\n\\n\";\n          self.parse();\n        } // If we've flushed, parsed, and we're still on the INITIAL state then\n        // that means we don't have enough of the stream to parse the first\n        // line.\n\n\n        if (self.state === \"INITIAL\") {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n      } catch (e) {\n        self.reportOrThrowError(e);\n      }\n\n      self.onflush && self.onflush();\n      return this;\n    }\n  };\n  var vtt = WebVTT$1;\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  var autoKeyword = \"auto\";\n  var directionSetting = {\n    \"\": 1,\n    \"lr\": 1,\n    \"rl\": 1\n  };\n  var alignSetting = {\n    \"start\": 1,\n    \"middle\": 1,\n    \"end\": 1,\n    \"left\": 1,\n    \"right\": 1\n  };\n\n  function findDirectionSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var dir = directionSetting[value.toLowerCase()];\n    return dir ? value.toLowerCase() : false;\n  }\n\n  function findAlignSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var align = alignSetting[value.toLowerCase()];\n    return align ? value.toLowerCase() : false;\n  }\n\n  function VTTCue(startTime, endTime, text) {\n    /**\n     * Shim implementation specific properties. These properties are not in\n     * the spec.\n     */\n    // Lets us know when the VTTCue's data has changed in such a way that we need\n    // to recompute its display state. This lets us compute its display state\n    // lazily.\n    this.hasBeenReset = false;\n    /**\n     * VTTCue and TextTrackCue properties\n     * http://dev.w3.org/html5/webvtt/#vttcue-interface\n     */\n\n    var _id = \"\";\n    var _pauseOnExit = false;\n    var _startTime = startTime;\n    var _endTime = endTime;\n    var _text = text;\n    var _region = null;\n    var _vertical = \"\";\n    var _snapToLines = true;\n    var _line = \"auto\";\n    var _lineAlign = \"start\";\n    var _position = 50;\n    var _positionAlign = \"middle\";\n    var _size = 50;\n    var _align = \"middle\";\n    Object.defineProperties(this, {\n      \"id\": {\n        enumerable: true,\n        get: function get() {\n          return _id;\n        },\n        set: function set(value) {\n          _id = \"\" + value;\n        }\n      },\n      \"pauseOnExit\": {\n        enumerable: true,\n        get: function get() {\n          return _pauseOnExit;\n        },\n        set: function set(value) {\n          _pauseOnExit = !!value;\n        }\n      },\n      \"startTime\": {\n        enumerable: true,\n        get: function get() {\n          return _startTime;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Start time must be set to a number.\");\n          }\n\n          _startTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"endTime\": {\n        enumerable: true,\n        get: function get() {\n          return _endTime;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"End time must be set to a number.\");\n          }\n\n          _endTime = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"text\": {\n        enumerable: true,\n        get: function get() {\n          return _text;\n        },\n        set: function set(value) {\n          _text = \"\" + value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"region\": {\n        enumerable: true,\n        get: function get() {\n          return _region;\n        },\n        set: function set(value) {\n          _region = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"vertical\": {\n        enumerable: true,\n        get: function get() {\n          return _vertical;\n        },\n        set: function set(value) {\n          var setting = findDirectionSetting(value); // Have to check for false because the setting an be an empty string.\n\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _vertical = setting;\n          this.hasBeenReset = true;\n        }\n      },\n      \"snapToLines\": {\n        enumerable: true,\n        get: function get() {\n          return _snapToLines;\n        },\n        set: function set(value) {\n          _snapToLines = !!value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"line\": {\n        enumerable: true,\n        get: function get() {\n          return _line;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\" && value !== autoKeyword) {\n            throw new SyntaxError(\"An invalid number or illegal string was specified.\");\n          }\n\n          _line = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"lineAlign\": {\n        enumerable: true,\n        get: function get() {\n          return _lineAlign;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _lineAlign = setting;\n          this.hasBeenReset = true;\n        }\n      },\n      \"position\": {\n        enumerable: true,\n        get: function get() {\n          return _position;\n        },\n        set: function set(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Position must be between 0 and 100.\");\n          }\n\n          _position = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"positionAlign\": {\n        enumerable: true,\n        get: function get() {\n          return _positionAlign;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _positionAlign = setting;\n          this.hasBeenReset = true;\n        }\n      },\n      \"size\": {\n        enumerable: true,\n        get: function get() {\n          return _size;\n        },\n        set: function set(value) {\n          if (value < 0 || value > 100) {\n            throw new Error(\"Size must be between 0 and 100.\");\n          }\n\n          _size = value;\n          this.hasBeenReset = true;\n        }\n      },\n      \"align\": {\n        enumerable: true,\n        get: function get() {\n          return _align;\n        },\n        set: function set(value) {\n          var setting = findAlignSetting(value);\n\n          if (!setting) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _align = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    });\n    /**\n     * Other <track> spec defined properties\n     */\n    // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n\n    this.displayState = undefined;\n  }\n  /**\n   * VTTCue methods\n   */\n\n\n  VTTCue.prototype.getCueAsHTML = function () {\n    // Assume WebVTT.convertCueToDOMTree is on the global.\n    return WebVTT.convertCueToDOMTree(window, this.text);\n  };\n\n  var vttcue = VTTCue;\n\n  /**\n   * Copyright 2013 vtt.js Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n  var scrollSetting = {\n    \"\": true,\n    \"up\": true\n  };\n\n  function findScrollSetting(value) {\n    if (typeof value !== \"string\") {\n      return false;\n    }\n\n    var scroll = scrollSetting[value.toLowerCase()];\n    return scroll ? value.toLowerCase() : false;\n  }\n\n  function isValidPercentValue(value) {\n    return typeof value === \"number\" && value >= 0 && value <= 100;\n  } // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n\n\n  function VTTRegion() {\n    var _width = 100;\n    var _lines = 3;\n    var _regionAnchorX = 0;\n    var _regionAnchorY = 100;\n    var _viewportAnchorX = 0;\n    var _viewportAnchorY = 100;\n    var _scroll = \"\";\n    Object.defineProperties(this, {\n      \"width\": {\n        enumerable: true,\n        get: function get() {\n          return _width;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"Width must be between 0 and 100.\");\n          }\n\n          _width = value;\n        }\n      },\n      \"lines\": {\n        enumerable: true,\n        get: function get() {\n          return _lines;\n        },\n        set: function set(value) {\n          if (typeof value !== \"number\") {\n            throw new TypeError(\"Lines must be set to a number.\");\n          }\n\n          _lines = value;\n        }\n      },\n      \"regionAnchorY\": {\n        enumerable: true,\n        get: function get() {\n          return _regionAnchorY;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n          }\n\n          _regionAnchorY = value;\n        }\n      },\n      \"regionAnchorX\": {\n        enumerable: true,\n        get: function get() {\n          return _regionAnchorX;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n          }\n\n          _regionAnchorX = value;\n        }\n      },\n      \"viewportAnchorY\": {\n        enumerable: true,\n        get: function get() {\n          return _viewportAnchorY;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n          }\n\n          _viewportAnchorY = value;\n        }\n      },\n      \"viewportAnchorX\": {\n        enumerable: true,\n        get: function get() {\n          return _viewportAnchorX;\n        },\n        set: function set(value) {\n          if (!isValidPercentValue(value)) {\n            throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n          }\n\n          _viewportAnchorX = value;\n        }\n      },\n      \"scroll\": {\n        enumerable: true,\n        get: function get() {\n          return _scroll;\n        },\n        set: function set(value) {\n          var setting = findScrollSetting(value); // Have to check for false as an empty string is a legal value.\n\n          if (setting === false) {\n            throw new SyntaxError(\"An invalid or illegal string was specified.\");\n          }\n\n          _scroll = setting;\n        }\n      }\n    });\n  }\n\n  var vttregion = VTTRegion;\n\n  var browserIndex = createCommonjsModule(function (module) {\n    /**\n     * Copyright 2013 vtt.js Contributors\n     *\n     * Licensed under the Apache License, Version 2.0 (the \"License\");\n     * you may not use this file except in compliance with the License.\n     * You may obtain a copy of the License at\n     *\n     *   http://www.apache.org/licenses/LICENSE-2.0\n     *\n     * Unless required by applicable law or agreed to in writing, software\n     * distributed under the License is distributed on an \"AS IS\" BASIS,\n     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n     * See the License for the specific language governing permissions and\n     * limitations under the License.\n     */\n    // Default exports for Node. Export the extended versions of VTTCue and\n    // VTTRegion in Node since we likely want the capability to convert back and\n    // forth between JSON. If we don't then it's not that big of a deal since we're\n    // off browser.\n    var vttjs = module.exports = {\n      WebVTT: vtt,\n      VTTCue: vttcue,\n      VTTRegion: vttregion\n    };\n    window$1.vttjs = vttjs;\n    window$1.WebVTT = vttjs.WebVTT;\n    var cueShim = vttjs.VTTCue;\n    var regionShim = vttjs.VTTRegion;\n    var nativeVTTCue = window$1.VTTCue;\n    var nativeVTTRegion = window$1.VTTRegion;\n\n    vttjs.shim = function () {\n      window$1.VTTCue = cueShim;\n      window$1.VTTRegion = regionShim;\n    };\n\n    vttjs.restore = function () {\n      window$1.VTTCue = nativeVTTCue;\n      window$1.VTTRegion = nativeVTTRegion;\n    };\n\n    if (!window$1.VTTCue) {\n      vttjs.shim();\n    }\n  });\n  var browserIndex_1 = browserIndex.WebVTT;\n  var browserIndex_2 = browserIndex.VTTCue;\n  var browserIndex_3 = browserIndex.VTTRegion;\n\n  /**\n   * An Object containing a structure like: `{src: 'url', type: 'mimetype'}` or string\n   * that just contains the src url alone.\n   * * `var SourceObject = {src: 'http://ex.com/video.mp4', type: 'video/mp4'};`\n     * `var SourceString = 'http://example.com/some-video.mp4';`\n   *\n   * @typedef {Object|string} Tech~SourceObject\n   *\n   * @property {string} src\n   *           The url to the source\n   *\n   * @property {string} type\n   *           The mime type of the source\n   */\n\n  /**\n   * A function used by {@link Tech} to create a new {@link TextTrack}.\n   *\n   * @private\n   *\n   * @param {Tech} self\n   *        An instance of the Tech class.\n   *\n   * @param {string} kind\n   *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n   *\n   * @param {string} [label]\n   *        Label to identify the text track\n   *\n   * @param {string} [language]\n   *        Two letter language abbreviation\n   *\n   * @param {Object} [options={}]\n   *        An object with additional text track options\n   *\n   * @return {TextTrack}\n   *          The text track that was created.\n   */\n\n  function createTrackHelper(self, kind, label, language, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var tracks = self.textTracks();\n    options.kind = kind;\n\n    if (label) {\n      options.label = label;\n    }\n\n    if (language) {\n      options.language = language;\n    }\n\n    options.tech = self;\n    var track = new ALL.text.TrackClass(options);\n    tracks.addTrack(track);\n    return track;\n  }\n  /**\n   * This is the base class for media playback technology controllers, such as\n   * {@link Flash} and {@link HTML5}\n   *\n   * @extends Component\n   */\n\n\n  var Tech =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Tech, _Component);\n\n    /**\n    * Create an instance of this Tech.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    *\n    * @param {Component~ReadyCallback} ready\n    *        Callback function to call when the `HTML5` Tech is ready.\n    */\n    function Tech(options, ready) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (ready === void 0) {\n        ready = function ready() {};\n      }\n\n      // we don't want the tech to report user activity automatically.\n      // This is done manually in addControlsListeners\n      options.reportTouchActivity = false;\n      _this = _Component.call(this, null, options, ready) || this; // keep track of whether the current source has played at all to\n      // implement a very limited played()\n\n      _this.hasStarted_ = false;\n\n      _this.on('playing', function () {\n        this.hasStarted_ = true;\n      });\n\n      _this.on('loadstart', function () {\n        this.hasStarted_ = false;\n      });\n\n      ALL.names.forEach(function (name) {\n        var props = ALL[name];\n\n        if (options && options[props.getterName]) {\n          _this[props.privateName] = options[props.getterName];\n        }\n      }); // Manually track progress in cases where the browser/flash player doesn't report it.\n\n      if (!_this.featuresProgressEvents) {\n        _this.manualProgressOn();\n      } // Manually track timeupdates in cases where the browser/flash player doesn't report it.\n\n\n      if (!_this.featuresTimeupdateEvents) {\n        _this.manualTimeUpdatesOn();\n      }\n\n      ['Text', 'Audio', 'Video'].forEach(function (track) {\n        if (options[\"native\" + track + \"Tracks\"] === false) {\n          _this[\"featuresNative\" + track + \"Tracks\"] = false;\n        }\n      });\n\n      if (options.nativeCaptions === false || options.nativeTextTracks === false) {\n        _this.featuresNativeTextTracks = false;\n      } else if (options.nativeCaptions === true || options.nativeTextTracks === true) {\n        _this.featuresNativeTextTracks = true;\n      }\n\n      if (!_this.featuresNativeTextTracks) {\n        _this.emulateTextTracks();\n      }\n\n      _this.autoRemoteTextTracks_ = new ALL.text.ListClass();\n\n      _this.initTrackListeners(); // Turn on component tap events only if not using native controls\n\n\n      if (!options.nativeControlsForTouch) {\n        _this.emitTapEvents();\n      }\n\n      if (_this.constructor) {\n        _this.name_ = _this.constructor.name || 'Unknown Tech';\n      }\n\n      return _this;\n    }\n    /**\n     * A special function to trigger source set in a way that will allow player\n     * to re-trigger if the player or tech are not ready yet.\n     *\n     * @fires Tech#sourceset\n     * @param {string} src The source string at the time of the source changing.\n     */\n\n\n    var _proto = Tech.prototype;\n\n    _proto.triggerSourceset = function triggerSourceset(src) {\n      var _this2 = this;\n\n      if (!this.isReady_) {\n        // on initial ready we have to trigger source set\n        // 1ms after ready so that player can watch for it.\n        this.one('ready', function () {\n          return _this2.setTimeout(function () {\n            return _this2.triggerSourceset(src);\n          }, 1);\n        });\n      }\n      /**\n       * Fired when the source is set on the tech causing the media element\n       * to reload.\n       *\n       * @see {@link Player#event:sourceset}\n       * @event Tech#sourceset\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger({\n        src: src,\n        type: 'sourceset'\n      });\n    }\n    /* Fallbacks for unsupported event types\n    ================================================================================ */\n\n    /**\n     * Polyfill the `progress` event for browsers that don't support it natively.\n     *\n     * @see {@link Tech#trackProgress}\n     */\n    ;\n\n    _proto.manualProgressOn = function manualProgressOn() {\n      this.on('durationchange', this.onDurationChange);\n      this.manualProgress = true; // Trigger progress watching when a source begins loading\n\n      this.one('ready', this.trackProgress);\n    }\n    /**\n     * Turn off the polyfill for `progress` events that was created in\n     * {@link Tech#manualProgressOn}\n     */\n    ;\n\n    _proto.manualProgressOff = function manualProgressOff() {\n      this.manualProgress = false;\n      this.stopTrackingProgress();\n      this.off('durationchange', this.onDurationChange);\n    }\n    /**\n     * This is used to trigger a `progress` event when the buffered percent changes. It\n     * sets an interval function that will be called every 500 milliseconds to check if the\n     * buffer end percent has changed.\n     *\n     * > This function is called by {@link Tech#manualProgressOn}\n     *\n     * @param {EventTarget~Event} event\n     *        The `ready` event that caused this to run.\n     *\n     * @listens Tech#ready\n     * @fires Tech#progress\n     */\n    ;\n\n    _proto.trackProgress = function trackProgress(event) {\n      this.stopTrackingProgress();\n      this.progressInterval = this.setInterval(bind(this, function () {\n        // Don't trigger unless buffered amount is greater than last time\n        var numBufferedPercent = this.bufferedPercent();\n\n        if (this.bufferedPercent_ !== numBufferedPercent) {\n          /**\n           * See {@link Player#progress}\n           *\n           * @event Tech#progress\n           * @type {EventTarget~Event}\n           */\n          this.trigger('progress');\n        }\n\n        this.bufferedPercent_ = numBufferedPercent;\n\n        if (numBufferedPercent === 1) {\n          this.stopTrackingProgress();\n        }\n      }), 500);\n    }\n    /**\n     * Update our internal duration on a `durationchange` event by calling\n     * {@link Tech#duration}.\n     *\n     * @param {EventTarget~Event} event\n     *        The `durationchange` event that caused this to run.\n     *\n     * @listens Tech#durationchange\n     */\n    ;\n\n    _proto.onDurationChange = function onDurationChange(event) {\n      this.duration_ = this.duration();\n    }\n    /**\n     * Get and create a `TimeRange` object for buffering.\n     *\n     * @return {TimeRange}\n     *         The time range object that was created.\n     */\n    ;\n\n    _proto.buffered = function buffered() {\n      return createTimeRanges(0, 0);\n    }\n    /**\n     * Get the percentage of the current video that is currently buffered.\n     *\n     * @return {number}\n     *         A number from 0 to 1 that represents the decimal percentage of the\n     *         video that is buffered.\n     *\n     */\n    ;\n\n    _proto.bufferedPercent = function bufferedPercent$$1() {\n      return bufferedPercent(this.buffered(), this.duration_);\n    }\n    /**\n     * Turn off the polyfill for `progress` events that was created in\n     * {@link Tech#manualProgressOn}\n     * Stop manually tracking progress events by clearing the interval that was set in\n     * {@link Tech#trackProgress}.\n     */\n    ;\n\n    _proto.stopTrackingProgress = function stopTrackingProgress() {\n      this.clearInterval(this.progressInterval);\n    }\n    /**\n     * Polyfill the `timeupdate` event for browsers that don't support it.\n     *\n     * @see {@link Tech#trackCurrentTime}\n     */\n    ;\n\n    _proto.manualTimeUpdatesOn = function manualTimeUpdatesOn() {\n      this.manualTimeUpdates = true;\n      this.on('play', this.trackCurrentTime);\n      this.on('pause', this.stopTrackingCurrentTime);\n    }\n    /**\n     * Turn off the polyfill for `timeupdate` events that was created in\n     * {@link Tech#manualTimeUpdatesOn}\n     */\n    ;\n\n    _proto.manualTimeUpdatesOff = function manualTimeUpdatesOff() {\n      this.manualTimeUpdates = false;\n      this.stopTrackingCurrentTime();\n      this.off('play', this.trackCurrentTime);\n      this.off('pause', this.stopTrackingCurrentTime);\n    }\n    /**\n     * Sets up an interval function to track current time and trigger `timeupdate` every\n     * 250 milliseconds.\n     *\n     * @listens Tech#play\n     * @triggers Tech#timeupdate\n     */\n    ;\n\n    _proto.trackCurrentTime = function trackCurrentTime() {\n      if (this.currentTimeInterval) {\n        this.stopTrackingCurrentTime();\n      }\n\n      this.currentTimeInterval = this.setInterval(function () {\n        /**\n         * Triggered at an interval of 250ms to indicated that time is passing in the video.\n         *\n         * @event Tech#timeupdate\n         * @type {EventTarget~Event}\n         */\n        this.trigger({\n          type: 'timeupdate',\n          target: this,\n          manuallyTriggered: true\n        }); // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n      }, 250);\n    }\n    /**\n     * Stop the interval function created in {@link Tech#trackCurrentTime} so that the\n     * `timeupdate` event is no longer triggered.\n     *\n     * @listens {Tech#pause}\n     */\n    ;\n\n    _proto.stopTrackingCurrentTime = function stopTrackingCurrentTime() {\n      this.clearInterval(this.currentTimeInterval); // #1002 - if the video ends right before the next timeupdate would happen,\n      // the progress bar won't make it all the way to the end\n\n      this.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n    }\n    /**\n     * Turn off all event polyfills, clear the `Tech`s {@link AudioTrackList},\n     * {@link VideoTrackList}, and {@link TextTrackList}, and dispose of this Tech.\n     *\n     * @fires Component#dispose\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      // clear out all tracks because we can't reuse them between techs\n      this.clearTracks(NORMAL.names); // Turn off any manual progress or timeupdate tracking\n\n      if (this.manualProgress) {\n        this.manualProgressOff();\n      }\n\n      if (this.manualTimeUpdates) {\n        this.manualTimeUpdatesOff();\n      }\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Clear out a single `TrackList` or an array of `TrackLists` given their names.\n     *\n     * > Note: Techs without source handlers should call this between sources for `video`\n     *         & `audio` tracks. You don't want to use them between tracks!\n     *\n     * @param {string[]|string} types\n     *        TrackList names to clear, valid names are `video`, `audio`, and\n     *        `text`.\n     */\n    ;\n\n    _proto.clearTracks = function clearTracks(types) {\n      var _this3 = this;\n\n      types = [].concat(types); // clear out all tracks because we can't reuse them between techs\n\n      types.forEach(function (type) {\n        var list = _this3[type + \"Tracks\"]() || [];\n        var i = list.length;\n\n        while (i--) {\n          var track = list[i];\n\n          if (type === 'text') {\n            _this3.removeRemoteTextTrack(track);\n          }\n\n          list.removeTrack(track);\n        }\n      });\n    }\n    /**\n     * Remove any TextTracks added via addRemoteTextTrack that are\n     * flagged for automatic garbage collection\n     */\n    ;\n\n    _proto.cleanupAutoTextTracks = function cleanupAutoTextTracks() {\n      var list = this.autoRemoteTextTracks_ || [];\n      var i = list.length;\n\n      while (i--) {\n        var track = list[i];\n        this.removeRemoteTextTrack(track);\n      }\n    }\n    /**\n     * Reset the tech, which will removes all sources and reset the internal readyState.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.reset = function reset() {}\n    /**\n     * Get or set an error on the Tech.\n     *\n     * @param {MediaError} [err]\n     *        Error to set on the Tech\n     *\n     * @return {MediaError|null}\n     *         The current error object on the tech, or null if there isn't one.\n     */\n    ;\n\n    _proto.error = function error(err) {\n      if (err !== undefined) {\n        this.error_ = new MediaError(err);\n        this.trigger('error');\n      }\n\n      return this.error_;\n    }\n    /**\n     * Returns the `TimeRange`s that have been played through for the current source.\n     *\n     * > NOTE: This implementation is incomplete. It does not track the played `TimeRange`.\n     *         It only checks whether the source has played at all or not.\n     *\n     * @return {TimeRange}\n     *         - A single time range if this video has played\n     *         - An empty set of ranges if not.\n     */\n    ;\n\n    _proto.played = function played() {\n      if (this.hasStarted_) {\n        return createTimeRanges(0, 0);\n      }\n\n      return createTimeRanges();\n    }\n    /**\n     * Causes a manual time update to occur if {@link Tech#manualTimeUpdatesOn} was\n     * previously called.\n     *\n     * @fires Tech#timeupdate\n     */\n    ;\n\n    _proto.setCurrentTime = function setCurrentTime() {\n      // improve the accuracy of manual timeupdates\n      if (this.manualTimeUpdates) {\n        /**\n         * A manual `timeupdate` event.\n         *\n         * @event Tech#timeupdate\n         * @type {EventTarget~Event}\n         */\n        this.trigger({\n          type: 'timeupdate',\n          target: this,\n          manuallyTriggered: true\n        });\n      }\n    }\n    /**\n     * Turn on listeners for {@link VideoTrackList}, {@link {AudioTrackList}, and\n     * {@link TextTrackList} events.\n     *\n     * This adds {@link EventTarget~EventListeners} for `addtrack`, and  `removetrack`.\n     *\n     * @fires Tech#audiotrackchange\n     * @fires Tech#videotrackchange\n     * @fires Tech#texttrackchange\n     */\n    ;\n\n    _proto.initTrackListeners = function initTrackListeners() {\n      var _this4 = this;\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link AudioTrackList}\n        *\n        * @event Tech#audiotrackchange\n        * @type {EventTarget~Event}\n        */\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link VideoTrackList}\n        *\n        * @event Tech#videotrackchange\n        * @type {EventTarget~Event}\n        */\n\n      /**\n        * Triggered when tracks are added or removed on the Tech {@link TextTrackList}\n        *\n        * @event Tech#texttrackchange\n        * @type {EventTarget~Event}\n        */\n      NORMAL.names.forEach(function (name) {\n        var props = NORMAL[name];\n\n        var trackListChanges = function trackListChanges() {\n          _this4.trigger(name + \"trackchange\");\n        };\n\n        var tracks = _this4[props.getterName]();\n\n        tracks.addEventListener('removetrack', trackListChanges);\n        tracks.addEventListener('addtrack', trackListChanges);\n\n        _this4.on('dispose', function () {\n          tracks.removeEventListener('removetrack', trackListChanges);\n          tracks.removeEventListener('addtrack', trackListChanges);\n        });\n      });\n    }\n    /**\n     * Emulate TextTracks using vtt.js if necessary\n     *\n     * @fires Tech#vttjsloaded\n     * @fires Tech#vttjserror\n     */\n    ;\n\n    _proto.addWebVttScript_ = function addWebVttScript_() {\n      var _this5 = this;\n\n      if (window$1.WebVTT) {\n        return;\n      } // Initially, Tech.el_ is a child of a dummy-div wait until the Component system\n      // signals that the Tech is ready at which point Tech.el_ is part of the DOM\n      // before inserting the WebVTT script\n\n\n      if (document.body.contains(this.el())) {\n        // load via require if available and vtt.js script location was not passed in\n        // as an option. novtt builds will turn the above require call into an empty object\n        // which will cause this if check to always fail.\n        if (!this.options_['vtt.js'] && isPlain(browserIndex) && Object.keys(browserIndex).length > 0) {\n          this.trigger('vttjsloaded');\n          return;\n        } // load vtt.js via the script location option or the cdn of no location was\n        // passed in\n\n\n        var script = document.createElement('script');\n        script.src = this.options_['vtt.js'] || 'https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js';\n\n        script.onload = function () {\n          /**\n           * Fired when vtt.js is loaded.\n           *\n           * @event Tech#vttjsloaded\n           * @type {EventTarget~Event}\n           */\n          _this5.trigger('vttjsloaded');\n        };\n\n        script.onerror = function () {\n          /**\n           * Fired when vtt.js was not loaded due to an error\n           *\n           * @event Tech#vttjsloaded\n           * @type {EventTarget~Event}\n           */\n          _this5.trigger('vttjserror');\n        };\n\n        this.on('dispose', function () {\n          script.onload = null;\n          script.onerror = null;\n        }); // but have not loaded yet and we set it to true before the inject so that\n        // we don't overwrite the injected window.WebVTT if it loads right away\n\n        window$1.WebVTT = true;\n        this.el().parentNode.appendChild(script);\n      } else {\n        this.ready(this.addWebVttScript_);\n      }\n    }\n    /**\n     * Emulate texttracks\n     *\n     */\n    ;\n\n    _proto.emulateTextTracks = function emulateTextTracks() {\n      var _this6 = this;\n\n      var tracks = this.textTracks();\n      var remoteTracks = this.remoteTextTracks();\n\n      var handleAddTrack = function handleAddTrack(e) {\n        return tracks.addTrack(e.track);\n      };\n\n      var handleRemoveTrack = function handleRemoveTrack(e) {\n        return tracks.removeTrack(e.track);\n      };\n\n      remoteTracks.on('addtrack', handleAddTrack);\n      remoteTracks.on('removetrack', handleRemoveTrack);\n      this.addWebVttScript_();\n\n      var updateDisplay = function updateDisplay() {\n        return _this6.trigger('texttrackchange');\n      };\n\n      var textTracksChanges = function textTracksChanges() {\n        updateDisplay();\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          track.removeEventListener('cuechange', updateDisplay);\n\n          if (track.mode === 'showing') {\n            track.addEventListener('cuechange', updateDisplay);\n          }\n        }\n      };\n\n      textTracksChanges();\n      tracks.addEventListener('change', textTracksChanges);\n      tracks.addEventListener('addtrack', textTracksChanges);\n      tracks.addEventListener('removetrack', textTracksChanges);\n      this.on('dispose', function () {\n        remoteTracks.off('addtrack', handleAddTrack);\n        remoteTracks.off('removetrack', handleRemoveTrack);\n        tracks.removeEventListener('change', textTracksChanges);\n        tracks.removeEventListener('addtrack', textTracksChanges);\n        tracks.removeEventListener('removetrack', textTracksChanges);\n\n        for (var i = 0; i < tracks.length; i++) {\n          var track = tracks[i];\n          track.removeEventListener('cuechange', updateDisplay);\n        }\n      });\n    }\n    /**\n     * Create and returns a remote {@link TextTrack} object.\n     *\n     * @param {string} kind\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n     *\n     * @param {string} [label]\n     *        Label to identify the text track\n     *\n     * @param {string} [language]\n     *        Two letter language abbreviation\n     *\n     * @return {TextTrack}\n     *         The TextTrack that gets created.\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!kind) {\n        throw new Error('TextTrack kind is required but was not provided');\n      }\n\n      return createTrackHelper(this, kind, label, language);\n    }\n    /**\n     * Create an emulated TextTrack for use by addRemoteTextTrack\n     *\n     * This is intended to be overridden by classes that inherit from\n     * Tech in order to create native or custom TextTracks.\n     *\n     * @param {Object} options\n     *        The object should contain the options to initialize the TextTrack with.\n     *\n     * @param {string} [options.kind]\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n     *\n     * @param {string} [options.label].\n     *        Label to identify the text track\n     *\n     * @param {string} [options.language]\n     *        Two letter language abbreviation.\n     *\n     * @return {HTMLTrackElement}\n     *         The track element that gets created.\n     */\n    ;\n\n    _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n      var track = mergeOptions(options, {\n        tech: this\n      });\n      return new REMOTE.remoteTextEl.TrackClass(track);\n    }\n    /**\n     * Creates a remote text track object and returns an html track element.\n     *\n     * > Note: This can be an emulated {@link HTMLTrackElement} or a native one.\n     *\n     * @param {Object} options\n     *        See {@link Tech#createRemoteTextTrack} for more detailed properties.\n     *\n     * @param {boolean} [manualCleanup=true]\n     *        - When false: the TextTrack will be automatically removed from the video\n     *          element whenever the source changes\n     *        - When True: The TextTrack will have to be cleaned up manually\n     *\n     * @return {HTMLTrackElement}\n     *         An Html Track Element.\n     *\n     * @deprecated The default functionality for this function will be equivalent\n     *             to \"manualCleanup=false\" in the future. The manualCleanup parameter will\n     *             also be removed.\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      var _this7 = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      var htmlTrackElement = this.createRemoteTextTrack(options);\n\n      if (manualCleanup !== true && manualCleanup !== false) {\n        // deprecation warning\n        log.warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js');\n        manualCleanup = true;\n      } // store HTMLTrackElement and TextTrack to remote list\n\n\n      this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);\n      this.remoteTextTracks().addTrack(htmlTrackElement.track);\n\n      if (manualCleanup !== true) {\n        // create the TextTrackList if it doesn't exist\n        this.ready(function () {\n          return _this7.autoRemoteTextTracks_.addTrack(htmlTrackElement.track);\n        });\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Remove a remote text track from the remote `TextTrackList`.\n     *\n     * @param {TextTrack} track\n     *        `TextTrack` to remove from the `TextTrackList`\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      var trackElement = this.remoteTextTrackEls().getTrackElementByTrack_(track); // remove HTMLTrackElement and TextTrack from remote list\n\n      this.remoteTextTrackEls().removeTrackElement_(trackElement);\n      this.remoteTextTracks().removeTrack(track);\n      this.autoRemoteTextTracks_.removeTrack(track);\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object}\n     *         An object with supported media playback quality metrics\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      return {};\n    }\n    /**\n     * A method to set a poster from a `Tech`.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.setPoster = function setPoster() {}\n    /**\n     * A method to check for the presence of the 'playsinline' <video> attribute.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.playsinline = function playsinline() {}\n    /**\n     * A method to set or unset the 'playsinline' <video> attribute.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.setPlaysinline = function setPlaysinline() {}\n    /**\n     * Attempt to force override of native audio tracks.\n     *\n     * @param {boolean} override - If set to true native audio will be overridden,\n     * otherwise native audio will potentially be used.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks() {}\n    /**\n     * Attempt to force override of native video tracks.\n     *\n     * @param {boolean} override - If set to true native video will be overridden,\n     * otherwise native video will potentially be used.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks() {}\n    /*\n     * Check if the tech can support the given mime-type.\n     *\n     * The base tech does not support any type, but source handlers might\n     * overwrite this.\n     *\n     * @param  {string} type\n     *         The mimetype to check for support\n     *\n     * @return {string}\n     *         'probably', 'maybe', or empty string\n     *\n     * @see [Spec]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/canPlayType}\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.canPlayType = function canPlayType() {\n      return '';\n    }\n    /**\n     * Check if the type is supported by this tech.\n     *\n     * The base tech does not support any type, but source handlers might\n     * overwrite this.\n     *\n     * @param {string} type\n     *        The media type to check\n     * @return {string} Returns the native video element's response\n     */\n    ;\n\n    Tech.canPlayType = function canPlayType() {\n      return '';\n    }\n    /**\n     * Check if the tech can support the given source\n     *\n     * @param {Object} srcObj\n     *        The source object\n     * @param {Object} options\n     *        The options passed to the tech\n     * @return {string} 'probably', 'maybe', or '' (empty string)\n     */\n    ;\n\n    Tech.canPlaySource = function canPlaySource(srcObj, options) {\n      return Tech.canPlayType(srcObj.type);\n    }\n    /*\n     * Return whether the argument is a Tech or not.\n     * Can be passed either a Class like `Html5` or a instance like `player.tech_`\n     *\n     * @param {Object} component\n     *        The item to check\n     *\n     * @return {boolean}\n     *         Whether it is a tech or not\n     *         - True if it is a tech\n     *         - False if it is not\n     */\n    ;\n\n    Tech.isTech = function isTech(component) {\n      return component.prototype instanceof Tech || component instanceof Tech || component === Tech;\n    }\n    /**\n     * Registers a `Tech` into a shared list for videojs.\n     *\n     * @param {string} name\n     *        Name of the `Tech` to register.\n     *\n     * @param {Object} tech\n     *        The `Tech` class to register.\n     */\n    ;\n\n    Tech.registerTech = function registerTech(name, tech) {\n      if (!Tech.techs_) {\n        Tech.techs_ = {};\n      }\n\n      if (!Tech.isTech(tech)) {\n        throw new Error(\"Tech \" + name + \" must be a Tech\");\n      }\n\n      if (!Tech.canPlayType) {\n        throw new Error('Techs must have a static canPlayType method on them');\n      }\n\n      if (!Tech.canPlaySource) {\n        throw new Error('Techs must have a static canPlaySource method on them');\n      }\n\n      name = toTitleCase(name);\n      Tech.techs_[name] = tech;\n\n      if (name !== 'Tech') {\n        // camel case the techName for use in techOrder\n        Tech.defaultTechOrder_.push(name);\n      }\n\n      return tech;\n    }\n    /**\n     * Get a `Tech` from the shared list by name.\n     *\n     * @param {string} name\n     *        `camelCase` or `TitleCase` name of the Tech to get\n     *\n     * @return {Tech|undefined}\n     *         The `Tech` or undefined if there was no tech with the name requested.\n     */\n    ;\n\n    Tech.getTech = function getTech(name) {\n      if (!name) {\n        return;\n      }\n\n      name = toTitleCase(name);\n\n      if (Tech.techs_ && Tech.techs_[name]) {\n        return Tech.techs_[name];\n      }\n\n      if (window$1 && window$1.videojs && window$1.videojs[name]) {\n        log.warn(\"The \" + name + \" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)\");\n        return window$1.videojs[name];\n      }\n    };\n\n    return Tech;\n  }(Component);\n  /**\n   * Get the {@link VideoTrackList}\n   *\n   * @returns {VideoTrackList}\n   * @method Tech.prototype.videoTracks\n   */\n\n  /**\n   * Get the {@link AudioTrackList}\n   *\n   * @returns {AudioTrackList}\n   * @method Tech.prototype.audioTracks\n   */\n\n  /**\n   * Get the {@link TextTrackList}\n   *\n   * @returns {TextTrackList}\n   * @method Tech.prototype.textTracks\n   */\n\n  /**\n   * Get the remote element {@link TextTrackList}\n   *\n   * @returns {TextTrackList}\n   * @method Tech.prototype.remoteTextTracks\n   */\n\n  /**\n   * Get the remote element {@link HtmlTrackElementList}\n   *\n   * @returns {HtmlTrackElementList}\n   * @method Tech.prototype.remoteTextTrackEls\n   */\n\n\n  ALL.names.forEach(function (name) {\n    var props = ALL[name];\n\n    Tech.prototype[props.getterName] = function () {\n      this[props.privateName] = this[props.privateName] || new props.ListClass();\n      return this[props.privateName];\n    };\n  });\n  /**\n   * List of associated text tracks\n   *\n   * @type {TextTrackList}\n   * @private\n   * @property Tech#textTracks_\n   */\n\n  /**\n   * List of associated audio tracks.\n   *\n   * @type {AudioTrackList}\n   * @private\n   * @property Tech#audioTracks_\n   */\n\n  /**\n   * List of associated video tracks.\n   *\n   * @type {VideoTrackList}\n   * @private\n   * @property Tech#videoTracks_\n   */\n\n  /**\n   * Boolean indicating whether the `Tech` supports volume control.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresVolumeControl = true;\n  /**\n   * Boolean indicating whether the `Tech` supports muting volume.\n   *\n   * @type {bolean}\n   * @default\n   */\n\n  Tech.prototype.featuresMuteControl = true;\n  /**\n   * Boolean indicating whether the `Tech` supports fullscreen resize control.\n   * Resizing plugins using request fullscreen reloads the plugin\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresFullscreenResize = false;\n  /**\n   * Boolean indicating whether the `Tech` supports changing the speed at which the video\n   * plays. Examples:\n   *   - Set player to play 2x (twice) as fast\n   *   - Set player to play 0.5x (half) as fast\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresPlaybackRate = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `progress` event. This is currently\n   * not triggered by video-js-swf. This will be used to determine if\n   * {@link Tech#manualProgressOn} should be called.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresProgressEvents = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `sourceset` event.\n   *\n   * A tech should set this to `true` and then use {@link Tech#triggerSourceset}\n   * to trigger a {@link Tech#event:sourceset} at the earliest time after getting\n   * a new source.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresSourceset = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the `timeupdate` event. This is currently\n   * not triggered by video-js-swf. This will be used to determine if\n   * {@link Tech#manualTimeUpdates} should be called.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresTimeupdateEvents = false;\n  /**\n   * Boolean indicating whether the `Tech` supports the native `TextTrack`s.\n   * This will help us integrate with native `TextTrack`s if the browser supports them.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Tech.prototype.featuresNativeTextTracks = false;\n  /**\n   * A functional mixin for techs that want to use the Source Handler pattern.\n   * Source handlers are scripts for handling specific formats.\n   * The source handler pattern is used for adaptive formats (HLS, DASH) that\n   * manually load video data and feed it into a Source Buffer (Media Source Extensions)\n   * Example: `Tech.withSourceHandlers.call(MyTech);`\n   *\n   * @param {Tech} _Tech\n   *        The tech to add source handler functions to.\n   *\n   * @mixes Tech~SourceHandlerAdditions\n   */\n\n  Tech.withSourceHandlers = function (_Tech) {\n    /**\n     * Register a source handler\n     *\n     * @param {Function} handler\n     *        The source handler class\n     *\n     * @param {number} [index]\n     *        Register it at the following index\n     */\n    _Tech.registerSourceHandler = function (handler, index) {\n      var handlers = _Tech.sourceHandlers;\n\n      if (!handlers) {\n        handlers = _Tech.sourceHandlers = [];\n      }\n\n      if (index === undefined) {\n        // add to the end of the list\n        index = handlers.length;\n      }\n\n      handlers.splice(index, 0, handler);\n    };\n    /**\n     * Check if the tech can support the given type. Also checks the\n     * Techs sourceHandlers.\n     *\n     * @param {string} type\n     *         The mimetype to check.\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n\n\n    _Tech.canPlayType = function (type) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canPlayType(type);\n\n        if (can) {\n          return can;\n        }\n      }\n\n      return '';\n    };\n    /**\n     * Returns the first source handler that supports the source.\n     *\n     * TODO: Answer question: should 'probably' be prioritized over 'maybe'\n     *\n     * @param {Tech~SourceObject} source\n     *        The source object\n     *\n     * @param {Object} options\n     *        The options passed to the tech\n     *\n     * @return {SourceHandler|null}\n     *          The first source handler that supports the source or null if\n     *          no SourceHandler supports the source\n     */\n\n\n    _Tech.selectSourceHandler = function (source, options) {\n      var handlers = _Tech.sourceHandlers || [];\n      var can;\n\n      for (var i = 0; i < handlers.length; i++) {\n        can = handlers[i].canHandleSource(source, options);\n\n        if (can) {\n          return handlers[i];\n        }\n      }\n\n      return null;\n    };\n    /**\n     * Check if the tech can support the given source.\n     *\n     * @param {Tech~SourceObject} srcObj\n     *        The source object\n     *\n     * @param {Object} options\n     *        The options passed to the tech\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n\n\n    _Tech.canPlaySource = function (srcObj, options) {\n      var sh = _Tech.selectSourceHandler(srcObj, options);\n\n      if (sh) {\n        return sh.canHandleSource(srcObj, options);\n      }\n\n      return '';\n    };\n    /**\n     * When using a source handler, prefer its implementation of\n     * any function normally provided by the tech.\n     */\n\n\n    var deferrable = ['seekable', 'seeking', 'duration'];\n    /**\n     * A wrapper around {@link Tech#seekable} that will call a `SourceHandler`s seekable\n     * function if it exists, with a fallback to the Techs seekable function.\n     *\n     * @method _Tech.seekable\n     */\n\n    /**\n     * A wrapper around {@link Tech#duration} that will call a `SourceHandler`s duration\n     * function if it exists, otherwise it will fallback to the techs duration function.\n     *\n     * @method _Tech.duration\n     */\n\n    deferrable.forEach(function (fnName) {\n      var originalFn = this[fnName];\n\n      if (typeof originalFn !== 'function') {\n        return;\n      }\n\n      this[fnName] = function () {\n        if (this.sourceHandler_ && this.sourceHandler_[fnName]) {\n          return this.sourceHandler_[fnName].apply(this.sourceHandler_, arguments);\n        }\n\n        return originalFn.apply(this, arguments);\n      };\n    }, _Tech.prototype);\n    /**\n     * Create a function for setting the source using a source object\n     * and source handlers.\n     * Should never be called unless a source handler was found.\n     *\n     * @param {Tech~SourceObject} source\n     *        A source object with src and type keys\n     */\n\n    _Tech.prototype.setSource = function (source) {\n      var sh = _Tech.selectSourceHandler(source, this.options_);\n\n      if (!sh) {\n        // Fall back to a native source hander when unsupported sources are\n        // deliberately set\n        if (_Tech.nativeSourceHandler) {\n          sh = _Tech.nativeSourceHandler;\n        } else {\n          log.error('No source handler found for the current source.');\n        }\n      } // Dispose any existing source handler\n\n\n      this.disposeSourceHandler();\n      this.off('dispose', this.disposeSourceHandler);\n\n      if (sh !== _Tech.nativeSourceHandler) {\n        this.currentSource_ = source;\n      }\n\n      this.sourceHandler_ = sh.handleSource(source, this, this.options_);\n      this.one('dispose', this.disposeSourceHandler);\n    };\n    /**\n     * Clean up any existing SourceHandlers and listeners when the Tech is disposed.\n     *\n     * @listens Tech#dispose\n     */\n\n\n    _Tech.prototype.disposeSourceHandler = function () {\n      // if we have a source and get another one\n      // then we are loading something new\n      // than clear all of our current tracks\n      if (this.currentSource_) {\n        this.clearTracks(['audio', 'video']);\n        this.currentSource_ = null;\n      } // always clean up auto-text tracks\n\n\n      this.cleanupAutoTextTracks();\n\n      if (this.sourceHandler_) {\n        if (this.sourceHandler_.dispose) {\n          this.sourceHandler_.dispose();\n        }\n\n        this.sourceHandler_ = null;\n      }\n    };\n  }; // The base Tech class needs to be registered as a Component. It is the only\n  // Tech that can be registered as a Component.\n\n\n  Component.registerComponent('Tech', Tech);\n  Tech.registerTech('Tech', Tech);\n  /**\n   * A list of techs that should be added to techOrder on Players\n   *\n   * @private\n   */\n\n  Tech.defaultTechOrder_ = [];\n\n  /**\n   * @file middleware.js\n   * @module middleware\n   */\n  var middlewares = {};\n  var middlewareInstances = {};\n  var TERMINATOR = {};\n  /**\n   * A middleware object is a plain JavaScript object that has methods that\n   * match the {@link Tech} methods found in the lists of allowed\n   * {@link module:middleware.allowedGetters|getters},\n   * {@link module:middleware.allowedSetters|setters}, and\n   * {@link module:middleware.allowedMediators|mediators}.\n   *\n   * @typedef {Object} MiddlewareObject\n   */\n\n  /**\n   * A middleware factory function that should return a\n   * {@link module:middleware~MiddlewareObject|MiddlewareObject}.\n   *\n   * This factory will be called for each player when needed, with the player\n   * passed in as an argument.\n   *\n   * @callback MiddlewareFactory\n   * @param {Player} player\n   *        A Video.js player.\n   */\n\n  /**\n   * Define a middleware that the player should use by way of a factory function\n   * that returns a middleware object.\n   *\n   * @param  {string} type\n   *         The MIME type to match or `\"*\"` for all MIME types.\n   *\n   * @param  {MiddlewareFactory} middleware\n   *         A middleware factory function that will be executed for\n   *         matching types.\n   */\n\n  function use(type, middleware) {\n    middlewares[type] = middlewares[type] || [];\n    middlewares[type].push(middleware);\n  }\n  /**\n   * Asynchronously sets a source using middleware by recursing through any\n   * matching middlewares and calling `setSource` on each, passing along the\n   * previous returned value each time.\n   *\n   * @param  {Player} player\n   *         A {@link Player} instance.\n   *\n   * @param  {Tech~SourceObject} src\n   *         A source object.\n   *\n   * @param  {Function}\n   *         The next middleware to run.\n   */\n\n  function setSource(player, src, next) {\n    player.setTimeout(function () {\n      return setSourceHelper(src, middlewares[src.type], next, player);\n    }, 1);\n  }\n  /**\n   * When the tech is set, passes the tech to each middleware's `setTech` method.\n   *\n   * @param {Object[]} middleware\n   *        An array of middleware instances.\n   *\n   * @param {Tech} tech\n   *        A Video.js tech.\n   */\n\n  function setTech(middleware, tech) {\n    middleware.forEach(function (mw) {\n      return mw.setTech && mw.setTech(tech);\n    });\n  }\n  /**\n   * Calls a getter on the tech first, through each middleware\n   * from right to left to the player.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @return {Mixed}\n   *         The final value from the tech after middleware has intercepted it.\n   */\n\n  function get(middleware, tech, method) {\n    return middleware.reduceRight(middlewareIterator(method), tech[method]());\n  }\n  /**\n   * Takes the argument given to the player and calls the setter method on each\n   * middleware from left to right to the tech.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @param  {Mixed} arg\n   *         The value to set on the tech.\n   *\n   * @return {Mixed}\n   *         The return value of the `method` of the `tech`.\n   */\n\n  function set$1(middleware, tech, method, arg) {\n    return tech[method](middleware.reduce(middlewareIterator(method), arg));\n  }\n  /**\n   * Takes the argument given to the player and calls the `call` version of the\n   * method on each middleware from left to right.\n   *\n   * Then, call the passed in method on the tech and return the result unchanged\n   * back to the player, through middleware, this time from right to left.\n   *\n   * @param  {Object[]} middleware\n   *         An array of middleware instances.\n   *\n   * @param  {Tech} tech\n   *         The current tech.\n   *\n   * @param  {string} method\n   *         A method name.\n   *\n   * @param  {Mixed} arg\n   *         The value to set on the tech.\n   *\n   * @return {Mixed}\n   *         The return value of the `method` of the `tech`, regardless of the\n   *         return values of middlewares.\n   */\n\n  function mediate(middleware, tech, method, arg) {\n    if (arg === void 0) {\n      arg = null;\n    }\n\n    var callMethod = 'call' + toTitleCase(method);\n    var middlewareValue = middleware.reduce(middlewareIterator(callMethod), arg);\n    var terminated = middlewareValue === TERMINATOR; // deprecated. The `null` return value should instead return TERMINATOR to\n    // prevent confusion if a techs method actually returns null.\n\n    var returnValue = terminated ? null : tech[method](middlewareValue);\n    executeRight(middleware, method, returnValue, terminated);\n    return returnValue;\n  }\n  /**\n   * Enumeration of allowed getters where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedGetters = {\n    buffered: 1,\n    currentTime: 1,\n    duration: 1,\n    seekable: 1,\n    played: 1,\n    paused: 1\n  };\n  /**\n   * Enumeration of allowed setters where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedSetters = {\n    setCurrentTime: 1\n  };\n  /**\n   * Enumeration of allowed mediators where the keys are method names.\n   *\n   * @type {Object}\n   */\n\n  var allowedMediators = {\n    play: 1,\n    pause: 1\n  };\n\n  function middlewareIterator(method) {\n    return function (value, mw) {\n      // if the previous middleware terminated, pass along the termination\n      if (value === TERMINATOR) {\n        return TERMINATOR;\n      }\n\n      if (mw[method]) {\n        return mw[method](value);\n      }\n\n      return value;\n    };\n  }\n\n  function executeRight(mws, method, value, terminated) {\n    for (var i = mws.length - 1; i >= 0; i--) {\n      var mw = mws[i];\n\n      if (mw[method]) {\n        mw[method](terminated, value);\n      }\n    }\n  }\n  /**\n   * Clear the middleware cache for a player.\n   *\n   * @param  {Player} player\n   *         A {@link Player} instance.\n   */\n\n\n  function clearCacheForPlayer(player) {\n    middlewareInstances[player.id()] = null;\n  }\n  /**\n   * {\n   *  [playerId]: [[mwFactory, mwInstance], ...]\n   * }\n   *\n   * @private\n   */\n\n  function getOrCreateFactory(player, mwFactory) {\n    var mws = middlewareInstances[player.id()];\n    var mw = null;\n\n    if (mws === undefined || mws === null) {\n      mw = mwFactory(player);\n      middlewareInstances[player.id()] = [[mwFactory, mw]];\n      return mw;\n    }\n\n    for (var i = 0; i < mws.length; i++) {\n      var _mws$i = mws[i],\n          mwf = _mws$i[0],\n          mwi = _mws$i[1];\n\n      if (mwf !== mwFactory) {\n        continue;\n      }\n\n      mw = mwi;\n    }\n\n    if (mw === null) {\n      mw = mwFactory(player);\n      mws.push([mwFactory, mw]);\n    }\n\n    return mw;\n  }\n\n  function setSourceHelper(src, middleware, next, player, acc, lastRun) {\n    if (src === void 0) {\n      src = {};\n    }\n\n    if (middleware === void 0) {\n      middleware = [];\n    }\n\n    if (acc === void 0) {\n      acc = [];\n    }\n\n    if (lastRun === void 0) {\n      lastRun = false;\n    }\n\n    var _middleware = middleware,\n        mwFactory = _middleware[0],\n        mwrest = _middleware.slice(1); // if mwFactory is a string, then we're at a fork in the road\n\n\n    if (typeof mwFactory === 'string') {\n      setSourceHelper(src, middlewares[mwFactory], next, player, acc, lastRun); // if we have an mwFactory, call it with the player to get the mw,\n      // then call the mw's setSource method\n    } else if (mwFactory) {\n      var mw = getOrCreateFactory(player, mwFactory); // if setSource isn't present, implicitly select this middleware\n\n      if (!mw.setSource) {\n        acc.push(mw);\n        return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n      }\n\n      mw.setSource(assign({}, src), function (err, _src) {\n        // something happened, try the next middleware on the current level\n        // make sure to use the old src\n        if (err) {\n          return setSourceHelper(src, mwrest, next, player, acc, lastRun);\n        } // we've succeeded, now we need to go deeper\n\n\n        acc.push(mw); // if it's the same type, continue down the current chain\n        // otherwise, we want to go down the new chain\n\n        setSourceHelper(_src, src.type === _src.type ? mwrest : middlewares[_src.type], next, player, acc, lastRun);\n      });\n    } else if (mwrest.length) {\n      setSourceHelper(src, mwrest, next, player, acc, lastRun);\n    } else if (lastRun) {\n      next(src, acc);\n    } else {\n      setSourceHelper(src, middlewares['*'], next, player, acc, true);\n    }\n  }\n\n  /**\n   * Mimetypes\n   *\n   * @see http://hul.harvard.edu/ois/////systems/wax/wax-public-help/mimetypes.htm\n   * @typedef Mimetypes~Kind\n   * @enum\n   */\n\n  var MimetypesKind = {\n    opus: 'video/ogg',\n    ogv: 'video/ogg',\n    mp4: 'video/mp4',\n    mov: 'video/mp4',\n    m4v: 'video/mp4',\n    mkv: 'video/x-matroska',\n    mp3: 'audio/mpeg',\n    aac: 'audio/aac',\n    oga: 'audio/ogg',\n    m3u8: 'application/x-mpegURL',\n    jpg: 'image/jpeg',\n    jpeg: 'image/jpeg',\n    gif: 'image/gif',\n    png: 'image/png',\n    svg: 'image/svg+xml',\n    webp: 'image/webp'\n  };\n  /**\n   * Get the mimetype of a given src url if possible\n   *\n   * @param {string} src\n   *        The url to the src\n   *\n   * @return {string}\n   *         return the mimetype if it was known or empty string otherwise\n   */\n\n  var getMimetype = function getMimetype(src) {\n    if (src === void 0) {\n      src = '';\n    }\n\n    var ext = getFileExtension(src);\n    var mimetype = MimetypesKind[ext.toLowerCase()];\n    return mimetype || '';\n  };\n  /**\n   * Find the mime type of a given source string if possible. Uses the player\n   * source cache.\n   *\n   * @param {Player} player\n   *        The player object\n   *\n   * @param {string} src\n   *        The source string\n   *\n   * @return {string}\n   *         The type that was found\n   */\n\n  var findMimetype = function findMimetype(player, src) {\n    if (!src) {\n      return '';\n    } // 1. check for the type in the `source` cache\n\n\n    if (player.cache_.source.src === src && player.cache_.source.type) {\n      return player.cache_.source.type;\n    } // 2. see if we have this source in our `currentSources` cache\n\n\n    var matchingSources = player.cache_.sources.filter(function (s) {\n      return s.src === src;\n    });\n\n    if (matchingSources.length) {\n      return matchingSources[0].type;\n    } // 3. look for the src url in source elements and use the type there\n\n\n    var sources = player.$$('source');\n\n    for (var i = 0; i < sources.length; i++) {\n      var s = sources[i];\n\n      if (s.type && s.src && s.src === src) {\n        return s.type;\n      }\n    } // 4. finally fallback to our list of mime types based on src url extension\n\n\n    return getMimetype(src);\n  };\n\n  /**\n   * @module filter-source\n   */\n  /**\n   * Filter out single bad source objects or multiple source objects in an\n   * array. Also flattens nested source object arrays into a 1 dimensional\n   * array of source objects.\n   *\n   * @param {Tech~SourceObject|Tech~SourceObject[]} src\n   *        The src object to filter\n   *\n   * @return {Tech~SourceObject[]}\n   *         An array of sourceobjects containing only valid sources\n   *\n   * @private\n   */\n\n  var filterSource = function filterSource(src) {\n    // traverse array\n    if (Array.isArray(src)) {\n      var newsrc = [];\n      src.forEach(function (srcobj) {\n        srcobj = filterSource(srcobj);\n\n        if (Array.isArray(srcobj)) {\n          newsrc = newsrc.concat(srcobj);\n        } else if (isObject(srcobj)) {\n          newsrc.push(srcobj);\n        }\n      });\n      src = newsrc;\n    } else if (typeof src === 'string' && src.trim()) {\n      // convert string into object\n      src = [fixSource({\n        src: src\n      })];\n    } else if (isObject(src) && typeof src.src === 'string' && src.src && src.src.trim()) {\n      // src is already valid\n      src = [fixSource(src)];\n    } else {\n      // invalid source, turn it into an empty array\n      src = [];\n    }\n\n    return src;\n  };\n  /**\n   * Checks src mimetype, adding it when possible\n   *\n   * @param {Tech~SourceObject} src\n   *        The src object to check\n   * @return {Tech~SourceObject}\n   *        src Object with known type\n   */\n\n\n  function fixSource(src) {\n    var mimetype = getMimetype(src.src);\n\n    if (!src.type && mimetype) {\n      src.type = mimetype;\n    }\n\n    return src;\n  }\n\n  /**\n   * The `MediaLoader` is the `Component` that decides which playback technology to load\n   * when a player is initialized.\n   *\n   * @extends Component\n   */\n\n  var MediaLoader =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(MediaLoader, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should attach to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function that is run when this component is ready.\n     */\n    function MediaLoader(player, options, ready) {\n      var _this;\n\n      // MediaLoader has no element\n      var options_ = mergeOptions({\n        createEl: false\n      }, options);\n      _this = _Component.call(this, player, options_, ready) || this; // If there are no sources when the player is initialized,\n      // load the first supported playback technology.\n\n      if (!options.playerOptions.sources || options.playerOptions.sources.length === 0) {\n        for (var i = 0, j = options.playerOptions.techOrder; i < j.length; i++) {\n          var techName = toTitleCase(j[i]);\n          var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n          // Remove once that deprecated behavior is removed.\n\n          if (!techName) {\n            tech = Component.getComponent(techName);\n          } // Check if the browser supports this technology\n\n\n          if (tech && tech.isSupported()) {\n            player.loadTech_(techName);\n            break;\n          }\n        }\n      } else {\n        // Loop through playback technologies (HTML5, Flash) and check for support.\n        // Then load the best source.\n        // A few assumptions here:\n        //   All playback technologies respect preload false.\n        player.src(options.playerOptions.sources);\n      }\n\n      return _this;\n    }\n\n    return MediaLoader;\n  }(Component);\n\n  Component.registerComponent('MediaLoader', MediaLoader);\n\n  /**\n   * Component which is clickable or keyboard actionable, but is not a\n   * native HTML button.\n   *\n   * @extends Component\n   */\n\n  var ClickableComponent =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ClickableComponent, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param  {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param  {Object} [options]\n     *         The key/value store of player options.\n     */\n    function ClickableComponent(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.emitTapEvents();\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Create the `ClickableComponent`s DOM element.\n     *\n     * @param {string} [tag=div]\n     *        The element's node type.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element.\n     *\n     * @param {Object} [attributes={}]\n     *        An object of attributes that should be set on the element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n\n\n    var _proto = ClickableComponent.prototype;\n\n    _proto.createEl = function createEl$$1(tag, props, attributes) {\n      if (tag === void 0) {\n        tag = 'div';\n      }\n\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      props = assign({\n        innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n        className: this.buildCSSClass(),\n        tabIndex: 0\n      }, props);\n\n      if (tag === 'button') {\n        log.error(\"Creating a ClickableComponent with an HTML element of \" + tag + \" is not supported; use a Button instead.\");\n      } // Add ARIA attributes for clickable element which is not a native HTML button\n\n\n      attributes = assign({\n        role: 'button'\n      }, attributes);\n      this.tabIndex_ = props.tabIndex;\n\n      var el = _Component.prototype.createEl.call(this, tag, props, attributes);\n\n      this.createControlTextEl(el);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      // remove controlTextEl_ on dispose\n      this.controlTextEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Create a control text element on this `ClickableComponent`\n     *\n     * @param {Element} [el]\n     *        Parent element for the control text.\n     *\n     * @return {Element}\n     *         The control text element that gets created.\n     */\n    ;\n\n    _proto.createControlTextEl = function createControlTextEl(el) {\n      this.controlTextEl_ = createEl('span', {\n        className: 'vjs-control-text'\n      }, {\n        // let the screen reader user know that the text of the element may change\n        'aria-live': 'polite'\n      });\n\n      if (el) {\n        el.appendChild(this.controlTextEl_);\n      }\n\n      this.controlText(this.controlText_, el);\n      return this.controlTextEl_;\n    }\n    /**\n     * Get or set the localize text to use for the controls on the `ClickableComponent`.\n     *\n     * @param {string} [text]\n     *        Control text for element.\n     *\n     * @param {Element} [el=this.el()]\n     *        Element to set the title on.\n     *\n     * @return {string}\n     *         - The control text when getting\n     */\n    ;\n\n    _proto.controlText = function controlText(text, el) {\n      if (el === void 0) {\n        el = this.el();\n      }\n\n      if (text === undefined) {\n        return this.controlText_ || 'Need Text';\n      }\n\n      var localizedText = this.localize(text);\n      this.controlText_ = text;\n      textContent(this.controlTextEl_, localizedText);\n\n      if (!this.nonIconControl) {\n        // Set title attribute if only an icon is shown\n        el.setAttribute('title', localizedText);\n      }\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-control vjs-button \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Enable this `ClickableComponent`\n     */\n    ;\n\n    _proto.enable = function enable() {\n      if (!this.enabled_) {\n        this.enabled_ = true;\n        this.removeClass('vjs-disabled');\n        this.el_.setAttribute('aria-disabled', 'false');\n\n        if (typeof this.tabIndex_ !== 'undefined') {\n          this.el_.setAttribute('tabIndex', this.tabIndex_);\n        }\n\n        this.on(['tap', 'click'], this.handleClick);\n        this.on('keydown', this.handleKeyDown);\n      }\n    }\n    /**\n     * Disable this `ClickableComponent`\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.enabled_ = false;\n      this.addClass('vjs-disabled');\n      this.el_.setAttribute('aria-disabled', 'true');\n\n      if (typeof this.tabIndex_ !== 'undefined') {\n        this.el_.removeAttribute('tabIndex');\n      }\n\n      this.off(['tap', 'click'], this.handleClick);\n      this.off('keydown', this.handleKeyDown);\n    }\n    /**\n     * Event handler that is called when a `ClickableComponent` receives a\n     * `click` or `tap` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `tap` or `click` event that caused this function to be called.\n     *\n     * @listens tap\n     * @listens click\n     * @abstract\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {}\n    /**\n     * Event handler that is called when a `ClickableComponent` receives a\n     * `keydown` event.\n     *\n     * By default, if the key is Space or Enter, it will trigger a `click` event.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Support Space or Enter key operation to fire a click event. Also,\n      // prevent the event from propagating through the DOM and triggering\n      // Player hotkeys.\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.trigger('click');\n      } else {\n        // Pass keypress handling up for unsupported keys\n        _Component.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    return ClickableComponent;\n  }(Component);\n\n  Component.registerComponent('ClickableComponent', ClickableComponent);\n\n  /**\n   * A `ClickableComponent` that handles showing the poster image for the player.\n   *\n   * @extends ClickableComponent\n   */\n\n  var PosterImage =\n  /*#__PURE__*/\n  function (_ClickableComponent) {\n    _inheritsLoose(PosterImage, _ClickableComponent);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should attach to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PosterImage(player, options) {\n      var _this;\n\n      _this = _ClickableComponent.call(this, player, options) || this;\n\n      _this.update();\n\n      player.on('posterchange', bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.update));\n      return _this;\n    }\n    /**\n     * Clean up and dispose of the `PosterImage`.\n     */\n\n\n    var _proto = PosterImage.prototype;\n\n    _proto.dispose = function dispose() {\n      this.player().off('posterchange', this.update);\n\n      _ClickableComponent.prototype.dispose.call(this);\n    }\n    /**\n     * Create the `PosterImage`s DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1() {\n      var el = createEl('div', {\n        className: 'vjs-poster',\n        // Don't want poster to be tabbable.\n        tabIndex: -1\n      });\n      return el;\n    }\n    /**\n     * An {@link EventTarget~EventListener} for {@link Player#posterchange} events.\n     *\n     * @listens Player#posterchange\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `Player#posterchange` event that triggered this function.\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var url = this.player().poster();\n      this.setSrc(url); // If there's no poster source we should display:none on this component\n      // so it's not still clickable or right-clickable\n\n      if (url) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    }\n    /**\n     * Set the source of the `PosterImage` depending on the display method.\n     *\n     * @param {string} url\n     *        The URL to the source for the `PosterImage`.\n     */\n    ;\n\n    _proto.setSrc = function setSrc(url) {\n      var backgroundImage = ''; // Any falsy value should stay as an empty string, otherwise\n      // this will throw an extra error\n\n      if (url) {\n        backgroundImage = \"url(\\\"\" + url + \"\\\")\";\n      }\n\n      this.el_.style.backgroundImage = backgroundImage;\n    }\n    /**\n     * An {@link EventTarget~EventListener} for clicks on the `PosterImage`. See\n     * {@link ClickableComponent#handleClick} for instances where this will be triggered.\n     *\n     * @listens tap\n     * @listens click\n     * @listens keydown\n     *\n     * @param {EventTarget~Event} event\n     +        The `click`, `tap` or `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      // We don't want a click to trigger playback when controls are disabled\n      if (!this.player_.controls()) {\n        return;\n      }\n\n      this.player_.tech(true).focus();\n\n      if (this.player_.paused()) {\n        silencePromise(this.player_.play());\n      } else {\n        this.player_.pause();\n      }\n    };\n\n    return PosterImage;\n  }(ClickableComponent);\n\n  Component.registerComponent('PosterImage', PosterImage);\n\n  var darkGray = '#222';\n  var lightGray = '#ccc';\n  var fontMap = {\n    monospace: 'monospace',\n    sansSerif: 'sans-serif',\n    serif: 'serif',\n    monospaceSansSerif: '\"Andale Mono\", \"Lucida Console\", monospace',\n    monospaceSerif: '\"Courier New\", monospace',\n    proportionalSansSerif: 'sans-serif',\n    proportionalSerif: 'serif',\n    casual: '\"Comic Sans MS\", Impact, fantasy',\n    script: '\"Monotype Corsiva\", cursive',\n    smallcaps: '\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'\n  };\n  /**\n   * Construct an rgba color from a given hex color code.\n   *\n   * @param {number} color\n   *        Hex number for color, like #f0e or #f604e2.\n   *\n   * @param {number} opacity\n   *        Value for opacity, 0.0 - 1.0.\n   *\n   * @return {string}\n   *         The rgba color that was created, like 'rgba(255, 0, 0, 0.3)'.\n   */\n\n  function constructColor(color, opacity) {\n    var hex;\n\n    if (color.length === 4) {\n      // color looks like \"#f0e\"\n      hex = color[1] + color[1] + color[2] + color[2] + color[3] + color[3];\n    } else if (color.length === 7) {\n      // color looks like \"#f604e2\"\n      hex = color.slice(1);\n    } else {\n      throw new Error('Invalid color code provided, ' + color + '; must be formatted as e.g. #f0e or #f604e2.');\n    }\n\n    return 'rgba(' + parseInt(hex.slice(0, 2), 16) + ',' + parseInt(hex.slice(2, 4), 16) + ',' + parseInt(hex.slice(4, 6), 16) + ',' + opacity + ')';\n  }\n  /**\n   * Try to update the style of a DOM element. Some style changes will throw an error,\n   * particularly in IE8. Those should be noops.\n   *\n   * @param {Element} el\n   *        The DOM element to be styled.\n   *\n   * @param {string} style\n   *        The CSS property on the element that should be styled.\n   *\n   * @param {string} rule\n   *        The style rule that should be applied to the property.\n   *\n   * @private\n   */\n\n  function tryUpdateStyle(el, style, rule) {\n    try {\n      el.style[style] = rule;\n    } catch (e) {\n      // Satisfies linter.\n      return;\n    }\n  }\n  /**\n   * The component for displaying text track cues.\n   *\n   * @extends Component\n   */\n\n\n  var TextTrackDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TextTrackDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when `TextTrackDisplay` is ready.\n     */\n    function TextTrackDisplay(player, options, ready) {\n      var _this;\n\n      _this = _Component.call(this, player, options, ready) || this;\n      var updateDisplayHandler = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.updateDisplay);\n      player.on('loadstart', bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.toggleDisplay));\n      player.on('texttrackchange', updateDisplayHandler);\n      player.on('loadedmetadata', bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.preselectTrack)); // This used to be called during player init, but was causing an error\n      // if a track should show by default and the display hadn't loaded yet.\n      // Should probably be moved to an external track loader when we support\n      // tracks that don't need a display.\n\n      player.ready(bind(_assertThisInitialized(_assertThisInitialized(_this)), function () {\n        if (player.tech_ && player.tech_.featuresNativeTextTracks) {\n          this.hide();\n          return;\n        }\n\n        player.on('fullscreenchange', updateDisplayHandler);\n        player.on('playerresize', updateDisplayHandler);\n        window$1.addEventListener('orientationchange', updateDisplayHandler);\n        player.on('dispose', function () {\n          return window$1.removeEventListener('orientationchange', updateDisplayHandler);\n        });\n        var tracks = this.options_.playerOptions.tracks || [];\n\n        for (var i = 0; i < tracks.length; i++) {\n          this.player_.addRemoteTextTrack(tracks[i], true);\n        }\n\n        this.preselectTrack();\n      }));\n      return _this;\n    }\n    /**\n    * Preselect a track following this precedence:\n    * - matches the previously selected {@link TextTrack}'s language and kind\n    * - matches the previously selected {@link TextTrack}'s language only\n    * - is the first default captions track\n    * - is the first default descriptions track\n    *\n    * @listens Player#loadstart\n    */\n\n\n    var _proto = TextTrackDisplay.prototype;\n\n    _proto.preselectTrack = function preselectTrack() {\n      var modes = {\n        captions: 1,\n        subtitles: 1\n      };\n      var trackList = this.player_.textTracks();\n      var userPref = this.player_.cache_.selectedLanguage;\n      var firstDesc;\n      var firstCaptions;\n      var preferredTrack;\n\n      for (var i = 0; i < trackList.length; i++) {\n        var track = trackList[i];\n\n        if (userPref && userPref.enabled && userPref.language && userPref.language === track.language && track.kind in modes) {\n          // Always choose the track that matches both language and kind\n          if (track.kind === userPref.kind) {\n            preferredTrack = track; // or choose the first track that matches language\n          } else if (!preferredTrack) {\n            preferredTrack = track;\n          } // clear everything if offTextTrackMenuItem was clicked\n\n        } else if (userPref && !userPref.enabled) {\n          preferredTrack = null;\n          firstDesc = null;\n          firstCaptions = null;\n        } else if (track.default) {\n          if (track.kind === 'descriptions' && !firstDesc) {\n            firstDesc = track;\n          } else if (track.kind in modes && !firstCaptions) {\n            firstCaptions = track;\n          }\n        }\n      } // The preferredTrack matches the user preference and takes\n      // precedence over all the other tracks.\n      // So, display the preferredTrack before the first default track\n      // and the subtitles/captions track before the descriptions track\n\n\n      if (preferredTrack) {\n        preferredTrack.mode = 'showing';\n      } else if (firstCaptions) {\n        firstCaptions.mode = 'showing';\n      } else if (firstDesc) {\n        firstDesc.mode = 'showing';\n      }\n    }\n    /**\n     * Turn display of {@link TextTrack}'s from the current state into the other state.\n     * There are only two states:\n     * - 'shown'\n     * - 'hidden'\n     *\n     * @listens Player#loadstart\n     */\n    ;\n\n    _proto.toggleDisplay = function toggleDisplay() {\n      if (this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n    /**\n     * Create the {@link Component}'s DOM element.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-text-track-display'\n      }, {\n        'aria-live': 'off',\n        'aria-atomic': 'true'\n      });\n    }\n    /**\n     * Clear all displayed {@link TextTrack}s.\n     */\n    ;\n\n    _proto.clearDisplay = function clearDisplay() {\n      if (typeof window$1.WebVTT === 'function') {\n        window$1.WebVTT.processCues(window$1, [], this.el_);\n      }\n    }\n    /**\n     * Update the displayed TextTrack when a either a {@link Player#texttrackchange} or\n     * a {@link Player#fullscreenchange} is fired.\n     *\n     * @listens Player#texttrackchange\n     * @listens Player#fullscreenchange\n     */\n    ;\n\n    _proto.updateDisplay = function updateDisplay() {\n      var tracks = this.player_.textTracks();\n      this.clearDisplay(); // Track display prioritization model: if multiple tracks are 'showing',\n      //  display the first 'subtitles' or 'captions' track which is 'showing',\n      //  otherwise display the first 'descriptions' track which is 'showing'\n\n      var descriptionsTrack = null;\n      var captionsSubtitlesTrack = null;\n      var i = tracks.length;\n\n      while (i--) {\n        var track = tracks[i];\n\n        if (track.mode === 'showing') {\n          if (track.kind === 'descriptions') {\n            descriptionsTrack = track;\n          } else {\n            captionsSubtitlesTrack = track;\n          }\n        }\n      }\n\n      if (captionsSubtitlesTrack) {\n        if (this.getAttribute('aria-live') !== 'off') {\n          this.setAttribute('aria-live', 'off');\n        }\n\n        this.updateForTrack(captionsSubtitlesTrack);\n      } else if (descriptionsTrack) {\n        if (this.getAttribute('aria-live') !== 'assertive') {\n          this.setAttribute('aria-live', 'assertive');\n        }\n\n        this.updateForTrack(descriptionsTrack);\n      }\n    }\n    /**\n     * Add an {@link TextTrack} to to the {@link Tech}s {@link TextTrackList}.\n     *\n     * @param {TextTrack} track\n     *        Text track object to be added to the list.\n     */\n    ;\n\n    _proto.updateForTrack = function updateForTrack(track) {\n      if (typeof window$1.WebVTT !== 'function' || !track.activeCues) {\n        return;\n      }\n\n      var cues = [];\n\n      for (var _i = 0; _i < track.activeCues.length; _i++) {\n        cues.push(track.activeCues[_i]);\n      }\n\n      window$1.WebVTT.processCues(window$1, cues, this.el_);\n\n      if (!this.player_.textTrackSettings) {\n        return;\n      }\n\n      var overrides = this.player_.textTrackSettings.getValues();\n      var i = cues.length;\n\n      while (i--) {\n        var cue = cues[i];\n\n        if (!cue) {\n          continue;\n        }\n\n        var cueDiv = cue.displayState;\n\n        if (overrides.color) {\n          cueDiv.firstChild.style.color = overrides.color;\n        }\n\n        if (overrides.textOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'color', constructColor(overrides.color || '#fff', overrides.textOpacity));\n        }\n\n        if (overrides.backgroundColor) {\n          cueDiv.firstChild.style.backgroundColor = overrides.backgroundColor;\n        }\n\n        if (overrides.backgroundOpacity) {\n          tryUpdateStyle(cueDiv.firstChild, 'backgroundColor', constructColor(overrides.backgroundColor || '#000', overrides.backgroundOpacity));\n        }\n\n        if (overrides.windowColor) {\n          if (overrides.windowOpacity) {\n            tryUpdateStyle(cueDiv, 'backgroundColor', constructColor(overrides.windowColor, overrides.windowOpacity));\n          } else {\n            cueDiv.style.backgroundColor = overrides.windowColor;\n          }\n        }\n\n        if (overrides.edgeStyle) {\n          if (overrides.edgeStyle === 'dropshadow') {\n            cueDiv.firstChild.style.textShadow = \"2px 2px 3px \" + darkGray + \", 2px 2px 4px \" + darkGray + \", 2px 2px 5px \" + darkGray;\n          } else if (overrides.edgeStyle === 'raised') {\n            cueDiv.firstChild.style.textShadow = \"1px 1px \" + darkGray + \", 2px 2px \" + darkGray + \", 3px 3px \" + darkGray;\n          } else if (overrides.edgeStyle === 'depressed') {\n            cueDiv.firstChild.style.textShadow = \"1px 1px \" + lightGray + \", 0 1px \" + lightGray + \", -1px -1px \" + darkGray + \", 0 -1px \" + darkGray;\n          } else if (overrides.edgeStyle === 'uniform') {\n            cueDiv.firstChild.style.textShadow = \"0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray + \", 0 0 4px \" + darkGray;\n          }\n        }\n\n        if (overrides.fontPercent && overrides.fontPercent !== 1) {\n          var fontSize = window$1.parseFloat(cueDiv.style.fontSize);\n          cueDiv.style.fontSize = fontSize * overrides.fontPercent + 'px';\n          cueDiv.style.height = 'auto';\n          cueDiv.style.top = 'auto';\n          cueDiv.style.bottom = '2px';\n        }\n\n        if (overrides.fontFamily && overrides.fontFamily !== 'default') {\n          if (overrides.fontFamily === 'small-caps') {\n            cueDiv.firstChild.style.fontVariant = 'small-caps';\n          } else {\n            cueDiv.firstChild.style.fontFamily = fontMap[overrides.fontFamily];\n          }\n        }\n      }\n    };\n\n    return TextTrackDisplay;\n  }(Component);\n\n  Component.registerComponent('TextTrackDisplay', TextTrackDisplay);\n\n  /**\n   * A loading spinner for use during waiting/loading events.\n   *\n   * @extends Component\n   */\n\n  var LoadingSpinner =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LoadingSpinner, _Component);\n\n    function LoadingSpinner() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = LoadingSpinner.prototype;\n\n    /**\n     * Create the `LoadingSpinner`s DOM element.\n     *\n     * @return {Element}\n     *         The dom element that gets created.\n     */\n    _proto.createEl = function createEl$$1() {\n      var isAudio = this.player_.isAudio();\n      var playerType = this.localize(isAudio ? 'Audio Player' : 'Video Player');\n      var controlText = createEl('span', {\n        className: 'vjs-control-text',\n        innerHTML: this.localize('{1} is loading.', [playerType])\n      });\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-loading-spinner',\n        dir: 'ltr'\n      });\n\n      el.appendChild(controlText);\n      return el;\n    };\n\n    return LoadingSpinner;\n  }(Component);\n\n  Component.registerComponent('LoadingSpinner', LoadingSpinner);\n\n  /**\n   * Base class for all buttons.\n   *\n   * @extends ClickableComponent\n   */\n\n  var Button =\n  /*#__PURE__*/\n  function (_ClickableComponent) {\n    _inheritsLoose(Button, _ClickableComponent);\n\n    function Button() {\n      return _ClickableComponent.apply(this, arguments) || this;\n    }\n\n    var _proto = Button.prototype;\n\n    /**\n     * Create the `Button`s DOM element.\n     *\n     * @param {string} [tag=\"button\"]\n     *        The element's node type. This argument is IGNORED: no matter what\n     *        is passed, it will always create a `button` element.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element.\n     *\n     * @param {Object} [attributes={}]\n     *        An object of attributes that should be set on the element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    _proto.createEl = function createEl(tag, props, attributes) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      tag = 'button';\n      props = assign({\n        innerHTML: '<span aria-hidden=\"true\" class=\"vjs-icon-placeholder\"></span>',\n        className: this.buildCSSClass()\n      }, props); // Add attributes for button element\n\n      attributes = assign({\n        // Necessary since the default button type is \"submit\"\n        type: 'button'\n      }, attributes);\n      var el = Component.prototype.createEl.call(this, tag, props, attributes);\n      this.createControlTextEl(el);\n      return el;\n    }\n    /**\n     * Add a child `Component` inside of this `Button`.\n     *\n     * @param {string|Component} child\n     *        The name or instance of a child to add.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of options that will get passed to children of\n     *        the child.\n     *\n     * @return {Component}\n     *         The `Component` that gets added as a child. When using a string the\n     *         `Component` will get created by this process.\n     *\n     * @deprecated since version 5\n     */\n    ;\n\n    _proto.addChild = function addChild(child, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      var className = this.constructor.name;\n      log.warn(\"Adding an actionable (user controllable) child to a Button (\" + className + \") is not supported; use a ClickableComponent instead.\"); // Avoid the error message generated by ClickableComponent's addChild method\n\n      return Component.prototype.addChild.call(this, child, options);\n    }\n    /**\n     * Enable the `Button` element so that it can be activated or clicked. Use this with\n     * {@link Button#disable}.\n     */\n    ;\n\n    _proto.enable = function enable() {\n      _ClickableComponent.prototype.enable.call(this);\n\n      this.el_.removeAttribute('disabled');\n    }\n    /**\n     * Disable the `Button` element so that it cannot be activated or clicked. Use this with\n     * {@link Button#enable}.\n     */\n    ;\n\n    _proto.disable = function disable() {\n      _ClickableComponent.prototype.disable.call(this);\n\n      this.el_.setAttribute('disabled', 'disabled');\n    }\n    /**\n     * This gets called when a `Button` has focus and `keydown` is triggered via a key\n     * press.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to get called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Ignore Space or Enter key operation, which is handled by the browser for\n      // a button - though not for its super class, ClickableComponent. Also,\n      // prevent the event from propagating through the DOM and triggering Player\n      // hotkeys. We do not preventDefault here because we _want_ the browser to\n      // handle it.\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.stopPropagation();\n        return;\n      } // Pass keypress handling up for unsupported keys\n\n\n      _ClickableComponent.prototype.handleKeyDown.call(this, event);\n    };\n\n    return Button;\n  }(ClickableComponent);\n\n  Component.registerComponent('Button', Button);\n\n  /**\n   * The initial play button that shows before the video has played. The hiding of the\n   * `BigPlayButton` get done via CSS and `Player` states.\n   *\n   * @extends Button\n   */\n\n  var BigPlayButton =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(BigPlayButton, _Button);\n\n    function BigPlayButton(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n      _this.mouseused_ = false;\n\n      _this.on('mousedown', _this.handleMouseDown);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object. Always returns 'vjs-big-play-button'.\n     */\n\n\n    var _proto = BigPlayButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-big-play-button';\n    }\n    /**\n     * This gets called when a `BigPlayButton` \"clicked\". See {@link ClickableComponent}\n     * for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var playPromise = this.player_.play(); // exit early if clicked via the mouse\n\n      if (this.mouseused_ && event.clientX && event.clientY) {\n        silencePromise(playPromise);\n        this.player_.tech(true).focus();\n        return;\n      }\n\n      var cb = this.player_.getChild('controlBar');\n      var playToggle = cb && cb.getChild('playToggle');\n\n      if (!playToggle) {\n        this.player_.tech(true).focus();\n        return;\n      }\n\n      var playFocus = function playFocus() {\n        return playToggle.focus();\n      };\n\n      if (isPromise(playPromise)) {\n        playPromise.then(playFocus, function () {});\n      } else {\n        this.setTimeout(playFocus, 1);\n      }\n    };\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      this.mouseused_ = false;\n\n      _Button.prototype.handleKeyDown.call(this, event);\n    };\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      this.mouseused_ = true;\n    };\n\n    return BigPlayButton;\n  }(Button);\n  /**\n   * The text that should display over the `BigPlayButton`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  BigPlayButton.prototype.controlText_ = 'Play Video';\n  Component.registerComponent('BigPlayButton', BigPlayButton);\n\n  /**\n   * The `CloseButton` is a `{@link Button}` that fires a `close` event when\n   * it gets clicked.\n   *\n   * @extends Button\n   */\n\n  var CloseButton =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(CloseButton, _Button);\n\n    /**\n    * Creates an instance of the this class.\n    *\n    * @param  {Player} player\n    *         The `Player` that this class should be attached to.\n    *\n    * @param  {Object} [options]\n    *         The key/value store of player options.\n    */\n    function CloseButton(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.controlText(options && options.controlText || _this.localize('Close'));\n\n      return _this;\n    }\n    /**\n    * Builds the default DOM `className`.\n    *\n    * @return {string}\n    *         The DOM `className` for this object.\n    */\n\n\n    var _proto = CloseButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-close-button \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when a `CloseButton` gets clicked. See\n     * {@link ClickableComponent#handleClick} for more information on when\n     * this will be triggered\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     * @fires CloseButton#close\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      /**\n       * Triggered when the a `CloseButton` is clicked.\n       *\n       * @event CloseButton#close\n       * @type {EventTarget~Event}\n       *\n       * @property {boolean} [bubbles=false]\n       *           set to false so that the close event does not\n       *           bubble up to parents if there is no listener\n       */\n      this.trigger({\n        type: 'close',\n        bubbles: false\n      });\n    };\n\n    return CloseButton;\n  }(Button);\n\n  Component.registerComponent('CloseButton', CloseButton);\n\n  /**\n   * Button to toggle between play and pause.\n   *\n   * @extends Button\n   */\n\n  var PlayToggle =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(PlayToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function PlayToggle(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _Button.call(this, player, options) || this; // show or hide replay icon\n\n      options.replay = options.replay === undefined || options.replay;\n\n      _this.on(player, 'play', _this.handlePlay);\n\n      _this.on(player, 'pause', _this.handlePause);\n\n      if (options.replay) {\n        _this.on(player, 'ended', _this.handleEnded);\n      }\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = PlayToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-play-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when an `PlayToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (this.player_.paused()) {\n        this.player_.play();\n      } else {\n        this.player_.pause();\n      }\n    }\n    /**\n     * This gets called once after the video has ended and the user seeks so that\n     * we can change the replay button back to a play button.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#seeked\n     */\n    ;\n\n    _proto.handleSeeked = function handleSeeked(event) {\n      this.removeClass('vjs-ended');\n\n      if (this.player_.paused()) {\n        this.handlePause(event);\n      } else {\n        this.handlePlay(event);\n      }\n    }\n    /**\n     * Add the vjs-playing class to the element so it can change appearance.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#play\n     */\n    ;\n\n    _proto.handlePlay = function handlePlay(event) {\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing'); // change the button text to \"Pause\"\n\n      this.controlText('Pause');\n    }\n    /**\n     * Add the vjs-paused class to the element so it can change appearance.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#pause\n     */\n    ;\n\n    _proto.handlePause = function handlePause(event) {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused'); // change the button text to \"Play\"\n\n      this.controlText('Play');\n    }\n    /**\n     * Add the vjs-ended class to the element so it can change appearance\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-ended'); // change the button text to \"Replay\"\n\n      this.controlText('Replay'); // on the next seek remove the replay button\n\n      this.one(this.player_, 'seeked', this.handleSeeked);\n    };\n\n    return PlayToggle;\n  }(Button);\n  /**\n   * The text that should display over the `PlayToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlayToggle.prototype.controlText_ = 'Play';\n  Component.registerComponent('PlayToggle', PlayToggle);\n\n  /**\n   * @file format-time.js\n   * @module format-time\n   */\n\n  /**\n   * Format seconds as a time string, H:MM:SS or M:SS. Supplying a guide (in\n   * seconds) will force a number of leading zeros to cover the length of the\n   * guide.\n   *\n   * @private\n   * @param  {number} seconds\n   *         Number of seconds to be turned into a string\n   *\n   * @param  {number} guide\n   *         Number (in seconds) to model the string after\n   *\n   * @return {string}\n   *         Time formatted as H:MM:SS or M:SS\n   */\n  var defaultImplementation = function defaultImplementation(seconds, guide) {\n    seconds = seconds < 0 ? 0 : seconds;\n    var s = Math.floor(seconds % 60);\n    var m = Math.floor(seconds / 60 % 60);\n    var h = Math.floor(seconds / 3600);\n    var gm = Math.floor(guide / 60 % 60);\n    var gh = Math.floor(guide / 3600); // handle invalid times\n\n    if (isNaN(seconds) || seconds === Infinity) {\n      // '-' is false for all relational operators (e.g. <, >=) so this setting\n      // will add the minimum number of fields specified by the guide\n      h = m = s = '-';\n    } // Check if we need to show hours\n\n\n    h = h > 0 || gh > 0 ? h + ':' : ''; // If hours are showing, we may need to add a leading zero.\n    // Always show at least one digit of minutes.\n\n    m = ((h || gm >= 10) && m < 10 ? '0' + m : m) + ':'; // Check if leading zero is need for seconds\n\n    s = s < 10 ? '0' + s : s;\n    return h + m + s;\n  }; // Internal pointer to the current implementation.\n\n\n  var implementation = defaultImplementation;\n  /**\n   * Replaces the default formatTime implementation with a custom implementation.\n   *\n   * @param {Function} customImplementation\n   *        A function which will be used in place of the default formatTime\n   *        implementation. Will receive the current time in seconds and the\n   *        guide (in seconds) as arguments.\n   */\n\n  function setFormatTime(customImplementation) {\n    implementation = customImplementation;\n  }\n  /**\n   * Resets formatTime to the default implementation.\n   */\n\n  function resetFormatTime() {\n    implementation = defaultImplementation;\n  }\n  /**\n   * Delegates to either the default time formatting function or a custom\n   * function supplied via `setFormatTime`.\n   *\n   * Formats seconds as a time string (H:MM:SS or M:SS). Supplying a\n   * guide (in seconds) will force a number of leading zeros to cover the\n   * length of the guide.\n   *\n   * @static\n   * @example  formatTime(125, 600) === \"02:05\"\n   * @param    {number} seconds\n   *           Number of seconds to be turned into a string\n   *\n   * @param    {number} guide\n   *           Number (in seconds) to model the string after\n   *\n   * @return   {string}\n   *           Time formatted as H:MM:SS or M:SS\n   */\n\n  function formatTime(seconds, guide) {\n    if (guide === void 0) {\n      guide = seconds;\n    }\n\n    return implementation(seconds, guide);\n  }\n\n  /**\n   * Displays time information about the video\n   *\n   * @extends Component\n   */\n\n  var TimeDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TimeDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TimeDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.throttledUpdateContent = throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.updateContent), 25);\n\n      _this.on(player, 'timeupdate', _this.throttledUpdateContent);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = TimeDisplay.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      var className = this.buildCSSClass();\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: className + \" vjs-time-control vjs-control\",\n        innerHTML: \"<span class=\\\"vjs-control-text\\\" role=\\\"presentation\\\">\" + this.localize(this.labelText_) + \"\\xA0</span>\"\n      });\n\n      this.contentEl_ = createEl('span', {\n        className: className + \"-display\"\n      }, {\n        // tell screen readers not to automatically read the time as it changes\n        'aria-live': 'off',\n        // span elements have no implicit role, but some screen readers (notably VoiceOver)\n        // treat them as a break between items in the DOM when using arrow keys\n        // (or left-to-right swipes on iOS) to read contents of a page. Using\n        // role='presentation' causes VoiceOver to NOT treat this span as a break.\n        'role': 'presentation'\n      });\n      this.updateTextNode_();\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.textNode_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Updates the \"remaining time\" text node with new content using the\n     * contents of the `formattedTime_` property.\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateTextNode_ = function updateTextNode_() {\n      if (!this.contentEl_) {\n        return;\n      }\n\n      while (this.contentEl_.firstChild) {\n        this.contentEl_.removeChild(this.contentEl_.firstChild);\n      }\n\n      this.textNode_ = document.createTextNode(this.formattedTime_ || this.formatTime_(0));\n      this.contentEl_.appendChild(this.textNode_);\n    }\n    /**\n     * Generates a formatted time for this component to use in display.\n     *\n     * @param  {number} time\n     *         A numeric time, in seconds.\n     *\n     * @return {string}\n     *         A formatted time\n     *\n     * @private\n     */\n    ;\n\n    _proto.formatTime_ = function formatTime_(time) {\n      return formatTime(time);\n    }\n    /**\n     * Updates the time display text node if it has what was passed in changed\n     * the formatted time.\n     *\n     * @param {number} time\n     *        The time to update to\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateFormattedTime_ = function updateFormattedTime_(time) {\n      var formattedTime = this.formatTime_(time);\n\n      if (formattedTime === this.formattedTime_) {\n        return;\n      }\n\n      this.formattedTime_ = formattedTime;\n      this.requestAnimationFrame(this.updateTextNode_);\n    }\n    /**\n     * To be filled out in the child class, should update the displayed time\n     * in accordance with the fact that the current time has changed.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate`  event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {};\n\n    return TimeDisplay;\n  }(Component);\n  /**\n   * The text that is added to the `TimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  TimeDisplay.prototype.labelText_ = 'Time';\n  /**\n   * The text that should display over the `TimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  TimeDisplay.prototype.controlText_ = 'Time';\n  Component.registerComponent('TimeDisplay', TimeDisplay);\n\n  /**\n   * Displays the current time\n   *\n   * @extends Component\n   */\n\n  var CurrentTimeDisplay =\n  /*#__PURE__*/\n  function (_TimeDisplay) {\n    _inheritsLoose(CurrentTimeDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function CurrentTimeDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this;\n\n      _this.on(player, 'ended', _this.handleEnded);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = CurrentTimeDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-current-time';\n    }\n    /**\n     * Update current time display\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` event that caused this function to run.\n     *\n     * @listens Player#timeupdate\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      // Allows for smooth scrubbing, when player can't keep up.\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      this.updateFormattedTime_(time);\n    }\n    /**\n     * When the player fires ended there should be no time left. Sadly\n     * this is not always the case, lets make it seem like that is the case\n     * for users.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `ended` event that caused this to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      if (!this.player_.duration()) {\n        return;\n      }\n\n      this.updateFormattedTime_(this.player_.duration());\n    };\n\n    return CurrentTimeDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `CurrentTimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  CurrentTimeDisplay.prototype.labelText_ = 'Current Time';\n  /**\n   * The text that should display over the `CurrentTimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  CurrentTimeDisplay.prototype.controlText_ = 'Current Time';\n  Component.registerComponent('CurrentTimeDisplay', CurrentTimeDisplay);\n\n  /**\n   * Displays the duration\n   *\n   * @extends Component\n   */\n\n  var DurationDisplay =\n  /*#__PURE__*/\n  function (_TimeDisplay) {\n    _inheritsLoose(DurationDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function DurationDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this; // we do not want to/need to throttle duration changes,\n      // as they should always display the changed duration as\n      // it has changed\n\n      _this.on(player, 'durationchange', _this.updateContent); // Listen to loadstart because the player duration is reset when a new media element is loaded,\n      // but the durationchange on the user agent will not fire.\n      // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n\n      _this.on(player, 'loadstart', _this.updateContent); // Also listen for timeupdate (in the parent) and loadedmetadata because removing those\n      // listeners could have broken dependent applications/libraries. These\n      // can likely be removed for 7.0.\n\n\n      _this.on(player, 'loadedmetadata', _this.throttledUpdateContent);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = DurationDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-duration';\n    }\n    /**\n     * Update duration time display.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `durationchange`, `timeupdate`, or `loadedmetadata` event that caused\n     *        this function to be called.\n     *\n     * @listens Player#durationchange\n     * @listens Player#timeupdate\n     * @listens Player#loadedmetadata\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      var duration = this.player_.duration();\n\n      if (this.duration_ !== duration) {\n        this.duration_ = duration;\n        this.updateFormattedTime_(duration);\n      }\n    };\n\n    return DurationDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `DurationDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  DurationDisplay.prototype.labelText_ = 'Duration';\n  /**\n   * The text that should display over the `DurationDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  DurationDisplay.prototype.controlText_ = 'Duration';\n  Component.registerComponent('DurationDisplay', DurationDisplay);\n\n  /**\n   * The separator between the current time and duration.\n   * Can be hidden if it's not needed in the design.\n   *\n   * @extends Component\n   */\n\n  var TimeDivider =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TimeDivider, _Component);\n\n    function TimeDivider() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = TimeDivider.prototype;\n\n    /**\n     * Create the component's DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-time-control vjs-time-divider',\n        innerHTML: '<div><span>/</span></div>'\n      }, {\n        // this element and its contents can be hidden from assistive techs since\n        // it is made extraneous by the announcement of the control text\n        // for the current time and duration displays\n        'aria-hidden': true\n      });\n    };\n\n    return TimeDivider;\n  }(Component);\n\n  Component.registerComponent('TimeDivider', TimeDivider);\n\n  /**\n   * Displays the time left in the video\n   *\n   * @extends Component\n   */\n\n  var RemainingTimeDisplay =\n  /*#__PURE__*/\n  function (_TimeDisplay) {\n    _inheritsLoose(RemainingTimeDisplay, _TimeDisplay);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function RemainingTimeDisplay(player, options) {\n      var _this;\n\n      _this = _TimeDisplay.call(this, player, options) || this;\n\n      _this.on(player, 'durationchange', _this.throttledUpdateContent);\n\n      _this.on(player, 'ended', _this.handleEnded);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = RemainingTimeDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return 'vjs-remaining-time';\n    }\n    /**\n     * Create the `Component`'s DOM element with the \"minus\" characted prepend to the time\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1() {\n      var el = _TimeDisplay.prototype.createEl.call(this);\n\n      el.insertBefore(createEl('span', {}, {\n        'aria-hidden': true\n      }, '-'), this.contentEl_);\n      return el;\n    }\n    /**\n     * Update remaining time display.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `durationchange` event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     * @listens Player#durationchange\n     */\n    ;\n\n    _proto.updateContent = function updateContent(event) {\n      if (typeof this.player_.duration() !== 'number') {\n        return;\n      } // @deprecated We should only use remainingTimeDisplay\n      // as of video.js 7\n\n\n      if (this.player_.remainingTimeDisplay) {\n        this.updateFormattedTime_(this.player_.remainingTimeDisplay());\n      } else {\n        this.updateFormattedTime_(this.player_.remainingTime());\n      }\n    }\n    /**\n     * When the player fires ended there should be no time left. Sadly\n     * this is not always the case, lets make it seem like that is the case\n     * for users.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `ended` event that caused this to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      if (!this.player_.duration()) {\n        return;\n      }\n\n      this.updateFormattedTime_(0);\n    };\n\n    return RemainingTimeDisplay;\n  }(TimeDisplay);\n  /**\n   * The text that is added to the `RemainingTimeDisplay` for screen reader users.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  RemainingTimeDisplay.prototype.labelText_ = 'Remaining Time';\n  /**\n   * The text that should display over the `RemainingTimeDisplay`s controls. Added to for localization.\n   *\n   * @type {string}\n   * @private\n   *\n   * @deprecated in v7; controlText_ is not used in non-active display Components\n   */\n\n  RemainingTimeDisplay.prototype.controlText_ = 'Remaining Time';\n  Component.registerComponent('RemainingTimeDisplay', RemainingTimeDisplay);\n\n  /**\n   * Displays the live indicator when duration is Infinity.\n   *\n   * @extends Component\n   */\n\n  var LiveDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LiveDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function LiveDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.updateShowing();\n\n      _this.on(_this.player(), 'durationchange', _this.updateShowing);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = LiveDisplay.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-live-control vjs-control'\n      });\n\n      this.contentEl_ = createEl('div', {\n        className: 'vjs-live-display',\n        innerHTML: \"<span class=\\\"vjs-control-text\\\">\" + this.localize('Stream Type') + \"\\xA0</span>\" + this.localize('LIVE')\n      }, {\n        'aria-live': 'off'\n      });\n      el.appendChild(this.contentEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Check the duration to see if the LiveDisplay should be showing or not. Then show/hide\n     * it accordingly\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#durationchange} event that caused this function to run.\n     *\n     * @listens Player#durationchange\n     */\n    ;\n\n    _proto.updateShowing = function updateShowing(event) {\n      if (this.player().duration() === Infinity) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    };\n\n    return LiveDisplay;\n  }(Component);\n\n  Component.registerComponent('LiveDisplay', LiveDisplay);\n\n  /**\n   * Displays the live indicator when duration is Infinity.\n   *\n   * @extends Component\n   */\n\n  var SeekToLive =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(SeekToLive, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function SeekToLive(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.updateLiveEdgeStatus();\n\n      if (_this.player_.liveTracker) {\n        _this.on(_this.player_.liveTracker, 'liveedgechange', _this.updateLiveEdgeStatus);\n      }\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = SeekToLive.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      var el = _Button.prototype.createEl.call(this, 'button', {\n        className: 'vjs-seek-to-live-control vjs-control'\n      });\n\n      this.textEl_ = createEl('span', {\n        className: 'vjs-seek-to-live-text',\n        innerHTML: this.localize('LIVE')\n      }, {\n        'aria-hidden': 'true'\n      });\n      el.appendChild(this.textEl_);\n      return el;\n    }\n    /**\n     * Update the state of this button if we are at the live edge\n     * or not\n     */\n    ;\n\n    _proto.updateLiveEdgeStatus = function updateLiveEdgeStatus(e) {\n      // default to live edge\n      if (!this.player_.liveTracker || this.player_.liveTracker.atLiveEdge()) {\n        this.setAttribute('aria-disabled', true);\n        this.addClass('vjs-at-live-edge');\n        this.controlText('Seek to live, currently playing live');\n      } else {\n        this.setAttribute('aria-disabled', false);\n        this.removeClass('vjs-at-live-edge');\n        this.controlText('Seek to live, currently behind live');\n      }\n    }\n    /**\n     * On click bring us as near to the live point as possible.\n     * This requires that we wait for the next `live-seekable-change`\n     * event which will happen every segment length seconds.\n     */\n    ;\n\n    _proto.handleClick = function handleClick() {\n      this.player_.liveTracker.seekToLiveEdge();\n    }\n    /**\n     * Dispose of the element and stop tracking\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      if (this.player_.liveTracker) {\n        this.off(this.player_.liveTracker, 'liveedgechange', this.updateLiveEdgeStatus);\n      }\n\n      this.textEl_ = null;\n\n      _Button.prototype.dispose.call(this);\n    };\n\n    return SeekToLive;\n  }(Button);\n\n  SeekToLive.prototype.controlText_ = 'Seek to live, currently playing live';\n  Component.registerComponent('SeekToLive', SeekToLive);\n\n  /**\n   * The base functionality for a slider. Can be vertical or horizontal.\n   * For instance the volume bar or the seek bar on a video is a slider.\n   *\n   * @extends Component\n   */\n\n  var Slider =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Slider, _Component);\n\n    /**\n    * Create an instance of this class\n    *\n    * @param {Player} player\n    *        The `Player` that this class should be attached to.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    */\n    function Slider(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this; // Set property names to bar to match with the child Slider class is looking for\n\n      _this.bar = _this.getChild(_this.options_.barName); // Set a horizontal or vertical class on the slider depending on the slider type\n\n      _this.vertical(!!_this.options_.vertical);\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Are controls are currently enabled for this slider or not.\n     *\n     * @return {boolean}\n     *         true if controls are enabled, false otherwise\n     */\n\n\n    var _proto = Slider.prototype;\n\n    _proto.enabled = function enabled() {\n      return this.enabled_;\n    }\n    /**\n     * Enable controls for this slider if they are disabled\n     */\n    ;\n\n    _proto.enable = function enable() {\n      if (this.enabled()) {\n        return;\n      }\n\n      this.on('mousedown', this.handleMouseDown);\n      this.on('touchstart', this.handleMouseDown);\n      this.on('keydown', this.handleKeyDown);\n      this.on('click', this.handleClick);\n      this.on(this.player_, 'controlsvisible', this.update);\n\n      if (this.playerEvent) {\n        this.on(this.player_, this.playerEvent, this.update);\n      }\n\n      this.removeClass('disabled');\n      this.setAttribute('tabindex', 0);\n      this.enabled_ = true;\n    }\n    /**\n     * Disable controls for this slider if they are enabled\n     */\n    ;\n\n    _proto.disable = function disable() {\n      if (!this.enabled()) {\n        return;\n      }\n\n      var doc = this.bar.el_.ownerDocument;\n      this.off('mousedown', this.handleMouseDown);\n      this.off('touchstart', this.handleMouseDown);\n      this.off('keydown', this.handleKeyDown);\n      this.off('click', this.handleClick);\n      this.off(this.player_, 'controlsvisible', this.update);\n      this.off(doc, 'mousemove', this.handleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchmove', this.handleMouseMove);\n      this.off(doc, 'touchend', this.handleMouseUp);\n      this.removeAttribute('tabindex');\n      this.addClass('disabled');\n\n      if (this.playerEvent) {\n        this.off(this.player_, this.playerEvent, this.update);\n      }\n\n      this.enabled_ = false;\n    }\n    /**\n     * Create the `Slider`s DOM element.\n     *\n     * @param {string} type\n     *        Type of element to create.\n     *\n     * @param {Object} [props={}]\n     *        List of properties in Object form.\n     *\n     * @param {Object} [attributes={}]\n     *        list of attributes in Object form.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1(type, props, attributes) {\n      if (props === void 0) {\n        props = {};\n      }\n\n      if (attributes === void 0) {\n        attributes = {};\n      }\n\n      // Add the slider element class to all sub classes\n      props.className = props.className + ' vjs-slider';\n      props = assign({\n        tabIndex: 0\n      }, props);\n      attributes = assign({\n        'role': 'slider',\n        'aria-valuenow': 0,\n        'aria-valuemin': 0,\n        'aria-valuemax': 100,\n        'tabIndex': 0\n      }, attributes);\n      return _Component.prototype.createEl.call(this, type, props, attributes);\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `Slider`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     * @fires Slider#slideractive\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.bar.el_.ownerDocument;\n\n      if (event.type === 'mousedown') {\n        event.preventDefault();\n      } // Do not call preventDefault() on touchstart in Chrome\n      // to avoid console warnings. Use a 'touch-action: none' style\n      // instead to prevent unintented scrolling.\n      // https://developers.google.com/web/updates/2017/01/scrolling-intervention\n\n\n      if (event.type === 'touchstart' && !IS_CHROME) {\n        event.preventDefault();\n      }\n\n      blockTextSelection();\n      this.addClass('vjs-sliding');\n      /**\n       * Triggered when the slider is in an active state\n       *\n       * @event Slider#slideractive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('slideractive');\n      this.on(doc, 'mousemove', this.handleMouseMove);\n      this.on(doc, 'mouseup', this.handleMouseUp);\n      this.on(doc, 'touchmove', this.handleMouseMove);\n      this.on(doc, 'touchend', this.handleMouseUp);\n      this.handleMouseMove(event);\n    }\n    /**\n     * Handle the `mousemove`, `touchmove`, and `mousedown` events on this `Slider`.\n     * The `mousemove` and `touchmove` events will only only trigger this function during\n     * `mousedown` and `touchstart`. This is due to {@link Slider#handleMouseDown} and\n     * {@link Slider#handleMouseUp}.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown`, `mousemove`, `touchstart`, or `touchmove` event that triggered\n     *        this function\n     *\n     * @listens mousemove\n     * @listens touchmove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {}\n    /**\n     * Handle `mouseup` or `touchend` events on the `Slider`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     * @fires Slider#sliderinactive\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp() {\n      var doc = this.bar.el_.ownerDocument;\n      unblockTextSelection();\n      this.removeClass('vjs-sliding');\n      /**\n       * Triggered when the slider is no longer in an active state.\n       *\n       * @event Slider#sliderinactive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('sliderinactive');\n      this.off(doc, 'mousemove', this.handleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchmove', this.handleMouseMove);\n      this.off(doc, 'touchend', this.handleMouseUp);\n      this.update();\n    }\n    /**\n     * Update the progress bar of the `Slider`.\n     *\n     * @return {number}\n     *          The percentage of progress the progress bar represents as a\n     *          number from 0 to 1.\n     */\n    ;\n\n    _proto.update = function update() {\n      // In VolumeBar init we have a setTimeout for update that pops and update\n      // to the end of the execution stack. The player is destroyed before then\n      // update will cause an error\n      if (!this.el_) {\n        return;\n      } // If scrubbing, we could use a cached value to make the handle keep up\n      // with the user's mouse. On HTML5 browsers scrubbing is really smooth, but\n      // some flash players are slow, so we might want to utilize this later.\n      // var progress =  (this.player_.scrubbing()) ? this.player_.getCache().currentTime / this.player_.duration() : this.player_.currentTime() / this.player_.duration();\n\n\n      var progress = this.getPercent();\n      var bar = this.bar; // If there's no bar...\n\n      if (!bar) {\n        return;\n      } // Protect against no duration and other division issues\n\n\n      if (typeof progress !== 'number' || progress !== progress || progress < 0 || progress === Infinity) {\n        progress = 0;\n      } // Convert to a percentage for setting\n\n\n      var percentage = (progress * 100).toFixed(2) + '%';\n      var style = bar.el().style; // Set the new bar width or height\n\n      if (this.vertical()) {\n        style.height = percentage;\n      } else {\n        style.width = percentage;\n      }\n\n      return progress;\n    }\n    /**\n     * Calculate distance for slider\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run.\n     *\n     * @return {number}\n     *         The current position of the Slider.\n     *         - position.x for vertical `Slider`s\n     *         - position.y for horizontal `Slider`s\n     */\n    ;\n\n    _proto.calculateDistance = function calculateDistance(event) {\n      var position = getPointerPosition(this.el_, event);\n\n      if (this.vertical()) {\n        return position.y;\n      }\n\n      return position.x;\n    }\n    /**\n     * Handle a `keydown` event on the `Slider`. Watches for left, rigth, up, and down\n     * arrow keys. This function will only be called when the slider has focus. See\n     * {@link Slider#handleFocus} and {@link Slider#handleBlur}.\n     *\n     * @param {EventTarget~Event} event\n     *        the `keydown` event that caused this function to run.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Left and Down Arrows\n      if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepBack(); // Up and Right Arrows\n      } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepForward();\n      } else {\n        // Pass keydown handling up for unsupported keys\n        _Component.prototype.handleKeyDown.call(this, event);\n      }\n    }\n    /**\n     * Listener for click events on slider, used to prevent clicks\n     *   from bubbling up to parent elements like button menus.\n     *\n     * @param {Object} event\n     *        Event that caused this object to run\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n    /**\n     * Get/set if slider is horizontal for vertical\n     *\n     * @param {boolean} [bool]\n     *        - true if slider is vertical,\n     *        - false is horizontal\n     *\n     * @return {boolean}\n     *         - true if slider is vertical, and getting\n     *         - false if the slider is horizontal, and getting\n     */\n    ;\n\n    _proto.vertical = function vertical(bool) {\n      if (bool === undefined) {\n        return this.vertical_ || false;\n      }\n\n      this.vertical_ = !!bool;\n\n      if (this.vertical_) {\n        this.addClass('vjs-slider-vertical');\n      } else {\n        this.addClass('vjs-slider-horizontal');\n      }\n    };\n\n    return Slider;\n  }(Component);\n\n  Component.registerComponent('Slider', Slider);\n\n  /**\n   * Shows loading progress\n   *\n   * @extends Component\n   */\n\n  var LoadProgressBar =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LoadProgressBar, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function LoadProgressBar(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.partEls_ = [];\n\n      _this.on(player, 'progress', _this.update);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = LoadProgressBar.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-load-progress',\n        innerHTML: \"<span class=\\\"vjs-control-text\\\"><span>\" + this.localize('Loaded') + \"</span>: <span class=\\\"vjs-control-text-loaded-percentage\\\">0%</span></span>\"\n      });\n    };\n\n    _proto.dispose = function dispose() {\n      this.partEls_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Update progress bar\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `progress` event that caused this function to run.\n     *\n     * @listens Player#progress\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var liveTracker = this.player_.liveTracker;\n      var buffered = this.player_.buffered();\n      var duration = liveTracker && liveTracker.isLive() ? liveTracker.seekableEnd() : this.player_.duration();\n      var bufferedEnd = this.player_.bufferedEnd();\n      var children = this.partEls_;\n      var controlTextPercentage = this.$('.vjs-control-text-loaded-percentage'); // get the percent width of a time compared to the total end\n\n      var percentify = function percentify(time, end, rounded) {\n        // no NaN\n        var percent = time / end || 0;\n        percent = (percent >= 1 ? 1 : percent) * 100;\n\n        if (rounded) {\n          percent = percent.toFixed(2);\n        }\n\n        return percent + '%';\n      }; // update the width of the progress bar\n\n\n      this.el_.style.width = percentify(bufferedEnd, duration); // update the control-text\n\n      textContent(controlTextPercentage, percentify(bufferedEnd, duration, true)); // add child elements to represent the individual buffered time ranges\n\n      for (var i = 0; i < buffered.length; i++) {\n        var start = buffered.start(i);\n        var end = buffered.end(i);\n        var part = children[i];\n\n        if (!part) {\n          part = this.el_.appendChild(createEl());\n          children[i] = part;\n        } // set the percent based on the width of the progress bar (bufferedEnd)\n\n\n        part.style.left = percentify(start, bufferedEnd);\n        part.style.width = percentify(end - start, bufferedEnd);\n      } // remove unused buffered range elements\n\n\n      for (var _i = children.length; _i > buffered.length; _i--) {\n        this.el_.removeChild(children[_i - 1]);\n      }\n\n      children.length = buffered.length;\n    };\n\n    return LoadProgressBar;\n  }(Component);\n\n  Component.registerComponent('LoadProgressBar', LoadProgressBar);\n\n  /**\n   * Time tooltips display a time above the progress bar.\n   *\n   * @extends Component\n   */\n\n  var TimeTooltip =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(TimeTooltip, _Component);\n\n    function TimeTooltip() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = TimeTooltip.prototype;\n\n    /**\n     * Create the time tooltip DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl$$1() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-time-tooltip'\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Updates the position of the time tooltip relative to the `SeekBar`.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint, content) {\n      var tooltipRect = getBoundingClientRect(this.el_);\n      var playerRect = getBoundingClientRect(this.player_.el());\n      var seekBarPointPx = seekBarRect.width * seekBarPoint; // do nothing if either rect isn't available\n      // for example, if the player isn't in the DOM for testing\n\n      if (!playerRect || !tooltipRect) {\n        return;\n      } // This is the space left of the `seekBarPoint` available within the bounds\n      // of the player. We calculate any gap between the left edge of the player\n      // and the left edge of the `SeekBar` and add the number of pixels in the\n      // `SeekBar` before hitting the `seekBarPoint`\n\n\n      var spaceLeftOfPoint = seekBarRect.left - playerRect.left + seekBarPointPx; // This is the space right of the `seekBarPoint` available within the bounds\n      // of the player. We calculate the number of pixels from the `seekBarPoint`\n      // to the right edge of the `SeekBar` and add to that any gap between the\n      // right edge of the `SeekBar` and the player.\n\n      var spaceRightOfPoint = seekBarRect.width - seekBarPointPx + (playerRect.right - seekBarRect.right); // This is the number of pixels by which the tooltip will need to be pulled\n      // further to the right to center it over the `seekBarPoint`.\n\n      var pullTooltipBy = tooltipRect.width / 2; // Adjust the `pullTooltipBy` distance to the left or right depending on\n      // the results of the space calculations above.\n\n      if (spaceLeftOfPoint < pullTooltipBy) {\n        pullTooltipBy += pullTooltipBy - spaceLeftOfPoint;\n      } else if (spaceRightOfPoint < pullTooltipBy) {\n        pullTooltipBy = spaceRightOfPoint;\n      } // Due to the imprecision of decimal/ratio based calculations and varying\n      // rounding behaviors, there are cases where the spacing adjustment is off\n      // by a pixel or two. This adds insurance to these calculations.\n\n\n      if (pullTooltipBy < 0) {\n        pullTooltipBy = 0;\n      } else if (pullTooltipBy > tooltipRect.width) {\n        pullTooltipBy = tooltipRect.width;\n      }\n\n      this.el_.style.right = \"-\" + pullTooltipBy + \"px\";\n      textContent(this.el_, content);\n    }\n    /**\n     * Updates the position of the time tooltip relative to the `SeekBar`.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     *\n     * @param {number} time\n     *        The time to update the tooltip to, not used during live playback\n     *\n     * @param {Function} cb\n     *        A function that will be called during the request animation frame\n     *        for tooltips that need to do additional animations from the default\n     */\n    ;\n\n    _proto.updateTime = function updateTime(seekBarRect, seekBarPoint, time, cb) {\n      var _this = this;\n\n      // If there is an existing rAF ID, cancel it so we don't over-queue.\n      if (this.rafId_) {\n        this.cancelAnimationFrame(this.rafId_);\n      }\n\n      this.rafId_ = this.requestAnimationFrame(function () {\n        var content;\n\n        var duration = _this.player_.duration();\n\n        if (_this.player_.liveTracker && _this.player_.liveTracker.isLive()) {\n          var liveWindow = _this.player_.liveTracker.liveWindow();\n\n          var secondsBehind = liveWindow - seekBarPoint * liveWindow;\n          content = (secondsBehind < 1 ? '' : '-') + formatTime(secondsBehind, liveWindow);\n        } else {\n          content = formatTime(time, duration);\n        }\n\n        _this.update(seekBarRect, seekBarPoint, content);\n\n        if (cb) {\n          cb();\n        }\n      });\n    };\n\n    return TimeTooltip;\n  }(Component);\n\n  Component.registerComponent('TimeTooltip', TimeTooltip);\n\n  /**\n   * Used by {@link SeekBar} to display media playback progress as part of the\n   * {@link ProgressControl}.\n   *\n   * @extends Component\n   */\n\n  var PlayProgressBar =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(PlayProgressBar, _Component);\n\n    function PlayProgressBar() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = PlayProgressBar.prototype;\n\n    /**\n     * Create the the DOM element for this class.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-play-progress vjs-slider-bar'\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Enqueues updates to its own DOM as well as the DOM of its\n     * {@link TimeTooltip} child.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint) {\n      var timeTooltip = this.getChild('timeTooltip');\n\n      if (!timeTooltip) {\n        return;\n      }\n\n      var time = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n      timeTooltip.updateTime(seekBarRect, seekBarPoint, time);\n    };\n\n    return PlayProgressBar;\n  }(Component);\n  /**\n   * Default options for {@link PlayProgressBar}.\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  PlayProgressBar.prototype.options_ = {\n    children: []\n  }; // Time tooltips should not be added to a player on mobile devices\n\n  if (!IS_IOS && !IS_ANDROID) {\n    PlayProgressBar.prototype.options_.children.push('timeTooltip');\n  }\n\n  Component.registerComponent('PlayProgressBar', PlayProgressBar);\n\n  /**\n   * The {@link MouseTimeDisplay} component tracks mouse movement over the\n   * {@link ProgressControl}. It displays an indicator and a {@link TimeTooltip}\n   * indicating the time which is represented by a given point in the\n   * {@link ProgressControl}.\n   *\n   * @extends Component\n   */\n\n  var MouseTimeDisplay =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(MouseTimeDisplay, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The {@link Player} that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function MouseTimeDisplay(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.update = throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.update), 25);\n      return _this;\n    }\n    /**\n     * Create the DOM element for this class.\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = MouseTimeDisplay.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-mouse-display'\n      });\n    }\n    /**\n     * Enqueues updates to its own DOM as well as the DOM of its\n     * {@link TimeTooltip} child.\n     *\n     * @param {Object} seekBarRect\n     *        The `ClientRect` for the {@link SeekBar} element.\n     *\n     * @param {number} seekBarPoint\n     *        A number from 0 to 1, representing a horizontal reference point\n     *        from the left edge of the {@link SeekBar}\n     */\n    ;\n\n    _proto.update = function update(seekBarRect, seekBarPoint) {\n      var _this2 = this;\n\n      var time = seekBarPoint * this.player_.duration();\n      this.getChild('timeTooltip').updateTime(seekBarRect, seekBarPoint, time, function () {\n        _this2.el_.style.left = seekBarRect.width * seekBarPoint + \"px\";\n      });\n    };\n\n    return MouseTimeDisplay;\n  }(Component);\n  /**\n   * Default options for `MouseTimeDisplay`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  MouseTimeDisplay.prototype.options_ = {\n    children: ['timeTooltip']\n  };\n  Component.registerComponent('MouseTimeDisplay', MouseTimeDisplay);\n\n  var STEP_SECONDS = 5; // The multiplier of STEP_SECONDS that PgUp/PgDown move the timeline.\n\n  var PAGE_KEY_MULTIPLIER = 12; // The interval at which the bar should update as it progresses.\n\n  var UPDATE_REFRESH_INTERVAL = 30;\n  /**\n   * Seek bar and container for the progress bars. Uses {@link PlayProgressBar}\n   * as its `bar`.\n   *\n   * @extends Slider\n   */\n\n  var SeekBar =\n  /*#__PURE__*/\n  function (_Slider) {\n    _inheritsLoose(SeekBar, _Slider);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function SeekBar(player, options) {\n      var _this;\n\n      _this = _Slider.call(this, player, options) || this;\n\n      _this.setEventHandlers_();\n\n      return _this;\n    }\n    /**\n     * Sets the event handlers\n     *\n     * @private\n     */\n\n\n    var _proto = SeekBar.prototype;\n\n    _proto.setEventHandlers_ = function setEventHandlers_() {\n      this.update = throttle(bind(this, this.update), UPDATE_REFRESH_INTERVAL);\n      this.on(this.player_, 'timeupdate', this.update);\n      this.on(this.player_, 'ended', this.handleEnded);\n      this.on(this.player_, 'durationchange', this.update);\n\n      if (this.player_.liveTracker) {\n        this.on(this.player_.liveTracker, 'liveedgechange', this.update);\n      } // when playing, let's ensure we smoothly update the play progress bar\n      // via an interval\n\n\n      this.updateInterval = null;\n      this.on(this.player_, ['playing'], this.enableInterval_);\n      this.on(this.player_, ['ended', 'pause', 'waiting'], this.disableInterval_); // we don't need to update the play progress if the document is hidden,\n      // also, this causes the CPU to spike and eventually crash the page on IE11.\n\n      if ('hidden' in document && 'visibilityState' in document) {\n        this.on(document, 'visibilitychange', this.toggleVisibility_);\n      }\n    };\n\n    _proto.toggleVisibility_ = function toggleVisibility_(e) {\n      if (document.hidden) {\n        this.disableInterval_(e);\n      } else {\n        this.enableInterval_(); // we just switched back to the page and someone may be looking, so, update ASAP\n\n        this.requestAnimationFrame(this.update);\n      }\n    };\n\n    _proto.enableInterval_ = function enableInterval_() {\n      var _this2 = this;\n\n      this.clearInterval(this.updateInterval);\n      this.updateInterval = this.setInterval(function () {\n        _this2.requestAnimationFrame(_this2.update);\n      }, UPDATE_REFRESH_INTERVAL);\n    };\n\n    _proto.disableInterval_ = function disableInterval_(e) {\n      if (this.player_.liveTracker && this.player_.liveTracker.isLive() && e.type !== 'ended') {\n        return;\n      }\n\n      this.clearInterval(this.updateInterval);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-holder'\n      }, {\n        'aria-label': this.localize('Progress Bar')\n      });\n    }\n    /**\n     * This function updates the play progress bar and accessibility\n     * attributes to whatever is passed in.\n     *\n     * @param {number} currentTime\n     *        The currentTime value that should be used for accessibility\n     *\n     * @param {number} percent\n     *        The percentage as a decimal that the bar should be filled from 0-1.\n     *\n     * @private\n     */\n    ;\n\n    _proto.update_ = function update_(currentTime, percent) {\n      var liveTracker = this.player_.liveTracker;\n      var duration = this.player_.duration();\n\n      if (liveTracker && liveTracker.isLive()) {\n        duration = this.player_.liveTracker.liveCurrentTime();\n      } // machine readable value of progress bar (percentage complete)\n\n\n      this.el_.setAttribute('aria-valuenow', (percent * 100).toFixed(2)); // human readable value of progress bar (time complete)\n\n      this.el_.setAttribute('aria-valuetext', this.localize('progress bar timing: currentTime={1} duration={2}', [formatTime(currentTime, duration), formatTime(duration, duration)], '{1} of {2}')); // Update the `PlayProgressBar`.\n\n      if (this.bar) {\n        this.bar.update(getBoundingClientRect(this.el_), percent);\n      }\n    }\n    /**\n     * Update the seek bar's UI.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `ended` event that caused this to run.\n     *\n     * @listens Player#timeupdate\n     *\n     * @return {number}\n     *          The current percent at a number from 0-1\n     */\n    ;\n\n    _proto.update = function update(event) {\n      // if the offsetParent is null, then this element is hidden, in which case\n      // we don't need to update it.\n      if (this.el().offsetParent === null) {\n        return;\n      }\n\n      var percent = _Slider.prototype.update.call(this);\n\n      this.update_(this.getCurrentTime_(), percent);\n      return percent;\n    }\n    /**\n     * Get the value of current time but allows for smooth scrubbing,\n     * when player can't keep up.\n     *\n     * @return {number}\n     *         The current time value to display\n     *\n     * @private\n     */\n    ;\n\n    _proto.getCurrentTime_ = function getCurrentTime_() {\n      return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();\n    }\n    /**\n     * We want the seek bar to be full on ended\n     * no matter what the actual internal values are. so we force it.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `timeupdate` or `ended` event that caused this to run.\n     *\n     * @listens Player#ended\n     */\n    ;\n\n    _proto.handleEnded = function handleEnded(event) {\n      this.update_(this.player_.duration(), 1);\n    }\n    /**\n     * Get the percentage of media played so far.\n     *\n     * @return {number}\n     *         The percentage of media played so far (0 to 1).\n     */\n    ;\n\n    _proto.getPercent = function getPercent() {\n      var currentTime = this.getCurrentTime_();\n      var percent;\n      var liveTracker = this.player_.liveTracker;\n\n      if (liveTracker && liveTracker.isLive()) {\n        percent = (currentTime - liveTracker.seekableStart()) / liveTracker.liveWindow(); // prevent the percent from changing at the live edge\n\n        if (liveTracker.atLiveEdge()) {\n          percent = 1;\n        }\n      } else {\n        percent = currentTime / this.player_.duration();\n      }\n\n      return percent >= 1 ? 1 : percent || 0;\n    }\n    /**\n     * Handle mouse down on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousedown` event that caused this to run.\n     *\n     * @listens mousedown\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      } // Stop event propagation to prevent double fire in progress-control.js\n\n\n      event.stopPropagation();\n      this.player_.scrubbing(true);\n      this.videoWasPlaying = !this.player_.paused();\n      this.player_.pause();\n\n      _Slider.prototype.handleMouseDown.call(this, event);\n    }\n    /**\n     * Handle mouse move on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this to run.\n     *\n     * @listens mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      var newTime;\n      var distance = this.calculateDistance(event);\n      var liveTracker = this.player_.liveTracker;\n\n      if (!liveTracker || !liveTracker.isLive()) {\n        newTime = distance * this.player_.duration(); // Don't let video end while scrubbing.\n\n        if (newTime === this.player_.duration()) {\n          newTime = newTime - 0.1;\n        }\n      } else {\n        var seekableStart = liveTracker.seekableStart();\n        var seekableEnd = liveTracker.liveCurrentTime();\n        newTime = seekableStart + distance * liveTracker.liveWindow(); // Don't let video end while scrubbing.\n\n        if (newTime >= seekableEnd) {\n          newTime = seekableEnd;\n        } // Compensate for precision differences so that currentTime is not less\n        // than seekable start\n\n\n        if (newTime <= seekableStart) {\n          newTime = seekableStart + 0.1;\n        } // On android seekableEnd can be Infinity sometimes,\n        // this will cause newTime to be Infinity, which is\n        // not a valid currentTime.\n\n\n        if (newTime === Infinity) {\n          return;\n        }\n      } // Set new time (tell player to seek to new time)\n\n\n      this.player_.currentTime(newTime);\n    };\n\n    _proto.enable = function enable() {\n      _Slider.prototype.enable.call(this);\n\n      var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n      if (!mouseTimeDisplay) {\n        return;\n      }\n\n      mouseTimeDisplay.show();\n    };\n\n    _proto.disable = function disable() {\n      _Slider.prototype.disable.call(this);\n\n      var mouseTimeDisplay = this.getChild('mouseTimeDisplay');\n\n      if (!mouseTimeDisplay) {\n        return;\n      }\n\n      mouseTimeDisplay.hide();\n    }\n    /**\n     * Handle mouse up on seek bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mouseup` event that caused this to run.\n     *\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      _Slider.prototype.handleMouseUp.call(this, event); // Stop event propagation to prevent double fire in progress-control.js\n\n\n      if (event) {\n        event.stopPropagation();\n      }\n\n      this.player_.scrubbing(false);\n      /**\n       * Trigger timeupdate because we're done seeking and the time has changed.\n       * This is particularly useful for if the player is paused to time the time displays.\n       *\n       * @event Tech#timeupdate\n       * @type {EventTarget~Event}\n       */\n\n      this.player_.trigger({\n        type: 'timeupdate',\n        target: this,\n        manuallyTriggered: true\n      });\n\n      if (this.videoWasPlaying) {\n        silencePromise(this.player_.play());\n      }\n    }\n    /**\n     * Move more quickly fast forward for keyboard-only users\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS);\n    }\n    /**\n     * Move more quickly rewind for keyboard-only users\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS);\n    }\n    /**\n     * Toggles the playback state of the player\n     * This gets called when enter or space is used on the seekbar\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called\n     *\n     */\n    ;\n\n    _proto.handleAction = function handleAction(event) {\n      if (this.player_.paused()) {\n        this.player_.play();\n      } else {\n        this.player_.pause();\n      }\n    }\n    /**\n     * Called when this SeekBar has focus and a key gets pressed down.\n     * Supports the following keys:\n     *\n     *   Space or Enter key fire a click event\n     *   Home key moves to start of the timeline\n     *   End key moves to end of the timeline\n     *   Digit \"0\" through \"9\" keys move to 0%, 10% ... 80%, 90% of the timeline\n     *   PageDown key moves back a larger step than ArrowDown\n     *   PageUp key moves forward a large step\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (keycode.isEventKey(event, 'Space') || keycode.isEventKey(event, 'Enter')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.handleAction(event);\n      } else if (keycode.isEventKey(event, 'Home')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(0);\n      } else if (keycode.isEventKey(event, 'End')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(this.player_.duration());\n      } else if (/^[0-9]$/.test(keycode(event))) {\n        event.preventDefault();\n        event.stopPropagation();\n        var gotoFraction = (keycode.codes[keycode(event)] - keycode.codes['0']) * 10.0 / 100.0;\n        this.player_.currentTime(this.player_.duration() * gotoFraction);\n      } else if (keycode.isEventKey(event, 'PgDn')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(this.player_.currentTime() - STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n      } else if (keycode.isEventKey(event, 'PgUp')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.player_.currentTime(this.player_.currentTime() + STEP_SECONDS * PAGE_KEY_MULTIPLIER);\n      } else {\n        // Pass keydown handling up for unsupported keys\n        _Slider.prototype.handleKeyDown.call(this, event);\n      }\n    };\n\n    return SeekBar;\n  }(Slider);\n  /**\n   * Default options for the `SeekBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  SeekBar.prototype.options_ = {\n    children: ['loadProgressBar', 'playProgressBar'],\n    barName: 'playProgressBar'\n  }; // MouseTimeDisplay tooltips should not be added to a player on mobile devices\n\n  if (!IS_IOS && !IS_ANDROID) {\n    SeekBar.prototype.options_.children.splice(1, 0, 'mouseTimeDisplay');\n  }\n\n  Component.registerComponent('SeekBar', SeekBar);\n\n  /**\n   * The Progress Control component contains the seek bar, load progress,\n   * and play progress.\n   *\n   * @extends Component\n   */\n\n  var ProgressControl =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ProgressControl, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function ProgressControl(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n      _this.handleMouseMove = throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.handleMouseMove), 25);\n      _this.throttledHandleMouseSeek = throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.handleMouseSeek), 25);\n\n      _this.enable();\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = ProgressControl.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-progress-control vjs-control'\n      });\n    }\n    /**\n     * When the mouse moves over the `ProgressControl`, the pointer position\n     * gets passed down to the `MouseTimeDisplay` component.\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this function to run.\n     *\n     * @listen mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        var mouseTimeDisplay = seekBar.getChild('mouseTimeDisplay');\n        var seekBarEl = seekBar.el();\n        var seekBarRect = getBoundingClientRect(seekBarEl);\n        var seekBarPoint = getPointerPosition(seekBarEl, event).x; // The default skin has a gap on either side of the `SeekBar`. This means\n        // that it's possible to trigger this behavior outside the boundaries of\n        // the `SeekBar`. This ensures we stay within it at all times.\n\n        if (seekBarPoint > 1) {\n          seekBarPoint = 1;\n        } else if (seekBarPoint < 0) {\n          seekBarPoint = 0;\n        }\n\n        if (mouseTimeDisplay) {\n          mouseTimeDisplay.update(seekBarRect, seekBarPoint);\n        }\n      }\n    }\n    /**\n     * A throttled version of the {@link ProgressControl#handleMouseSeek} listener.\n     *\n     * @method ProgressControl#throttledHandleMouseSeek\n     * @param {EventTarget~Event} event\n     *        The `mousemove` event that caused this function to run.\n     *\n     * @listen mousemove\n     * @listen touchmove\n     */\n\n    /**\n     * Handle `mousemove` or `touchmove` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousemove\n     * @listens touchmove\n     */\n    ;\n\n    _proto.handleMouseSeek = function handleMouseSeek(event) {\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseMove(event);\n      }\n    }\n    /**\n     * Are controls are currently enabled for this progress control.\n     *\n     * @return {boolean}\n     *         true if controls are enabled, false otherwise\n     */\n    ;\n\n    _proto.enabled = function enabled() {\n      return this.enabled_;\n    }\n    /**\n     * Disable all controls on the progress control and its children\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.children().forEach(function (child) {\n        return child.disable && child.disable();\n      });\n\n      if (!this.enabled()) {\n        return;\n      }\n\n      this.off(['mousedown', 'touchstart'], this.handleMouseDown);\n      this.off(this.el_, 'mousemove', this.handleMouseMove);\n      this.handleMouseUp();\n      this.addClass('disabled');\n      this.enabled_ = false;\n    }\n    /**\n     * Enable all controls on the progress control and its children\n     */\n    ;\n\n    _proto.enable = function enable() {\n      this.children().forEach(function (child) {\n        return child.enable && child.enable();\n      });\n\n      if (this.enabled()) {\n        return;\n      }\n\n      this.on(['mousedown', 'touchstart'], this.handleMouseDown);\n      this.on(this.el_, 'mousemove', this.handleMouseMove);\n      this.removeClass('disabled');\n      this.enabled_ = true;\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.el_.ownerDocument;\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseDown(event);\n      }\n\n      this.on(doc, 'mousemove', this.throttledHandleMouseSeek);\n      this.on(doc, 'touchmove', this.throttledHandleMouseSeek);\n      this.on(doc, 'mouseup', this.handleMouseUp);\n      this.on(doc, 'touchend', this.handleMouseUp);\n    }\n    /**\n     * Handle `mouseup` or `touchend` events on the `ProgressControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      var doc = this.el_.ownerDocument;\n      var seekBar = this.getChild('seekBar');\n\n      if (seekBar) {\n        seekBar.handleMouseUp(event);\n      }\n\n      this.off(doc, 'mousemove', this.throttledHandleMouseSeek);\n      this.off(doc, 'touchmove', this.throttledHandleMouseSeek);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchend', this.handleMouseUp);\n    };\n\n    return ProgressControl;\n  }(Component);\n  /**\n   * Default options for `ProgressControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ProgressControl.prototype.options_ = {\n    children: ['seekBar']\n  };\n  Component.registerComponent('ProgressControl', ProgressControl);\n\n  /**\n   * Toggle fullscreen video\n   *\n   * @extends Button\n   */\n\n  var FullscreenToggle =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(FullscreenToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function FullscreenToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this;\n\n      _this.on(player, 'fullscreenchange', _this.handleFullscreenChange);\n\n      if (document[FullscreenApi.fullscreenEnabled] === false) {\n        _this.disable();\n      }\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = FullscreenToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-fullscreen-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Handles fullscreenchange on the player and change control text accordingly.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#fullscreenchange} event that caused this function to be\n     *        called.\n     *\n     * @listens Player#fullscreenchange\n     */\n    ;\n\n    _proto.handleFullscreenChange = function handleFullscreenChange(event) {\n      if (this.player_.isFullscreen()) {\n        this.controlText('Non-Fullscreen');\n      } else {\n        this.controlText('Fullscreen');\n      }\n    }\n    /**\n     * This gets called when an `FullscreenToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (!this.player_.isFullscreen()) {\n        this.player_.requestFullscreen();\n      } else {\n        this.player_.exitFullscreen();\n      }\n    };\n\n    return FullscreenToggle;\n  }(Button);\n  /**\n   * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  FullscreenToggle.prototype.controlText_ = 'Fullscreen';\n  Component.registerComponent('FullscreenToggle', FullscreenToggle);\n\n  /**\n   * Check if volume control is supported and if it isn't hide the\n   * `Component` that was passed  using the `vjs-hidden` class.\n   *\n   * @param {Component} self\n   *        The component that should be hidden if volume is unsupported\n   *\n   * @param {Player} player\n   *        A reference to the player\n   *\n   * @private\n   */\n  var checkVolumeSupport = function checkVolumeSupport(self, player) {\n    // hide volume controls when they're not supported by the current tech\n    if (player.tech_ && !player.tech_.featuresVolumeControl) {\n      self.addClass('vjs-hidden');\n    }\n\n    self.on(player, 'loadstart', function () {\n      if (!player.tech_.featuresVolumeControl) {\n        self.addClass('vjs-hidden');\n      } else {\n        self.removeClass('vjs-hidden');\n      }\n    });\n  };\n\n  /**\n   * Shows volume level\n   *\n   * @extends Component\n   */\n\n  var VolumeLevel =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(VolumeLevel, _Component);\n\n    function VolumeLevel() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = VolumeLevel.prototype;\n\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-level',\n        innerHTML: '<span class=\"vjs-control-text\"></span>'\n      });\n    };\n\n    return VolumeLevel;\n  }(Component);\n\n  Component.registerComponent('VolumeLevel', VolumeLevel);\n\n  /**\n   * The bar that contains the volume level and can be clicked on to adjust the level\n   *\n   * @extends Slider\n   */\n\n  var VolumeBar =\n  /*#__PURE__*/\n  function (_Slider) {\n    _inheritsLoose(VolumeBar, _Slider);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function VolumeBar(player, options) {\n      var _this;\n\n      _this = _Slider.call(this, player, options) || this;\n\n      _this.on('slideractive', _this.updateLastVolume_);\n\n      _this.on(player, 'volumechange', _this.updateARIAAttributes);\n\n      player.ready(function () {\n        return _this.updateARIAAttributes();\n      });\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = VolumeBar.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      return _Slider.prototype.createEl.call(this, 'div', {\n        className: 'vjs-volume-bar vjs-slider-bar'\n      }, {\n        'aria-label': this.localize('Volume Level'),\n        'aria-live': 'polite'\n      });\n    }\n    /**\n     * Handle mouse down on volume bar\n     *\n     * @param {EventTarget~Event} event\n     *        The `mousedown` event that caused this to run.\n     *\n     * @listens mousedown\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      _Slider.prototype.handleMouseDown.call(this, event);\n    }\n    /**\n     * Handle movement events on the {@link VolumeMenuButton}.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run.\n     *\n     * @listens mousemove\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      }\n\n      this.checkMuted();\n      this.player_.volume(this.calculateDistance(event));\n    }\n    /**\n     * If the player is muted unmute it.\n     */\n    ;\n\n    _proto.checkMuted = function checkMuted() {\n      if (this.player_.muted()) {\n        this.player_.muted(false);\n      }\n    }\n    /**\n     * Get percent of volume level\n     *\n     * @return {number}\n     *         Volume level percent as a decimal number.\n     */\n    ;\n\n    _proto.getPercent = function getPercent() {\n      if (this.player_.muted()) {\n        return 0;\n      }\n\n      return this.player_.volume();\n    }\n    /**\n     * Increase volume level for keyboard users\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() + 0.1);\n    }\n    /**\n     * Decrease volume level for keyboard users\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      this.checkMuted();\n      this.player_.volume(this.player_.volume() - 0.1);\n    }\n    /**\n     * Update ARIA accessibility attributes\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `volumechange` event that caused this function to run.\n     *\n     * @listens Player#volumechange\n     */\n    ;\n\n    _proto.updateARIAAttributes = function updateARIAAttributes(event) {\n      var ariaValue = this.player_.muted() ? 0 : this.volumeAsPercentage_();\n      this.el_.setAttribute('aria-valuenow', ariaValue);\n      this.el_.setAttribute('aria-valuetext', ariaValue + '%');\n    }\n    /**\n     * Returns the current value of the player volume as a percentage\n     *\n     * @private\n     */\n    ;\n\n    _proto.volumeAsPercentage_ = function volumeAsPercentage_() {\n      return Math.round(this.player_.volume() * 100);\n    }\n    /**\n     * When user starts dragging the VolumeBar, store the volume and listen for\n     * the end of the drag. When the drag ends, if the volume was set to zero,\n     * set lastVolume to the stored volume.\n     *\n     * @listens slideractive\n     * @private\n     */\n    ;\n\n    _proto.updateLastVolume_ = function updateLastVolume_() {\n      var _this2 = this;\n\n      var volumeBeforeDrag = this.player_.volume();\n      this.one('sliderinactive', function () {\n        if (_this2.player_.volume() === 0) {\n          _this2.player_.lastVolume_(volumeBeforeDrag);\n        }\n      });\n    };\n\n    return VolumeBar;\n  }(Slider);\n  /**\n   * Default options for the `VolumeBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumeBar.prototype.options_ = {\n    children: ['volumeLevel'],\n    barName: 'volumeLevel'\n  };\n  /**\n   * Call the update event for this Slider when this event happens on the player.\n   *\n   * @type {string}\n   */\n\n  VolumeBar.prototype.playerEvent = 'volumechange';\n  Component.registerComponent('VolumeBar', VolumeBar);\n\n  /**\n   * The component for controlling the volume level\n   *\n   * @extends Component\n   */\n\n  var VolumeControl =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(VolumeControl, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function VolumeControl(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.vertical = options.vertical || false; // Pass the vertical option down to the VolumeBar if\n      // the VolumeBar is turned on.\n\n      if (typeof options.volumeBar === 'undefined' || isPlain(options.volumeBar)) {\n        options.volumeBar = options.volumeBar || {};\n        options.volumeBar.vertical = options.vertical;\n      }\n\n      _this = _Component.call(this, player, options) || this; // hide this control if volume support is missing\n\n      checkVolumeSupport(_assertThisInitialized(_assertThisInitialized(_this)), player);\n      _this.throttledHandleMouseMove = throttle(bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.handleMouseMove), 25);\n\n      _this.on('mousedown', _this.handleMouseDown);\n\n      _this.on('touchstart', _this.handleMouseDown); // while the slider is active (the mouse has been pressed down and\n      // is dragging) or in focus we do not want to hide the VolumeBar\n\n\n      _this.on(_this.volumeBar, ['focus', 'slideractive'], function () {\n        _this.volumeBar.addClass('vjs-slider-active');\n\n        _this.addClass('vjs-slider-active');\n\n        _this.trigger('slideractive');\n      });\n\n      _this.on(_this.volumeBar, ['blur', 'sliderinactive'], function () {\n        _this.volumeBar.removeClass('vjs-slider-active');\n\n        _this.removeClass('vjs-slider-active');\n\n        _this.trigger('sliderinactive');\n      });\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = VolumeControl.prototype;\n\n    _proto.createEl = function createEl() {\n      var orientationClass = 'vjs-volume-horizontal';\n\n      if (this.options_.vertical) {\n        orientationClass = 'vjs-volume-vertical';\n      }\n\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: \"vjs-volume-control vjs-control \" + orientationClass\n      });\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseDown = function handleMouseDown(event) {\n      var doc = this.el_.ownerDocument;\n      this.on(doc, 'mousemove', this.throttledHandleMouseMove);\n      this.on(doc, 'touchmove', this.throttledHandleMouseMove);\n      this.on(doc, 'mouseup', this.handleMouseUp);\n      this.on(doc, 'touchend', this.handleMouseUp);\n    }\n    /**\n     * Handle `mouseup` or `touchend` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mouseup` or `touchend` event that triggered this function.\n     *\n     * @listens touchend\n     * @listens mouseup\n     */\n    ;\n\n    _proto.handleMouseUp = function handleMouseUp(event) {\n      var doc = this.el_.ownerDocument;\n      this.off(doc, 'mousemove', this.throttledHandleMouseMove);\n      this.off(doc, 'touchmove', this.throttledHandleMouseMove);\n      this.off(doc, 'mouseup', this.handleMouseUp);\n      this.off(doc, 'touchend', this.handleMouseUp);\n    }\n    /**\n     * Handle `mousedown` or `touchstart` events on the `VolumeControl`.\n     *\n     * @param {EventTarget~Event} event\n     *        `mousedown` or `touchstart` event that triggered this function\n     *\n     * @listens mousedown\n     * @listens touchstart\n     */\n    ;\n\n    _proto.handleMouseMove = function handleMouseMove(event) {\n      this.volumeBar.handleMouseMove(event);\n    };\n\n    return VolumeControl;\n  }(Component);\n  /**\n   * Default options for the `VolumeControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumeControl.prototype.options_ = {\n    children: ['volumeBar']\n  };\n  Component.registerComponent('VolumeControl', VolumeControl);\n\n  /**\n   * Check if muting volume is supported and if it isn't hide the mute toggle\n   * button.\n   *\n   * @param {Component} self\n   *        A reference to the mute toggle button\n   *\n   * @param {Player} player\n   *        A reference to the player\n   *\n   * @private\n   */\n  var checkMuteSupport = function checkMuteSupport(self, player) {\n    // hide mute toggle button if it's not supported by the current tech\n    if (player.tech_ && !player.tech_.featuresMuteControl) {\n      self.addClass('vjs-hidden');\n    }\n\n    self.on(player, 'loadstart', function () {\n      if (!player.tech_.featuresMuteControl) {\n        self.addClass('vjs-hidden');\n      } else {\n        self.removeClass('vjs-hidden');\n      }\n    });\n  };\n\n  /**\n   * A button component for muting the audio.\n   *\n   * @extends Button\n   */\n\n  var MuteToggle =\n  /*#__PURE__*/\n  function (_Button) {\n    _inheritsLoose(MuteToggle, _Button);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function MuteToggle(player, options) {\n      var _this;\n\n      _this = _Button.call(this, player, options) || this; // hide this control if volume support is missing\n\n      checkMuteSupport(_assertThisInitialized(_assertThisInitialized(_this)), player);\n\n      _this.on(player, ['loadstart', 'volumechange'], _this.update);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = MuteToggle.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-mute-control \" + _Button.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * This gets called when an `MuteToggle` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var vol = this.player_.volume();\n      var lastVolume = this.player_.lastVolume_();\n\n      if (vol === 0) {\n        var volumeToSet = lastVolume < 0.1 ? 0.1 : lastVolume;\n        this.player_.volume(volumeToSet);\n        this.player_.muted(false);\n      } else {\n        this.player_.muted(this.player_.muted() ? false : true);\n      }\n    }\n    /**\n     * Update the `MuteToggle` button based on the state of `volume` and `muted`\n     * on the player.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link Player#loadstart} event if this function was called\n     *        through an event.\n     *\n     * @listens Player#loadstart\n     * @listens Player#volumechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      this.updateIcon_();\n      this.updateControlText_();\n    }\n    /**\n     * Update the appearance of the `MuteToggle` icon.\n     *\n     * Possible states (given `level` variable below):\n     * - 0: crossed out\n     * - 1: zero bars of volume\n     * - 2: one bar of volume\n     * - 3: two bars of volume\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateIcon_ = function updateIcon_() {\n      var vol = this.player_.volume();\n      var level = 3; // in iOS when a player is loaded with muted attribute\n      // and volume is changed with a native mute button\n      // we want to make sure muted state is updated\n\n      if (IS_IOS && this.player_.tech_ && this.player_.tech_.el_) {\n        this.player_.muted(this.player_.tech_.el_.muted);\n      }\n\n      if (vol === 0 || this.player_.muted()) {\n        level = 0;\n      } else if (vol < 0.33) {\n        level = 1;\n      } else if (vol < 0.67) {\n        level = 2;\n      } // TODO improve muted icon classes\n\n\n      for (var i = 0; i < 4; i++) {\n        removeClass(this.el_, \"vjs-vol-\" + i);\n      }\n\n      addClass(this.el_, \"vjs-vol-\" + level);\n    }\n    /**\n     * If `muted` has changed on the player, update the control text\n     * (`title` attribute on `vjs-mute-control` element and content of\n     * `vjs-control-text` element).\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateControlText_ = function updateControlText_() {\n      var soundOff = this.player_.muted() || this.player_.volume() === 0;\n      var text = soundOff ? 'Unmute' : 'Mute';\n\n      if (this.controlText() !== text) {\n        this.controlText(text);\n      }\n    };\n\n    return MuteToggle;\n  }(Button);\n  /**\n   * The text that should display over the `MuteToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  MuteToggle.prototype.controlText_ = 'Mute';\n  Component.registerComponent('MuteToggle', MuteToggle);\n\n  /**\n   * A Component to contain the MuteToggle and VolumeControl so that\n   * they can work together.\n   *\n   * @extends Component\n   */\n\n  var VolumePanel =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(VolumePanel, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function VolumePanel(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      if (typeof options.inline !== 'undefined') {\n        options.inline = options.inline;\n      } else {\n        options.inline = true;\n      } // pass the inline option down to the VolumeControl as vertical if\n      // the VolumeControl is on.\n\n\n      if (typeof options.volumeControl === 'undefined' || isPlain(options.volumeControl)) {\n        options.volumeControl = options.volumeControl || {};\n        options.volumeControl.vertical = !options.inline;\n      }\n\n      _this = _Component.call(this, player, options) || this;\n\n      _this.on(player, ['loadstart'], _this.volumePanelState_); // while the slider is active (the mouse has been pressed down and\n      // is dragging) we do not want to hide the VolumeBar\n\n\n      _this.on(_this.volumeControl, ['slideractive'], _this.sliderActive_);\n\n      _this.on(_this.volumeControl, ['sliderinactive'], _this.sliderInactive_);\n\n      return _this;\n    }\n    /**\n     * Add vjs-slider-active class to the VolumePanel\n     *\n     * @listens VolumeControl#slideractive\n     * @private\n     */\n\n\n    var _proto = VolumePanel.prototype;\n\n    _proto.sliderActive_ = function sliderActive_() {\n      this.addClass('vjs-slider-active');\n    }\n    /**\n     * Removes vjs-slider-active class to the VolumePanel\n     *\n     * @listens VolumeControl#sliderinactive\n     * @private\n     */\n    ;\n\n    _proto.sliderInactive_ = function sliderInactive_() {\n      this.removeClass('vjs-slider-active');\n    }\n    /**\n     * Adds vjs-hidden or vjs-mute-toggle-only to the VolumePanel\n     * depending on MuteToggle and VolumeControl state\n     *\n     * @listens Player#loadstart\n     * @private\n     */\n    ;\n\n    _proto.volumePanelState_ = function volumePanelState_() {\n      // hide volume panel if neither volume control or mute toggle\n      // are displayed\n      if (this.volumeControl.hasClass('vjs-hidden') && this.muteToggle.hasClass('vjs-hidden')) {\n        this.addClass('vjs-hidden');\n      } // if only mute toggle is visible we don't want\n      // volume panel expanding when hovered or active\n\n\n      if (this.volumeControl.hasClass('vjs-hidden') && !this.muteToggle.hasClass('vjs-hidden')) {\n        this.addClass('vjs-mute-toggle-only');\n      }\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var orientationClass = 'vjs-volume-panel-horizontal';\n\n      if (!this.options_.inline) {\n        orientationClass = 'vjs-volume-panel-vertical';\n      }\n\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: \"vjs-volume-panel vjs-control \" + orientationClass\n      });\n    };\n\n    return VolumePanel;\n  }(Component);\n  /**\n   * Default options for the `VolumeControl`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  VolumePanel.prototype.options_ = {\n    children: ['muteToggle', 'volumeControl']\n  };\n  Component.registerComponent('VolumePanel', VolumePanel);\n\n  /**\n   * The Menu component is used to build popup menus, including subtitle and\n   * captions selection menus.\n   *\n   * @extends Component\n   */\n\n  var Menu =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Menu, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Player} player\n     *        the player that this component should attach to\n     *\n     * @param {Object} [options]\n     *        Object of option names and values\n     *\n     */\n    function Menu(player, options) {\n      var _this;\n\n      _this = _Component.call(this, player, options) || this;\n\n      if (options) {\n        _this.menuButton_ = options.menuButton;\n      }\n\n      _this.focusedChild_ = -1;\n\n      _this.on('keydown', _this.handleKeyDown); // All the menu item instances share the same blur handler provided by the menu container.\n\n\n      _this.boundHandleBlur_ = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.handleBlur);\n      _this.boundHandleTapClick_ = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.handleTapClick);\n      return _this;\n    }\n    /**\n     * Add event listeners to the {@link MenuItem}.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem` to add listeners to.\n     *\n     */\n\n\n    var _proto = Menu.prototype;\n\n    _proto.addEventListenerForItem = function addEventListenerForItem(component) {\n      if (!(component instanceof Component)) {\n        return;\n      }\n\n      this.on(component, 'blur', this.boundHandleBlur_);\n      this.on(component, ['tap', 'click'], this.boundHandleTapClick_);\n    }\n    /**\n     * Remove event listeners from the {@link MenuItem}.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem` to remove listeners.\n     *\n     */\n    ;\n\n    _proto.removeEventListenerForItem = function removeEventListenerForItem(component) {\n      if (!(component instanceof Component)) {\n        return;\n      }\n\n      this.off(component, 'blur', this.boundHandleBlur_);\n      this.off(component, ['tap', 'click'], this.boundHandleTapClick_);\n    }\n    /**\n     * This method will be called indirectly when the component has been added\n     * before the component adds to the new menu instance by `addItem`.\n     * In this case, the original menu instance will remove the component\n     * by calling `removeChild`.\n     *\n     * @param {Object} component\n     *        The instance of the `MenuItem`\n     */\n    ;\n\n    _proto.removeChild = function removeChild(component) {\n      if (typeof component === 'string') {\n        component = this.getChild(component);\n      }\n\n      this.removeEventListenerForItem(component);\n\n      _Component.prototype.removeChild.call(this, component);\n    }\n    /**\n     * Add a {@link MenuItem} to the menu.\n     *\n     * @param {Object|string} component\n     *        The name or instance of the `MenuItem` to add.\n     *\n     */\n    ;\n\n    _proto.addItem = function addItem(component) {\n      var childComponent = this.addChild(component);\n\n      if (childComponent) {\n        this.addEventListenerForItem(childComponent);\n      }\n    }\n    /**\n     * Create the `Menu`s DOM element.\n     *\n     * @return {Element}\n     *         the element that was created\n     */\n    ;\n\n    _proto.createEl = function createEl$$1() {\n      var contentElType = this.options_.contentElType || 'ul';\n      this.contentEl_ = createEl(contentElType, {\n        className: 'vjs-menu-content'\n      });\n      this.contentEl_.setAttribute('role', 'menu');\n\n      var el = _Component.prototype.createEl.call(this, 'div', {\n        append: this.contentEl_,\n        className: 'vjs-menu'\n      });\n\n      el.appendChild(this.contentEl_); // Prevent clicks from bubbling up. Needed for Menu Buttons,\n      // where a click on the parent is significant\n\n      on(el, 'click', function (event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n      });\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.contentEl_ = null;\n      this.boundHandleBlur_ = null;\n      this.boundHandleTapClick_ = null;\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Called when a `MenuItem` loses focus.\n     *\n     * @param {EventTarget~Event} event\n     *        The `blur` event that caused this function to be called.\n     *\n     * @listens blur\n     */\n    ;\n\n    _proto.handleBlur = function handleBlur(event) {\n      var relatedTarget = event.relatedTarget || document.activeElement; // Close menu popup when a user clicks outside the menu\n\n      if (!this.children().some(function (element) {\n        return element.el() === relatedTarget;\n      })) {\n        var btn = this.menuButton_;\n\n        if (btn && btn.buttonPressed_ && relatedTarget !== btn.el().firstChild) {\n          btn.unpressButton();\n        }\n      }\n    }\n    /**\n     * Called when a `MenuItem` gets clicked or tapped.\n     *\n     * @param {EventTarget~Event} event\n     *        The `click` or `tap` event that caused this function to be called.\n     *\n     * @listens click,tap\n     */\n    ;\n\n    _proto.handleTapClick = function handleTapClick(event) {\n      // Unpress the associated MenuButton, and move focus back to it\n      if (this.menuButton_) {\n        this.menuButton_.unpressButton();\n        var childComponents = this.children();\n\n        if (!Array.isArray(childComponents)) {\n          return;\n        }\n\n        var foundComponent = childComponents.filter(function (component) {\n          return component.el() === event.target;\n        })[0];\n\n        if (!foundComponent) {\n          return;\n        } // don't focus menu button if item is a caption settings item\n        // because focus will move elsewhere\n\n\n        if (foundComponent.name() !== 'CaptionSettingsMenuItem') {\n          this.menuButton_.focus();\n        }\n      }\n    }\n    /**\n     * Handle a `keydown` event on this menu. This listener is added in the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        A `keydown` event that happened on the menu.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Left and Down Arrows\n      if (keycode.isEventKey(event, 'Left') || keycode.isEventKey(event, 'Down')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepForward(); // Up and Right Arrows\n      } else if (keycode.isEventKey(event, 'Right') || keycode.isEventKey(event, 'Up')) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.stepBack();\n      }\n    }\n    /**\n     * Move to next (lower) menu item for keyboard users.\n     */\n    ;\n\n    _proto.stepForward = function stepForward() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ + 1;\n      }\n\n      this.focus(stepChild);\n    }\n    /**\n     * Move to previous (higher) menu item for keyboard users.\n     */\n    ;\n\n    _proto.stepBack = function stepBack() {\n      var stepChild = 0;\n\n      if (this.focusedChild_ !== undefined) {\n        stepChild = this.focusedChild_ - 1;\n      }\n\n      this.focus(stepChild);\n    }\n    /**\n     * Set focus on a {@link MenuItem} in the `Menu`.\n     *\n     * @param {Object|string} [item=0]\n     *        Index of child item set focus on.\n     */\n    ;\n\n    _proto.focus = function focus(item) {\n      if (item === void 0) {\n        item = 0;\n      }\n\n      var children = this.children().slice();\n      var haveTitle = children.length && children[0].className && /vjs-menu-title/.test(children[0].className);\n\n      if (haveTitle) {\n        children.shift();\n      }\n\n      if (children.length > 0) {\n        if (item < 0) {\n          item = 0;\n        } else if (item >= children.length) {\n          item = children.length - 1;\n        }\n\n        this.focusedChild_ = item;\n        children[item].el_.focus();\n      }\n    };\n\n    return Menu;\n  }(Component);\n\n  Component.registerComponent('Menu', Menu);\n\n  /**\n   * A `MenuButton` class for any popup {@link Menu}.\n   *\n   * @extends Component\n   */\n\n  var MenuButton =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(MenuButton, _Component);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function MenuButton(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _Component.call(this, player, options) || this;\n      _this.menuButton_ = new Button(player, options);\n\n      _this.menuButton_.controlText(_this.controlText_);\n\n      _this.menuButton_.el_.setAttribute('aria-haspopup', 'true'); // Add buildCSSClass values to the button, not the wrapper\n\n\n      var buttonClass = Button.prototype.buildCSSClass();\n      _this.menuButton_.el_.className = _this.buildCSSClass() + ' ' + buttonClass;\n\n      _this.menuButton_.removeClass('vjs-control');\n\n      _this.addChild(_this.menuButton_);\n\n      _this.update();\n\n      _this.enabled_ = true;\n\n      _this.on(_this.menuButton_, 'tap', _this.handleClick);\n\n      _this.on(_this.menuButton_, 'click', _this.handleClick);\n\n      _this.on(_this.menuButton_, 'keydown', _this.handleKeyDown);\n\n      _this.on(_this.menuButton_, 'mouseenter', function () {\n        _this.menu.show();\n      });\n\n      _this.on('keydown', _this.handleSubmenuKeyDown);\n\n      return _this;\n    }\n    /**\n     * Update the menu based on the current state of its items.\n     */\n\n\n    var _proto = MenuButton.prototype;\n\n    _proto.update = function update() {\n      var menu = this.createMenu();\n\n      if (this.menu) {\n        this.menu.dispose();\n        this.removeChild(this.menu);\n      }\n\n      this.menu = menu;\n      this.addChild(menu);\n      /**\n       * Track the state of the menu button\n       *\n       * @type {Boolean}\n       * @private\n       */\n\n      this.buttonPressed_ = false;\n      this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n\n      if (this.items && this.items.length <= this.hideThreshold_) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    }\n    /**\n     * Create the menu and add all items to it.\n     *\n     * @return {Menu}\n     *         The constructed menu\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      var menu = new Menu(this.player_, {\n        menuButton: this\n      });\n      /**\n       * Hide the menu if the number of items is less than or equal to this threshold. This defaults\n       * to 0 and whenever we add items which can be hidden to the menu we'll increment it. We list\n       * it here because every time we run `createMenu` we need to reset the value.\n       *\n       * @protected\n       * @type {Number}\n       */\n\n      this.hideThreshold_ = 0; // Add a title list item to the top\n\n      if (this.options_.title) {\n        var titleEl = createEl('li', {\n          className: 'vjs-menu-title',\n          innerHTML: toTitleCase(this.options_.title),\n          tabIndex: -1\n        });\n        this.hideThreshold_ += 1;\n        var titleComponent = new Component(this.player_, {\n          el: titleEl\n        });\n        menu.addItem(titleComponent);\n      }\n\n      this.items = this.createItems();\n\n      if (this.items) {\n        // Add menu items to the menu\n        for (var i = 0; i < this.items.length; i++) {\n          menu.addItem(this.items[i]);\n        }\n      }\n\n      return menu;\n    }\n    /**\n     * Create the list of menu items. Specific to each subclass.\n     *\n     * @abstract\n     */\n    ;\n\n    _proto.createItems = function createItems() {}\n    /**\n     * Create the `MenuButtons`s DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildWrapperCSSClass()\n      }, {});\n    }\n    /**\n     * Allow sub components to stack CSS class names for the wrapper element\n     *\n     * @return {string}\n     *         The constructed wrapper DOM `className`\n     */\n    ;\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      } // TODO: Fix the CSS so that this isn't necessary\n\n\n      var buttonClass = Button.prototype.buildCSSClass();\n      return \"vjs-menu-button \" + menuButtonClass + \" \" + buttonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      var menuButtonClass = 'vjs-menu-button'; // If the inline option is passed, we want to use different styles altogether.\n\n      if (this.options_.inline === true) {\n        menuButtonClass += '-inline';\n      } else {\n        menuButtonClass += '-popup';\n      }\n\n      return \"vjs-menu-button \" + menuButtonClass + \" \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Get or set the localized control text that will be used for accessibility.\n     *\n     * > NOTE: This will come from the internal `menuButton_` element.\n     *\n     * @param {string} [text]\n     *        Control text for element.\n     *\n     * @param {Element} [el=this.menuButton_.el()]\n     *        Element to set the title on.\n     *\n     * @return {string}\n     *         - The control text when getting\n     */\n    ;\n\n    _proto.controlText = function controlText(text, el) {\n      if (el === void 0) {\n        el = this.menuButton_.el();\n      }\n\n      return this.menuButton_.controlText(text, el);\n    }\n    /**\n     * Handle a click on a `MenuButton`.\n     * See {@link ClickableComponent#handleClick} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      if (this.buttonPressed_) {\n        this.unpressButton();\n      } else {\n        this.pressButton();\n      }\n    }\n    /**\n     * Set the focus to the actual button, not to this element\n     */\n    ;\n\n    _proto.focus = function focus() {\n      this.menuButton_.focus();\n    }\n    /**\n     * Remove the focus from the actual button, not this element\n     */\n    ;\n\n    _proto.blur = function blur() {\n      this.menuButton_.blur();\n    }\n    /**\n     * Handle tab, escape, down arrow, and up arrow keys for `MenuButton`. See\n     * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      // Escape or Tab unpress the 'button'\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n        if (!keycode.isEventKey(event, 'Tab')) {\n          event.preventDefault(); // Set focus back to the menu button's button\n\n          this.menuButton_.focus();\n        } // Up Arrow or Down Arrow also 'press' the button to open the menu\n\n      } else if (keycode.isEventKey(event, 'Up') || keycode.isEventKey(event, 'Down')) {\n        if (!this.buttonPressed_) {\n          event.preventDefault();\n          this.pressButton();\n        }\n      }\n    }\n    /**\n     * This method name now delegates to `handleSubmenuKeyDown`. This means\n     * anyone calling `handleSubmenuKeyPress` will not see their method calls\n     * stop working.\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleSubmenuKeyPress = function handleSubmenuKeyPress(event) {\n      this.handleSubmenuKeyDown(event);\n    }\n    /**\n     * Handle a `keydown` event on a sub-menu. The listener for this is added in\n     * the constructor.\n     *\n     * @param {EventTarget~Event} event\n     *        Key press event\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleSubmenuKeyDown = function handleSubmenuKeyDown(event) {\n      // Escape or Tab unpress the 'button'\n      if (keycode.isEventKey(event, 'Esc') || keycode.isEventKey(event, 'Tab')) {\n        if (this.buttonPressed_) {\n          this.unpressButton();\n        } // Don't preventDefault for Tab key - we still want to lose focus\n\n\n        if (!keycode.isEventKey(event, 'Tab')) {\n          event.preventDefault(); // Set focus back to the menu button's button\n\n          this.menuButton_.focus();\n        }\n      }\n    }\n    /**\n     * Put the current `MenuButton` into a pressed state.\n     */\n    ;\n\n    _proto.pressButton = function pressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = true;\n        this.menu.show();\n        this.menu.lockShowing();\n        this.menuButton_.el_.setAttribute('aria-expanded', 'true'); // set the focus into the submenu, except on iOS where it is resulting in\n        // undesired scrolling behavior when the player is in an iframe\n\n        if (IS_IOS && isInFrame()) {\n          // Return early so that the menu isn't focused\n          return;\n        }\n\n        this.menu.focus();\n      }\n    }\n    /**\n     * Take the current `MenuButton` out of a pressed state.\n     */\n    ;\n\n    _proto.unpressButton = function unpressButton() {\n      if (this.enabled_) {\n        this.buttonPressed_ = false;\n        this.menu.unlockShowing();\n        this.menu.hide();\n        this.menuButton_.el_.setAttribute('aria-expanded', 'false');\n      }\n    }\n    /**\n     * Disable the `MenuButton`. Don't allow it to be clicked.\n     */\n    ;\n\n    _proto.disable = function disable() {\n      this.unpressButton();\n      this.enabled_ = false;\n      this.addClass('vjs-disabled');\n      this.menuButton_.disable();\n    }\n    /**\n     * Enable the `MenuButton`. Allow it to be clicked.\n     */\n    ;\n\n    _proto.enable = function enable() {\n      this.enabled_ = true;\n      this.removeClass('vjs-disabled');\n      this.menuButton_.enable();\n    };\n\n    return MenuButton;\n  }(Component);\n\n  Component.registerComponent('MenuButton', MenuButton);\n\n  /**\n   * The base class for buttons that toggle specific  track types (e.g. subtitles).\n   *\n   * @extends MenuButton\n   */\n\n  var TrackButton =\n  /*#__PURE__*/\n  function (_MenuButton) {\n    _inheritsLoose(TrackButton, _MenuButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TrackButton(player, options) {\n      var _this;\n\n      var tracks = options.tracks;\n      _this = _MenuButton.call(this, player, options) || this;\n\n      if (_this.items.length <= 1) {\n        _this.hide();\n      }\n\n      if (!tracks) {\n        return _assertThisInitialized(_this);\n      }\n\n      var updateHandler = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.update);\n      tracks.addEventListener('removetrack', updateHandler);\n      tracks.addEventListener('addtrack', updateHandler);\n\n      _this.player_.on('ready', updateHandler);\n\n      _this.player_.on('dispose', function () {\n        tracks.removeEventListener('removetrack', updateHandler);\n        tracks.removeEventListener('addtrack', updateHandler);\n      });\n\n      return _this;\n    }\n\n    return TrackButton;\n  }(MenuButton);\n\n  Component.registerComponent('TrackButton', TrackButton);\n\n  /**\n   * @file menu-keys.js\n   */\n\n  /**\n    * All keys used for operation of a menu (`MenuButton`, `Menu`, and `MenuItem`)\n    * Note that 'Enter' and 'Space' are not included here (otherwise they would\n    * prevent the `MenuButton` and `MenuItem` from being keyboard-clickable)\n    * @typedef MenuKeys\n    * @array\n    */\n  var MenuKeys = ['Tab', 'Esc', 'Up', 'Down', 'Right', 'Left'];\n\n  /**\n   * The component for a menu item. `<li>`\n   *\n   * @extends ClickableComponent\n   */\n\n  var MenuItem =\n  /*#__PURE__*/\n  function (_ClickableComponent) {\n    _inheritsLoose(MenuItem, _ClickableComponent);\n\n    /**\n     * Creates an instance of the this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     *\n     */\n    function MenuItem(player, options) {\n      var _this;\n\n      _this = _ClickableComponent.call(this, player, options) || this;\n      _this.selectable = options.selectable;\n      _this.isSelected_ = options.selected || false;\n      _this.multiSelectable = options.multiSelectable;\n\n      _this.selected(_this.isSelected_);\n\n      if (_this.selectable) {\n        if (_this.multiSelectable) {\n          _this.el_.setAttribute('role', 'menuitemcheckbox');\n        } else {\n          _this.el_.setAttribute('role', 'menuitemradio');\n        }\n      } else {\n        _this.el_.setAttribute('role', 'menuitem');\n      }\n\n      return _this;\n    }\n    /**\n     * Create the `MenuItem's DOM element\n     *\n     * @param {string} [type=li]\n     *        Element's node type, not actually used, always set to `li`.\n     *\n     * @param {Object} [props={}]\n     *        An object of properties that should be set on the element\n     *\n     * @param {Object} [attrs={}]\n     *        An object of attributes that should be set on the element\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n\n\n    var _proto = MenuItem.prototype;\n\n    _proto.createEl = function createEl(type, props, attrs) {\n      // The control is textual, not just an icon\n      this.nonIconControl = true;\n      return _ClickableComponent.prototype.createEl.call(this, 'li', assign({\n        className: 'vjs-menu-item',\n        innerHTML: \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label) + \"</span>\",\n        tabIndex: -1\n      }, props), attrs);\n    }\n    /**\n     * Ignore keys which are used by the menu, but pass any other ones up. See\n     * {@link ClickableComponent#handleKeyDown} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      if (!MenuKeys.some(function (key) {\n        return keycode.isEventKey(event, key);\n      })) {\n        // Pass keydown handling up for unused keys\n        _ClickableComponent.prototype.handleKeyDown.call(this, event);\n      }\n    }\n    /**\n     * Any click on a `MenuItem` puts it into the selected state.\n     * See {@link ClickableComponent#handleClick} for instances where this is called.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      this.selected(true);\n    }\n    /**\n     * Set the state for this menu item as selected or not.\n     *\n     * @param {boolean} selected\n     *        if the menu item is selected or not\n     */\n    ;\n\n    _proto.selected = function selected(_selected) {\n      if (this.selectable) {\n        if (_selected) {\n          this.addClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'true'); // aria-checked isn't fully supported by browsers/screen readers,\n          // so indicate selected state to screen reader in the control text.\n\n          this.controlText(', selected');\n          this.isSelected_ = true;\n        } else {\n          this.removeClass('vjs-selected');\n          this.el_.setAttribute('aria-checked', 'false'); // Indicate un-selected state to screen reader\n\n          this.controlText('');\n          this.isSelected_ = false;\n        }\n      }\n    };\n\n    return MenuItem;\n  }(ClickableComponent);\n\n  Component.registerComponent('MenuItem', MenuItem);\n\n  /**\n   * The specific menu item type for selecting a language within a text track kind\n   *\n   * @extends MenuItem\n   */\n\n  var TextTrackMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(TextTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function TextTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var tracks = player.textTracks(); // Modify options for parent MenuItem class's init.\n\n      options.label = track.label || track.language || 'Unknown';\n      options.selected = track.mode === 'showing';\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track; // Determine the relevant kind(s) of tracks for this component and filter\n      // out empty kinds.\n\n      _this.kinds = (options.kinds || [options.kind || _this.track.kind]).filter(Boolean);\n\n      var changeHandler = function changeHandler() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this.handleTracksChange.apply(_assertThisInitialized(_assertThisInitialized(_this)), args);\n      };\n\n      var selectedLanguageChangeHandler = function selectedLanguageChangeHandler() {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        _this.handleSelectedLanguageChange.apply(_assertThisInitialized(_assertThisInitialized(_this)), args);\n      };\n\n      player.on(['loadstart', 'texttrackchange'], changeHandler);\n      tracks.addEventListener('change', changeHandler);\n      tracks.addEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n\n      _this.on('dispose', function () {\n        player.off(['loadstart', 'texttrackchange'], changeHandler);\n        tracks.removeEventListener('change', changeHandler);\n        tracks.removeEventListener('selectedlanguagechange', selectedLanguageChangeHandler);\n      }); // iOS7 doesn't dispatch change events to TextTrackLists when an\n      // associated track's mode changes. Without something like\n      // Object.observe() (also not present on iOS7), it's not\n      // possible to detect changes to the mode attribute and polyfill\n      // the change event. As a poor substitute, we manually dispatch\n      // change events whenever the controls modify the mode.\n\n\n      if (tracks.onchange === undefined) {\n        var event;\n\n        _this.on(['tap', 'click'], function () {\n          if (typeof window$1.Event !== 'object') {\n            // Android 2.3 throws an Illegal Constructor error for window.Event\n            try {\n              event = new window$1.Event('change');\n            } catch (err) {// continue regardless of error\n            }\n          }\n\n          if (!event) {\n            event = document.createEvent('Event');\n            event.initEvent('change', true, true);\n          }\n\n          tracks.dispatchEvent(event);\n        });\n      } // set the default state based on current tracks\n\n\n      _this.handleTracksChange();\n\n      return _this;\n    }\n    /**\n     * This gets called when an `TextTrackMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = TextTrackMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      var referenceTrack = this.track;\n      var tracks = this.player_.textTracks();\n\n      _MenuItem.prototype.handleClick.call(this, event);\n\n      if (!tracks) {\n        return;\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // If the track from the text tracks list is not of the right kind,\n        // skip it. We do not want to affect tracks of incompatible kind(s).\n\n        if (this.kinds.indexOf(track.kind) === -1) {\n          continue;\n        } // If this text track is the component's track and it is not showing,\n        // set it to showing.\n\n\n        if (track === referenceTrack) {\n          if (track.mode !== 'showing') {\n            track.mode = 'showing';\n          } // If this text track is not the component's track and it is not\n          // disabled, set it to disabled.\n\n        } else if (track.mode !== 'disabled') {\n          track.mode = 'disabled';\n        }\n      }\n    }\n    /**\n     * Handle text track list change\n     *\n     * @param {EventTarget~Event} event\n     *        The `change` event that caused this function to be called.\n     *\n     * @listens TextTrackList#change\n     */\n    ;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var shouldBeSelected = this.track.mode === 'showing'; // Prevent redundant selected() calls because they may cause\n      // screen readers to read the appended control text unnecessarily\n\n      if (shouldBeSelected !== this.isSelected_) {\n        this.selected(shouldBeSelected);\n      }\n    };\n\n    _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n      if (this.track.mode === 'showing') {\n        var selectedLanguage = this.player_.cache_.selectedLanguage; // Don't replace the kind of track across the same language\n\n        if (selectedLanguage && selectedLanguage.enabled && selectedLanguage.language === this.track.language && selectedLanguage.kind !== this.track.kind) {\n          return;\n        }\n\n        this.player_.cache_.selectedLanguage = {\n          enabled: true,\n          language: this.track.language,\n          kind: this.track.kind\n        };\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      // remove reference to track object on dispose\n      this.track = null;\n\n      _MenuItem.prototype.dispose.call(this);\n    };\n\n    return TextTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('TextTrackMenuItem', TextTrackMenuItem);\n\n  /**\n   * A special menu item for turning of a specific type of text track\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var OffTextTrackMenuItem =\n  /*#__PURE__*/\n  function (_TextTrackMenuItem) {\n    _inheritsLoose(OffTextTrackMenuItem, _TextTrackMenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function OffTextTrackMenuItem(player, options) {\n      // Create pseudo track info\n      // Requires options['kind']\n      options.track = {\n        player: player,\n        // it is no longer necessary to store `kind` or `kinds` on the track itself\n        // since they are now stored in the `kinds` property of all instances of\n        // TextTrackMenuItem, but this will remain for backwards compatibility\n        kind: options.kind,\n        kinds: options.kinds,\n        default: false,\n        mode: 'disabled'\n      };\n\n      if (!options.kinds) {\n        options.kinds = [options.kind];\n      }\n\n      if (options.label) {\n        options.track.label = options.label;\n      } else {\n        options.track.label = options.kinds.join(' and ') + ' off';\n      } // MenuItem is selectable\n\n\n      options.selectable = true; // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n\n      options.multiSelectable = false;\n      return _TextTrackMenuItem.call(this, player, options) || this;\n    }\n    /**\n     * Handle text track change\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run\n     */\n\n\n    var _proto = OffTextTrackMenuItem.prototype;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var shouldBeSelected = true;\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (this.options_.kinds.indexOf(track.kind) > -1 && track.mode === 'showing') {\n          shouldBeSelected = false;\n          break;\n        }\n      } // Prevent redundant selected() calls because they may cause\n      // screen readers to read the appended control text unnecessarily\n\n\n      if (shouldBeSelected !== this.isSelected_) {\n        this.selected(shouldBeSelected);\n      }\n    };\n\n    _proto.handleSelectedLanguageChange = function handleSelectedLanguageChange(event) {\n      var tracks = this.player().textTracks();\n      var allHidden = true;\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (['captions', 'descriptions', 'subtitles'].indexOf(track.kind) > -1 && track.mode === 'showing') {\n          allHidden = false;\n          break;\n        }\n      }\n\n      if (allHidden) {\n        this.player_.cache_.selectedLanguage = {\n          enabled: false\n        };\n      }\n    };\n\n    return OffTextTrackMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('OffTextTrackMenuItem', OffTextTrackMenuItem);\n\n  /**\n   * The base class for buttons that toggle specific text track types (e.g. subtitles)\n   *\n   * @extends MenuButton\n   */\n\n  var TextTrackButton =\n  /*#__PURE__*/\n  function (_TrackButton) {\n    _inheritsLoose(TextTrackButton, _TrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function TextTrackButton(player, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.tracks = player.textTracks();\n      return _TrackButton.call(this, player, options) || this;\n    }\n    /**\n     * Create a menu item for each text track\n     *\n     * @param {TextTrackMenuItem[]} [items=[]]\n     *        Existing array of items to use during creation\n     *\n     * @return {TextTrackMenuItem[]}\n     *         Array of menu items that were created\n     */\n\n\n    var _proto = TextTrackButton.prototype;\n\n    _proto.createItems = function createItems(items, TrackMenuItem) {\n      if (items === void 0) {\n        items = [];\n      }\n\n      if (TrackMenuItem === void 0) {\n        TrackMenuItem = TextTrackMenuItem;\n      }\n\n      // Label is an override for the [track] off label\n      // USed to localise captions/subtitles\n      var label;\n\n      if (this.label_) {\n        label = this.label_ + \" off\";\n      } // Add an OFF menu item to turn all tracks off\n\n\n      items.push(new OffTextTrackMenuItem(this.player_, {\n        kinds: this.kinds_,\n        kind: this.kind_,\n        label: label\n      }));\n      this.hideThreshold_ += 1;\n      var tracks = this.player_.textTracks();\n\n      if (!Array.isArray(this.kinds_)) {\n        this.kinds_ = [this.kind_];\n      }\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // only add tracks that are of an appropriate kind and have a label\n\n        if (this.kinds_.indexOf(track.kind) > -1) {\n          var item = new TrackMenuItem(this.player_, {\n            track: track,\n            kinds: this.kinds_,\n            kind: this.kind_,\n            // MenuItem is selectable\n            selectable: true,\n            // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n            multiSelectable: false\n          });\n          item.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n          items.push(item);\n        }\n      }\n\n      return items;\n    };\n\n    return TextTrackButton;\n  }(TrackButton);\n\n  Component.registerComponent('TextTrackButton', TextTrackButton);\n\n  /**\n   * The chapter track menu item\n   *\n   * @extends MenuItem\n   */\n\n  var ChaptersTrackMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(ChaptersTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function ChaptersTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var cue = options.cue;\n      var currentTime = player.currentTime(); // Modify options for parent MenuItem class's init.\n\n      options.selectable = true;\n      options.multiSelectable = false;\n      options.label = cue.text;\n      options.selected = cue.startTime <= currentTime && currentTime < cue.endTime;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track;\n      _this.cue = cue;\n      track.addEventListener('cuechange', bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.update));\n      return _this;\n    }\n    /**\n     * This gets called when an `ChaptersTrackMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = ChaptersTrackMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      _MenuItem.prototype.handleClick.call(this);\n\n      this.player_.currentTime(this.cue.startTime);\n      this.update(this.cue.startTime);\n    }\n    /**\n     * Update chapter menu item\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `cuechange` event that caused this function to run.\n     *\n     * @listens TextTrack#cuechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      var cue = this.cue;\n      var currentTime = this.player_.currentTime(); // vjs.log(currentTime, cue.startTime);\n\n      this.selected(cue.startTime <= currentTime && currentTime < cue.endTime);\n    };\n\n    return ChaptersTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('ChaptersTrackMenuItem', ChaptersTrackMenuItem);\n\n  /**\n   * The button component for toggling and selecting chapters\n   * Chapters act much differently than other text tracks\n   * Cues are navigation vs. other tracks of alternative languages\n   *\n   * @extends TextTrackButton\n   */\n\n  var ChaptersButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(ChaptersButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this function is ready.\n     */\n    function ChaptersButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = ChaptersButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-chapters-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Update the menu based on the current state of its items.\n     *\n     * @param {EventTarget~Event} [event]\n     *        An event that triggered this function to run.\n     *\n     * @listens TextTrackList#addtrack\n     * @listens TextTrackList#removetrack\n     * @listens TextTrackList#change\n     */\n    ;\n\n    _proto.update = function update(event) {\n      if (!this.track_ || event && (event.type === 'addtrack' || event.type === 'removetrack')) {\n        this.setTrack(this.findChaptersTrack());\n      }\n\n      _TextTrackButton.prototype.update.call(this);\n    }\n    /**\n     * Set the currently selected track for the chapters button.\n     *\n     * @param {TextTrack} track\n     *        The new track to select. Nothing will change if this is the currently selected\n     *        track.\n     */\n    ;\n\n    _proto.setTrack = function setTrack(track) {\n      if (this.track_ === track) {\n        return;\n      }\n\n      if (!this.updateHandler_) {\n        this.updateHandler_ = this.update.bind(this);\n      } // here this.track_ refers to the old track instance\n\n\n      if (this.track_) {\n        var remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n        if (remoteTextTrackEl) {\n          remoteTextTrackEl.removeEventListener('load', this.updateHandler_);\n        }\n\n        this.track_ = null;\n      }\n\n      this.track_ = track; // here this.track_ refers to the new track instance\n\n      if (this.track_) {\n        this.track_.mode = 'hidden';\n\n        var _remoteTextTrackEl = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);\n\n        if (_remoteTextTrackEl) {\n          _remoteTextTrackEl.addEventListener('load', this.updateHandler_);\n        }\n      }\n    }\n    /**\n     * Find the track object that is currently in use by this ChaptersButton\n     *\n     * @return {TextTrack|undefined}\n     *         The current track or undefined if none was found.\n     */\n    ;\n\n    _proto.findChaptersTrack = function findChaptersTrack() {\n      var tracks = this.player_.textTracks() || [];\n\n      for (var i = tracks.length - 1; i >= 0; i--) {\n        // We will always choose the last track as our chaptersTrack\n        var track = tracks[i];\n\n        if (track.kind === this.kind_) {\n          return track;\n        }\n      }\n    }\n    /**\n     * Get the caption for the ChaptersButton based on the track label. This will also\n     * use the current tracks localized kind as a fallback if a label does not exist.\n     *\n     * @return {string}\n     *         The tracks current label or the localized track kind.\n     */\n    ;\n\n    _proto.getMenuCaption = function getMenuCaption() {\n      if (this.track_ && this.track_.label) {\n        return this.track_.label;\n      }\n\n      return this.localize(toTitleCase(this.kind_));\n    }\n    /**\n     * Create menu from chapter track\n     *\n     * @return {Menu}\n     *         New menu for the chapter buttons\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      this.options_.title = this.getMenuCaption();\n      return _TextTrackButton.prototype.createMenu.call(this);\n    }\n    /**\n     * Create a menu item for each text track\n     *\n     * @return {TextTrackMenuItem[]}\n     *         Array of menu items\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!this.track_) {\n        return items;\n      }\n\n      var cues = this.track_.cues;\n\n      if (!cues) {\n        return items;\n      }\n\n      for (var i = 0, l = cues.length; i < l; i++) {\n        var cue = cues[i];\n        var mi = new ChaptersTrackMenuItem(this.player_, {\n          track: this.track_,\n          cue: cue\n        });\n        items.push(mi);\n      }\n\n      return items;\n    };\n\n    return ChaptersButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  ChaptersButton.prototype.kind_ = 'chapters';\n  /**\n   * The text that should display over the `ChaptersButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  ChaptersButton.prototype.controlText_ = 'Chapters';\n  Component.registerComponent('ChaptersButton', ChaptersButton);\n\n  /**\n   * The button component for toggling and selecting descriptions\n   *\n   * @extends TextTrackButton\n   */\n\n  var DescriptionsButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(DescriptionsButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function DescriptionsButton(player, options, ready) {\n      var _this;\n\n      _this = _TextTrackButton.call(this, player, options, ready) || this;\n      var tracks = player.textTracks();\n      var changeHandler = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.handleTracksChange);\n      tracks.addEventListener('change', changeHandler);\n\n      _this.on('dispose', function () {\n        tracks.removeEventListener('change', changeHandler);\n      });\n\n      return _this;\n    }\n    /**\n     * Handle text track change\n     *\n     * @param {EventTarget~Event} event\n     *        The event that caused this function to run\n     *\n     * @listens TextTrackList#change\n     */\n\n\n    var _proto = DescriptionsButton.prototype;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      var tracks = this.player().textTracks();\n      var disabled = false; // Check whether a track of a different kind is showing\n\n      for (var i = 0, l = tracks.length; i < l; i++) {\n        var track = tracks[i];\n\n        if (track.kind !== this.kind_ && track.mode === 'showing') {\n          disabled = true;\n          break;\n        }\n      } // If another track is showing, disable this menu button\n\n\n      if (disabled) {\n        this.disable();\n      } else {\n        this.enable();\n      }\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-descriptions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    };\n\n    return DescriptionsButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  DescriptionsButton.prototype.kind_ = 'descriptions';\n  /**\n   * The text that should display over the `DescriptionsButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  DescriptionsButton.prototype.controlText_ = 'Descriptions';\n  Component.registerComponent('DescriptionsButton', DescriptionsButton);\n\n  /**\n   * The button component for toggling and selecting subtitles\n   *\n   * @extends TextTrackButton\n   */\n\n  var SubtitlesButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(SubtitlesButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function SubtitlesButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = SubtitlesButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-subtitles-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    };\n\n    return SubtitlesButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  SubtitlesButton.prototype.kind_ = 'subtitles';\n  /**\n   * The text that should display over the `SubtitlesButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  SubtitlesButton.prototype.controlText_ = 'Subtitles';\n  Component.registerComponent('SubtitlesButton', SubtitlesButton);\n\n  /**\n   * The menu item for caption track settings menu\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var CaptionSettingsMenuItem =\n  /*#__PURE__*/\n  function (_TextTrackMenuItem) {\n    _inheritsLoose(CaptionSettingsMenuItem, _TextTrackMenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function CaptionSettingsMenuItem(player, options) {\n      var _this;\n\n      options.track = {\n        player: player,\n        kind: options.kind,\n        label: options.kind + ' settings',\n        selectable: false,\n        default: false,\n        mode: 'disabled'\n      }; // CaptionSettingsMenuItem has no concept of 'selected'\n\n      options.selectable = false;\n      options.name = 'CaptionSettingsMenuItem';\n      _this = _TextTrackMenuItem.call(this, player, options) || this;\n\n      _this.addClass('vjs-texttrack-settings');\n\n      _this.controlText(', opens ' + options.kind + ' settings dialog');\n\n      return _this;\n    }\n    /**\n     * This gets called when an `CaptionSettingsMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = CaptionSettingsMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      this.player().getChild('textTrackSettings').open();\n    };\n\n    return CaptionSettingsMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('CaptionSettingsMenuItem', CaptionSettingsMenuItem);\n\n  /**\n   * The button component for toggling and selecting captions\n   *\n   * @extends TextTrackButton\n   */\n\n  var CaptionsButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(CaptionsButton, _TextTrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        The function to call when this component is ready.\n     */\n    function CaptionsButton(player, options, ready) {\n      return _TextTrackButton.call(this, player, options, ready) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = CaptionsButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-captions-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-captions-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create caption menu items\n     *\n     * @return {CaptionSettingsMenuItem[]}\n     *         The array of current menu items.\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n        items.push(new CaptionSettingsMenuItem(this.player_, {\n          kind: this.kind_\n        }));\n        this.hideThreshold_ += 1;\n      }\n\n      return _TextTrackButton.prototype.createItems.call(this, items);\n    };\n\n    return CaptionsButton;\n  }(TextTrackButton);\n  /**\n   * `kind` of TextTrack to look for to associate it with this menu.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  CaptionsButton.prototype.kind_ = 'captions';\n  /**\n   * The text that should display over the `CaptionsButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n  CaptionsButton.prototype.controlText_ = 'Captions';\n  Component.registerComponent('CaptionsButton', CaptionsButton);\n\n  /**\n   * SubsCapsMenuItem has an [cc] icon to distinguish captions from subtitles\n   * in the SubsCapsMenu.\n   *\n   * @extends TextTrackMenuItem\n   */\n\n  var SubsCapsMenuItem =\n  /*#__PURE__*/\n  function (_TextTrackMenuItem) {\n    _inheritsLoose(SubsCapsMenuItem, _TextTrackMenuItem);\n\n    function SubsCapsMenuItem() {\n      return _TextTrackMenuItem.apply(this, arguments) || this;\n    }\n\n    var _proto = SubsCapsMenuItem.prototype;\n\n    _proto.createEl = function createEl(type, props, attrs) {\n      var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n      if (this.options_.track.kind === 'captions') {\n        innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Captions') + \"</span>\\n      \";\n      }\n\n      innerHTML += '</span>';\n\n      var el = _TextTrackMenuItem.prototype.createEl.call(this, type, assign({\n        innerHTML: innerHTML\n      }, props), attrs);\n\n      return el;\n    };\n\n    return SubsCapsMenuItem;\n  }(TextTrackMenuItem);\n\n  Component.registerComponent('SubsCapsMenuItem', SubsCapsMenuItem);\n\n  /**\n   * The button component for toggling and selecting captions and/or subtitles\n   *\n   * @extends TextTrackButton\n   */\n\n  var SubsCapsButton =\n  /*#__PURE__*/\n  function (_TextTrackButton) {\n    _inheritsLoose(SubsCapsButton, _TextTrackButton);\n\n    function SubsCapsButton(player, options) {\n      var _this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      _this = _TextTrackButton.call(this, player, options) || this; // Although North America uses \"captions\" in most cases for\n      // \"captions and subtitles\" other locales use \"subtitles\"\n\n      _this.label_ = 'subtitles';\n\n      if (['en', 'en-us', 'en-ca', 'fr-ca'].indexOf(_this.player_.language_) > -1) {\n        _this.label_ = 'captions';\n      }\n\n      _this.menuButton_.controlText(toTitleCase(_this.label_));\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = SubsCapsButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-subs-caps-button \" + _TextTrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create caption/subtitles menu items\n     *\n     * @return {CaptionSettingsMenuItem[]}\n     *         The array of current menu items.\n     */\n    ;\n\n    _proto.createItems = function createItems() {\n      var items = [];\n\n      if (!(this.player().tech_ && this.player().tech_.featuresNativeTextTracks) && this.player().getChild('textTrackSettings')) {\n        items.push(new CaptionSettingsMenuItem(this.player_, {\n          kind: this.label_\n        }));\n        this.hideThreshold_ += 1;\n      }\n\n      items = _TextTrackButton.prototype.createItems.call(this, items, SubsCapsMenuItem);\n      return items;\n    };\n\n    return SubsCapsButton;\n  }(TextTrackButton);\n  /**\n   * `kind`s of TextTrack to look for to associate it with this menu.\n   *\n   * @type {array}\n   * @private\n   */\n\n\n  SubsCapsButton.prototype.kinds_ = ['captions', 'subtitles'];\n  /**\n   * The text that should display over the `SubsCapsButton`s controls.\n   *\n   *\n   * @type {string}\n   * @private\n   */\n\n  SubsCapsButton.prototype.controlText_ = 'Subtitles';\n  Component.registerComponent('SubsCapsButton', SubsCapsButton);\n\n  /**\n   * An {@link AudioTrack} {@link MenuItem}\n   *\n   * @extends MenuItem\n   */\n\n  var AudioTrackMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(AudioTrackMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function AudioTrackMenuItem(player, options) {\n      var _this;\n\n      var track = options.track;\n      var tracks = player.audioTracks(); // Modify options for parent MenuItem class's init.\n\n      options.label = track.label || track.language || 'Unknown';\n      options.selected = track.enabled;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.track = track;\n\n      _this.addClass(\"vjs-\" + track.kind + \"-menu-item\");\n\n      var changeHandler = function changeHandler() {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        _this.handleTracksChange.apply(_assertThisInitialized(_assertThisInitialized(_this)), args);\n      };\n\n      tracks.addEventListener('change', changeHandler);\n\n      _this.on('dispose', function () {\n        tracks.removeEventListener('change', changeHandler);\n      });\n\n      return _this;\n    }\n\n    var _proto = AudioTrackMenuItem.prototype;\n\n    _proto.createEl = function createEl(type, props, attrs) {\n      var innerHTML = \"<span class=\\\"vjs-menu-item-text\\\">\" + this.localize(this.options_.label);\n\n      if (this.options_.track.kind === 'main-desc') {\n        innerHTML += \"\\n        <span aria-hidden=\\\"true\\\" class=\\\"vjs-icon-placeholder\\\"></span>\\n        <span class=\\\"vjs-control-text\\\"> \" + this.localize('Descriptions') + \"</span>\\n      \";\n      }\n\n      innerHTML += '</span>';\n\n      var el = _MenuItem.prototype.createEl.call(this, type, assign({\n        innerHTML: innerHTML\n      }, props), attrs);\n\n      return el;\n    }\n    /**\n     * This gets called when an `AudioTrackMenuItem is \"clicked\". See {@link ClickableComponent}\n     * for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      var tracks = this.player_.audioTracks();\n\n      _MenuItem.prototype.handleClick.call(this, event);\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        track.enabled = track === this.track;\n      }\n    }\n    /**\n     * Handle any {@link AudioTrack} change.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The {@link AudioTrackList#change} event that caused this to run.\n     *\n     * @listens AudioTrackList#change\n     */\n    ;\n\n    _proto.handleTracksChange = function handleTracksChange(event) {\n      this.selected(this.track.enabled);\n    };\n\n    return AudioTrackMenuItem;\n  }(MenuItem);\n\n  Component.registerComponent('AudioTrackMenuItem', AudioTrackMenuItem);\n\n  /**\n   * The base class for buttons that toggle specific {@link AudioTrack} types.\n   *\n   * @extends TrackButton\n   */\n\n  var AudioTrackButton =\n  /*#__PURE__*/\n  function (_TrackButton) {\n    _inheritsLoose(AudioTrackButton, _TrackButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options={}]\n     *        The key/value store of player options.\n     */\n    function AudioTrackButton(player, options) {\n      if (options === void 0) {\n        options = {};\n      }\n\n      options.tracks = player.audioTracks();\n      return _TrackButton.call(this, player, options) || this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n\n\n    var _proto = AudioTrackButton.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-audio-button \" + _TrackButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-audio-button \" + _TrackButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create a menu item for each audio track\n     *\n     * @param {AudioTrackMenuItem[]} [items=[]]\n     *        An array of existing menu items to use.\n     *\n     * @return {AudioTrackMenuItem[]}\n     *         An array of menu items\n     */\n    ;\n\n    _proto.createItems = function createItems(items) {\n      if (items === void 0) {\n        items = [];\n      }\n\n      // if there's only one audio track, there no point in showing it\n      this.hideThreshold_ = 1;\n      var tracks = this.player_.audioTracks();\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i];\n        items.push(new AudioTrackMenuItem(this.player_, {\n          track: track,\n          // MenuItem is selectable\n          selectable: true,\n          // MenuItem is NOT multiSelectable (i.e. only one can be marked \"selected\" at a time)\n          multiSelectable: false\n        }));\n      }\n\n      return items;\n    };\n\n    return AudioTrackButton;\n  }(TrackButton);\n  /**\n   * The text that should display over the `AudioTrackButton`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  AudioTrackButton.prototype.controlText_ = 'Audio Track';\n  Component.registerComponent('AudioTrackButton', AudioTrackButton);\n\n  /**\n   * The specific menu item type for selecting a playback rate.\n   *\n   * @extends MenuItem\n   */\n\n  var PlaybackRateMenuItem =\n  /*#__PURE__*/\n  function (_MenuItem) {\n    _inheritsLoose(PlaybackRateMenuItem, _MenuItem);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlaybackRateMenuItem(player, options) {\n      var _this;\n\n      var label = options.rate;\n      var rate = parseFloat(label, 10); // Modify options for parent MenuItem class's init.\n\n      options.label = label;\n      options.selected = rate === 1;\n      options.selectable = true;\n      options.multiSelectable = false;\n      _this = _MenuItem.call(this, player, options) || this;\n      _this.label = label;\n      _this.rate = rate;\n\n      _this.on(player, 'ratechange', _this.update);\n\n      return _this;\n    }\n    /**\n     * This gets called when an `PlaybackRateMenuItem` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n\n\n    var _proto = PlaybackRateMenuItem.prototype;\n\n    _proto.handleClick = function handleClick(event) {\n      _MenuItem.prototype.handleClick.call(this);\n\n      this.player().playbackRate(this.rate);\n    }\n    /**\n     * Update the PlaybackRateMenuItem when the playbackrate changes.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `ratechange` event that caused this function to run.\n     *\n     * @listens Player#ratechange\n     */\n    ;\n\n    _proto.update = function update(event) {\n      this.selected(this.player().playbackRate() === this.rate);\n    };\n\n    return PlaybackRateMenuItem;\n  }(MenuItem);\n  /**\n   * The text that should display over the `PlaybackRateMenuItem`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlaybackRateMenuItem.prototype.contentElType = 'button';\n  Component.registerComponent('PlaybackRateMenuItem', PlaybackRateMenuItem);\n\n  /**\n   * The component for controlling the playback rate.\n   *\n   * @extends MenuButton\n   */\n\n  var PlaybackRateMenuButton =\n  /*#__PURE__*/\n  function (_MenuButton) {\n    _inheritsLoose(PlaybackRateMenuButton, _MenuButton);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of player options.\n     */\n    function PlaybackRateMenuButton(player, options) {\n      var _this;\n\n      _this = _MenuButton.call(this, player, options) || this;\n\n      _this.updateVisibility();\n\n      _this.updateLabel();\n\n      _this.on(player, 'loadstart', _this.updateVisibility);\n\n      _this.on(player, 'ratechange', _this.updateLabel);\n\n      return _this;\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n\n\n    var _proto = PlaybackRateMenuButton.prototype;\n\n    _proto.createEl = function createEl$$1() {\n      var el = _MenuButton.prototype.createEl.call(this);\n\n      this.labelEl_ = createEl('div', {\n        className: 'vjs-playback-rate-value',\n        innerHTML: '1x'\n      });\n      el.appendChild(this.labelEl_);\n      return el;\n    };\n\n    _proto.dispose = function dispose() {\n      this.labelEl_ = null;\n\n      _MenuButton.prototype.dispose.call(this);\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    ;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-playback-rate \" + _MenuButton.prototype.buildCSSClass.call(this);\n    };\n\n    _proto.buildWrapperCSSClass = function buildWrapperCSSClass() {\n      return \"vjs-playback-rate \" + _MenuButton.prototype.buildWrapperCSSClass.call(this);\n    }\n    /**\n     * Create the playback rate menu\n     *\n     * @return {Menu}\n     *         Menu object populated with {@link PlaybackRateMenuItem}s\n     */\n    ;\n\n    _proto.createMenu = function createMenu() {\n      var menu = new Menu(this.player());\n      var rates = this.playbackRates();\n\n      if (rates) {\n        for (var i = rates.length - 1; i >= 0; i--) {\n          menu.addChild(new PlaybackRateMenuItem(this.player(), {\n            rate: rates[i] + 'x'\n          }));\n        }\n      }\n\n      return menu;\n    }\n    /**\n     * Updates ARIA accessibility attributes\n     */\n    ;\n\n    _proto.updateARIAAttributes = function updateARIAAttributes() {\n      // Current playback rate\n      this.el().setAttribute('aria-valuenow', this.player().playbackRate());\n    }\n    /**\n     * This gets called when an `PlaybackRateMenuButton` is \"clicked\". See\n     * {@link ClickableComponent} for more detailed information on what a click can be.\n     *\n     * @param {EventTarget~Event} [event]\n     *        The `keydown`, `tap`, or `click` event that caused this function to be\n     *        called.\n     *\n     * @listens tap\n     * @listens click\n     */\n    ;\n\n    _proto.handleClick = function handleClick(event) {\n      // select next rate option\n      var currentRate = this.player().playbackRate();\n      var rates = this.playbackRates(); // this will select first one if the last one currently selected\n\n      var newRate = rates[0];\n\n      for (var i = 0; i < rates.length; i++) {\n        if (rates[i] > currentRate) {\n          newRate = rates[i];\n          break;\n        }\n      }\n\n      this.player().playbackRate(newRate);\n    }\n    /**\n     * Get possible playback rates\n     *\n     * @return {Array}\n     *         All possible playback rates\n     */\n    ;\n\n    _proto.playbackRates = function playbackRates() {\n      return this.options_.playbackRates || this.options_.playerOptions && this.options_.playerOptions.playbackRates;\n    }\n    /**\n     * Get whether playback rates is supported by the tech\n     * and an array of playback rates exists\n     *\n     * @return {boolean}\n     *         Whether changing playback rate is supported\n     */\n    ;\n\n    _proto.playbackRateSupported = function playbackRateSupported() {\n      return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0;\n    }\n    /**\n     * Hide playback rate controls when they're no playback rate options to select\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#loadstart\n     */\n    ;\n\n    _proto.updateVisibility = function updateVisibility(event) {\n      if (this.playbackRateSupported()) {\n        this.removeClass('vjs-hidden');\n      } else {\n        this.addClass('vjs-hidden');\n      }\n    }\n    /**\n     * Update button label when rate changed\n     *\n     * @param {EventTarget~Event} [event]\n     *        The event that caused this function to run.\n     *\n     * @listens Player#ratechange\n     */\n    ;\n\n    _proto.updateLabel = function updateLabel(event) {\n      if (this.playbackRateSupported()) {\n        this.labelEl_.innerHTML = this.player().playbackRate() + 'x';\n      }\n    };\n\n    return PlaybackRateMenuButton;\n  }(MenuButton);\n  /**\n   * The text that should display over the `FullscreenToggle`s controls. Added for localization.\n   *\n   * @type {string}\n   * @private\n   */\n\n\n  PlaybackRateMenuButton.prototype.controlText_ = 'Playback Rate';\n  Component.registerComponent('PlaybackRateMenuButton', PlaybackRateMenuButton);\n\n  /**\n   * Just an empty spacer element that can be used as an append point for plugins, etc.\n   * Also can be used to create space between elements when necessary.\n   *\n   * @extends Component\n   */\n\n  var Spacer =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Spacer, _Component);\n\n    function Spacer() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = Spacer.prototype;\n\n    /**\n    * Builds the default DOM `className`.\n    *\n    * @return {string}\n    *         The DOM `className` for this object.\n    */\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-spacer \" + _Component.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: this.buildCSSClass()\n      });\n    };\n\n    return Spacer;\n  }(Component);\n\n  Component.registerComponent('Spacer', Spacer);\n\n  /**\n   * Spacer specifically meant to be used as an insertion point for new plugins, etc.\n   *\n   * @extends Spacer\n   */\n\n  var CustomControlSpacer =\n  /*#__PURE__*/\n  function (_Spacer) {\n    _inheritsLoose(CustomControlSpacer, _Spacer);\n\n    function CustomControlSpacer() {\n      return _Spacer.apply(this, arguments) || this;\n    }\n\n    var _proto = CustomControlSpacer.prototype;\n\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     */\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-custom-control-spacer \" + _Spacer.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    ;\n\n    _proto.createEl = function createEl() {\n      var el = _Spacer.prototype.createEl.call(this, {\n        className: this.buildCSSClass()\n      }); // No-flex/table-cell mode requires there be some content\n      // in the cell to fill the remaining space of the table.\n\n\n      el.innerHTML = \"\\xA0\";\n      return el;\n    };\n\n    return CustomControlSpacer;\n  }(Spacer);\n\n  Component.registerComponent('CustomControlSpacer', CustomControlSpacer);\n\n  /**\n   * Container of main controls.\n   *\n   * @extends Component\n   */\n\n  var ControlBar =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ControlBar, _Component);\n\n    function ControlBar() {\n      return _Component.apply(this, arguments) || this;\n    }\n\n    var _proto = ControlBar.prototype;\n\n    /**\n     * Create the `Component`'s DOM element\n     *\n     * @return {Element}\n     *         The element that was created.\n     */\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'div', {\n        className: 'vjs-control-bar',\n        dir: 'ltr'\n      });\n    };\n\n    return ControlBar;\n  }(Component);\n  /**\n   * Default options for `ControlBar`\n   *\n   * @type {Object}\n   * @private\n   */\n\n\n  ControlBar.prototype.options_ = {\n    children: ['playToggle', 'volumePanel', 'currentTimeDisplay', 'timeDivider', 'durationDisplay', 'progressControl', 'liveDisplay', 'seekToLive', 'remainingTimeDisplay', 'customControlSpacer', 'playbackRateMenuButton', 'chaptersButton', 'descriptionsButton', 'subsCapsButton', 'audioTrackButton', 'fullscreenToggle']\n  };\n  Component.registerComponent('ControlBar', ControlBar);\n\n  /**\n   * A display that indicates an error has occurred. This means that the video\n   * is unplayable.\n   *\n   * @extends ModalDialog\n   */\n\n  var ErrorDisplay =\n  /*#__PURE__*/\n  function (_ModalDialog) {\n    _inheritsLoose(ErrorDisplay, _ModalDialog);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param  {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param  {Object} [options]\n     *         The key/value store of player options.\n     */\n    function ErrorDisplay(player, options) {\n      var _this;\n\n      _this = _ModalDialog.call(this, player, options) || this;\n\n      _this.on(player, 'error', _this.open);\n\n      return _this;\n    }\n    /**\n     * Builds the default DOM `className`.\n     *\n     * @return {string}\n     *         The DOM `className` for this object.\n     *\n     * @deprecated Since version 5.\n     */\n\n\n    var _proto = ErrorDisplay.prototype;\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return \"vjs-error-display \" + _ModalDialog.prototype.buildCSSClass.call(this);\n    }\n    /**\n     * Gets the localized error message based on the `Player`s error.\n     *\n     * @return {string}\n     *         The `Player`s error message localized or an empty string.\n     */\n    ;\n\n    _proto.content = function content() {\n      var error = this.player().error();\n      return error ? this.localize(error.message) : '';\n    };\n\n    return ErrorDisplay;\n  }(ModalDialog);\n  /**\n   * The default options for an `ErrorDisplay`.\n   *\n   * @private\n   */\n\n\n  ErrorDisplay.prototype.options_ = mergeOptions(ModalDialog.prototype.options_, {\n    pauseOnOpen: false,\n    fillAlways: true,\n    temporary: false,\n    uncloseable: true\n  });\n  Component.registerComponent('ErrorDisplay', ErrorDisplay);\n\n  var LOCAL_STORAGE_KEY = 'vjs-text-track-settings';\n  var COLOR_BLACK = ['#000', 'Black'];\n  var COLOR_BLUE = ['#00F', 'Blue'];\n  var COLOR_CYAN = ['#0FF', 'Cyan'];\n  var COLOR_GREEN = ['#0F0', 'Green'];\n  var COLOR_MAGENTA = ['#F0F', 'Magenta'];\n  var COLOR_RED = ['#F00', 'Red'];\n  var COLOR_WHITE = ['#FFF', 'White'];\n  var COLOR_YELLOW = ['#FF0', 'Yellow'];\n  var OPACITY_OPAQUE = ['1', 'Opaque'];\n  var OPACITY_SEMI = ['0.5', 'Semi-Transparent'];\n  var OPACITY_TRANS = ['0', 'Transparent']; // Configuration for the various <select> elements in the DOM of this component.\n  //\n  // Possible keys include:\n  //\n  // `default`:\n  //   The default option index. Only needs to be provided if not zero.\n  // `parser`:\n  //   A function which is used to parse the value from the selected option in\n  //   a customized way.\n  // `selector`:\n  //   The selector used to find the associated <select> element.\n\n  var selectConfigs = {\n    backgroundColor: {\n      selector: '.vjs-bg-color > select',\n      id: 'captions-background-color-%s',\n      label: 'Color',\n      options: [COLOR_BLACK, COLOR_WHITE, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n    },\n    backgroundOpacity: {\n      selector: '.vjs-bg-opacity > select',\n      id: 'captions-background-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_OPAQUE, OPACITY_SEMI, OPACITY_TRANS]\n    },\n    color: {\n      selector: '.vjs-fg-color > select',\n      id: 'captions-foreground-color-%s',\n      label: 'Color',\n      options: [COLOR_WHITE, COLOR_BLACK, COLOR_RED, COLOR_GREEN, COLOR_BLUE, COLOR_YELLOW, COLOR_MAGENTA, COLOR_CYAN]\n    },\n    edgeStyle: {\n      selector: '.vjs-edge-style > select',\n      id: '%s',\n      label: 'Text Edge Style',\n      options: [['none', 'None'], ['raised', 'Raised'], ['depressed', 'Depressed'], ['uniform', 'Uniform'], ['dropshadow', 'Dropshadow']]\n    },\n    fontFamily: {\n      selector: '.vjs-font-family > select',\n      id: 'captions-font-family-%s',\n      label: 'Font Family',\n      options: [['proportionalSansSerif', 'Proportional Sans-Serif'], ['monospaceSansSerif', 'Monospace Sans-Serif'], ['proportionalSerif', 'Proportional Serif'], ['monospaceSerif', 'Monospace Serif'], ['casual', 'Casual'], ['script', 'Script'], ['small-caps', 'Small Caps']]\n    },\n    fontPercent: {\n      selector: '.vjs-font-percent > select',\n      id: 'captions-font-size-%s',\n      label: 'Font Size',\n      options: [['0.50', '50%'], ['0.75', '75%'], ['1.00', '100%'], ['1.25', '125%'], ['1.50', '150%'], ['1.75', '175%'], ['2.00', '200%'], ['3.00', '300%'], ['4.00', '400%']],\n      default: 2,\n      parser: function parser(v) {\n        return v === '1.00' ? null : Number(v);\n      }\n    },\n    textOpacity: {\n      selector: '.vjs-text-opacity > select',\n      id: 'captions-foreground-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_OPAQUE, OPACITY_SEMI]\n    },\n    // Options for this object are defined below.\n    windowColor: {\n      selector: '.vjs-window-color > select',\n      id: 'captions-window-color-%s',\n      label: 'Color'\n    },\n    // Options for this object are defined below.\n    windowOpacity: {\n      selector: '.vjs-window-opacity > select',\n      id: 'captions-window-opacity-%s',\n      label: 'Transparency',\n      options: [OPACITY_TRANS, OPACITY_SEMI, OPACITY_OPAQUE]\n    }\n  };\n  selectConfigs.windowColor.options = selectConfigs.backgroundColor.options;\n  /**\n   * Get the actual value of an option.\n   *\n   * @param  {string} value\n   *         The value to get\n   *\n   * @param  {Function} [parser]\n   *         Optional function to adjust the value.\n   *\n   * @return {Mixed}\n   *         - Will be `undefined` if no value exists\n   *         - Will be `undefined` if the given value is \"none\".\n   *         - Will be the actual value otherwise.\n   *\n   * @private\n   */\n\n  function parseOptionValue(value, parser) {\n    if (parser) {\n      value = parser(value);\n    }\n\n    if (value && value !== 'none') {\n      return value;\n    }\n  }\n  /**\n   * Gets the value of the selected <option> element within a <select> element.\n   *\n   * @param  {Element} el\n   *         the element to look in\n   *\n   * @param  {Function} [parser]\n   *         Optional function to adjust the value.\n   *\n   * @return {Mixed}\n   *         - Will be `undefined` if no value exists\n   *         - Will be `undefined` if the given value is \"none\".\n   *         - Will be the actual value otherwise.\n   *\n   * @private\n   */\n\n\n  function getSelectedOptionValue(el, parser) {\n    var value = el.options[el.options.selectedIndex].value;\n    return parseOptionValue(value, parser);\n  }\n  /**\n   * Sets the selected <option> element within a <select> element based on a\n   * given value.\n   *\n   * @param {Element} el\n   *        The element to look in.\n   *\n   * @param {string} value\n   *        the property to look on.\n   *\n   * @param {Function} [parser]\n   *        Optional function to adjust the value before comparing.\n   *\n   * @private\n   */\n\n\n  function setSelectedOption(el, value, parser) {\n    if (!value) {\n      return;\n    }\n\n    for (var i = 0; i < el.options.length; i++) {\n      if (parseOptionValue(el.options[i].value, parser) === value) {\n        el.selectedIndex = i;\n        break;\n      }\n    }\n  }\n  /**\n   * Manipulate Text Tracks settings.\n   *\n   * @extends ModalDialog\n   */\n\n\n  var TextTrackSettings =\n  /*#__PURE__*/\n  function (_ModalDialog) {\n    _inheritsLoose(TextTrackSettings, _ModalDialog);\n\n    /**\n     * Creates an instance of this class.\n     *\n     * @param {Player} player\n     *         The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *         The key/value store of player options.\n     */\n    function TextTrackSettings(player, options) {\n      var _this;\n\n      options.temporary = false;\n      _this = _ModalDialog.call(this, player, options) || this;\n      _this.updateDisplay = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.updateDisplay); // fill the modal and pretend we have opened it\n\n      _this.fill();\n\n      _this.hasBeenOpened_ = _this.hasBeenFilled_ = true;\n      _this.endDialog = createEl('p', {\n        className: 'vjs-control-text',\n        textContent: _this.localize('End of dialog window.')\n      });\n\n      _this.el().appendChild(_this.endDialog);\n\n      _this.setDefaults(); // Grab `persistTextTrackSettings` from the player options if not passed in child options\n\n\n      if (options.persistTextTrackSettings === undefined) {\n        _this.options_.persistTextTrackSettings = _this.options_.playerOptions.persistTextTrackSettings;\n      }\n\n      _this.on(_this.$('.vjs-done-button'), 'click', function () {\n        _this.saveSettings();\n\n        _this.close();\n      });\n\n      _this.on(_this.$('.vjs-default-button'), 'click', function () {\n        _this.setDefaults();\n\n        _this.updateDisplay();\n      });\n\n      each(selectConfigs, function (config) {\n        _this.on(_this.$(config.selector), 'change', _this.updateDisplay);\n      });\n\n      if (_this.options_.persistTextTrackSettings) {\n        _this.restoreSettings();\n      }\n\n      return _this;\n    }\n\n    var _proto = TextTrackSettings.prototype;\n\n    _proto.dispose = function dispose() {\n      this.endDialog = null;\n\n      _ModalDialog.prototype.dispose.call(this);\n    }\n    /**\n     * Create a <select> element with configured options.\n     *\n     * @param {string} key\n     *        Configuration key to use during creation.\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElSelect_ = function createElSelect_(key, legendId, type) {\n      var _this2 = this;\n\n      if (legendId === void 0) {\n        legendId = '';\n      }\n\n      if (type === void 0) {\n        type = 'label';\n      }\n\n      var config = selectConfigs[key];\n      var id = config.id.replace('%s', this.id_);\n      var selectLabelledbyIds = [legendId, id].join(' ').trim();\n      return [\"<\" + type + \" id=\\\"\" + id + \"\\\" class=\\\"\" + (type === 'label' ? 'vjs-label' : '') + \"\\\">\", this.localize(config.label), \"</\" + type + \">\", \"<select aria-labelledby=\\\"\" + selectLabelledbyIds + \"\\\">\"].concat(config.options.map(function (o) {\n        var optionId = id + '-' + o[1].replace(/\\W+/g, '');\n        return [\"<option id=\\\"\" + optionId + \"\\\" value=\\\"\" + o[0] + \"\\\" \", \"aria-labelledby=\\\"\" + selectLabelledbyIds + \" \" + optionId + \"\\\">\", _this2.localize(o[1]), '</option>'].join('');\n      })).concat('</select>').join('');\n    }\n    /**\n     * Create foreground color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElFgColor_ = function createElFgColor_() {\n      var legendId = \"captions-text-legend-\" + this.id_;\n      return ['<fieldset class=\"vjs-fg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Text'), '</legend>', this.createElSelect_('color', legendId), '<span class=\"vjs-text-opacity vjs-opacity\">', this.createElSelect_('textOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create background color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElBgColor_ = function createElBgColor_() {\n      var legendId = \"captions-background-\" + this.id_;\n      return ['<fieldset class=\"vjs-bg-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Background'), '</legend>', this.createElSelect_('backgroundColor', legendId), '<span class=\"vjs-bg-opacity vjs-opacity\">', this.createElSelect_('backgroundOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create window color element for the component\n     *\n     * @return {string}\n     *         An HTML string.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElWinColor_ = function createElWinColor_() {\n      var legendId = \"captions-window-\" + this.id_;\n      return ['<fieldset class=\"vjs-window-color vjs-track-setting\">', \"<legend id=\\\"\" + legendId + \"\\\">\", this.localize('Window'), '</legend>', this.createElSelect_('windowColor', legendId), '<span class=\"vjs-window-opacity vjs-opacity\">', this.createElSelect_('windowOpacity', legendId), '</span>', '</fieldset>'].join('');\n    }\n    /**\n     * Create color elements for the component\n     *\n     * @return {Element}\n     *         The element that was created\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElColors_ = function createElColors_() {\n      return createEl('div', {\n        className: 'vjs-track-settings-colors',\n        innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join('')\n      });\n    }\n    /**\n     * Create font elements for the component\n     *\n     * @return {Element}\n     *         The element that was created.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElFont_ = function createElFont_() {\n      return createEl('div', {\n        className: 'vjs-track-settings-font',\n        innerHTML: ['<fieldset class=\"vjs-font-percent vjs-track-setting\">', this.createElSelect_('fontPercent', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-edge-style vjs-track-setting\">', this.createElSelect_('edgeStyle', '', 'legend'), '</fieldset>', '<fieldset class=\"vjs-font-family vjs-track-setting\">', this.createElSelect_('fontFamily', '', 'legend'), '</fieldset>'].join('')\n      });\n    }\n    /**\n     * Create controls for the component\n     *\n     * @return {Element}\n     *         The element that was created.\n     *\n     * @private\n     */\n    ;\n\n    _proto.createElControls_ = function createElControls_() {\n      var defaultsDescription = this.localize('restore all settings to the default values');\n      return createEl('div', {\n        className: 'vjs-track-settings-controls',\n        innerHTML: [\"<button type=\\\"button\\\" class=\\\"vjs-default-button\\\" title=\\\"\" + defaultsDescription + \"\\\">\", this.localize('Reset'), \"<span class=\\\"vjs-control-text\\\"> \" + defaultsDescription + \"</span>\", '</button>', \"<button type=\\\"button\\\" class=\\\"vjs-done-button\\\">\" + this.localize('Done') + \"</button>\"].join('')\n      });\n    };\n\n    _proto.content = function content() {\n      return [this.createElColors_(), this.createElFont_(), this.createElControls_()];\n    };\n\n    _proto.label = function label() {\n      return this.localize('Caption Settings Dialog');\n    };\n\n    _proto.description = function description() {\n      return this.localize('Beginning of dialog window. Escape will cancel and close the window.');\n    };\n\n    _proto.buildCSSClass = function buildCSSClass() {\n      return _ModalDialog.prototype.buildCSSClass.call(this) + ' vjs-text-track-settings';\n    }\n    /**\n     * Gets an object of text track settings (or null).\n     *\n     * @return {Object}\n     *         An object with config values parsed from the DOM or localStorage.\n     */\n    ;\n\n    _proto.getValues = function getValues() {\n      var _this3 = this;\n\n      return reduce(selectConfigs, function (accum, config, key) {\n        var value = getSelectedOptionValue(_this3.$(config.selector), config.parser);\n\n        if (value !== undefined) {\n          accum[key] = value;\n        }\n\n        return accum;\n      }, {});\n    }\n    /**\n     * Sets text track settings from an object of values.\n     *\n     * @param {Object} values\n     *        An object with config values parsed from the DOM or localStorage.\n     */\n    ;\n\n    _proto.setValues = function setValues(values) {\n      var _this4 = this;\n\n      each(selectConfigs, function (config, key) {\n        setSelectedOption(_this4.$(config.selector), values[key], config.parser);\n      });\n    }\n    /**\n     * Sets all `<select>` elements to their default values.\n     */\n    ;\n\n    _proto.setDefaults = function setDefaults() {\n      var _this5 = this;\n\n      each(selectConfigs, function (config) {\n        var index = config.hasOwnProperty('default') ? config.default : 0;\n        _this5.$(config.selector).selectedIndex = index;\n      });\n    }\n    /**\n     * Restore texttrack settings from localStorage\n     */\n    ;\n\n    _proto.restoreSettings = function restoreSettings() {\n      var values;\n\n      try {\n        values = JSON.parse(window$1.localStorage.getItem(LOCAL_STORAGE_KEY));\n      } catch (err) {\n        log.warn(err);\n      }\n\n      if (values) {\n        this.setValues(values);\n      }\n    }\n    /**\n     * Save text track settings to localStorage\n     */\n    ;\n\n    _proto.saveSettings = function saveSettings() {\n      if (!this.options_.persistTextTrackSettings) {\n        return;\n      }\n\n      var values = this.getValues();\n\n      try {\n        if (Object.keys(values).length) {\n          window$1.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(values));\n        } else {\n          window$1.localStorage.removeItem(LOCAL_STORAGE_KEY);\n        }\n      } catch (err) {\n        log.warn(err);\n      }\n    }\n    /**\n     * Update display of text track settings\n     */\n    ;\n\n    _proto.updateDisplay = function updateDisplay() {\n      var ttDisplay = this.player_.getChild('textTrackDisplay');\n\n      if (ttDisplay) {\n        ttDisplay.updateDisplay();\n      }\n    }\n    /**\n     * conditionally blur the element and refocus the captions button\n     *\n     * @private\n     */\n    ;\n\n    _proto.conditionalBlur_ = function conditionalBlur_() {\n      this.previouslyActiveEl_ = null;\n      var cb = this.player_.controlBar;\n      var subsCapsBtn = cb && cb.subsCapsButton;\n      var ccBtn = cb && cb.captionsButton;\n\n      if (subsCapsBtn) {\n        subsCapsBtn.focus();\n      } else if (ccBtn) {\n        ccBtn.focus();\n      }\n    };\n\n    return TextTrackSettings;\n  }(ModalDialog);\n\n  Component.registerComponent('TextTrackSettings', TextTrackSettings);\n\n  /**\n   * A Resize Manager. It is in charge of triggering `playerresize` on the player in the right conditions.\n   *\n   * It'll either create an iframe and use a debounced resize handler on it or use the new {@link https://wicg.github.io/ResizeObserver/|ResizeObserver}.\n   *\n   * If the ResizeObserver is available natively, it will be used. A polyfill can be passed in as an option.\n   * If a `playerresize` event is not needed, the ResizeManager component can be removed from the player, see the example below.\n   * @example <caption>How to disable the resize manager</caption>\n   * const player = videojs('#vid', {\n   *   resizeManager: false\n   * });\n   *\n   * @see {@link https://wicg.github.io/ResizeObserver/|ResizeObserver specification}\n   *\n   * @extends Component\n   */\n\n  var ResizeManager =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(ResizeManager, _Component);\n\n    /**\n     * Create the ResizeManager.\n     *\n     * @param {Object} player\n     *        The `Player` that this class should be attached to.\n     *\n     * @param {Object} [options]\n     *        The key/value store of ResizeManager options.\n     *\n     * @param {Object} [options.ResizeObserver]\n     *        A polyfill for ResizeObserver can be passed in here.\n     *        If this is set to null it will ignore the native ResizeObserver and fall back to the iframe fallback.\n     */\n    function ResizeManager(player, options) {\n      var _this;\n\n      var RESIZE_OBSERVER_AVAILABLE = options.ResizeObserver || window$1.ResizeObserver; // if `null` was passed, we want to disable the ResizeObserver\n\n      if (options.ResizeObserver === null) {\n        RESIZE_OBSERVER_AVAILABLE = false;\n      } // Only create an element when ResizeObserver isn't available\n\n\n      var options_ = mergeOptions({\n        createEl: !RESIZE_OBSERVER_AVAILABLE,\n        reportTouchActivity: false\n      }, options);\n      _this = _Component.call(this, player, options_) || this;\n      _this.ResizeObserver = options.ResizeObserver || window$1.ResizeObserver;\n      _this.loadListener_ = null;\n      _this.resizeObserver_ = null;\n      _this.debouncedHandler_ = debounce(function () {\n        _this.resizeHandler();\n      }, 100, false, _assertThisInitialized(_assertThisInitialized(_this)));\n\n      if (RESIZE_OBSERVER_AVAILABLE) {\n        _this.resizeObserver_ = new _this.ResizeObserver(_this.debouncedHandler_);\n\n        _this.resizeObserver_.observe(player.el());\n      } else {\n        _this.loadListener_ = function () {\n          if (!_this.el_ || !_this.el_.contentWindow) {\n            return;\n          }\n\n          var debouncedHandler_ = _this.debouncedHandler_;\n\n          var unloadListener_ = _this.unloadListener_ = function () {\n            off(this, 'resize', debouncedHandler_);\n            off(this, 'unload', unloadListener_);\n            unloadListener_ = null;\n          }; // safari and edge can unload the iframe before resizemanager dispose\n          // we have to dispose of event handlers correctly before that happens\n\n\n          on(_this.el_.contentWindow, 'unload', unloadListener_);\n          on(_this.el_.contentWindow, 'resize', debouncedHandler_);\n        };\n\n        _this.one('load', _this.loadListener_);\n      }\n\n      return _this;\n    }\n\n    var _proto = ResizeManager.prototype;\n\n    _proto.createEl = function createEl() {\n      return _Component.prototype.createEl.call(this, 'iframe', {\n        className: 'vjs-resize-manager',\n        tabIndex: -1\n      }, {\n        'aria-hidden': 'true'\n      });\n    }\n    /**\n     * Called when a resize is triggered on the iframe or a resize is observed via the ResizeObserver\n     *\n     * @fires Player#playerresize\n     */\n    ;\n\n    _proto.resizeHandler = function resizeHandler() {\n      /**\n       * Called when the player size has changed\n       *\n       * @event Player#playerresize\n       * @type {EventTarget~Event}\n       */\n      // make sure player is still around to trigger\n      // prevents this from causing an error after dispose\n      if (!this.player_ || !this.player_.trigger) {\n        return;\n      }\n\n      this.player_.trigger('playerresize');\n    };\n\n    _proto.dispose = function dispose() {\n      if (this.debouncedHandler_) {\n        this.debouncedHandler_.cancel();\n      }\n\n      if (this.resizeObserver_) {\n        if (this.player_.el()) {\n          this.resizeObserver_.unobserve(this.player_.el());\n        }\n\n        this.resizeObserver_.disconnect();\n      }\n\n      if (this.loadListener_) {\n        this.off('load', this.loadListener_);\n      }\n\n      if (this.el_ && this.el_.contentWindow && this.unloadListener_) {\n        this.unloadListener_.call(this.el_.contentWindow);\n      }\n\n      this.ResizeObserver = null;\n      this.resizeObserver = null;\n      this.debouncedHandler_ = null;\n      this.loadListener_ = null;\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    return ResizeManager;\n  }(Component);\n\n  Component.registerComponent('ResizeManager', ResizeManager);\n\n  /* track when we are at the live edge, and other helpers for live playback */\n\n  var LiveTracker =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(LiveTracker, _Component);\n\n    function LiveTracker(player, options) {\n      var _this;\n\n      // LiveTracker does not need an element\n      var options_ = mergeOptions({\n        createEl: false\n      }, options);\n      _this = _Component.call(this, player, options_) || this;\n\n      _this.reset_();\n\n      _this.on(_this.player_, 'durationchange', _this.handleDurationchange); // we don't need to track live playback if the document is hidden,\n      // also, tracking when the document is hidden can\n      // cause the CPU to spike and eventually crash the page on IE11.\n\n\n      if (IE_VERSION && 'hidden' in document && 'visibilityState' in document) {\n        _this.on(document, 'visibilitychange', _this.handleVisibilityChange);\n      }\n\n      return _this;\n    }\n\n    var _proto = LiveTracker.prototype;\n\n    _proto.handleVisibilityChange = function handleVisibilityChange() {\n      if (this.player_.duration() !== Infinity) {\n        return;\n      }\n\n      if (document.hidden) {\n        this.stopTracking();\n      } else {\n        this.startTracking();\n      }\n    };\n\n    _proto.isBehind_ = function isBehind_() {\n      // don't report that we are behind until a timeupdate has been seen\n      if (!this.timeupdateSeen_) {\n        return false;\n      }\n\n      var liveCurrentTime = this.liveCurrentTime();\n      var currentTime = this.player_.currentTime();\n      var seekableIncrement = this.seekableIncrement_; // the live edge window is the amount of seconds away from live\n      // that a player can be, but still be considered live.\n      // we add 0.07 because the live tracking happens every 30ms\n      // and we want some wiggle room for short segment live playback\n\n      var liveEdgeWindow = seekableIncrement * 2 + 0.07; // on Android liveCurrentTime can bee Infinity, because seekableEnd\n      // can be Infinity, so we handle that case.\n\n      return liveCurrentTime !== Infinity && liveCurrentTime - liveEdgeWindow >= currentTime;\n    } // all the functionality for tracking when seek end changes\n    // and for tracking how far past seek end we should be\n    ;\n\n    _proto.trackLive_ = function trackLive_() {\n      this.pastSeekEnd_ = this.pastSeekEnd_;\n      var seekable = this.player_.seekable(); // skip undefined seekable\n\n      if (!seekable || !seekable.length) {\n        return;\n      }\n\n      var newSeekEnd = this.seekableEnd(); // we can only tell if we are behind live, when seekable changes\n      // once we detect that seekable has changed we check the new seek\n      // end against current time, with a fudge value of half a second.\n\n      if (newSeekEnd !== this.lastSeekEnd_) {\n        if (this.lastSeekEnd_) {\n          this.seekableIncrement_ = Math.abs(newSeekEnd - this.lastSeekEnd_);\n        }\n\n        this.pastSeekEnd_ = 0;\n        this.lastSeekEnd_ = newSeekEnd;\n        this.trigger('seekableendchange');\n      }\n\n      this.pastSeekEnd_ = this.pastSeekEnd() + 0.03;\n\n      if (this.isBehind_() !== this.behindLiveEdge()) {\n        this.behindLiveEdge_ = this.isBehind_();\n        this.trigger('liveedgechange');\n      }\n    }\n    /**\n     * handle a durationchange event on the player\n     * and start/stop tracking accordingly.\n     */\n    ;\n\n    _proto.handleDurationchange = function handleDurationchange() {\n      if (this.player_.duration() === Infinity) {\n        this.startTracking();\n      } else {\n        this.stopTracking();\n      }\n    }\n    /**\n     * start tracking live playback\n     */\n    ;\n\n    _proto.startTracking = function startTracking() {\n      var _this2 = this;\n\n      if (this.isTracking()) {\n        return;\n      }\n\n      this.trackingInterval_ = this.setInterval(this.trackLive_, 30);\n      this.trackLive_();\n      this.on(this.player_, 'play', this.trackLive_);\n      this.on(this.player_, 'pause', this.trackLive_);\n      this.one(this.player_, 'play', this.handlePlay); // this is to prevent showing that we are not live\n      // before a video starts to play\n\n      if (!this.timeupdateSeen_) {\n        this.handleTimeupdate = function () {\n          _this2.timeupdateSeen_ = true;\n          _this2.handleTimeupdate = null;\n        };\n\n        this.one(this.player_, 'timeupdate', this.handleTimeupdate);\n      }\n    };\n\n    _proto.handlePlay = function handlePlay() {\n      this.one(this.player_, 'timeupdate', this.seekToLiveEdge);\n    }\n    /**\n     * Stop tracking, and set all internal variables to\n     * their initial value.\n     */\n    ;\n\n    _proto.reset_ = function reset_() {\n      this.pastSeekEnd_ = 0;\n      this.lastSeekEnd_ = null;\n      this.behindLiveEdge_ = null;\n      this.timeupdateSeen_ = false;\n      this.clearInterval(this.trackingInterval_);\n      this.trackingInterval_ = null;\n      this.seekableIncrement_ = 12;\n      this.off(this.player_, 'play', this.trackLive_);\n      this.off(this.player_, 'pause', this.trackLive_);\n      this.off(this.player_, 'play', this.handlePlay);\n      this.off(this.player_, 'timeupdate', this.seekToLiveEdge);\n\n      if (this.handleTimeupdate) {\n        this.off(this.player_, 'timeupdate', this.handleTimeupdate);\n        this.handleTimeupdate = null;\n      }\n    }\n    /**\n     * stop tracking live playback\n     */\n    ;\n\n    _proto.stopTracking = function stopTracking() {\n      if (!this.isTracking()) {\n        return;\n      }\n\n      this.reset_();\n    }\n    /**\n     * A helper to get the player seekable end\n     * so that we don't have to null check everywhere\n     */\n    ;\n\n    _proto.seekableEnd = function seekableEnd() {\n      var seekable = this.player_.seekable();\n      var seekableEnds = [];\n      var i = seekable ? seekable.length : 0;\n\n      while (i--) {\n        seekableEnds.push(seekable.end(i));\n      } // grab the furthest seekable end after sorting, or if there are none\n      // default to Infinity\n\n\n      return seekableEnds.length ? seekableEnds.sort()[seekableEnds.length - 1] : Infinity;\n    }\n    /**\n     * A helper to get the player seekable start\n     * so that we don't have to null check everywhere\n     */\n    ;\n\n    _proto.seekableStart = function seekableStart() {\n      var seekable = this.player_.seekable();\n      var seekableStarts = [];\n      var i = seekable ? seekable.length : 0;\n\n      while (i--) {\n        seekableStarts.push(seekable.start(i));\n      } // grab the first seekable start after sorting, or if there are none\n      // default to 0\n\n\n      return seekableStarts.length ? seekableStarts.sort()[0] : 0;\n    }\n    /**\n     * Get the live time window\n     */\n    ;\n\n    _proto.liveWindow = function liveWindow() {\n      var liveCurrentTime = this.liveCurrentTime();\n\n      if (liveCurrentTime === Infinity) {\n        return Infinity;\n      }\n\n      return liveCurrentTime - this.seekableStart();\n    }\n    /**\n     * Determines if the player is live, only checks if this component\n     * is tracking live playback or not\n     */\n    ;\n\n    _proto.isLive = function isLive() {\n      return this.isTracking();\n    }\n    /**\n     * Determines if currentTime is at the live edge and won't fall behind\n     * on each seekableendchange\n     */\n    ;\n\n    _proto.atLiveEdge = function atLiveEdge() {\n      return !this.behindLiveEdge();\n    }\n    /**\n     * get what we expect the live current time to be\n     */\n    ;\n\n    _proto.liveCurrentTime = function liveCurrentTime() {\n      return this.pastSeekEnd() + this.seekableEnd();\n    }\n    /**\n     * Returns how far past seek end we expect current time to be\n     */\n    ;\n\n    _proto.pastSeekEnd = function pastSeekEnd() {\n      return this.pastSeekEnd_;\n    }\n    /**\n     * If we are currently behind the live edge, aka currentTime will be\n     * behind on a seekableendchange\n     */\n    ;\n\n    _proto.behindLiveEdge = function behindLiveEdge() {\n      return this.behindLiveEdge_;\n    };\n\n    _proto.isTracking = function isTracking() {\n      return typeof this.trackingInterval_ === 'number';\n    }\n    /**\n     * Seek to the live edge if we are behind the live edge\n     */\n    ;\n\n    _proto.seekToLiveEdge = function seekToLiveEdge() {\n      if (this.atLiveEdge()) {\n        return;\n      }\n\n      this.player_.currentTime(this.liveCurrentTime());\n\n      if (this.player_.paused()) {\n        this.player_.play();\n      }\n    };\n\n    _proto.dispose = function dispose() {\n      this.stopTracking();\n\n      _Component.prototype.dispose.call(this);\n    };\n\n    return LiveTracker;\n  }(Component);\n\n  Component.registerComponent('LiveTracker', LiveTracker);\n\n  /**\n   * This function is used to fire a sourceset when there is something\n   * similar to `mediaEl.load()` being called. It will try to find the source via\n   * the `src` attribute and then the `<source>` elements. It will then fire `sourceset`\n   * with the source that was found or empty string if we cannot know. If it cannot\n   * find a source then `sourceset` will not be fired.\n   *\n   * @param {Html5} tech\n   *        The tech object that sourceset was setup on\n   *\n   * @return {boolean}\n   *         returns false if the sourceset was not fired and true otherwise.\n   */\n\n  var sourcesetLoad = function sourcesetLoad(tech) {\n    var el = tech.el(); // if `el.src` is set, that source will be loaded.\n\n    if (el.hasAttribute('src')) {\n      tech.triggerSourceset(el.src);\n      return true;\n    }\n    /**\n     * Since there isn't a src property on the media element, source elements will be used for\n     * implementing the source selection algorithm. This happens asynchronously and\n     * for most cases were there is more than one source we cannot tell what source will\n     * be loaded, without re-implementing the source selection algorithm. At this time we are not\n     * going to do that. There are three special cases that we do handle here though:\n     *\n     * 1. If there are no sources, do not fire `sourceset`.\n     * 2. If there is only one `<source>` with a `src` property/attribute that is our `src`\n     * 3. If there is more than one `<source>` but all of them have the same `src` url.\n     *    That will be our src.\n     */\n\n\n    var sources = tech.$$('source');\n    var srcUrls = [];\n    var src = ''; // if there are no sources, do not fire sourceset\n\n    if (!sources.length) {\n      return false;\n    } // only count valid/non-duplicate source elements\n\n\n    for (var i = 0; i < sources.length; i++) {\n      var url = sources[i].src;\n\n      if (url && srcUrls.indexOf(url) === -1) {\n        srcUrls.push(url);\n      }\n    } // there were no valid sources\n\n\n    if (!srcUrls.length) {\n      return false;\n    } // there is only one valid source element url\n    // use that\n\n\n    if (srcUrls.length === 1) {\n      src = srcUrls[0];\n    }\n\n    tech.triggerSourceset(src);\n    return true;\n  };\n  /**\n   * our implementation of an `innerHTML` descriptor for browsers\n   * that do not have one.\n   */\n\n\n  var innerHTMLDescriptorPolyfill = Object.defineProperty({}, 'innerHTML', {\n    get: function get() {\n      return this.cloneNode(true).innerHTML;\n    },\n    set: function set(v) {\n      // make a dummy node to use innerHTML on\n      var dummy = document.createElement(this.nodeName.toLowerCase()); // set innerHTML to the value provided\n\n      dummy.innerHTML = v; // make a document fragment to hold the nodes from dummy\n\n      var docFrag = document.createDocumentFragment(); // copy all of the nodes created by the innerHTML on dummy\n      // to the document fragment\n\n      while (dummy.childNodes.length) {\n        docFrag.appendChild(dummy.childNodes[0]);\n      } // remove content\n\n\n      this.innerText = ''; // now we add all of that html in one by appending the\n      // document fragment. This is how innerHTML does it.\n\n      window$1.Element.prototype.appendChild.call(this, docFrag); // then return the result that innerHTML's setter would\n\n      return this.innerHTML;\n    }\n  });\n  /**\n   * Get a property descriptor given a list of priorities and the\n   * property to get.\n   */\n\n  var getDescriptor = function getDescriptor(priority, prop) {\n    var descriptor = {};\n\n    for (var i = 0; i < priority.length; i++) {\n      descriptor = Object.getOwnPropertyDescriptor(priority[i], prop);\n\n      if (descriptor && descriptor.set && descriptor.get) {\n        break;\n      }\n    }\n\n    descriptor.enumerable = true;\n    descriptor.configurable = true;\n    return descriptor;\n  };\n\n  var getInnerHTMLDescriptor = function getInnerHTMLDescriptor(tech) {\n    return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, window$1.Element.prototype, innerHTMLDescriptorPolyfill], 'innerHTML');\n  };\n  /**\n   * Patches browser internal functions so that we can tell synchronously\n   * if a `<source>` was appended to the media element. For some reason this\n   * causes a `sourceset` if the the media element is ready and has no source.\n   * This happens when:\n   * - The page has just loaded and the media element does not have a source.\n   * - The media element was emptied of all sources, then `load()` was called.\n   *\n   * It does this by patching the following functions/properties when they are supported:\n   *\n   * - `append()` - can be used to add a `<source>` element to the media element\n   * - `appendChild()` - can be used to add a `<source>` element to the media element\n   * - `insertAdjacentHTML()` -  can be used to add a `<source>` element to the media element\n   * - `innerHTML` -  can be used to add a `<source>` element to the media element\n   *\n   * @param {Html5} tech\n   *        The tech object that sourceset is being setup on.\n   */\n\n\n  var firstSourceWatch = function firstSourceWatch(tech) {\n    var el = tech.el(); // make sure firstSourceWatch isn't setup twice.\n\n    if (el.resetSourceWatch_) {\n      return;\n    }\n\n    var old = {};\n    var innerDescriptor = getInnerHTMLDescriptor(tech);\n\n    var appendWrapper = function appendWrapper(appendFn) {\n      return function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        var retval = appendFn.apply(el, args);\n        sourcesetLoad(tech);\n        return retval;\n      };\n    };\n\n    ['append', 'appendChild', 'insertAdjacentHTML'].forEach(function (k) {\n      if (!el[k]) {\n        return;\n      } // store the old function\n\n\n      old[k] = el[k]; // call the old function with a sourceset if a source\n      // was loaded\n\n      el[k] = appendWrapper(old[k]);\n    });\n    Object.defineProperty(el, 'innerHTML', mergeOptions(innerDescriptor, {\n      set: appendWrapper(innerDescriptor.set)\n    }));\n\n    el.resetSourceWatch_ = function () {\n      el.resetSourceWatch_ = null;\n      Object.keys(old).forEach(function (k) {\n        el[k] = old[k];\n      });\n      Object.defineProperty(el, 'innerHTML', innerDescriptor);\n    }; // on the first sourceset, we need to revert our changes\n\n\n    tech.one('sourceset', el.resetSourceWatch_);\n  };\n  /**\n   * our implementation of a `src` descriptor for browsers\n   * that do not have one.\n   */\n\n\n  var srcDescriptorPolyfill = Object.defineProperty({}, 'src', {\n    get: function get() {\n      if (this.hasAttribute('src')) {\n        return getAbsoluteURL(window$1.Element.prototype.getAttribute.call(this, 'src'));\n      }\n\n      return '';\n    },\n    set: function set(v) {\n      window$1.Element.prototype.setAttribute.call(this, 'src', v);\n      return v;\n    }\n  });\n\n  var getSrcDescriptor = function getSrcDescriptor(tech) {\n    return getDescriptor([tech.el(), window$1.HTMLMediaElement.prototype, srcDescriptorPolyfill], 'src');\n  };\n  /**\n   * setup `sourceset` handling on the `Html5` tech. This function\n   * patches the following element properties/functions:\n   *\n   * - `src` - to determine when `src` is set\n   * - `setAttribute()` - to determine when `src` is set\n   * - `load()` - this re-triggers the source selection algorithm, and can\n   *              cause a sourceset.\n   *\n   * If there is no source when we are adding `sourceset` support or during a `load()`\n   * we also patch the functions listed in `firstSourceWatch`.\n   *\n   * @param {Html5} tech\n   *        The tech to patch\n   */\n\n\n  var setupSourceset = function setupSourceset(tech) {\n    if (!tech.featuresSourceset) {\n      return;\n    }\n\n    var el = tech.el(); // make sure sourceset isn't setup twice.\n\n    if (el.resetSourceset_) {\n      return;\n    }\n\n    var srcDescriptor = getSrcDescriptor(tech);\n    var oldSetAttribute = el.setAttribute;\n    var oldLoad = el.load;\n    Object.defineProperty(el, 'src', mergeOptions(srcDescriptor, {\n      set: function set(v) {\n        var retval = srcDescriptor.set.call(el, v); // we use the getter here to get the actual value set on src\n\n        tech.triggerSourceset(el.src);\n        return retval;\n      }\n    }));\n\n    el.setAttribute = function (n, v) {\n      var retval = oldSetAttribute.call(el, n, v);\n\n      if (/src/i.test(n)) {\n        tech.triggerSourceset(el.src);\n      }\n\n      return retval;\n    };\n\n    el.load = function () {\n      var retval = oldLoad.call(el); // if load was called, but there was no source to fire\n      // sourceset on. We have to watch for a source append\n      // as that can trigger a `sourceset` when the media element\n      // has no source\n\n      if (!sourcesetLoad(tech)) {\n        tech.triggerSourceset('');\n        firstSourceWatch(tech);\n      }\n\n      return retval;\n    };\n\n    if (el.currentSrc) {\n      tech.triggerSourceset(el.currentSrc);\n    } else if (!sourcesetLoad(tech)) {\n      firstSourceWatch(tech);\n    }\n\n    el.resetSourceset_ = function () {\n      el.resetSourceset_ = null;\n      el.load = oldLoad;\n      el.setAttribute = oldSetAttribute;\n      Object.defineProperty(el, 'src', srcDescriptor);\n\n      if (el.resetSourceWatch_) {\n        el.resetSourceWatch_();\n      }\n    };\n  };\n\n  function _templateObject$1() {\n    var data = _taggedTemplateLiteralLoose([\"Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\\n            This may prevent text tracks from loading.\"]);\n\n    _templateObject$1 = function _templateObject() {\n      return data;\n    };\n\n    return data;\n  }\n  /**\n   * HTML5 Media Controller - Wrapper for HTML5 Media API\n   *\n   * @mixes Tech~SourceHandlerAdditions\n   * @extends Tech\n   */\n\n  var Html5 =\n  /*#__PURE__*/\n  function (_Tech) {\n    _inheritsLoose(Html5, _Tech);\n\n    /**\n    * Create an instance of this Tech.\n    *\n    * @param {Object} [options]\n    *        The key/value store of player options.\n    *\n    * @param {Component~ReadyCallback} ready\n    *        Callback function to call when the `HTML5` Tech is ready.\n    */\n    function Html5(options, ready) {\n      var _this;\n\n      _this = _Tech.call(this, options, ready) || this;\n      var source = options.source;\n      var crossoriginTracks = false; // Set the source if one is provided\n      // 1) Check if the source is new (if not, we want to keep the original so playback isn't interrupted)\n      // 2) Check to see if the network state of the tag was failed at init, and if so, reset the source\n      // anyway so the error gets fired.\n\n      if (source && (_this.el_.currentSrc !== source.src || options.tag && options.tag.initNetworkState_ === 3)) {\n        _this.setSource(source);\n      } else {\n        _this.handleLateInit_(_this.el_);\n      } // setup sourceset after late sourceset/init\n\n\n      if (options.enableSourceset) {\n        _this.setupSourcesetHandling_();\n      }\n\n      if (_this.el_.hasChildNodes()) {\n        var nodes = _this.el_.childNodes;\n        var nodesLength = nodes.length;\n        var removeNodes = [];\n\n        while (nodesLength--) {\n          var node = nodes[nodesLength];\n          var nodeName = node.nodeName.toLowerCase();\n\n          if (nodeName === 'track') {\n            if (!_this.featuresNativeTextTracks) {\n              // Empty video tag tracks so the built-in player doesn't use them also.\n              // This may not be fast enough to stop HTML5 browsers from reading the tags\n              // so we'll need to turn off any default tracks if we're manually doing\n              // captions and subtitles. videoElement.textTracks\n              removeNodes.push(node);\n            } else {\n              // store HTMLTrackElement and TextTrack to remote list\n              _this.remoteTextTrackEls().addTrackElement_(node);\n\n              _this.remoteTextTracks().addTrack(node.track);\n\n              _this.textTracks().addTrack(node.track);\n\n              if (!crossoriginTracks && !_this.el_.hasAttribute('crossorigin') && isCrossOrigin(node.src)) {\n                crossoriginTracks = true;\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i < removeNodes.length; i++) {\n          _this.el_.removeChild(removeNodes[i]);\n        }\n      }\n\n      _this.proxyNativeTracks_();\n\n      if (_this.featuresNativeTextTracks && crossoriginTracks) {\n        log.warn(tsml(_templateObject$1()));\n      } // prevent iOS Safari from disabling metadata text tracks during native playback\n\n\n      _this.restoreMetadataTracksInIOSNativePlayer_(); // Determine if native controls should be used\n      // Our goal should be to get the custom controls on mobile solid everywhere\n      // so we can remove this all together. Right now this will block custom\n      // controls on touch enabled laptops like the Chrome Pixel\n\n\n      if ((TOUCH_ENABLED || IS_IPHONE || IS_NATIVE_ANDROID) && options.nativeControlsForTouch === true) {\n        _this.setControls(true);\n      } // on iOS, we want to proxy `webkitbeginfullscreen` and `webkitendfullscreen`\n      // into a `fullscreenchange` event\n\n\n      _this.proxyWebkitFullscreen_();\n\n      _this.triggerReady();\n\n      return _this;\n    }\n    /**\n     * Dispose of `HTML5` media element and remove all tracks.\n     */\n\n\n    var _proto = Html5.prototype;\n\n    _proto.dispose = function dispose() {\n      if (this.el_ && this.el_.resetSourceset_) {\n        this.el_.resetSourceset_();\n      }\n\n      Html5.disposeMediaElement(this.el_);\n      this.options_ = null; // tech will handle clearing of the emulated track list\n\n      _Tech.prototype.dispose.call(this);\n    }\n    /**\n     * Modify the media element so that we can detect when\n     * the source is changed. Fires `sourceset` just after the source has changed\n     */\n    ;\n\n    _proto.setupSourcesetHandling_ = function setupSourcesetHandling_() {\n      setupSourceset(this);\n    }\n    /**\n     * When a captions track is enabled in the iOS Safari native player, all other\n     * tracks are disabled (including metadata tracks), which nulls all of their\n     * associated cue points. This will restore metadata tracks to their pre-fullscreen\n     * state in those cases so that cue points are not needlessly lost.\n     *\n     * @private\n     */\n    ;\n\n    _proto.restoreMetadataTracksInIOSNativePlayer_ = function restoreMetadataTracksInIOSNativePlayer_() {\n      var textTracks = this.textTracks();\n      var metadataTracksPreFullscreenState; // captures a snapshot of every metadata track's current state\n\n      var takeMetadataTrackSnapshot = function takeMetadataTrackSnapshot() {\n        metadataTracksPreFullscreenState = [];\n\n        for (var i = 0; i < textTracks.length; i++) {\n          var track = textTracks[i];\n\n          if (track.kind === 'metadata') {\n            metadataTracksPreFullscreenState.push({\n              track: track,\n              storedMode: track.mode\n            });\n          }\n        }\n      }; // snapshot each metadata track's initial state, and update the snapshot\n      // each time there is a track 'change' event\n\n\n      takeMetadataTrackSnapshot();\n      textTracks.addEventListener('change', takeMetadataTrackSnapshot);\n      this.on('dispose', function () {\n        return textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n      });\n\n      var restoreTrackMode = function restoreTrackMode() {\n        for (var i = 0; i < metadataTracksPreFullscreenState.length; i++) {\n          var storedTrack = metadataTracksPreFullscreenState[i];\n\n          if (storedTrack.track.mode === 'disabled' && storedTrack.track.mode !== storedTrack.storedMode) {\n            storedTrack.track.mode = storedTrack.storedMode;\n          }\n        } // we only want this handler to be executed on the first 'change' event\n\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n      }; // when we enter fullscreen playback, stop updating the snapshot and\n      // restore all track modes to their pre-fullscreen state\n\n\n      this.on('webkitbeginfullscreen', function () {\n        textTracks.removeEventListener('change', takeMetadataTrackSnapshot); // remove the listener before adding it just in case it wasn't previously removed\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n        textTracks.addEventListener('change', restoreTrackMode);\n      }); // start updating the snapshot again after leaving fullscreen\n\n      this.on('webkitendfullscreen', function () {\n        // remove the listener before adding it just in case it wasn't previously removed\n        textTracks.removeEventListener('change', takeMetadataTrackSnapshot);\n        textTracks.addEventListener('change', takeMetadataTrackSnapshot); // remove the restoreTrackMode handler in case it wasn't triggered during fullscreen playback\n\n        textTracks.removeEventListener('change', restoreTrackMode);\n      });\n    }\n    /**\n     * Attempt to force override of tracks for the given type\n     *\n     * @param {string} type - Track type to override, possible values include 'Audio',\n     * 'Video', and 'Text'.\n     * @param {boolean} override - If set to true native audio/video will be overridden,\n     * otherwise native audio/video will potentially be used.\n     * @private\n     */\n    ;\n\n    _proto.overrideNative_ = function overrideNative_(type, override) {\n      var _this2 = this;\n\n      // If there is no behavioral change don't add/remove listeners\n      if (override !== this[\"featuresNative\" + type + \"Tracks\"]) {\n        return;\n      }\n\n      var lowerCaseType = type.toLowerCase();\n\n      if (this[lowerCaseType + \"TracksListeners_\"]) {\n        Object.keys(this[lowerCaseType + \"TracksListeners_\"]).forEach(function (eventName) {\n          var elTracks = _this2.el()[lowerCaseType + \"Tracks\"];\n\n          elTracks.removeEventListener(eventName, _this2[lowerCaseType + \"TracksListeners_\"][eventName]);\n        });\n      }\n\n      this[\"featuresNative\" + type + \"Tracks\"] = !override;\n      this[lowerCaseType + \"TracksListeners_\"] = null;\n      this.proxyNativeTracksForType_(lowerCaseType);\n    }\n    /**\n     * Attempt to force override of native audio tracks.\n     *\n     * @param {boolean} override - If set to true native audio will be overridden,\n     * otherwise native audio will potentially be used.\n     */\n    ;\n\n    _proto.overrideNativeAudioTracks = function overrideNativeAudioTracks(override) {\n      this.overrideNative_('Audio', override);\n    }\n    /**\n     * Attempt to force override of native video tracks.\n     *\n     * @param {boolean} override - If set to true native video will be overridden,\n     * otherwise native video will potentially be used.\n     */\n    ;\n\n    _proto.overrideNativeVideoTracks = function overrideNativeVideoTracks(override) {\n      this.overrideNative_('Video', override);\n    }\n    /**\n     * Proxy native track list events for the given type to our track\n     * lists if the browser we are playing in supports that type of track list.\n     *\n     * @param {string} name - Track type; values include 'audio', 'video', and 'text'\n     * @private\n     */\n    ;\n\n    _proto.proxyNativeTracksForType_ = function proxyNativeTracksForType_(name) {\n      var _this3 = this;\n\n      var props = NORMAL[name];\n      var elTracks = this.el()[props.getterName];\n      var techTracks = this[props.getterName]();\n\n      if (!this[\"featuresNative\" + props.capitalName + \"Tracks\"] || !elTracks || !elTracks.addEventListener) {\n        return;\n      }\n\n      var listeners = {\n        change: function change(e) {\n          techTracks.trigger({\n            type: 'change',\n            target: techTracks,\n            currentTarget: techTracks,\n            srcElement: techTracks\n          });\n        },\n        addtrack: function addtrack(e) {\n          techTracks.addTrack(e.track);\n        },\n        removetrack: function removetrack(e) {\n          techTracks.removeTrack(e.track);\n        }\n      };\n\n      var removeOldTracks = function removeOldTracks() {\n        var removeTracks = [];\n\n        for (var i = 0; i < techTracks.length; i++) {\n          var found = false;\n\n          for (var j = 0; j < elTracks.length; j++) {\n            if (elTracks[j] === techTracks[i]) {\n              found = true;\n              break;\n            }\n          }\n\n          if (!found) {\n            removeTracks.push(techTracks[i]);\n          }\n        }\n\n        while (removeTracks.length) {\n          techTracks.removeTrack(removeTracks.shift());\n        }\n      };\n\n      this[props.getterName + 'Listeners_'] = listeners;\n      Object.keys(listeners).forEach(function (eventName) {\n        var listener = listeners[eventName];\n        elTracks.addEventListener(eventName, listener);\n\n        _this3.on('dispose', function (e) {\n          return elTracks.removeEventListener(eventName, listener);\n        });\n      }); // Remove (native) tracks that are not used anymore\n\n      this.on('loadstart', removeOldTracks);\n      this.on('dispose', function (e) {\n        return _this3.off('loadstart', removeOldTracks);\n      });\n    }\n    /**\n     * Proxy all native track list events to our track lists if the browser we are playing\n     * in supports that type of track list.\n     *\n     * @private\n     */\n    ;\n\n    _proto.proxyNativeTracks_ = function proxyNativeTracks_() {\n      var _this4 = this;\n\n      NORMAL.names.forEach(function (name) {\n        _this4.proxyNativeTracksForType_(name);\n      });\n    }\n    /**\n     * Create the `Html5` Tech's DOM element.\n     *\n     * @return {Element}\n     *         The element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1() {\n      var el = this.options_.tag; // Check if this browser supports moving the element into the box.\n      // On the iPhone video will break if you move the element,\n      // So we have to create a brand new element.\n      // If we ingested the player div, we do not need to move the media element.\n\n      if (!el || !(this.options_.playerElIngest || this.movingMediaElementInDOM)) {\n        // If the original tag is still there, clone and remove it.\n        if (el) {\n          var clone = el.cloneNode(true);\n\n          if (el.parentNode) {\n            el.parentNode.insertBefore(clone, el);\n          }\n\n          Html5.disposeMediaElement(el);\n          el = clone;\n        } else {\n          el = document.createElement('video'); // determine if native controls should be used\n\n          var tagAttributes = this.options_.tag && getAttributes(this.options_.tag);\n          var attributes = mergeOptions({}, tagAttributes);\n\n          if (!TOUCH_ENABLED || this.options_.nativeControlsForTouch !== true) {\n            delete attributes.controls;\n          }\n\n          setAttributes(el, assign(attributes, {\n            id: this.options_.techId,\n            class: 'vjs-tech'\n          }));\n        }\n\n        el.playerId = this.options_.playerId;\n      }\n\n      if (typeof this.options_.preload !== 'undefined') {\n        setAttribute(el, 'preload', this.options_.preload);\n      } // Update specific tag settings, in case they were overridden\n      // `autoplay` has to be *last* so that `muted` and `playsinline` are present\n      // when iOS/Safari or other browsers attempt to autoplay.\n\n\n      var settingsAttrs = ['loop', 'muted', 'playsinline', 'autoplay'];\n\n      for (var i = 0; i < settingsAttrs.length; i++) {\n        var attr = settingsAttrs[i];\n        var value = this.options_[attr];\n\n        if (typeof value !== 'undefined') {\n          if (value) {\n            setAttribute(el, attr, attr);\n          } else {\n            removeAttribute(el, attr);\n          }\n\n          el[attr] = value;\n        }\n      }\n\n      return el;\n    }\n    /**\n     * This will be triggered if the loadstart event has already fired, before videojs was\n     * ready. Two known examples of when this can happen are:\n     * 1. If we're loading the playback object after it has started loading\n     * 2. The media is already playing the (often with autoplay on) then\n     *\n     * This function will fire another loadstart so that videojs can catchup.\n     *\n     * @fires Tech#loadstart\n     *\n     * @return {undefined}\n     *         returns nothing.\n     */\n    ;\n\n    _proto.handleLateInit_ = function handleLateInit_(el) {\n      if (el.networkState === 0 || el.networkState === 3) {\n        // The video element hasn't started loading the source yet\n        // or didn't find a source\n        return;\n      }\n\n      if (el.readyState === 0) {\n        // NetworkState is set synchronously BUT loadstart is fired at the\n        // end of the current stack, usually before setInterval(fn, 0).\n        // So at this point we know loadstart may have already fired or is\n        // about to fire, and either way the player hasn't seen it yet.\n        // We don't want to fire loadstart prematurely here and cause a\n        // double loadstart so we'll wait and see if it happens between now\n        // and the next loop, and fire it if not.\n        // HOWEVER, we also want to make sure it fires before loadedmetadata\n        // which could also happen between now and the next loop, so we'll\n        // watch for that also.\n        var loadstartFired = false;\n\n        var setLoadstartFired = function setLoadstartFired() {\n          loadstartFired = true;\n        };\n\n        this.on('loadstart', setLoadstartFired);\n\n        var triggerLoadstart = function triggerLoadstart() {\n          // We did miss the original loadstart. Make sure the player\n          // sees loadstart before loadedmetadata\n          if (!loadstartFired) {\n            this.trigger('loadstart');\n          }\n        };\n\n        this.on('loadedmetadata', triggerLoadstart);\n        this.ready(function () {\n          this.off('loadstart', setLoadstartFired);\n          this.off('loadedmetadata', triggerLoadstart);\n\n          if (!loadstartFired) {\n            // We did miss the original native loadstart. Fire it now.\n            this.trigger('loadstart');\n          }\n        });\n        return;\n      } // From here on we know that loadstart already fired and we missed it.\n      // The other readyState events aren't as much of a problem if we double\n      // them, so not going to go to as much trouble as loadstart to prevent\n      // that unless we find reason to.\n\n\n      var eventsToTrigger = ['loadstart']; // loadedmetadata: newly equal to HAVE_METADATA (1) or greater\n\n      eventsToTrigger.push('loadedmetadata'); // loadeddata: newly increased to HAVE_CURRENT_DATA (2) or greater\n\n      if (el.readyState >= 2) {\n        eventsToTrigger.push('loadeddata');\n      } // canplay: newly increased to HAVE_FUTURE_DATA (3) or greater\n\n\n      if (el.readyState >= 3) {\n        eventsToTrigger.push('canplay');\n      } // canplaythrough: newly equal to HAVE_ENOUGH_DATA (4)\n\n\n      if (el.readyState >= 4) {\n        eventsToTrigger.push('canplaythrough');\n      } // We still need to give the player time to add event listeners\n\n\n      this.ready(function () {\n        eventsToTrigger.forEach(function (type) {\n          this.trigger(type);\n        }, this);\n      });\n    }\n    /**\n     * Set current time for the `HTML5` tech.\n     *\n     * @param {number} seconds\n     *        Set the current time of the media to this.\n     */\n    ;\n\n    _proto.setCurrentTime = function setCurrentTime(seconds) {\n      try {\n        this.el_.currentTime = seconds;\n      } catch (e) {\n        log(e, 'Video is not ready. (Video.js)'); // this.warning(VideoJS.warnings.videoNotReady);\n      }\n    }\n    /**\n     * Get the current duration of the HTML5 media element.\n     *\n     * @return {number}\n     *         The duration of the media or 0 if there is no duration.\n     */\n    ;\n\n    _proto.duration = function duration() {\n      var _this5 = this;\n\n      // Android Chrome will report duration as Infinity for VOD HLS until after\n      // playback has started, which triggers the live display erroneously.\n      // Return NaN if playback has not started and trigger a durationupdate once\n      // the duration can be reliably known.\n      if (this.el_.duration === Infinity && IS_ANDROID && IS_CHROME && this.el_.currentTime === 0) {\n        // Wait for the first `timeupdate` with currentTime > 0 - there may be\n        // several with 0\n        var checkProgress = function checkProgress() {\n          if (_this5.el_.currentTime > 0) {\n            // Trigger durationchange for genuinely live video\n            if (_this5.el_.duration === Infinity) {\n              _this5.trigger('durationchange');\n            }\n\n            _this5.off('timeupdate', checkProgress);\n          }\n        };\n\n        this.on('timeupdate', checkProgress);\n        return NaN;\n      }\n\n      return this.el_.duration || NaN;\n    }\n    /**\n     * Get the current width of the HTML5 media element.\n     *\n     * @return {number}\n     *         The width of the HTML5 media element.\n     */\n    ;\n\n    _proto.width = function width() {\n      return this.el_.offsetWidth;\n    }\n    /**\n     * Get the current height of the HTML5 media element.\n     *\n     * @return {number}\n     *         The height of the HTML5 media element.\n     */\n    ;\n\n    _proto.height = function height() {\n      return this.el_.offsetHeight;\n    }\n    /**\n     * Proxy iOS `webkitbeginfullscreen` and `webkitendfullscreen` into\n     * `fullscreenchange` event.\n     *\n     * @private\n     * @fires fullscreenchange\n     * @listens webkitendfullscreen\n     * @listens webkitbeginfullscreen\n     * @listens webkitbeginfullscreen\n     */\n    ;\n\n    _proto.proxyWebkitFullscreen_ = function proxyWebkitFullscreen_() {\n      var _this6 = this;\n\n      if (!('webkitDisplayingFullscreen' in this.el_)) {\n        return;\n      }\n\n      var endFn = function endFn() {\n        this.trigger('fullscreenchange', {\n          isFullscreen: false\n        });\n      };\n\n      var beginFn = function beginFn() {\n        if ('webkitPresentationMode' in this.el_ && this.el_.webkitPresentationMode !== 'picture-in-picture') {\n          this.one('webkitendfullscreen', endFn);\n          this.trigger('fullscreenchange', {\n            isFullscreen: true\n          });\n        }\n      };\n\n      this.on('webkitbeginfullscreen', beginFn);\n      this.on('dispose', function () {\n        _this6.off('webkitbeginfullscreen', beginFn);\n\n        _this6.off('webkitendfullscreen', endFn);\n      });\n    }\n    /**\n     * Check if fullscreen is supported on the current playback device.\n     *\n     * @return {boolean}\n     *         - True if fullscreen is supported.\n     *         - False if fullscreen is not supported.\n     */\n    ;\n\n    _proto.supportsFullScreen = function supportsFullScreen() {\n      if (typeof this.el_.webkitEnterFullScreen === 'function') {\n        var userAgent = window$1.navigator && window$1.navigator.userAgent || ''; // Seems to be broken in Chromium/Chrome && Safari in Leopard\n\n        if (/Android/.test(userAgent) || !/Chrome|Mac OS X 10.5/.test(userAgent)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n    /**\n     * Request that the `HTML5` Tech enter fullscreen.\n     */\n    ;\n\n    _proto.enterFullScreen = function enterFullScreen() {\n      var video = this.el_;\n\n      if (video.paused && video.networkState <= video.HAVE_METADATA) {\n        // attempt to prime the video element for programmatic access\n        // this isn't necessary on the desktop but shouldn't hurt\n        this.el_.play(); // playing and pausing synchronously during the transition to fullscreen\n        // can get iOS ~6.1 devices into a play/pause loop\n\n        this.setTimeout(function () {\n          video.pause();\n          video.webkitEnterFullScreen();\n        }, 0);\n      } else {\n        video.webkitEnterFullScreen();\n      }\n    }\n    /**\n     * Request that the `HTML5` Tech exit fullscreen.\n     */\n    ;\n\n    _proto.exitFullScreen = function exitFullScreen() {\n      this.el_.webkitExitFullScreen();\n    }\n    /**\n     * A getter/setter for the `Html5` Tech's source object.\n     * > Note: Please use {@link Html5#setSource}\n     *\n     * @param {Tech~SourceObject} [src]\n     *        The source object you want to set on the `HTML5` techs element.\n     *\n     * @return {Tech~SourceObject|undefined}\n     *         - The current source object when a source is not passed in.\n     *         - undefined when setting\n     *\n     * @deprecated Since version 5.\n     */\n    ;\n\n    _proto.src = function src(_src) {\n      if (_src === undefined) {\n        return this.el_.src;\n      } // Setting src through `src` instead of `setSrc` will be deprecated\n\n\n      this.setSrc(_src);\n    }\n    /**\n     * Reset the tech by removing all sources and then calling\n     * {@link Html5.resetMediaElement}.\n     */\n    ;\n\n    _proto.reset = function reset() {\n      Html5.resetMediaElement(this.el_);\n    }\n    /**\n     * Get the current source on the `HTML5` Tech. Falls back to returning the source from\n     * the HTML5 media element.\n     *\n     * @return {Tech~SourceObject}\n     *         The current source object from the HTML5 tech. With a fallback to the\n     *         elements source.\n     */\n    ;\n\n    _proto.currentSrc = function currentSrc() {\n      if (this.currentSource_) {\n        return this.currentSource_.src;\n      }\n\n      return this.el_.currentSrc;\n    }\n    /**\n     * Set controls attribute for the HTML5 media Element.\n     *\n     * @param {string} val\n     *        Value to set the controls attribute to\n     */\n    ;\n\n    _proto.setControls = function setControls(val) {\n      this.el_.controls = !!val;\n    }\n    /**\n     * Create and returns a remote {@link TextTrack} object.\n     *\n     * @param {string} kind\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata)\n     *\n     * @param {string} [label]\n     *        Label to identify the text track\n     *\n     * @param {string} [language]\n     *        Two letter language abbreviation\n     *\n     * @return {TextTrack}\n     *         The TextTrack that gets created.\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (!this.featuresNativeTextTracks) {\n        return _Tech.prototype.addTextTrack.call(this, kind, label, language);\n      }\n\n      return this.el_.addTextTrack(kind, label, language);\n    }\n    /**\n     * Creates either native TextTrack or an emulated TextTrack depending\n     * on the value of `featuresNativeTextTracks`\n     *\n     * @param {Object} options\n     *        The object should contain the options to initialize the TextTrack with.\n     *\n     * @param {string} [options.kind]\n     *        `TextTrack` kind (subtitles, captions, descriptions, chapters, or metadata).\n     *\n     * @param {string} [options.label]\n     *        Label to identify the text track\n     *\n     * @param {string} [options.language]\n     *        Two letter language abbreviation.\n     *\n     * @param {boolean} [options.default]\n     *        Default this track to on.\n     *\n     * @param {string} [options.id]\n     *        The internal id to assign this track.\n     *\n     * @param {string} [options.src]\n     *        A source url for the track.\n     *\n     * @return {HTMLTrackElement}\n     *         The track element that gets created.\n     */\n    ;\n\n    _proto.createRemoteTextTrack = function createRemoteTextTrack(options) {\n      if (!this.featuresNativeTextTracks) {\n        return _Tech.prototype.createRemoteTextTrack.call(this, options);\n      }\n\n      var htmlTrackElement = document.createElement('track');\n\n      if (options.kind) {\n        htmlTrackElement.kind = options.kind;\n      }\n\n      if (options.label) {\n        htmlTrackElement.label = options.label;\n      }\n\n      if (options.language || options.srclang) {\n        htmlTrackElement.srclang = options.language || options.srclang;\n      }\n\n      if (options.default) {\n        htmlTrackElement.default = options.default;\n      }\n\n      if (options.id) {\n        htmlTrackElement.id = options.id;\n      }\n\n      if (options.src) {\n        htmlTrackElement.src = options.src;\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Creates a remote text track object and returns an html track element.\n     *\n     * @param {Object} options The object should contain values for\n     * kind, language, label, and src (location of the WebVTT file)\n     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n     * automatically removed from the video element whenever the source changes\n     * @return {HTMLTrackElement} An Html Track Element.\n     * This can be an emulated {@link HTMLTrackElement} or a native one.\n     * @deprecated The default value of the \"manualCleanup\" parameter will default\n     * to \"false\" in upcoming versions of Video.js\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      var htmlTrackElement = _Tech.prototype.addRemoteTextTrack.call(this, options, manualCleanup);\n\n      if (this.featuresNativeTextTracks) {\n        this.el().appendChild(htmlTrackElement);\n      }\n\n      return htmlTrackElement;\n    }\n    /**\n     * Remove remote `TextTrack` from `TextTrackList` object\n     *\n     * @param {TextTrack} track\n     *        `TextTrack` object to remove\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(track) {\n      _Tech.prototype.removeRemoteTextTrack.call(this, track);\n\n      if (this.featuresNativeTextTracks) {\n        var tracks = this.$$('track');\n        var i = tracks.length;\n\n        while (i--) {\n          if (track === tracks[i] || track === tracks[i].track) {\n            this.el().removeChild(tracks[i]);\n          }\n        }\n      }\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object}\n     *         An object with supported media playback quality metrics\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      if (typeof this.el().getVideoPlaybackQuality === 'function') {\n        return this.el().getVideoPlaybackQuality();\n      }\n\n      var videoPlaybackQuality = {};\n\n      if (typeof this.el().webkitDroppedFrameCount !== 'undefined' && typeof this.el().webkitDecodedFrameCount !== 'undefined') {\n        videoPlaybackQuality.droppedVideoFrames = this.el().webkitDroppedFrameCount;\n        videoPlaybackQuality.totalVideoFrames = this.el().webkitDecodedFrameCount;\n      }\n\n      if (window$1.performance && typeof window$1.performance.now === 'function') {\n        videoPlaybackQuality.creationTime = window$1.performance.now();\n      } else if (window$1.performance && window$1.performance.timing && typeof window$1.performance.timing.navigationStart === 'number') {\n        videoPlaybackQuality.creationTime = window$1.Date.now() - window$1.performance.timing.navigationStart;\n      }\n\n      return videoPlaybackQuality;\n    };\n\n    return Html5;\n  }(Tech);\n  /* HTML5 Support Testing ---------------------------------------------------- */\n\n\n  if (isReal()) {\n    /**\n     * Element for testing browser HTML5 media capabilities\n     *\n     * @type {Element}\n     * @constant\n     * @private\n     */\n    Html5.TEST_VID = document.createElement('video');\n    var track = document.createElement('track');\n    track.kind = 'captions';\n    track.srclang = 'en';\n    track.label = 'English';\n    Html5.TEST_VID.appendChild(track);\n  }\n  /**\n   * Check if HTML5 media is supported by this browser/device.\n   *\n   * @return {boolean}\n   *         - True if HTML5 media is supported.\n   *         - False if HTML5 media is not supported.\n   */\n\n\n  Html5.isSupported = function () {\n    // IE with no Media Player is a LIAR! (#984)\n    try {\n      Html5.TEST_VID.volume = 0.5;\n    } catch (e) {\n      return false;\n    }\n\n    return !!(Html5.TEST_VID && Html5.TEST_VID.canPlayType);\n  };\n  /**\n   * Check if the tech can support the given type\n   *\n   * @param {string} type\n   *        The mimetype to check\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n\n\n  Html5.canPlayType = function (type) {\n    return Html5.TEST_VID.canPlayType(type);\n  };\n  /**\n   * Check if the tech can support the given source\n   *\n   * @param {Object} srcObj\n   *        The source object\n   * @param {Object} options\n   *        The options passed to the tech\n   * @return {string} 'probably', 'maybe', or '' (empty string)\n   */\n\n\n  Html5.canPlaySource = function (srcObj, options) {\n    return Html5.canPlayType(srcObj.type);\n  };\n  /**\n   * Check if the volume can be changed in this browser/device.\n   * Volume cannot be changed in a lot of mobile devices.\n   * Specifically, it can't be changed from 1 on iOS.\n   *\n   * @return {boolean}\n   *         - True if volume can be controlled\n   *         - False otherwise\n   */\n\n\n  Html5.canControlVolume = function () {\n    // IE will error if Windows Media Player not installed #3315\n    try {\n      var volume = Html5.TEST_VID.volume;\n      Html5.TEST_VID.volume = volume / 2 + 0.1;\n      return volume !== Html5.TEST_VID.volume;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if the volume can be muted in this browser/device.\n   * Some devices, e.g. iOS, don't allow changing volume\n   * but permits muting/unmuting.\n   *\n   * @return {bolean}\n   *      - True if volume can be muted\n   *      - False otherwise\n   */\n\n\n  Html5.canMuteVolume = function () {\n    try {\n      var muted = Html5.TEST_VID.muted; // in some versions of iOS muted property doesn't always\n      // work, so we want to set both property and attribute\n\n      Html5.TEST_VID.muted = !muted;\n\n      if (Html5.TEST_VID.muted) {\n        setAttribute(Html5.TEST_VID, 'muted', 'muted');\n      } else {\n        removeAttribute(Html5.TEST_VID, 'muted', 'muted');\n      }\n\n      return muted !== Html5.TEST_VID.muted;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if the playback rate can be changed in this browser/device.\n   *\n   * @return {boolean}\n   *         - True if playback rate can be controlled\n   *         - False otherwise\n   */\n\n\n  Html5.canControlPlaybackRate = function () {\n    // Playback rate API is implemented in Android Chrome, but doesn't do anything\n    // https://github.com/videojs/video.js/issues/3180\n    if (IS_ANDROID && IS_CHROME && CHROME_VERSION < 58) {\n      return false;\n    } // IE will error if Windows Media Player not installed #3315\n\n\n    try {\n      var playbackRate = Html5.TEST_VID.playbackRate;\n      Html5.TEST_VID.playbackRate = playbackRate / 2 + 0.1;\n      return playbackRate !== Html5.TEST_VID.playbackRate;\n    } catch (e) {\n      return false;\n    }\n  };\n  /**\n   * Check if we can override a video/audio elements attributes, with\n   * Object.defineProperty.\n   *\n   * @return {boolean}\n   *         - True if builtin attributes can be overridden\n   *         - False otherwise\n   */\n\n\n  Html5.canOverrideAttributes = function () {\n    // if we cannot overwrite the src/innerHTML property, there is no support\n    // iOS 7 safari for instance cannot do this.\n    try {\n      var noop = function noop() {};\n\n      Object.defineProperty(document.createElement('video'), 'src', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('audio'), 'src', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('video'), 'innerHTML', {\n        get: noop,\n        set: noop\n      });\n      Object.defineProperty(document.createElement('audio'), 'innerHTML', {\n        get: noop,\n        set: noop\n      });\n    } catch (e) {\n      return false;\n    }\n\n    return true;\n  };\n  /**\n   * Check to see if native `TextTrack`s are supported by this browser/device.\n   *\n   * @return {boolean}\n   *         - True if native `TextTrack`s are supported.\n   *         - False otherwise\n   */\n\n\n  Html5.supportsNativeTextTracks = function () {\n    return IS_ANY_SAFARI || IS_IOS && IS_CHROME;\n  };\n  /**\n   * Check to see if native `VideoTrack`s are supported by this browser/device\n   *\n   * @return {boolean}\n   *        - True if native `VideoTrack`s are supported.\n   *        - False otherwise\n   */\n\n\n  Html5.supportsNativeVideoTracks = function () {\n    return !!(Html5.TEST_VID && Html5.TEST_VID.videoTracks);\n  };\n  /**\n   * Check to see if native `AudioTrack`s are supported by this browser/device\n   *\n   * @return {boolean}\n   *        - True if native `AudioTrack`s are supported.\n   *        - False otherwise\n   */\n\n\n  Html5.supportsNativeAudioTracks = function () {\n    return !!(Html5.TEST_VID && Html5.TEST_VID.audioTracks);\n  };\n  /**\n   * An array of events available on the Html5 tech.\n   *\n   * @private\n   * @type {Array}\n   */\n\n\n  Html5.Events = ['loadstart', 'suspend', 'abort', 'error', 'emptied', 'stalled', 'loadedmetadata', 'loadeddata', 'canplay', 'canplaythrough', 'playing', 'waiting', 'seeking', 'seeked', 'ended', 'durationchange', 'timeupdate', 'progress', 'play', 'pause', 'ratechange', 'resize', 'volumechange'];\n  /**\n   * Boolean indicating whether the `Tech` supports volume control.\n   *\n   * @type {boolean}\n   * @default {@link Html5.canControlVolume}\n   */\n\n  Html5.prototype.featuresVolumeControl = Html5.canControlVolume();\n  /**\n   * Boolean indicating whether the `Tech` supports muting volume.\n   *\n   * @type {bolean}\n   * @default {@link Html5.canMuteVolume}\n   */\n\n  Html5.prototype.featuresMuteControl = Html5.canMuteVolume();\n  /**\n   * Boolean indicating whether the `Tech` supports changing the speed at which the media\n   * plays. Examples:\n   *   - Set player to play 2x (twice) as fast\n   *   - Set player to play 0.5x (half) as fast\n   *\n   * @type {boolean}\n   * @default {@link Html5.canControlPlaybackRate}\n   */\n\n  Html5.prototype.featuresPlaybackRate = Html5.canControlPlaybackRate();\n  /**\n   * Boolean indicating whether the `Tech` supports the `sourceset` event.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresSourceset = Html5.canOverrideAttributes();\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the media element\n   * moving in the DOM. iOS breaks if you move the media element, so this is set this to\n   * false there. Everywhere else this should be true.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.movingMediaElementInDOM = !IS_IOS; // TODO: Previous comment: No longer appears to be used. Can probably be removed.\n  //       Is this true?\n\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports automatic media resize\n   * when going into fullscreen.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresFullscreenResize = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the progress event.\n   * If this is false, manual `progress` events will be triggered instead.\n   *\n   * @type {boolean}\n   * @default\n   */\n\n  Html5.prototype.featuresProgressEvents = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports the timeupdate event.\n   * If this is false, manual `timeupdate` events will be triggered instead.\n   *\n   * @default\n   */\n\n  Html5.prototype.featuresTimeupdateEvents = true;\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `TextTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeTextTracks}\n   */\n\n  Html5.prototype.featuresNativeTextTracks = Html5.supportsNativeTextTracks();\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `VideoTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeVideoTracks}\n   */\n\n  Html5.prototype.featuresNativeVideoTracks = Html5.supportsNativeVideoTracks();\n  /**\n   * Boolean indicating whether the `HTML5` tech currently supports native `AudioTrack`s.\n   *\n   * @type {boolean}\n   * @default {@link Html5.supportsNativeAudioTracks}\n   */\n\n  Html5.prototype.featuresNativeAudioTracks = Html5.supportsNativeAudioTracks(); // HTML5 Feature detection and Device Fixes --------------------------------- //\n\n  var canPlayType = Html5.TEST_VID && Html5.TEST_VID.constructor.prototype.canPlayType;\n  var mpegurlRE = /^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;\n\n  Html5.patchCanPlayType = function () {\n    // Android 4.0 and above can play HLS to some extent but it reports being unable to do so\n    // Firefox and Chrome report correctly\n    if (ANDROID_VERSION >= 4.0 && !IS_FIREFOX && !IS_CHROME) {\n      Html5.TEST_VID.constructor.prototype.canPlayType = function (type) {\n        if (type && mpegurlRE.test(type)) {\n          return 'maybe';\n        }\n\n        return canPlayType.call(this, type);\n      };\n    }\n  };\n\n  Html5.unpatchCanPlayType = function () {\n    var r = Html5.TEST_VID.constructor.prototype.canPlayType;\n    Html5.TEST_VID.constructor.prototype.canPlayType = canPlayType;\n    return r;\n  }; // by default, patch the media element\n\n\n  Html5.patchCanPlayType();\n\n  Html5.disposeMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    } // remove any child track or source nodes to prevent their loading\n\n\n    while (el.hasChildNodes()) {\n      el.removeChild(el.firstChild);\n    } // remove any src reference. not setting `src=''` because that causes a warning\n    // in firefox\n\n\n    el.removeAttribute('src'); // force the media element to update its loading state by calling load()\n    // however IE on Windows 7N has a bug that throws an error so need a try/catch (#793)\n\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {// not supported\n        }\n      })();\n    }\n  };\n\n  Html5.resetMediaElement = function (el) {\n    if (!el) {\n      return;\n    }\n\n    var sources = el.querySelectorAll('source');\n    var i = sources.length;\n\n    while (i--) {\n      el.removeChild(sources[i]);\n    } // remove any src reference.\n    // not setting `src=''` because that throws an error\n\n\n    el.removeAttribute('src');\n\n    if (typeof el.load === 'function') {\n      // wrapping in an iife so it's not deoptimized (#1060#discussion_r10324473)\n      (function () {\n        try {\n          el.load();\n        } catch (e) {// satisfy linter\n        }\n      })();\n    }\n  };\n  /* Native HTML5 element property wrapping ----------------------------------- */\n  // Wrap native boolean attributes with getters that check both property and attribute\n  // The list is as followed:\n  // muted, defaultMuted, autoplay, controls, loop, playsinline\n\n\n  [\n  /**\n   * Get the value of `muted` from the media element. `muted` indicates\n   * that the volume for the media should be set to silent. This does not actually change\n   * the `volume` attribute.\n   *\n   * @method Html5#muted\n   * @return {boolean}\n   *         - True if the value of `volume` should be ignored and the audio set to silent.\n   *         - False if the value of `volume` should be used.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n   */\n  'muted',\n  /**\n   * Get the value of `defaultMuted` from the media element. `defaultMuted` indicates\n   * whether the media should start muted or not. Only changes the default state of the\n   * media. `muted` and `defaultMuted` can have different values. {@link Html5#muted} indicates the\n   * current state.\n   *\n   * @method Html5#defaultMuted\n   * @return {boolean}\n   *         - The value of `defaultMuted` from the media element.\n   *         - True indicates that the media should start muted.\n   *         - False indicates that the media should not start muted\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n   */\n  'defaultMuted',\n  /**\n   * Get the value of `autoplay` from the media element. `autoplay` indicates\n   * that the media should start to play as soon as the page is ready.\n   *\n   * @method Html5#autoplay\n   * @return {boolean}\n   *         - The value of `autoplay` from the media element.\n   *         - True indicates that the media should start as soon as the page loads.\n   *         - False indicates that the media should not start as soon as the page loads.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n   */\n  'autoplay',\n  /**\n   * Get the value of `controls` from the media element. `controls` indicates\n   * whether the native media controls should be shown or hidden.\n   *\n   * @method Html5#controls\n   * @return {boolean}\n   *         - The value of `controls` from the media element.\n   *         - True indicates that native controls should be showing.\n   *         - False indicates that native controls should be hidden.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-controls}\n   */\n  'controls',\n  /**\n   * Get the value of `loop` from the media element. `loop` indicates\n   * that the media should return to the start of the media and continue playing once\n   * it reaches the end.\n   *\n   * @method Html5#loop\n   * @return {boolean}\n   *         - The value of `loop` from the media element.\n   *         - True indicates that playback should seek back to start once\n   *           the end of a media is reached.\n   *         - False indicates that playback should not loop back to the start when the\n   *           end of the media is reached.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n   */\n  'loop',\n  /**\n   * Get the value of `playsinline` from the media element. `playsinline` indicates\n   * to the browser that non-fullscreen playback is preferred when fullscreen\n   * playback is the native default, such as in iOS Safari.\n   *\n   * @method Html5#playsinline\n   * @return {boolean}\n   *         - The value of `playsinline` from the media element.\n   *         - True indicates that the media should play inline.\n   *         - False indicates that the media should not play inline.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  'playsinline'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop] || this.el_.hasAttribute(prop);\n    };\n  }); // Wrap native boolean attributes with setters that set both property and attribute\n  // The list is as followed:\n  // setMuted, setDefaultMuted, setAutoplay, setLoop, setPlaysinline\n  // setControls is special-cased above\n\n  [\n  /**\n   * Set the value of `muted` on the media element. `muted` indicates that the current\n   * audio level should be silent.\n   *\n   * @method Html5#setMuted\n   * @param {boolean} muted\n   *        - True if the audio should be set to silent\n   *        - False otherwise\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-muted}\n   */\n  'muted',\n  /**\n   * Set the value of `defaultMuted` on the media element. `defaultMuted` indicates that the current\n   * audio level should be silent, but will only effect the muted level on intial playback..\n   *\n   * @method Html5.prototype.setDefaultMuted\n   * @param {boolean} defaultMuted\n   *        - True if the audio should be set to silent\n   *        - False otherwise\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultmuted}\n   */\n  'defaultMuted',\n  /**\n   * Set the value of `autoplay` on the media element. `autoplay` indicates\n   * that the media should start to play as soon as the page is ready.\n   *\n   * @method Html5#setAutoplay\n   * @param {boolean} autoplay\n   *         - True indicates that the media should start as soon as the page loads.\n   *         - False indicates that the media should not start as soon as the page loads.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-autoplay}\n   */\n  'autoplay',\n  /**\n   * Set the value of `loop` on the media element. `loop` indicates\n   * that the media should return to the start of the media and continue playing once\n   * it reaches the end.\n   *\n   * @method Html5#setLoop\n   * @param {boolean} loop\n   *         - True indicates that playback should seek back to start once\n   *           the end of a media is reached.\n   *         - False indicates that playback should not loop back to the start when the\n   *           end of the media is reached.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-loop}\n   */\n  'loop',\n  /**\n   * Set the value of `playsinline` from the media element. `playsinline` indicates\n   * to the browser that non-fullscreen playback is preferred when fullscreen\n   * playback is the native default, such as in iOS Safari.\n   *\n   * @method Html5#setPlaysinline\n   * @param {boolean} playsinline\n   *         - True indicates that the media should play inline.\n   *         - False indicates that the media should not play inline.\n   *\n   * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n   */\n  'playsinline'].forEach(function (prop) {\n    Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n      this.el_[prop] = v;\n\n      if (v) {\n        this.el_.setAttribute(prop, prop);\n      } else {\n        this.el_.removeAttribute(prop);\n      }\n    };\n  }); // Wrap native properties with a getter\n  // The list is as followed\n  // paused, currentTime, buffered, volume, poster, preload, error, seeking\n  // seekable, ended, playbackRate, defaultPlaybackRate, played, networkState\n  // readyState, videoWidth, videoHeight\n\n  [\n  /**\n   * Get the value of `paused` from the media element. `paused` indicates whether the media element\n   * is currently paused or not.\n   *\n   * @method Html5#paused\n   * @return {boolean}\n   *         The value of `paused` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-paused}\n   */\n  'paused',\n  /**\n   * Get the value of `currentTime` from the media element. `currentTime` indicates\n   * the current second that the media is at in playback.\n   *\n   * @method Html5#currentTime\n   * @return {number}\n   *         The value of `currentTime` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-currenttime}\n   */\n  'currentTime',\n  /**\n   * Get the value of `buffered` from the media element. `buffered` is a `TimeRange`\n   * object that represents the parts of the media that are already downloaded and\n   * available for playback.\n   *\n   * @method Html5#buffered\n   * @return {TimeRange}\n   *         The value of `buffered` from the media element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-buffered}\n   */\n  'buffered',\n  /**\n   * Get the value of `volume` from the media element. `volume` indicates\n   * the current playback volume of audio for a media. `volume` will be a value from 0\n   * (silent) to 1 (loudest and default).\n   *\n   * @method Html5#volume\n   * @return {number}\n   *         The value of `volume` from the media element. Value will be between 0-1.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n   */\n  'volume',\n  /**\n   * Get the value of `poster` from the media element. `poster` indicates\n   * that the url of an image file that can/will be shown when no media data is available.\n   *\n   * @method Html5#poster\n   * @return {string}\n   *         The value of `poster` from the media element. Value will be a url to an\n   *         image.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-video-poster}\n   */\n  'poster',\n  /**\n   * Get the value of `preload` from the media element. `preload` indicates\n   * what should download before the media is interacted with. It can have the following\n   * values:\n   * - none: nothing should be downloaded\n   * - metadata: poster and the first few frames of the media may be downloaded to get\n   *   media dimensions and other metadata\n   * - auto: allow the media and metadata for the media to be downloaded before\n   *    interaction\n   *\n   * @method Html5#preload\n   * @return {string}\n   *         The value of `preload` from the media element. Will be 'none', 'metadata',\n   *         or 'auto'.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n   */\n  'preload',\n  /**\n   * Get the value of the `error` from the media element. `error` indicates any\n   * MediaError that may have occurred during playback. If error returns null there is no\n   * current error.\n   *\n   * @method Html5#error\n   * @return {MediaError|null}\n   *         The value of `error` from the media element. Will be `MediaError` if there\n   *         is a current error and null otherwise.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-error}\n   */\n  'error',\n  /**\n   * Get the value of `seeking` from the media element. `seeking` indicates whether the\n   * media is currently seeking to a new position or not.\n   *\n   * @method Html5#seeking\n   * @return {boolean}\n   *         - The value of `seeking` from the media element.\n   *         - True indicates that the media is currently seeking to a new position.\n   *         - False indicates that the media is not seeking to a new position at this time.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seeking}\n   */\n  'seeking',\n  /**\n   * Get the value of `seekable` from the media element. `seekable` returns a\n   * `TimeRange` object indicating ranges of time that can currently be `seeked` to.\n   *\n   * @method Html5#seekable\n   * @return {TimeRange}\n   *         The value of `seekable` from the media element. A `TimeRange` object\n   *         indicating the current ranges of time that can be seeked to.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-seekable}\n   */\n  'seekable',\n  /**\n   * Get the value of `ended` from the media element. `ended` indicates whether\n   * the media has reached the end or not.\n   *\n   * @method Html5#ended\n   * @return {boolean}\n   *         - The value of `ended` from the media element.\n   *         - True indicates that the media has ended.\n   *         - False indicates that the media has not ended.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-ended}\n   */\n  'ended',\n  /**\n   * Get the value of `playbackRate` from the media element. `playbackRate` indicates\n   * the rate at which the media is currently playing back. Examples:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5#playbackRate\n   * @return {number}\n   *         The value of `playbackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'playbackRate',\n  /**\n   * Get the value of `defaultPlaybackRate` from the media element. `defaultPlaybackRate` indicates\n   * the rate at which the media is currently playing back. This value will not indicate the current\n   * `playbackRate` after playback has started, use {@link Html5#playbackRate} for that.\n   *\n   * Examples:\n   *   - if defaultPlaybackRate is set to 2, media will play twice as fast.\n   *   - if defaultPlaybackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5.prototype.defaultPlaybackRate\n   * @return {number}\n   *         The value of `defaultPlaybackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'defaultPlaybackRate',\n  /**\n   * Get the value of `played` from the media element. `played` returns a `TimeRange`\n   * object representing points in the media timeline that have been played.\n   *\n   * @method Html5#played\n   * @return {TimeRange}\n   *         The value of `played` from the media element. A `TimeRange` object indicating\n   *         the ranges of time that have been played.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-played}\n   */\n  'played',\n  /**\n   * Get the value of `networkState` from the media element. `networkState` indicates\n   * the current network state. It returns an enumeration from the following list:\n   * - 0: NETWORK_EMPTY\n   * - 1: NETWORK_IDLE\n   * - 2: NETWORK_LOADING\n   * - 3: NETWORK_NO_SOURCE\n   *\n   * @method Html5#networkState\n   * @return {number}\n   *         The value of `networkState` from the media element. This will be a number\n   *         from the list in the description.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-networkstate}\n   */\n  'networkState',\n  /**\n   * Get the value of `readyState` from the media element. `readyState` indicates\n   * the current state of the media element. It returns an enumeration from the\n   * following list:\n   * - 0: HAVE_NOTHING\n   * - 1: HAVE_METADATA\n   * - 2: HAVE_CURRENT_DATA\n   * - 3: HAVE_FUTURE_DATA\n   * - 4: HAVE_ENOUGH_DATA\n   *\n   * @method Html5#readyState\n   * @return {number}\n   *         The value of `readyState` from the media element. This will be a number\n   *         from the list in the description.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#ready-states}\n   */\n  'readyState',\n  /**\n   * Get the value of `videoWidth` from the video element. `videoWidth` indicates\n   * the current width of the video in css pixels.\n   *\n   * @method Html5#videoWidth\n   * @return {number}\n   *         The value of `videoWidth` from the video element. This will be a number\n   *         in css pixels.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n   */\n  'videoWidth',\n  /**\n   * Get the value of `videoHeight` from the video element. `videoHeight` indicates\n   * the current height of the video in css pixels.\n   *\n   * @method Html5#videoHeight\n   * @return {number}\n   *         The value of `videoHeight` from the video element. This will be a number\n   *         in css pixels.\n   *\n   * @see [Spec] {@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-video-videowidth}\n   */\n  'videoHeight'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop];\n    };\n  }); // Wrap native properties with a setter in this format:\n  // set + toTitleCase(name)\n  // The list is as follows:\n  // setVolume, setSrc, setPoster, setPreload, setPlaybackRate, setDefaultPlaybackRate\n\n  [\n  /**\n   * Set the value of `volume` on the media element. `volume` indicates the current\n   * audio level as a percentage in decimal form. This means that 1 is 100%, 0.5 is 50%, and\n   * so on.\n   *\n   * @method Html5#setVolume\n   * @param {number} percentAsDecimal\n   *        The volume percent as a decimal. Valid range is from 0-1.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-a-volume}\n   */\n  'volume',\n  /**\n   * Set the value of `src` on the media element. `src` indicates the current\n   * {@link Tech~SourceObject} for the media.\n   *\n   * @method Html5#setSrc\n   * @param {Tech~SourceObject} src\n   *        The source object to set as the current source.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-src}\n   */\n  'src',\n  /**\n   * Set the value of `poster` on the media element. `poster` is the url to\n   * an image file that can/will be shown when no media data is available.\n   *\n   * @method Html5#setPoster\n   * @param {string} poster\n   *        The url to an image that should be used as the `poster` for the media\n   *        element.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-poster}\n   */\n  'poster',\n  /**\n   * Set the value of `preload` on the media element. `preload` indicates\n   * what should download before the media is interacted with. It can have the following\n   * values:\n   * - none: nothing should be downloaded\n   * - metadata: poster and the first few frames of the media may be downloaded to get\n   *   media dimensions and other metadata\n   * - auto: allow the media and metadata for the media to be downloaded before\n   *    interaction\n   *\n   * @method Html5#setPreload\n   * @param {string} preload\n   *         The value of `preload` to set on the media element. Must be 'none', 'metadata',\n   *         or 'auto'.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#attr-media-preload}\n   */\n  'preload',\n  /**\n   * Set the value of `playbackRate` on the media element. `playbackRate` indicates\n   * the rate at which the media should play back. Examples:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5#setPlaybackRate\n   * @return {number}\n   *         The value of `playbackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-playbackrate}\n   */\n  'playbackRate',\n  /**\n   * Set the value of `defaultPlaybackRate` on the media element. `defaultPlaybackRate` indicates\n   * the rate at which the media should play back upon initial startup. Changing this value\n   * after a video has started will do nothing. Instead you should used {@link Html5#setPlaybackRate}.\n   *\n   * Example Values:\n   *   - if playbackRate is set to 2, media will play twice as fast.\n   *   - if playbackRate is set to 0.5, media will play half as fast.\n   *\n   * @method Html5.prototype.setDefaultPlaybackRate\n   * @return {number}\n   *         The value of `defaultPlaybackRate` from the media element. A number indicating\n   *         the current playback speed of the media, where 1 is normal speed.\n   *\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-defaultplaybackrate}\n   */\n  'defaultPlaybackRate'].forEach(function (prop) {\n    Html5.prototype['set' + toTitleCase(prop)] = function (v) {\n      this.el_[prop] = v;\n    };\n  }); // wrap native functions with a function\n  // The list is as follows:\n  // pause, load, play\n\n  [\n  /**\n   * A wrapper around the media elements `pause` function. This will call the `HTML5`\n   * media elements `pause` function.\n   *\n   * @method Html5#pause\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-pause}\n   */\n  'pause',\n  /**\n   * A wrapper around the media elements `load` function. This will call the `HTML5`s\n   * media element `load` function.\n   *\n   * @method Html5#load\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-load}\n   */\n  'load',\n  /**\n   * A wrapper around the media elements `play` function. This will call the `HTML5`s\n   * media element `play` function.\n   *\n   * @method Html5#play\n   * @see [Spec]{@link https://www.w3.org/TR/html5/embedded-content-0.html#dom-media-play}\n   */\n  'play'].forEach(function (prop) {\n    Html5.prototype[prop] = function () {\n      return this.el_[prop]();\n    };\n  });\n  Tech.withSourceHandlers(Html5);\n  /**\n   * Native source handler for Html5, simply passes the source to the media element.\n   *\n   * @property {Tech~SourceObject} source\n   *        The source object\n   *\n   * @property {Html5} tech\n   *        The instance of the HTML5 tech.\n   */\n\n  Html5.nativeSourceHandler = {};\n  /**\n   * Check if the media element can play the given mime type.\n   *\n   * @param {string} type\n   *        The mimetype to check\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string)\n   */\n\n  Html5.nativeSourceHandler.canPlayType = function (type) {\n    // IE without MediaPlayer throws an error (#519)\n    try {\n      return Html5.TEST_VID.canPlayType(type);\n    } catch (e) {\n      return '';\n    }\n  };\n  /**\n   * Check if the media element can handle a source natively.\n   *\n   * @param {Tech~SourceObject} source\n   *         The source object\n   *\n   * @param {Object} [options]\n   *         Options to be passed to the tech.\n   *\n   * @return {string}\n   *         'probably', 'maybe', or '' (empty string).\n   */\n\n\n  Html5.nativeSourceHandler.canHandleSource = function (source, options) {\n    // If a type was provided we should rely on that\n    if (source.type) {\n      return Html5.nativeSourceHandler.canPlayType(source.type); // If no type, fall back to checking 'video/[EXTENSION]'\n    } else if (source.src) {\n      var ext = getFileExtension(source.src);\n      return Html5.nativeSourceHandler.canPlayType(\"video/\" + ext);\n    }\n\n    return '';\n  };\n  /**\n   * Pass the source to the native media element.\n   *\n   * @param {Tech~SourceObject} source\n   *        The source object\n   *\n   * @param {Html5} tech\n   *        The instance of the Html5 tech\n   *\n   * @param {Object} [options]\n   *        The options to pass to the source\n   */\n\n\n  Html5.nativeSourceHandler.handleSource = function (source, tech, options) {\n    tech.setSrc(source.src);\n  };\n  /**\n   * A noop for the native dispose function, as cleanup is not needed.\n   */\n\n\n  Html5.nativeSourceHandler.dispose = function () {}; // Register the native source handler\n\n\n  Html5.registerSourceHandler(Html5.nativeSourceHandler);\n  Tech.registerTech('Html5', Html5);\n\n  function _templateObject$2() {\n    var data = _taggedTemplateLiteralLoose([\"\\n        Using the tech directly can be dangerous. I hope you know what you're doing.\\n        See https://github.com/videojs/video.js/issues/2617 for more info.\\n      \"]);\n\n    _templateObject$2 = function _templateObject() {\n      return data;\n    };\n\n    return data;\n  }\n  // on the player when they happen\n\n  var TECH_EVENTS_RETRIGGER = [\n  /**\n   * Fired while the user agent is downloading media data.\n   *\n   * @event Player#progress\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `progress` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechProgress_\n   * @fires Player#progress\n   * @listens Tech#progress\n   */\n  'progress',\n  /**\n   * Fires when the loading of an audio/video is aborted.\n   *\n   * @event Player#abort\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `abort` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechAbort_\n   * @fires Player#abort\n   * @listens Tech#abort\n   */\n  'abort',\n  /**\n   * Fires when the browser is intentionally not getting media data.\n   *\n   * @event Player#suspend\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `suspend` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechSuspend_\n   * @fires Player#suspend\n   * @listens Tech#suspend\n   */\n  'suspend',\n  /**\n   * Fires when the current playlist is empty.\n   *\n   * @event Player#emptied\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `emptied` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechEmptied_\n   * @fires Player#emptied\n   * @listens Tech#emptied\n   */\n  'emptied',\n  /**\n   * Fires when the browser is trying to get media data, but data is not available.\n   *\n   * @event Player#stalled\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechStalled_\n   * @fires Player#stalled\n   * @listens Tech#stalled\n   */\n  'stalled',\n  /**\n   * Fires when the browser has loaded meta data for the audio/video.\n   *\n   * @event Player#loadedmetadata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Retrigger the `stalled` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechLoadedmetadata_\n   * @fires Player#loadedmetadata\n   * @listens Tech#loadedmetadata\n   */\n  'loadedmetadata',\n  /**\n   * Fires when the browser has loaded the current frame of the audio/video.\n   *\n   * @event Player#loadeddata\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `loadeddata` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechLoaddeddata_\n   * @fires Player#loadeddata\n   * @listens Tech#loadeddata\n   */\n  'loadeddata',\n  /**\n   * Fires when the current playback position has changed.\n   *\n   * @event Player#timeupdate\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `timeupdate` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechTimeUpdate_\n   * @fires Player#timeupdate\n   * @listens Tech#timeupdate\n   */\n  'timeupdate',\n  /**\n   * Fires when the video's intrinsic dimensions change\n   *\n   * @event Player#resize\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `resize` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechResize_\n   * @fires Player#resize\n   * @listens Tech#resize\n   */\n  'resize',\n  /**\n   * Fires when the volume has been changed\n   *\n   * @event Player#volumechange\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `volumechange` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechVolumechange_\n   * @fires Player#volumechange\n   * @listens Tech#volumechange\n   */\n  'volumechange',\n  /**\n   * Fires when the text track has been changed\n   *\n   * @event Player#texttrackchange\n   * @type {event}\n   */\n\n  /**\n   * Retrigger the `texttrackchange` event that was triggered by the {@link Tech}.\n   *\n   * @private\n   * @method Player#handleTechTexttrackchange_\n   * @fires Player#texttrackchange\n   * @listens Tech#texttrackchange\n   */\n  'texttrackchange']; // events to queue when playback rate is zero\n  // this is a hash for the sole purpose of mapping non-camel-cased event names\n  // to camel-cased function names\n\n  var TECH_EVENTS_QUEUE = {\n    canplay: 'CanPlay',\n    canplaythrough: 'CanPlayThrough',\n    playing: 'Playing',\n    seeked: 'Seeked'\n  };\n  var BREAKPOINT_ORDER = ['tiny', 'xsmall', 'small', 'medium', 'large', 'xlarge', 'huge'];\n  var BREAKPOINT_CLASSES = {}; // grep: vjs-layout-tiny\n  // grep: vjs-layout-x-small\n  // grep: vjs-layout-small\n  // grep: vjs-layout-medium\n  // grep: vjs-layout-large\n  // grep: vjs-layout-x-large\n  // grep: vjs-layout-huge\n\n  BREAKPOINT_ORDER.forEach(function (k) {\n    var v = k.charAt(0) === 'x' ? \"x-\" + k.substring(1) : k;\n    BREAKPOINT_CLASSES[k] = \"vjs-layout-\" + v;\n  });\n  var DEFAULT_BREAKPOINTS = {\n    tiny: 210,\n    xsmall: 320,\n    small: 425,\n    medium: 768,\n    large: 1440,\n    xlarge: 2560,\n    huge: Infinity\n  };\n  /**\n   * An instance of the `Player` class is created when any of the Video.js setup methods\n   * are used to initialize a video.\n   *\n   * After an instance has been created it can be accessed globally in two ways:\n   * 1. By calling `videojs('example_video_1');`\n   * 2. By using it directly via  `videojs.players.example_video_1;`\n   *\n   * @extends Component\n   */\n\n  var Player =\n  /*#__PURE__*/\n  function (_Component) {\n    _inheritsLoose(Player, _Component);\n\n    /**\n     * Create an instance of this class.\n     *\n     * @param {Element} tag\n     *        The original video DOM element used for configuring options.\n     *\n     * @param {Object} [options]\n     *        Object of option names and values.\n     *\n     * @param {Component~ReadyCallback} [ready]\n     *        Ready callback function.\n     */\n    function Player(tag, options, ready) {\n      var _this;\n\n      // Make sure tag ID exists\n      tag.id = tag.id || options.id || \"vjs_video_\" + newGUID(); // Set Options\n      // The options argument overrides options set in the video tag\n      // which overrides globally set options.\n      // This latter part coincides with the load order\n      // (tag must exist before Player)\n\n      options = assign(Player.getTagSettings(tag), options); // Delay the initialization of children because we need to set up\n      // player properties first, and can't use `this` before `super()`\n\n      options.initChildren = false; // Same with creating the element\n\n      options.createEl = false; // don't auto mixin the evented mixin\n\n      options.evented = false; // we don't want the player to report touch activity on itself\n      // see enableTouchActivity in Component\n\n      options.reportTouchActivity = false; // If language is not set, get the closest lang attribute\n\n      if (!options.language) {\n        if (typeof tag.closest === 'function') {\n          var closest = tag.closest('[lang]');\n\n          if (closest && closest.getAttribute) {\n            options.language = closest.getAttribute('lang');\n          }\n        } else {\n          var element = tag;\n\n          while (element && element.nodeType === 1) {\n            if (getAttributes(element).hasOwnProperty('lang')) {\n              options.language = element.getAttribute('lang');\n              break;\n            }\n\n            element = element.parentNode;\n          }\n        }\n      } // Run base component initializing with new options\n\n\n      _this = _Component.call(this, null, options, ready) || this; // Create bound methods for document listeners.\n\n      _this.boundDocumentFullscreenChange_ = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.documentFullscreenChange_);\n      _this.boundFullWindowOnEscKey_ = bind(_assertThisInitialized(_assertThisInitialized(_this)), _this.fullWindowOnEscKey); // create logger\n\n      _this.log = createLogger$1(_this.id_); // Tracks when a tech changes the poster\n\n      _this.isPosterFromTech_ = false; // Holds callback info that gets queued when playback rate is zero\n      // and a seek is happening\n\n      _this.queuedCallbacks_ = []; // Turn off API access because we're loading a new tech that might load asynchronously\n\n      _this.isReady_ = false; // Init state hasStarted_\n\n      _this.hasStarted_ = false; // Init state userActive_\n\n      _this.userActive_ = false; // if the global option object was accidentally blown away by\n      // someone, bail early with an informative error\n\n      if (!_this.options_ || !_this.options_.techOrder || !_this.options_.techOrder.length) {\n        throw new Error('No techOrder specified. Did you overwrite ' + 'videojs.options instead of just changing the ' + 'properties you want to override?');\n      } // Store the original tag used to set options\n\n\n      _this.tag = tag; // Store the tag attributes used to restore html5 element\n\n      _this.tagAttributes = tag && getAttributes(tag); // Update current language\n\n      _this.language(_this.options_.language); // Update Supported Languages\n\n\n      if (options.languages) {\n        // Normalise player option languages to lowercase\n        var languagesToLower = {};\n        Object.getOwnPropertyNames(options.languages).forEach(function (name$$1) {\n          languagesToLower[name$$1.toLowerCase()] = options.languages[name$$1];\n        });\n        _this.languages_ = languagesToLower;\n      } else {\n        _this.languages_ = Player.prototype.options_.languages;\n      }\n\n      _this.resetCache_(); // Set poster\n\n\n      _this.poster_ = options.poster || ''; // Set controls\n\n      _this.controls_ = !!options.controls; // Original tag settings stored in options\n      // now remove immediately so native controls don't flash.\n      // May be turned back on by HTML5 tech if nativeControlsForTouch is true\n\n      tag.controls = false;\n      tag.removeAttribute('controls');\n      _this.changingSrc_ = false;\n      _this.playCallbacks_ = [];\n      _this.playTerminatedQueue_ = []; // the attribute overrides the option\n\n      if (tag.hasAttribute('autoplay')) {\n        _this.autoplay(true);\n      } else {\n        // otherwise use the setter to validate and\n        // set the correct value.\n        _this.autoplay(_this.options_.autoplay);\n      } // check plugins\n\n\n      if (options.plugins) {\n        Object.keys(options.plugins).forEach(function (name$$1) {\n          if (typeof _this[name$$1] !== 'function') {\n            throw new Error(\"plugin \\\"\" + name$$1 + \"\\\" does not exist\");\n          }\n        });\n      }\n      /*\n       * Store the internal state of scrubbing\n       *\n       * @private\n       * @return {Boolean} True if the user is scrubbing\n       */\n\n\n      _this.scrubbing_ = false;\n      _this.el_ = _this.createEl(); // Make this an evented object and use `el_` as its event bus.\n\n      evented(_assertThisInitialized(_assertThisInitialized(_this)), {\n        eventBusKey: 'el_'\n      });\n\n      if (_this.fluid_) {\n        _this.on('playerreset', _this.updateStyleEl_);\n      } // We also want to pass the original player options to each component and plugin\n      // as well so they don't need to reach back into the player for options later.\n      // We also need to do another copy of this.options_ so we don't end up with\n      // an infinite loop.\n\n\n      var playerOptionsCopy = mergeOptions(_this.options_); // Load plugins\n\n      if (options.plugins) {\n        Object.keys(options.plugins).forEach(function (name$$1) {\n          _this[name$$1](options.plugins[name$$1]);\n        });\n      }\n\n      _this.options_.playerOptions = playerOptionsCopy;\n      _this.middleware_ = [];\n\n      _this.initChildren(); // Set isAudio based on whether or not an audio tag was used\n\n\n      _this.isAudio(tag.nodeName.toLowerCase() === 'audio'); // Update controls className. Can't do this when the controls are initially\n      // set because the element doesn't exist yet.\n\n\n      if (_this.controls()) {\n        _this.addClass('vjs-controls-enabled');\n      } else {\n        _this.addClass('vjs-controls-disabled');\n      } // Set ARIA label and region role depending on player type\n\n\n      _this.el_.setAttribute('role', 'region');\n\n      if (_this.isAudio()) {\n        _this.el_.setAttribute('aria-label', _this.localize('Audio Player'));\n      } else {\n        _this.el_.setAttribute('aria-label', _this.localize('Video Player'));\n      }\n\n      if (_this.isAudio()) {\n        _this.addClass('vjs-audio');\n      }\n\n      if (_this.flexNotSupported_()) {\n        _this.addClass('vjs-no-flex');\n      } // TODO: Make this smarter. Toggle user state between touching/mousing\n      // using events, since devices can have both touch and mouse events.\n      // TODO: Make this check be performed again when the window switches between monitors\n      // (See https://github.com/videojs/video.js/issues/5683)\n\n\n      if (TOUCH_ENABLED) {\n        _this.addClass('vjs-touch-enabled');\n      } // iOS Safari has broken hover handling\n\n\n      if (!IS_IOS) {\n        _this.addClass('vjs-workinghover');\n      } // Make player easily findable by ID\n\n\n      Player.players[_this.id_] = _assertThisInitialized(_assertThisInitialized(_this)); // Add a major version class to aid css in plugins\n\n      var majorVersion = version.split('.')[0];\n\n      _this.addClass(\"vjs-v\" + majorVersion); // When the player is first initialized, trigger activity so components\n      // like the control bar show themselves if needed\n\n\n      _this.userActive(true);\n\n      _this.reportUserActivity();\n\n      _this.one('play', _this.listenForUserActivity_);\n\n      _this.on('stageclick', _this.handleStageClick_);\n\n      _this.on('keydown', _this.handleKeyDown);\n\n      _this.breakpoints(_this.options_.breakpoints);\n\n      _this.responsive(_this.options_.responsive);\n\n      return _this;\n    }\n    /**\n     * Destroys the video player and does any necessary cleanup.\n     *\n     * This is especially helpful if you are dynamically adding and removing videos\n     * to/from the DOM.\n     *\n     * @fires Player#dispose\n     */\n\n\n    var _proto = Player.prototype;\n\n    _proto.dispose = function dispose() {\n      var _this2 = this;\n\n      /**\n       * Called when the player is being disposed of.\n       *\n       * @event Player#dispose\n       * @type {EventTarget~Event}\n       */\n      this.trigger('dispose'); // prevent dispose from being called twice\n\n      this.off('dispose'); // Make sure all player-specific document listeners are unbound. This is\n\n      off(document, FullscreenApi.fullscreenchange, this.boundDocumentFullscreenChange_);\n      off(document, 'keydown', this.boundFullWindowOnEscKey_);\n\n      if (this.styleEl_ && this.styleEl_.parentNode) {\n        this.styleEl_.parentNode.removeChild(this.styleEl_);\n        this.styleEl_ = null;\n      } // Kill reference to this player\n\n\n      Player.players[this.id_] = null;\n\n      if (this.tag && this.tag.player) {\n        this.tag.player = null;\n      }\n\n      if (this.el_ && this.el_.player) {\n        this.el_.player = null;\n      }\n\n      if (this.tech_) {\n        this.tech_.dispose();\n        this.isPosterFromTech_ = false;\n        this.poster_ = '';\n      }\n\n      if (this.playerElIngest_) {\n        this.playerElIngest_ = null;\n      }\n\n      if (this.tag) {\n        this.tag = null;\n      }\n\n      clearCacheForPlayer(this); // remove all event handlers for track lists\n      // all tracks and track listeners are removed on\n      // tech dispose\n\n      ALL.names.forEach(function (name$$1) {\n        var props = ALL[name$$1];\n\n        var list = _this2[props.getterName](); // if it is not a native list\n        // we have to manually remove event listeners\n\n\n        if (list && list.off) {\n          list.off();\n        }\n      }); // the actual .el_ is removed here\n\n      _Component.prototype.dispose.call(this);\n    }\n    /**\n     * Create the `Player`'s DOM element.\n     *\n     * @return {Element}\n     *         The DOM element that gets created.\n     */\n    ;\n\n    _proto.createEl = function createEl$$1() {\n      var tag = this.tag;\n      var el;\n      var playerElIngest = this.playerElIngest_ = tag.parentNode && tag.parentNode.hasAttribute && tag.parentNode.hasAttribute('data-vjs-player');\n      var divEmbed = this.tag.tagName.toLowerCase() === 'video-js';\n\n      if (playerElIngest) {\n        el = this.el_ = tag.parentNode;\n      } else if (!divEmbed) {\n        el = this.el_ = _Component.prototype.createEl.call(this, 'div');\n      } // Copy over all the attributes from the tag, including ID and class\n      // ID will now reference player box, not the video tag\n\n\n      var attrs = getAttributes(tag);\n\n      if (divEmbed) {\n        el = this.el_ = tag;\n        tag = this.tag = document.createElement('video');\n\n        while (el.children.length) {\n          tag.appendChild(el.firstChild);\n        }\n\n        if (!hasClass(el, 'video-js')) {\n          addClass(el, 'video-js');\n        }\n\n        el.appendChild(tag);\n        playerElIngest = this.playerElIngest_ = el; // move properties over from our custom `video-js` element\n        // to our new `video` element. This will move things like\n        // `src` or `controls` that were set via js before the player\n        // was initialized.\n\n        Object.keys(el).forEach(function (k) {\n          tag[k] = el[k];\n        });\n      } // set tabindex to -1 to remove the video element from the focus order\n\n\n      tag.setAttribute('tabindex', '-1');\n      attrs.tabindex = '-1'; // Workaround for #4583 (JAWS+IE doesn't announce BPB or play button)\n      // See https://github.com/FreedomScientific/VFO-standards-support/issues/78\n      // Note that we can't detect if JAWS is being used, but this ARIA attribute\n      //  doesn't change behavior of IE11 if JAWS is not being used\n\n      if (IE_VERSION) {\n        tag.setAttribute('role', 'application');\n        attrs.role = 'application';\n      } // Remove width/height attrs from tag so CSS can make it 100% width/height\n\n\n      tag.removeAttribute('width');\n      tag.removeAttribute('height');\n\n      if ('width' in attrs) {\n        delete attrs.width;\n      }\n\n      if ('height' in attrs) {\n        delete attrs.height;\n      }\n\n      Object.getOwnPropertyNames(attrs).forEach(function (attr) {\n        // don't copy over the class attribute to the player element when we're in a div embed\n        // the class is already set up properly in the divEmbed case\n        // and we want to make sure that the `video-js` class doesn't get lost\n        if (!(divEmbed && attr === 'class')) {\n          el.setAttribute(attr, attrs[attr]);\n        }\n\n        if (divEmbed) {\n          tag.setAttribute(attr, attrs[attr]);\n        }\n      }); // Update tag id/class for use as HTML5 playback tech\n      // Might think we should do this after embedding in container so .vjs-tech class\n      // doesn't flash 100% width/height, but class only applies with .video-js parent\n\n      tag.playerId = tag.id;\n      tag.id += '_html5_api';\n      tag.className = 'vjs-tech'; // Make player findable on elements\n\n      tag.player = el.player = this; // Default state of video is paused\n\n      this.addClass('vjs-paused'); // Add a style element in the player that we'll use to set the width/height\n      // of the player in a way that's still overrideable by CSS, just like the\n      // video element\n\n      if (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true) {\n        this.styleEl_ = createStyleElement('vjs-styles-dimensions');\n        var defaultsStyleEl = $('.vjs-styles-defaults');\n        var head = $('head');\n        head.insertBefore(this.styleEl_, defaultsStyleEl ? defaultsStyleEl.nextSibling : head.firstChild);\n      }\n\n      this.fill_ = false;\n      this.fluid_ = false; // Pass in the width/height/aspectRatio options which will update the style el\n\n      this.width(this.options_.width);\n      this.height(this.options_.height);\n      this.fill(this.options_.fill);\n      this.fluid(this.options_.fluid);\n      this.aspectRatio(this.options_.aspectRatio); // Hide any links within the video/audio tag,\n      // because IE doesn't hide them completely from screen readers.\n\n      var links = tag.getElementsByTagName('a');\n\n      for (var i = 0; i < links.length; i++) {\n        var linkEl = links.item(i);\n        addClass(linkEl, 'vjs-hidden');\n        linkEl.setAttribute('hidden', 'hidden');\n      } // insertElFirst seems to cause the networkState to flicker from 3 to 2, so\n      // keep track of the original for later so we can know if the source originally failed\n\n\n      tag.initNetworkState_ = tag.networkState; // Wrap video tag in div (el/box) container\n\n      if (tag.parentNode && !playerElIngest) {\n        tag.parentNode.insertBefore(el, tag);\n      } // insert the tag as the first child of the player element\n      // then manually add it to the children array so that this.addChild\n      // will work properly for other components\n      //\n      // Breaks iPhone, fixed in HTML5 setup.\n\n\n      prependTo(tag, el);\n      this.children_.unshift(tag); // Set lang attr on player to ensure CSS :lang() in consistent with player\n      // if it's been set to something different to the doc\n\n      this.el_.setAttribute('lang', this.language_);\n      this.el_ = el;\n      return el;\n    }\n    /**\n     * A getter/setter for the `Player`'s width. Returns the player's configured value.\n     * To get the current width use `currentWidth()`.\n     *\n     * @param {number} [value]\n     *        The value to set the `Player`'s width to.\n     *\n     * @return {number}\n     *         The current width of the `Player` when getting.\n     */\n    ;\n\n    _proto.width = function width(value) {\n      return this.dimension('width', value);\n    }\n    /**\n     * A getter/setter for the `Player`'s height. Returns the player's configured value.\n     * To get the current height use `currentheight()`.\n     *\n     * @param {number} [value]\n     *        The value to set the `Player`'s heigth to.\n     *\n     * @return {number}\n     *         The current height of the `Player` when getting.\n     */\n    ;\n\n    _proto.height = function height(value) {\n      return this.dimension('height', value);\n    }\n    /**\n     * A getter/setter for the `Player`'s width & height.\n     *\n     * @param {string} dimension\n     *        This string can be:\n     *        - 'width'\n     *        - 'height'\n     *\n     * @param {number} [value]\n     *        Value for dimension specified in the first argument.\n     *\n     * @return {number}\n     *         The dimension arguments value when getting (width/height).\n     */\n    ;\n\n    _proto.dimension = function dimension(_dimension, value) {\n      var privDimension = _dimension + '_';\n\n      if (value === undefined) {\n        return this[privDimension] || 0;\n      }\n\n      if (value === '') {\n        // If an empty string is given, reset the dimension to be automatic\n        this[privDimension] = undefined;\n        this.updateStyleEl_();\n        return;\n      }\n\n      var parsedVal = parseFloat(value);\n\n      if (isNaN(parsedVal)) {\n        log.error(\"Improper value \\\"\" + value + \"\\\" supplied for for \" + _dimension);\n        return;\n      }\n\n      this[privDimension] = parsedVal;\n      this.updateStyleEl_();\n    }\n    /**\n     * A getter/setter/toggler for the vjs-fluid `className` on the `Player`.\n     *\n     * Turning this on will turn off fill mode.\n     *\n     * @param {boolean} [bool]\n     *        - A value of true adds the class.\n     *        - A value of false removes the class.\n     *        - No value will be a getter.\n     *\n     * @return {boolean|undefined}\n     *         - The value of fluid when getting.\n     *         - `undefined` when setting.\n     */\n    ;\n\n    _proto.fluid = function fluid(bool) {\n      if (bool === undefined) {\n        return !!this.fluid_;\n      }\n\n      this.fluid_ = !!bool;\n\n      if (isEvented(this)) {\n        this.off('playerreset', this.updateStyleEl_);\n      }\n\n      if (bool) {\n        this.addClass('vjs-fluid');\n        this.fill(false);\n        addEventedCallback(function () {\n          this.on('playerreset', this.updateStyleEl_);\n        });\n      } else {\n        this.removeClass('vjs-fluid');\n      }\n\n      this.updateStyleEl_();\n    }\n    /**\n     * A getter/setter/toggler for the vjs-fill `className` on the `Player`.\n     *\n     * Turning this on will turn off fluid mode.\n     *\n     * @param {boolean} [bool]\n     *        - A value of true adds the class.\n     *        - A value of false removes the class.\n     *        - No value will be a getter.\n     *\n     * @return {boolean|undefined}\n     *         - The value of fluid when getting.\n     *         - `undefined` when setting.\n     */\n    ;\n\n    _proto.fill = function fill(bool) {\n      if (bool === undefined) {\n        return !!this.fill_;\n      }\n\n      this.fill_ = !!bool;\n\n      if (bool) {\n        this.addClass('vjs-fill');\n        this.fluid(false);\n      } else {\n        this.removeClass('vjs-fill');\n      }\n    }\n    /**\n     * Get/Set the aspect ratio\n     *\n     * @param {string} [ratio]\n     *        Aspect ratio for player\n     *\n     * @return {string|undefined}\n     *         returns the current aspect ratio when getting\n     */\n\n    /**\n     * A getter/setter for the `Player`'s aspect ratio.\n     *\n     * @param {string} [ratio]\n     *        The value to set the `Player's aspect ratio to.\n     *\n     * @return {string|undefined}\n     *         - The current aspect ratio of the `Player` when getting.\n     *         - undefined when setting\n     */\n    ;\n\n    _proto.aspectRatio = function aspectRatio(ratio) {\n      if (ratio === undefined) {\n        return this.aspectRatio_;\n      } // Check for width:height format\n\n\n      if (!/^\\d+\\:\\d+$/.test(ratio)) {\n        throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');\n      }\n\n      this.aspectRatio_ = ratio; // We're assuming if you set an aspect ratio you want fluid mode,\n      // because in fixed mode you could calculate width and height yourself.\n\n      this.fluid(true);\n      this.updateStyleEl_();\n    }\n    /**\n     * Update styles of the `Player` element (height, width and aspect ratio).\n     *\n     * @private\n     * @listens Tech#loadedmetadata\n     */\n    ;\n\n    _proto.updateStyleEl_ = function updateStyleEl_() {\n      if (window$1.VIDEOJS_NO_DYNAMIC_STYLE === true) {\n        var _width = typeof this.width_ === 'number' ? this.width_ : this.options_.width;\n\n        var _height = typeof this.height_ === 'number' ? this.height_ : this.options_.height;\n\n        var techEl = this.tech_ && this.tech_.el();\n\n        if (techEl) {\n          if (_width >= 0) {\n            techEl.width = _width;\n          }\n\n          if (_height >= 0) {\n            techEl.height = _height;\n          }\n        }\n\n        return;\n      }\n\n      var width;\n      var height;\n      var aspectRatio;\n      var idClass; // The aspect ratio is either used directly or to calculate width and height.\n\n      if (this.aspectRatio_ !== undefined && this.aspectRatio_ !== 'auto') {\n        // Use any aspectRatio that's been specifically set\n        aspectRatio = this.aspectRatio_;\n      } else if (this.videoWidth() > 0) {\n        // Otherwise try to get the aspect ratio from the video metadata\n        aspectRatio = this.videoWidth() + ':' + this.videoHeight();\n      } else {\n        // Or use a default. The video element's is 2:1, but 16:9 is more common.\n        aspectRatio = '16:9';\n      } // Get the ratio as a decimal we can use to calculate dimensions\n\n\n      var ratioParts = aspectRatio.split(':');\n      var ratioMultiplier = ratioParts[1] / ratioParts[0];\n\n      if (this.width_ !== undefined) {\n        // Use any width that's been specifically set\n        width = this.width_;\n      } else if (this.height_ !== undefined) {\n        // Or calulate the width from the aspect ratio if a height has been set\n        width = this.height_ / ratioMultiplier;\n      } else {\n        // Or use the video's metadata, or use the video el's default of 300\n        width = this.videoWidth() || 300;\n      }\n\n      if (this.height_ !== undefined) {\n        // Use any height that's been specifically set\n        height = this.height_;\n      } else {\n        // Otherwise calculate the height from the ratio and the width\n        height = width * ratioMultiplier;\n      } // Ensure the CSS class is valid by starting with an alpha character\n\n\n      if (/^[^a-zA-Z]/.test(this.id())) {\n        idClass = 'dimensions-' + this.id();\n      } else {\n        idClass = this.id() + '-dimensions';\n      } // Ensure the right class is still on the player for the style element\n\n\n      this.addClass(idClass);\n      setTextContent(this.styleEl_, \"\\n      .\" + idClass + \" {\\n        width: \" + width + \"px;\\n        height: \" + height + \"px;\\n      }\\n\\n      .\" + idClass + \".vjs-fluid {\\n        padding-top: \" + ratioMultiplier * 100 + \"%;\\n      }\\n    \");\n    }\n    /**\n     * Load/Create an instance of playback {@link Tech} including element\n     * and API methods. Then append the `Tech` element in `Player` as a child.\n     *\n     * @param {string} techName\n     *        name of the playback technology\n     *\n     * @param {string} source\n     *        video source\n     *\n     * @private\n     */\n    ;\n\n    _proto.loadTech_ = function loadTech_(techName, source) {\n      var _this3 = this;\n\n      // Pause and remove current playback technology\n      if (this.tech_) {\n        this.unloadTech_();\n      }\n\n      var titleTechName = toTitleCase(techName);\n      var camelTechName = techName.charAt(0).toLowerCase() + techName.slice(1); // get rid of the HTML5 video tag as soon as we are using another tech\n\n      if (titleTechName !== 'Html5' && this.tag) {\n        Tech.getTech('Html5').disposeMediaElement(this.tag);\n        this.tag.player = null;\n        this.tag = null;\n      }\n\n      this.techName_ = titleTechName; // Turn off API access because we're loading a new tech that might load asynchronously\n\n      this.isReady_ = false; // if autoplay is a string we pass false to the tech\n      // because the player is going to handle autoplay on `loadstart`\n\n      var autoplay = typeof this.autoplay() === 'string' ? false : this.autoplay(); // Grab tech-specific options from player options and add source and parent element to use.\n\n      var techOptions = {\n        source: source,\n        autoplay: autoplay,\n        'nativeControlsForTouch': this.options_.nativeControlsForTouch,\n        'playerId': this.id(),\n        'techId': this.id() + \"_\" + camelTechName + \"_api\",\n        'playsinline': this.options_.playsinline,\n        'preload': this.options_.preload,\n        'loop': this.options_.loop,\n        'muted': this.options_.muted,\n        'poster': this.poster(),\n        'language': this.language(),\n        'playerElIngest': this.playerElIngest_ || false,\n        'vtt.js': this.options_['vtt.js'],\n        'canOverridePoster': !!this.options_.techCanOverridePoster,\n        'enableSourceset': this.options_.enableSourceset\n      };\n      ALL.names.forEach(function (name$$1) {\n        var props = ALL[name$$1];\n        techOptions[props.getterName] = _this3[props.privateName];\n      });\n      assign(techOptions, this.options_[titleTechName]);\n      assign(techOptions, this.options_[camelTechName]);\n      assign(techOptions, this.options_[techName.toLowerCase()]);\n\n      if (this.tag) {\n        techOptions.tag = this.tag;\n      }\n\n      if (source && source.src === this.cache_.src && this.cache_.currentTime > 0) {\n        techOptions.startTime = this.cache_.currentTime;\n      } // Initialize tech instance\n\n\n      var TechClass = Tech.getTech(techName);\n\n      if (!TechClass) {\n        throw new Error(\"No Tech named '\" + titleTechName + \"' exists! '\" + titleTechName + \"' should be registered using videojs.registerTech()'\");\n      }\n\n      this.tech_ = new TechClass(techOptions); // player.triggerReady is always async, so don't need this to be async\n\n      this.tech_.ready(bind(this, this.handleTechReady_), true);\n      textTrackConverter.jsonToTextTracks(this.textTracksJson_ || [], this.tech_); // Listen to all HTML5-defined events and trigger them on the player\n\n      TECH_EVENTS_RETRIGGER.forEach(function (event) {\n        _this3.on(_this3.tech_, event, _this3[\"handleTech\" + toTitleCase(event) + \"_\"]);\n      });\n      Object.keys(TECH_EVENTS_QUEUE).forEach(function (event) {\n        _this3.on(_this3.tech_, event, function (eventObj) {\n          if (_this3.tech_.playbackRate() === 0 && _this3.tech_.seeking()) {\n            _this3.queuedCallbacks_.push({\n              callback: _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"].bind(_this3),\n              event: eventObj\n            });\n\n            return;\n          }\n\n          _this3[\"handleTech\" + TECH_EVENTS_QUEUE[event] + \"_\"](eventObj);\n        });\n      });\n      this.on(this.tech_, 'loadstart', this.handleTechLoadStart_);\n      this.on(this.tech_, 'sourceset', this.handleTechSourceset_);\n      this.on(this.tech_, 'waiting', this.handleTechWaiting_);\n      this.on(this.tech_, 'ended', this.handleTechEnded_);\n      this.on(this.tech_, 'seeking', this.handleTechSeeking_);\n      this.on(this.tech_, 'play', this.handleTechPlay_);\n      this.on(this.tech_, 'firstplay', this.handleTechFirstPlay_);\n      this.on(this.tech_, 'pause', this.handleTechPause_);\n      this.on(this.tech_, 'durationchange', this.handleTechDurationChange_);\n      this.on(this.tech_, 'fullscreenchange', this.handleTechFullscreenChange_);\n      this.on(this.tech_, 'error', this.handleTechError_);\n      this.on(this.tech_, 'loadedmetadata', this.updateStyleEl_);\n      this.on(this.tech_, 'posterchange', this.handleTechPosterChange_);\n      this.on(this.tech_, 'textdata', this.handleTechTextData_);\n      this.on(this.tech_, 'ratechange', this.handleTechRateChange_);\n      this.usingNativeControls(this.techGet_('controls'));\n\n      if (this.controls() && !this.usingNativeControls()) {\n        this.addTechControlsListeners_();\n      } // Add the tech element in the DOM if it was not already there\n      // Make sure to not insert the original video element if using Html5\n\n\n      if (this.tech_.el().parentNode !== this.el() && (titleTechName !== 'Html5' || !this.tag)) {\n        prependTo(this.tech_.el(), this.el());\n      } // Get rid of the original video tag reference after the first tech is loaded\n\n\n      if (this.tag) {\n        this.tag.player = null;\n        this.tag = null;\n      }\n    }\n    /**\n     * Unload and dispose of the current playback {@link Tech}.\n     *\n     * @private\n     */\n    ;\n\n    _proto.unloadTech_ = function unloadTech_() {\n      var _this4 = this;\n\n      // Save the current text tracks so that we can reuse the same text tracks with the next tech\n      ALL.names.forEach(function (name$$1) {\n        var props = ALL[name$$1];\n        _this4[props.privateName] = _this4[props.getterName]();\n      });\n      this.textTracksJson_ = textTrackConverter.textTracksToJson(this.tech_);\n      this.isReady_ = false;\n      this.tech_.dispose();\n      this.tech_ = false;\n\n      if (this.isPosterFromTech_) {\n        this.poster_ = '';\n        this.trigger('posterchange');\n      }\n\n      this.isPosterFromTech_ = false;\n    }\n    /**\n     * Return a reference to the current {@link Tech}.\n     * It will print a warning by default about the danger of using the tech directly\n     * but any argument that is passed in will silence the warning.\n     *\n     * @param {*} [safety]\n     *        Anything passed in to silence the warning\n     *\n     * @return {Tech}\n     *         The Tech\n     */\n    ;\n\n    _proto.tech = function tech(safety) {\n      if (safety === undefined) {\n        log.warn(tsml(_templateObject$2()));\n      }\n\n      return this.tech_;\n    }\n    /**\n     * Set up click and touch listeners for the playback element\n     *\n     * - On desktops: a click on the video itself will toggle playback\n     * - On mobile devices: a click on the video toggles controls\n     *   which is done by toggling the user state between active and\n     *   inactive\n     * - A tap can signal that a user has become active or has become inactive\n     *   e.g. a quick tap on an iPhone movie should reveal the controls. Another\n     *   quick tap should hide them again (signaling the user is in an inactive\n     *   viewing state)\n     * - In addition to this, we still want the user to be considered inactive after\n     *   a few seconds of inactivity.\n     *\n     * > Note: the only part of iOS interaction we can't mimic with this setup\n     * is a touch and hold on the video element counting as activity in order to\n     * keep the controls showing, but that shouldn't be an issue. A touch and hold\n     * on any controls will still keep the user active\n     *\n     * @private\n     */\n    ;\n\n    _proto.addTechControlsListeners_ = function addTechControlsListeners_() {\n      // Make sure to remove all the previous listeners in case we are called multiple times.\n      this.removeTechControlsListeners_(); // Some browsers (Chrome & IE) don't trigger a click on a flash swf, but do\n      // trigger mousedown/up.\n      // http://stackoverflow.com/questions/1444562/javascript-onclick-event-over-flash-object\n      // Any touch events are set to block the mousedown event from happening\n\n      this.on(this.tech_, 'mousedown', this.handleTechClick_);\n      this.on(this.tech_, 'dblclick', this.handleTechDoubleClick_); // If the controls were hidden we don't want that to change without a tap event\n      // so we'll check if the controls were already showing before reporting user\n      // activity\n\n      this.on(this.tech_, 'touchstart', this.handleTechTouchStart_);\n      this.on(this.tech_, 'touchmove', this.handleTechTouchMove_);\n      this.on(this.tech_, 'touchend', this.handleTechTouchEnd_); // The tap listener needs to come after the touchend listener because the tap\n      // listener cancels out any reportedUserActivity when setting userActive(false)\n\n      this.on(this.tech_, 'tap', this.handleTechTap_);\n    }\n    /**\n     * Remove the listeners used for click and tap controls. This is needed for\n     * toggling to controls disabled, where a tap/touch should do nothing.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeTechControlsListeners_ = function removeTechControlsListeners_() {\n      // We don't want to just use `this.off()` because there might be other needed\n      // listeners added by techs that extend this.\n      this.off(this.tech_, 'tap', this.handleTechTap_);\n      this.off(this.tech_, 'touchstart', this.handleTechTouchStart_);\n      this.off(this.tech_, 'touchmove', this.handleTechTouchMove_);\n      this.off(this.tech_, 'touchend', this.handleTechTouchEnd_);\n      this.off(this.tech_, 'mousedown', this.handleTechClick_);\n      this.off(this.tech_, 'dblclick', this.handleTechDoubleClick_);\n    }\n    /**\n     * Player waits for the tech to be ready\n     *\n     * @private\n     */\n    ;\n\n    _proto.handleTechReady_ = function handleTechReady_() {\n      this.triggerReady(); // Keep the same volume as before\n\n      if (this.cache_.volume) {\n        this.techCall_('setVolume', this.cache_.volume);\n      } // Look if the tech found a higher resolution poster while loading\n\n\n      this.handleTechPosterChange_(); // Update the duration if available\n\n      this.handleTechDurationChange_();\n    }\n    /**\n     * Retrigger the `loadstart` event that was triggered by the {@link Tech}. This\n     * function will also trigger {@link Player#firstplay} if it is the first loadstart\n     * for a video.\n     *\n     * @fires Player#loadstart\n     * @fires Player#firstplay\n     * @listens Tech#loadstart\n     * @private\n     */\n    ;\n\n    _proto.handleTechLoadStart_ = function handleTechLoadStart_() {\n      // TODO: Update to use `emptied` event instead. See #1277.\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-seeking'); // reset the error state\n\n      this.error(null); // Update the duration\n\n      this.handleTechDurationChange_(); // If it's already playing we want to trigger a firstplay event now.\n      // The firstplay event relies on both the play and loadstart events\n      // which can happen in any order for a new source\n\n      if (!this.paused()) {\n        /**\n         * Fired when the user agent begins looking for media data\n         *\n         * @event Player#loadstart\n         * @type {EventTarget~Event}\n         */\n        this.trigger('loadstart');\n        this.trigger('firstplay');\n      } else {\n        // reset the hasStarted state\n        this.hasStarted(false);\n        this.trigger('loadstart');\n      } // autoplay happens after loadstart for the browser,\n      // so we mimic that behavior\n\n\n      this.manualAutoplay_(this.autoplay());\n    }\n    /**\n     * Handle autoplay string values, rather than the typical boolean\n     * values that should be handled by the tech. Note that this is not\n     * part of any specification. Valid values and what they do can be\n     * found on the autoplay getter at Player#autoplay()\n     */\n    ;\n\n    _proto.manualAutoplay_ = function manualAutoplay_(type) {\n      var _this5 = this;\n\n      if (!this.tech_ || typeof type !== 'string') {\n        return;\n      }\n\n      var muted = function muted() {\n        var previouslyMuted = _this5.muted();\n\n        _this5.muted(true);\n\n        var restoreMuted = function restoreMuted() {\n          _this5.muted(previouslyMuted);\n        }; // restore muted on play terminatation\n\n\n        _this5.playTerminatedQueue_.push(restoreMuted);\n\n        var mutedPromise = _this5.play();\n\n        if (!isPromise(mutedPromise)) {\n          return;\n        }\n\n        return mutedPromise.catch(restoreMuted);\n      };\n\n      var promise; // if muted defaults to true\n      // the only thing we can do is call play\n\n      if (type === 'any' && this.muted() !== true) {\n        promise = this.play();\n\n        if (isPromise(promise)) {\n          promise = promise.catch(muted);\n        }\n      } else if (type === 'muted' && this.muted() !== true) {\n        promise = muted();\n      } else {\n        promise = this.play();\n      }\n\n      if (!isPromise(promise)) {\n        return;\n      }\n\n      return promise.then(function () {\n        _this5.trigger({\n          type: 'autoplay-success',\n          autoplay: type\n        });\n      }).catch(function (e) {\n        _this5.trigger({\n          type: 'autoplay-failure',\n          autoplay: type\n        });\n      });\n    }\n    /**\n     * Update the internal source caches so that we return the correct source from\n     * `src()`, `currentSource()`, and `currentSources()`.\n     *\n     * > Note: `currentSources` will not be updated if the source that is passed in exists\n     *         in the current `currentSources` cache.\n     *\n     *\n     * @param {Tech~SourceObject} srcObj\n     *        A string or object source to update our caches to.\n     */\n    ;\n\n    _proto.updateSourceCaches_ = function updateSourceCaches_(srcObj) {\n      if (srcObj === void 0) {\n        srcObj = '';\n      }\n\n      var src = srcObj;\n      var type = '';\n\n      if (typeof src !== 'string') {\n        src = srcObj.src;\n        type = srcObj.type;\n      } // make sure all the caches are set to default values\n      // to prevent null checking\n\n\n      this.cache_.source = this.cache_.source || {};\n      this.cache_.sources = this.cache_.sources || []; // try to get the type of the src that was passed in\n\n      if (src && !type) {\n        type = findMimetype(this, src);\n      } // update `currentSource` cache always\n\n\n      this.cache_.source = mergeOptions({}, srcObj, {\n        src: src,\n        type: type\n      });\n      var matchingSources = this.cache_.sources.filter(function (s) {\n        return s.src && s.src === src;\n      });\n      var sourceElSources = [];\n      var sourceEls = this.$$('source');\n      var matchingSourceEls = [];\n\n      for (var i = 0; i < sourceEls.length; i++) {\n        var sourceObj = getAttributes(sourceEls[i]);\n        sourceElSources.push(sourceObj);\n\n        if (sourceObj.src && sourceObj.src === src) {\n          matchingSourceEls.push(sourceObj.src);\n        }\n      } // if we have matching source els but not matching sources\n      // the current source cache is not up to date\n\n\n      if (matchingSourceEls.length && !matchingSources.length) {\n        this.cache_.sources = sourceElSources; // if we don't have matching source or source els set the\n        // sources cache to the `currentSource` cache\n      } else if (!matchingSources.length) {\n        this.cache_.sources = [this.cache_.source];\n      } // update the tech `src` cache\n\n\n      this.cache_.src = src;\n    }\n    /**\n     * *EXPERIMENTAL* Fired when the source is set or changed on the {@link Tech}\n     * causing the media element to reload.\n     *\n     * It will fire for the initial source and each subsequent source.\n     * This event is a custom event from Video.js and is triggered by the {@link Tech}.\n     *\n     * The event object for this event contains a `src` property that will contain the source\n     * that was available when the event was triggered. This is generally only necessary if Video.js\n     * is switching techs while the source was being changed.\n     *\n     * It is also fired when `load` is called on the player (or media element)\n     * because the {@link https://html.spec.whatwg.org/multipage/media.html#dom-media-load|specification for `load`}\n     * says that the resource selection algorithm needs to be aborted and restarted.\n     * In this case, it is very likely that the `src` property will be set to the\n     * empty string `\"\"` to indicate we do not know what the source will be but\n     * that it is changing.\n     *\n     * *This event is currently still experimental and may change in minor releases.*\n     * __To use this, pass `enableSourceset` option to the player.__\n     *\n     * @event Player#sourceset\n     * @type {EventTarget~Event}\n     * @prop {string} src\n     *                The source url available when the `sourceset` was triggered.\n     *                It will be an empty string if we cannot know what the source is\n     *                but know that the source will change.\n     */\n\n    /**\n     * Retrigger the `sourceset` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#sourceset\n     * @listens Tech#sourceset\n     * @private\n     */\n    ;\n\n    _proto.handleTechSourceset_ = function handleTechSourceset_(event) {\n      var _this6 = this;\n\n      // only update the source cache when the source\n      // was not updated using the player api\n      if (!this.changingSrc_) {\n        var updateSourceCaches = function updateSourceCaches(src) {\n          return _this6.updateSourceCaches_(src);\n        };\n\n        var playerSrc = this.currentSource().src;\n        var eventSrc = event.src; // if we have a playerSrc that is not a blob, and a tech src that is a blob\n\n        if (playerSrc && !/^blob:/.test(playerSrc) && /^blob:/.test(eventSrc)) {\n          // if both the tech source and the player source were updated we assume\n          // something like @videojs/http-streaming did the sourceset and skip updating the source cache.\n          if (!this.lastSource_ || this.lastSource_.tech !== eventSrc && this.lastSource_.player !== playerSrc) {\n            updateSourceCaches = function updateSourceCaches() {};\n          }\n        } // update the source to the intial source right away\n        // in some cases this will be empty string\n\n\n        updateSourceCaches(eventSrc); // if the `sourceset` `src` was an empty string\n        // wait for a `loadstart` to update the cache to `currentSrc`.\n        // If a sourceset happens before a `loadstart`, we reset the state\n        // as this function will be called again.\n\n        if (!event.src) {\n          var updateCache = function updateCache(e) {\n            if (e.type !== 'sourceset') {\n              var techSrc = _this6.techGet('currentSrc');\n\n              _this6.lastSource_.tech = techSrc;\n\n              _this6.updateSourceCaches_(techSrc);\n            }\n\n            _this6.tech_.off(['sourceset', 'loadstart'], updateCache);\n          };\n\n          this.tech_.one(['sourceset', 'loadstart'], updateCache);\n        }\n      }\n\n      this.lastSource_ = {\n        player: this.currentSource().src,\n        tech: event.src\n      };\n      this.trigger({\n        src: event.src,\n        type: 'sourceset'\n      });\n    }\n    /**\n     * Add/remove the vjs-has-started class\n     *\n     * @fires Player#firstplay\n     *\n     * @param {boolean} request\n     *        - true: adds the class\n     *        - false: remove the class\n     *\n     * @return {boolean}\n     *         the boolean value of hasStarted_\n     */\n    ;\n\n    _proto.hasStarted = function hasStarted(request) {\n      if (request === undefined) {\n        // act as getter, if we have no request to change\n        return this.hasStarted_;\n      }\n\n      if (request === this.hasStarted_) {\n        return;\n      }\n\n      this.hasStarted_ = request;\n\n      if (this.hasStarted_) {\n        this.addClass('vjs-has-started');\n        this.trigger('firstplay');\n      } else {\n        this.removeClass('vjs-has-started');\n      }\n    }\n    /**\n     * Fired whenever the media begins or resumes playback\n     *\n     * @see [Spec]{@link https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-play}\n     * @fires Player#play\n     * @listens Tech#play\n     * @private\n     */\n    ;\n\n    _proto.handleTechPlay_ = function handleTechPlay_() {\n      this.removeClass('vjs-ended');\n      this.removeClass('vjs-paused');\n      this.addClass('vjs-playing'); // hide the poster when the user hits play\n\n      this.hasStarted(true);\n      /**\n       * Triggered whenever an {@link Tech#play} event happens. Indicates that\n       * playback has started or resumed.\n       *\n       * @event Player#play\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('play');\n    }\n    /**\n     * Retrigger the `ratechange` event that was triggered by the {@link Tech}.\n     *\n     * If there were any events queued while the playback rate was zero, fire\n     * those events now.\n     *\n     * @private\n     * @method Player#handleTechRateChange_\n     * @fires Player#ratechange\n     * @listens Tech#ratechange\n     */\n    ;\n\n    _proto.handleTechRateChange_ = function handleTechRateChange_() {\n      if (this.tech_.playbackRate() > 0 && this.cache_.lastPlaybackRate === 0) {\n        this.queuedCallbacks_.forEach(function (queued) {\n          return queued.callback(queued.event);\n        });\n        this.queuedCallbacks_ = [];\n      }\n\n      this.cache_.lastPlaybackRate = this.tech_.playbackRate();\n      /**\n       * Fires when the playing speed of the audio/video is changed\n       *\n       * @event Player#ratechange\n       * @type {event}\n       */\n\n      this.trigger('ratechange');\n    }\n    /**\n     * Retrigger the `waiting` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#waiting\n     * @listens Tech#waiting\n     * @private\n     */\n    ;\n\n    _proto.handleTechWaiting_ = function handleTechWaiting_() {\n      var _this7 = this;\n\n      this.addClass('vjs-waiting');\n      /**\n       * A readyState change on the DOM element has caused playback to stop.\n       *\n       * @event Player#waiting\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('waiting'); // Browsers may emit a timeupdate event after a waiting event. In order to prevent\n      // premature removal of the waiting class, wait for the time to change.\n\n      var timeWhenWaiting = this.currentTime();\n\n      var timeUpdateListener = function timeUpdateListener() {\n        if (timeWhenWaiting !== _this7.currentTime()) {\n          _this7.removeClass('vjs-waiting');\n\n          _this7.off('timeupdate', timeUpdateListener);\n        }\n      };\n\n      this.on('timeupdate', timeUpdateListener);\n    }\n    /**\n     * Retrigger the `canplay` event that was triggered by the {@link Tech}.\n     * > Note: This is not consistent between browsers. See #1351\n     *\n     * @fires Player#canplay\n     * @listens Tech#canplay\n     * @private\n     */\n    ;\n\n    _proto.handleTechCanPlay_ = function handleTechCanPlay_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media has a readyState of HAVE_FUTURE_DATA or greater.\n       *\n       * @event Player#canplay\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('canplay');\n    }\n    /**\n     * Retrigger the `canplaythrough` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#canplaythrough\n     * @listens Tech#canplaythrough\n     * @private\n     */\n    ;\n\n    _proto.handleTechCanPlayThrough_ = function handleTechCanPlayThrough_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media has a readyState of HAVE_ENOUGH_DATA or greater. This means that the\n       * entire media file can be played without buffering.\n       *\n       * @event Player#canplaythrough\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('canplaythrough');\n    }\n    /**\n     * Retrigger the `playing` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#playing\n     * @listens Tech#playing\n     * @private\n     */\n    ;\n\n    _proto.handleTechPlaying_ = function handleTechPlaying_() {\n      this.removeClass('vjs-waiting');\n      /**\n       * The media is no longer blocked from playback, and has started playing.\n       *\n       * @event Player#playing\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('playing');\n    }\n    /**\n     * Retrigger the `seeking` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#seeking\n     * @listens Tech#seeking\n     * @private\n     */\n    ;\n\n    _proto.handleTechSeeking_ = function handleTechSeeking_() {\n      this.addClass('vjs-seeking');\n      /**\n       * Fired whenever the player is jumping to a new time\n       *\n       * @event Player#seeking\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('seeking');\n    }\n    /**\n     * Retrigger the `seeked` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#seeked\n     * @listens Tech#seeked\n     * @private\n     */\n    ;\n\n    _proto.handleTechSeeked_ = function handleTechSeeked_() {\n      this.removeClass('vjs-seeking');\n      this.removeClass('vjs-ended');\n      /**\n       * Fired when the player has finished jumping to a new time\n       *\n       * @event Player#seeked\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('seeked');\n    }\n    /**\n     * Retrigger the `firstplay` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#firstplay\n     * @listens Tech#firstplay\n     * @deprecated As of 6.0 firstplay event is deprecated.\n     *             As of 6.0 passing the `starttime` option to the player and the firstplay event are deprecated.\n     * @private\n     */\n    ;\n\n    _proto.handleTechFirstPlay_ = function handleTechFirstPlay_() {\n      // If the first starttime attribute is specified\n      // then we will start at the given offset in seconds\n      if (this.options_.starttime) {\n        log.warn('Passing the `starttime` option to the player will be deprecated in 6.0');\n        this.currentTime(this.options_.starttime);\n      }\n\n      this.addClass('vjs-has-started');\n      /**\n       * Fired the first time a video is played. Not part of the HLS spec, and this is\n       * probably not the best implementation yet, so use sparingly. If you don't have a\n       * reason to prevent playback, use `myPlayer.one('play');` instead.\n       *\n       * @event Player#firstplay\n       * @deprecated As of 6.0 firstplay event is deprecated.\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('firstplay');\n    }\n    /**\n     * Retrigger the `pause` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#pause\n     * @listens Tech#pause\n     * @private\n     */\n    ;\n\n    _proto.handleTechPause_ = function handleTechPause_() {\n      this.removeClass('vjs-playing');\n      this.addClass('vjs-paused');\n      /**\n       * Fired whenever the media has been paused\n       *\n       * @event Player#pause\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('pause');\n    }\n    /**\n     * Retrigger the `ended` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#ended\n     * @listens Tech#ended\n     * @private\n     */\n    ;\n\n    _proto.handleTechEnded_ = function handleTechEnded_() {\n      this.addClass('vjs-ended');\n\n      if (this.options_.loop) {\n        this.currentTime(0);\n        this.play();\n      } else if (!this.paused()) {\n        this.pause();\n      }\n      /**\n       * Fired when the end of the media resource is reached (currentTime == duration)\n       *\n       * @event Player#ended\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('ended');\n    }\n    /**\n     * Fired when the duration of the media resource is first known or changed\n     *\n     * @listens Tech#durationchange\n     * @private\n     */\n    ;\n\n    _proto.handleTechDurationChange_ = function handleTechDurationChange_() {\n      this.duration(this.techGet_('duration'));\n    }\n    /**\n     * Handle a click on the media element to play/pause\n     *\n     * @param {EventTarget~Event} event\n     *        the event that caused this function to trigger\n     *\n     * @listens Tech#mousedown\n     * @private\n     */\n    ;\n\n    _proto.handleTechClick_ = function handleTechClick_(event) {\n      if (!isSingleLeftClick(event)) {\n        return;\n      } // When controls are disabled a click should not toggle playback because\n      // the click is considered a control\n\n\n      if (!this.controls_) {\n        return;\n      }\n\n      if (this.paused()) {\n        silencePromise(this.play());\n      } else {\n        this.pause();\n      }\n    }\n    /**\n     * Handle a double-click on the media element to enter/exit fullscreen\n     *\n     * @param {EventTarget~Event} event\n     *        the event that caused this function to trigger\n     *\n     * @listens Tech#dblclick\n     * @private\n     */\n    ;\n\n    _proto.handleTechDoubleClick_ = function handleTechDoubleClick_(event) {\n      if (!this.controls_) {\n        return;\n      } // we do not want to toggle fullscreen state\n      // when double-clicking inside a control bar or a modal\n\n\n      var inAllowedEls = Array.prototype.some.call(this.$$('.vjs-control-bar, .vjs-modal-dialog'), function (el) {\n        return el.contains(event.target);\n      });\n\n      if (!inAllowedEls) {\n        /*\n         * options.userActions.doubleClick\n         *\n         * If `undefined` or `true`, double-click toggles fullscreen if controls are present\n         * Set to `false` to disable double-click handling\n         * Set to a function to substitute an external double-click handler\n         */\n        if (this.options_ === undefined || this.options_.userActions === undefined || this.options_.userActions.doubleClick === undefined || this.options_.userActions.doubleClick !== false) {\n          if (this.options_ !== undefined && this.options_.userActions !== undefined && typeof this.options_.userActions.doubleClick === 'function') {\n            this.options_.userActions.doubleClick.call(this, event);\n          } else if (this.isFullscreen()) {\n            this.exitFullscreen();\n          } else {\n            this.requestFullscreen();\n          }\n        }\n      }\n    }\n    /**\n     * Handle a tap on the media element. It will toggle the user\n     * activity state, which hides and shows the controls.\n     *\n     * @listens Tech#tap\n     * @private\n     */\n    ;\n\n    _proto.handleTechTap_ = function handleTechTap_() {\n      this.userActive(!this.userActive());\n    }\n    /**\n     * Handle touch to start\n     *\n     * @listens Tech#touchstart\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchStart_ = function handleTechTouchStart_() {\n      this.userWasActive = this.userActive();\n    }\n    /**\n     * Handle touch to move\n     *\n     * @listens Tech#touchmove\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchMove_ = function handleTechTouchMove_() {\n      if (this.userWasActive) {\n        this.reportUserActivity();\n      }\n    }\n    /**\n     * Handle touch to end\n     *\n     * @param {EventTarget~Event} event\n     *        the touchend event that triggered\n     *        this function\n     *\n     * @listens Tech#touchend\n     * @private\n     */\n    ;\n\n    _proto.handleTechTouchEnd_ = function handleTechTouchEnd_(event) {\n      // Stop the mouse events from also happening\n      event.preventDefault();\n    }\n    /**\n     * native click events on the SWF aren't triggered on IE11, Win8.1RT\n     * use stageclick events triggered from inside the SWF instead\n     *\n     * @private\n     * @listens stageclick\n     */\n    ;\n\n    _proto.handleStageClick_ = function handleStageClick_() {\n      this.reportUserActivity();\n    }\n    /**\n     * @private\n     */\n    ;\n\n    _proto.toggleFullscreenClass_ = function toggleFullscreenClass_() {\n      if (this.isFullscreen()) {\n        this.addClass('vjs-fullscreen');\n      } else {\n        this.removeClass('vjs-fullscreen');\n      }\n    }\n    /**\n     * when the document fschange event triggers it calls this\n     */\n    ;\n\n    _proto.documentFullscreenChange_ = function documentFullscreenChange_(e) {\n      var fsApi = FullscreenApi;\n      var el = this.el();\n      var isFs = document[fsApi.fullscreenElement] === el;\n\n      if (!isFs && el.matches) {\n        isFs = el.matches(':' + fsApi.fullscreen);\n      } else if (!isFs && el.msMatchesSelector) {\n        isFs = el.msMatchesSelector(':' + fsApi.fullscreen);\n      }\n\n      this.isFullscreen(isFs); // If cancelling fullscreen, remove event listener.\n\n      if (this.isFullscreen() === false) {\n        off(document, fsApi.fullscreenchange, this.boundDocumentFullscreenChange_);\n      }\n\n      if (!prefixedAPI) {\n        /**\n         * @event Player#fullscreenchange\n         * @type {EventTarget~Event}\n         */\n        this.trigger('fullscreenchange');\n      }\n    }\n    /**\n     * Handle Tech Fullscreen Change\n     *\n     * @param {EventTarget~Event} event\n     *        the fullscreenchange event that triggered this function\n     *\n     * @param {Object} data\n     *        the data that was sent with the event\n     *\n     * @private\n     * @listens Tech#fullscreenchange\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.handleTechFullscreenChange_ = function handleTechFullscreenChange_(event, data) {\n      if (data) {\n        this.isFullscreen(data.isFullscreen);\n      }\n      /**\n       * Fired when going in and out of fullscreen.\n       *\n       * @event Player#fullscreenchange\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('fullscreenchange');\n    }\n    /**\n     * Fires when an error occurred during the loading of an audio/video.\n     *\n     * @private\n     * @listens Tech#error\n     */\n    ;\n\n    _proto.handleTechError_ = function handleTechError_() {\n      var error = this.tech_.error();\n      this.error(error);\n    }\n    /**\n     * Retrigger the `textdata` event that was triggered by the {@link Tech}.\n     *\n     * @fires Player#textdata\n     * @listens Tech#textdata\n     * @private\n     */\n    ;\n\n    _proto.handleTechTextData_ = function handleTechTextData_() {\n      var data = null;\n\n      if (arguments.length > 1) {\n        data = arguments[1];\n      }\n      /**\n       * Fires when we get a textdata event from tech\n       *\n       * @event Player#textdata\n       * @type {EventTarget~Event}\n       */\n\n\n      this.trigger('textdata', data);\n    }\n    /**\n     * Get object for cached values.\n     *\n     * @return {Object}\n     *         get the current object cache\n     */\n    ;\n\n    _proto.getCache = function getCache() {\n      return this.cache_;\n    }\n    /**\n     * Resets the internal cache object.\n     *\n     * Using this function outside the player constructor or reset method may\n     * have unintended side-effects.\n     *\n     * @private\n     */\n    ;\n\n    _proto.resetCache_ = function resetCache_() {\n      this.cache_ = {\n        // Right now, the currentTime is not _really_ cached because it is always\n        // retrieved from the tech (see: currentTime). However, for completeness,\n        // we set it to zero here to ensure that if we do start actually caching\n        // it, we reset it along with everything else.\n        currentTime: 0,\n        inactivityTimeout: this.options_.inactivityTimeout,\n        duration: NaN,\n        lastVolume: 1,\n        lastPlaybackRate: this.defaultPlaybackRate(),\n        media: null,\n        src: '',\n        source: {},\n        sources: [],\n        volume: 1\n      };\n    }\n    /**\n     * Pass values to the playback tech\n     *\n     * @param {string} [method]\n     *        the method to call\n     *\n     * @param {Object} arg\n     *        the argument to pass\n     *\n     * @private\n     */\n    ;\n\n    _proto.techCall_ = function techCall_(method, arg) {\n      // If it's not ready yet, call method when it is\n      this.ready(function () {\n        if (method in allowedSetters) {\n          return set$1(this.middleware_, this.tech_, method, arg);\n        } else if (method in allowedMediators) {\n          return mediate(this.middleware_, this.tech_, method, arg);\n        }\n\n        try {\n          if (this.tech_) {\n            this.tech_[method](arg);\n          }\n        } catch (e) {\n          log(e);\n          throw e;\n        }\n      }, true);\n    }\n    /**\n     * Get calls can't wait for the tech, and sometimes don't need to.\n     *\n     * @param {string} method\n     *        Tech method\n     *\n     * @return {Function|undefined}\n     *         the method or undefined\n     *\n     * @private\n     */\n    ;\n\n    _proto.techGet_ = function techGet_(method) {\n      if (!this.tech_ || !this.tech_.isReady_) {\n        return;\n      }\n\n      if (method in allowedGetters) {\n        return get(this.middleware_, this.tech_, method);\n      } else if (method in allowedMediators) {\n        return mediate(this.middleware_, this.tech_, method);\n      } // Flash likes to die and reload when you hide or reposition it.\n      // In these cases the object methods go away and we get errors.\n      // When that happens we'll catch the errors and inform tech that it's not ready any more.\n\n\n      try {\n        return this.tech_[method]();\n      } catch (e) {\n        // When building additional tech libs, an expected method may not be defined yet\n        if (this.tech_[method] === undefined) {\n          log(\"Video.js: \" + method + \" method not defined for \" + this.techName_ + \" playback technology.\", e);\n          throw e;\n        } // When a method isn't available on the object it throws a TypeError\n\n\n        if (e.name === 'TypeError') {\n          log(\"Video.js: \" + method + \" unavailable on \" + this.techName_ + \" playback technology element.\", e);\n          this.tech_.isReady_ = false;\n          throw e;\n        } // If error unknown, just log and throw\n\n\n        log(e);\n        throw e;\n      }\n    }\n    /**\n     * Attempt to begin playback at the first opportunity.\n     *\n     * @return {Promise|undefined}\n     *         Returns a promise if the browser supports Promises (or one\n     *         was passed in as an option). This promise will be resolved on\n     *         the return value of play. If this is undefined it will fulfill the\n     *         promise chain otherwise the promise chain will be fulfilled when\n     *         the promise from play is fulfilled.\n     */\n    ;\n\n    _proto.play = function play() {\n      var _this8 = this;\n\n      var PromiseClass = this.options_.Promise || window$1.Promise;\n\n      if (PromiseClass) {\n        return new PromiseClass(function (resolve) {\n          _this8.play_(resolve);\n        });\n      }\n\n      return this.play_();\n    }\n    /**\n     * The actual logic for play, takes a callback that will be resolved on the\n     * return value of play. This allows us to resolve to the play promise if there\n     * is one on modern browsers.\n     *\n     * @private\n     * @param {Function} [callback]\n     *        The callback that should be called when the techs play is actually called\n     */\n    ;\n\n    _proto.play_ = function play_(callback) {\n      var _this9 = this;\n\n      if (callback === void 0) {\n        callback = silencePromise;\n      }\n\n      this.playCallbacks_.push(callback);\n      var isSrcReady = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc())); // treat calls to play_ somewhat like the `one` event function\n\n      if (this.waitToPlay_) {\n        this.off(['ready', 'loadstart'], this.waitToPlay_);\n        this.waitToPlay_ = null;\n      } // if the player/tech is not ready or the src itself is not ready\n      // queue up a call to play on `ready` or `loadstart`\n\n\n      if (!this.isReady_ || !isSrcReady) {\n        this.waitToPlay_ = function (e) {\n          _this9.play_();\n        };\n\n        this.one(['ready', 'loadstart'], this.waitToPlay_); // if we are in Safari, there is a high chance that loadstart will trigger after the gesture timeperiod\n        // in that case, we need to prime the video element by calling load so it'll be ready in time\n\n        if (!isSrcReady && (IS_ANY_SAFARI || IS_IOS)) {\n          this.load();\n        }\n\n        return;\n      } // If the player/tech is ready and we have a source, we can attempt playback.\n\n\n      var val = this.techGet_('play'); // play was terminated if the returned value is null\n\n      if (val === null) {\n        this.runPlayTerminatedQueue_();\n      } else {\n        this.runPlayCallbacks_(val);\n      }\n    }\n    /**\n     * These functions will be run when if play is terminated. If play\n     * runPlayCallbacks_ is run these function will not be run. This allows us\n     * to differenciate between a terminated play and an actual call to play.\n     */\n    ;\n\n    _proto.runPlayTerminatedQueue_ = function runPlayTerminatedQueue_() {\n      var queue = this.playTerminatedQueue_.slice(0);\n      this.playTerminatedQueue_ = [];\n      queue.forEach(function (q) {\n        q();\n      });\n    }\n    /**\n     * When a callback to play is delayed we have to run these\n     * callbacks when play is actually called on the tech. This function\n     * runs the callbacks that were delayed and accepts the return value\n     * from the tech.\n     *\n     * @param {undefined|Promise} val\n     *        The return value from the tech.\n     */\n    ;\n\n    _proto.runPlayCallbacks_ = function runPlayCallbacks_(val) {\n      var callbacks = this.playCallbacks_.slice(0);\n      this.playCallbacks_ = []; // clear play terminatedQueue since we finished a real play\n\n      this.playTerminatedQueue_ = [];\n      callbacks.forEach(function (cb) {\n        cb(val);\n      });\n    }\n    /**\n     * Pause the video playback\n     *\n     * @return {Player}\n     *         A reference to the player object this function was called on\n     */\n    ;\n\n    _proto.pause = function pause() {\n      this.techCall_('pause');\n    }\n    /**\n     * Check if the player is paused or has yet to play\n     *\n     * @return {boolean}\n     *         - false: if the media is currently playing\n     *         - true: if media is not currently playing\n     */\n    ;\n\n    _proto.paused = function paused() {\n      // The initial state of paused should be true (in Safari it's actually false)\n      return this.techGet_('paused') === false ? false : true;\n    }\n    /**\n     * Get a TimeRange object representing the current ranges of time that the user\n     * has played.\n     *\n     * @return {TimeRange}\n     *         A time range object that represents all the increments of time that have\n     *         been played.\n     */\n    ;\n\n    _proto.played = function played() {\n      return this.techGet_('played') || createTimeRanges(0, 0);\n    }\n    /**\n     * Returns whether or not the user is \"scrubbing\". Scrubbing is\n     * when the user has clicked the progress bar handle and is\n     * dragging it along the progress bar.\n     *\n     * @param {boolean} [isScrubbing]\n     *        whether the user is or is not scrubbing\n     *\n     * @return {boolean}\n     *         The value of scrubbing when getting\n     */\n    ;\n\n    _proto.scrubbing = function scrubbing(isScrubbing) {\n      if (typeof isScrubbing === 'undefined') {\n        return this.scrubbing_;\n      }\n\n      this.scrubbing_ = !!isScrubbing;\n\n      if (isScrubbing) {\n        this.addClass('vjs-scrubbing');\n      } else {\n        this.removeClass('vjs-scrubbing');\n      }\n    }\n    /**\n     * Get or set the current time (in seconds)\n     *\n     * @param {number|string} [seconds]\n     *        The time to seek to in seconds\n     *\n     * @return {number}\n     *         - the current time in seconds when getting\n     */\n    ;\n\n    _proto.currentTime = function currentTime(seconds) {\n      if (typeof seconds !== 'undefined') {\n        if (seconds < 0) {\n          seconds = 0;\n        }\n\n        this.techCall_('setCurrentTime', seconds);\n        return;\n      } // cache last currentTime and return. default to 0 seconds\n      //\n      // Caching the currentTime is meant to prevent a massive amount of reads on the tech's\n      // currentTime when scrubbing, but may not provide much performance benefit afterall.\n      // Should be tested. Also something has to read the actual current time or the cache will\n      // never get updated.\n\n\n      this.cache_.currentTime = this.techGet_('currentTime') || 0;\n      return this.cache_.currentTime;\n    }\n    /**\n     * Normally gets the length in time of the video in seconds;\n     * in all but the rarest use cases an argument will NOT be passed to the method\n     *\n     * > **NOTE**: The video must have started loading before the duration can be\n     * known, and in the case of Flash, may not be known until the video starts\n     * playing.\n     *\n     * @fires Player#durationchange\n     *\n     * @param {number} [seconds]\n     *        The duration of the video to set in seconds\n     *\n     * @return {number}\n     *         - The duration of the video in seconds when getting\n     */\n    ;\n\n    _proto.duration = function duration(seconds) {\n      if (seconds === undefined) {\n        // return NaN if the duration is not known\n        return this.cache_.duration !== undefined ? this.cache_.duration : NaN;\n      }\n\n      seconds = parseFloat(seconds); // Standardize on Infinity for signaling video is live\n\n      if (seconds < 0) {\n        seconds = Infinity;\n      }\n\n      if (seconds !== this.cache_.duration) {\n        // Cache the last set value for optimized scrubbing (esp. Flash)\n        this.cache_.duration = seconds;\n\n        if (seconds === Infinity) {\n          this.addClass('vjs-live');\n\n          if (this.options_.liveui && this.player_.liveTracker) {\n            this.addClass('vjs-liveui');\n          }\n        } else {\n          this.removeClass('vjs-live');\n          this.removeClass('vjs-liveui');\n        }\n\n        if (!isNaN(seconds)) {\n          // Do not fire durationchange unless the duration value is known.\n          // @see [Spec]{@link https://www.w3.org/TR/2011/WD-html5-20110113/video.html#media-element-load-algorithm}\n\n          /**\n           * @event Player#durationchange\n           * @type {EventTarget~Event}\n           */\n          this.trigger('durationchange');\n        }\n      }\n    }\n    /**\n     * Calculates how much time is left in the video. Not part\n     * of the native video API.\n     *\n     * @return {number}\n     *         The time remaining in seconds\n     */\n    ;\n\n    _proto.remainingTime = function remainingTime() {\n      return this.duration() - this.currentTime();\n    }\n    /**\n     * A remaining time function that is intented to be used when\n     * the time is to be displayed directly to the user.\n     *\n     * @return {number}\n     *         The rounded time remaining in seconds\n     */\n    ;\n\n    _proto.remainingTimeDisplay = function remainingTimeDisplay() {\n      return Math.floor(this.duration()) - Math.floor(this.currentTime());\n    } //\n    // Kind of like an array of portions of the video that have been downloaded.\n\n    /**\n     * Get a TimeRange object with an array of the times of the video\n     * that have been downloaded. If you just want the percent of the\n     * video that's been downloaded, use bufferedPercent.\n     *\n     * @see [Buffered Spec]{@link http://dev.w3.org/html5/spec/video.html#dom-media-buffered}\n     *\n     * @return {TimeRange}\n     *         A mock TimeRange object (following HTML spec)\n     */\n    ;\n\n    _proto.buffered = function buffered() {\n      var buffered = this.techGet_('buffered');\n\n      if (!buffered || !buffered.length) {\n        buffered = createTimeRanges(0, 0);\n      }\n\n      return buffered;\n    }\n    /**\n     * Get the percent (as a decimal) of the video that's been downloaded.\n     * This method is not a part of the native HTML video API.\n     *\n     * @return {number}\n     *         A decimal between 0 and 1 representing the percent\n     *         that is buffered 0 being 0% and 1 being 100%\n     */\n    ;\n\n    _proto.bufferedPercent = function bufferedPercent$$1() {\n      return bufferedPercent(this.buffered(), this.duration());\n    }\n    /**\n     * Get the ending time of the last buffered time range\n     * This is used in the progress bar to encapsulate all time ranges.\n     *\n     * @return {number}\n     *         The end of the last buffered time range\n     */\n    ;\n\n    _proto.bufferedEnd = function bufferedEnd() {\n      var buffered = this.buffered();\n      var duration = this.duration();\n      var end = buffered.end(buffered.length - 1);\n\n      if (end > duration) {\n        end = duration;\n      }\n\n      return end;\n    }\n    /**\n     * Get or set the current volume of the media\n     *\n     * @param  {number} [percentAsDecimal]\n     *         The new volume as a decimal percent:\n     *         - 0 is muted/0%/off\n     *         - 1.0 is 100%/full\n     *         - 0.5 is half volume or 50%\n     *\n     * @return {number}\n     *         The current volume as a percent when getting\n     */\n    ;\n\n    _proto.volume = function volume(percentAsDecimal) {\n      var vol;\n\n      if (percentAsDecimal !== undefined) {\n        // Force value to between 0 and 1\n        vol = Math.max(0, Math.min(1, parseFloat(percentAsDecimal)));\n        this.cache_.volume = vol;\n        this.techCall_('setVolume', vol);\n\n        if (vol > 0) {\n          this.lastVolume_(vol);\n        }\n\n        return;\n      } // Default to 1 when returning current volume.\n\n\n      vol = parseFloat(this.techGet_('volume'));\n      return isNaN(vol) ? 1 : vol;\n    }\n    /**\n     * Get the current muted state, or turn mute on or off\n     *\n     * @param {boolean} [muted]\n     *        - true to mute\n     *        - false to unmute\n     *\n     * @return {boolean}\n     *         - true if mute is on and getting\n     *         - false if mute is off and getting\n     */\n    ;\n\n    _proto.muted = function muted(_muted) {\n      if (_muted !== undefined) {\n        this.techCall_('setMuted', _muted);\n        return;\n      }\n\n      return this.techGet_('muted') || false;\n    }\n    /**\n     * Get the current defaultMuted state, or turn defaultMuted on or off. defaultMuted\n     * indicates the state of muted on initial playback.\n     *\n     * ```js\n     *   var myPlayer = videojs('some-player-id');\n     *\n     *   myPlayer.src(\"http://www.example.com/path/to/video.mp4\");\n     *\n     *   // get, should be false\n     *   console.log(myPlayer.defaultMuted());\n     *   // set to true\n     *   myPlayer.defaultMuted(true);\n     *   // get should be true\n     *   console.log(myPlayer.defaultMuted());\n     * ```\n     *\n     * @param {boolean} [defaultMuted]\n     *        - true to mute\n     *        - false to unmute\n     *\n     * @return {boolean|Player}\n     *         - true if defaultMuted is on and getting\n     *         - false if defaultMuted is off and getting\n     *         - A reference to the current player when setting\n     */\n    ;\n\n    _proto.defaultMuted = function defaultMuted(_defaultMuted) {\n      if (_defaultMuted !== undefined) {\n        return this.techCall_('setDefaultMuted', _defaultMuted);\n      }\n\n      return this.techGet_('defaultMuted') || false;\n    }\n    /**\n     * Get the last volume, or set it\n     *\n     * @param  {number} [percentAsDecimal]\n     *         The new last volume as a decimal percent:\n     *         - 0 is muted/0%/off\n     *         - 1.0 is 100%/full\n     *         - 0.5 is half volume or 50%\n     *\n     * @return {number}\n     *         the current value of lastVolume as a percent when getting\n     *\n     * @private\n     */\n    ;\n\n    _proto.lastVolume_ = function lastVolume_(percentAsDecimal) {\n      if (percentAsDecimal !== undefined && percentAsDecimal !== 0) {\n        this.cache_.lastVolume = percentAsDecimal;\n        return;\n      }\n\n      return this.cache_.lastVolume;\n    }\n    /**\n     * Check if current tech can support native fullscreen\n     * (e.g. with built in controls like iOS, so not our flash swf)\n     *\n     * @return {boolean}\n     *         if native fullscreen is supported\n     */\n    ;\n\n    _proto.supportsFullScreen = function supportsFullScreen() {\n      return this.techGet_('supportsFullScreen') || false;\n    }\n    /**\n     * Check if the player is in fullscreen mode or tell the player that it\n     * is or is not in fullscreen mode.\n     *\n     * > NOTE: As of the latest HTML5 spec, isFullscreen is no longer an official\n     * property and instead document.fullscreenElement is used. But isFullscreen is\n     * still a valuable property for internal player workings.\n     *\n     * @param  {boolean} [isFS]\n     *         Set the players current fullscreen state\n     *\n     * @return {boolean}\n     *         - true if fullscreen is on and getting\n     *         - false if fullscreen is off and getting\n     */\n    ;\n\n    _proto.isFullscreen = function isFullscreen(isFS) {\n      if (isFS !== undefined) {\n        this.isFullscreen_ = !!isFS;\n        this.toggleFullscreenClass_();\n        return;\n      }\n\n      if (prefixedAPI) {\n        var fsApi = FullscreenApi;\n        var el = this.el();\n        var isFs = document[fsApi.fullscreenElement] === el;\n\n        if (!isFs && el.matches) {\n          isFs = el.matches(':' + fsApi.fullscreen);\n        } else if (!isFs && el.msMatchesSelector) {\n          isFs = el.msMatchesSelector(':' + fsApi.fullscreen);\n        }\n\n        return isFs;\n      }\n\n      return !!this.isFullscreen_;\n    }\n    /**\n     * Increase the size of the video to full screen\n     * In some browsers, full screen is not supported natively, so it enters\n     * \"full window mode\", where the video fills the browser window.\n     * In browsers and devices that support native full screen, sometimes the\n     * browser's default controls will be shown, and not the Video.js custom skin.\n     * This includes most mobile devices (iOS, Android) and older versions of\n     * Safari.\n     *\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.requestFullscreen = function requestFullscreen() {\n      var fsApi = FullscreenApi;\n      this.isFullscreen(true);\n\n      if (fsApi.requestFullscreen) {\n        // the browser supports going fullscreen at the element level so we can\n        // take the controls fullscreen as well as the video\n        // Trigger fullscreenchange event after change\n        // We have to specifically add this each time, and remove\n        // when canceling fullscreen. Otherwise if there's multiple\n        // players on a page, they would all be reacting to the same fullscreen\n        // events\n        on(document, fsApi.fullscreenchange, this.boundDocumentFullscreenChange_);\n        this.el_[fsApi.requestFullscreen]();\n      } else if (this.tech_.supportsFullScreen()) {\n        // we can't take the video.js controls fullscreen but we can go fullscreen\n        // with native controls\n        this.techCall_('enterFullScreen');\n      } else {\n        // fullscreen isn't supported so we'll just stretch the video element to\n        // fill the viewport\n        this.enterFullWindow();\n        /**\n         * @event Player#fullscreenchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('fullscreenchange');\n      }\n    }\n    /**\n     * Return the video to its normal size after having been in full screen mode\n     *\n     * @fires Player#fullscreenchange\n     */\n    ;\n\n    _proto.exitFullscreen = function exitFullscreen() {\n      var fsApi = FullscreenApi;\n      this.isFullscreen(false); // Check for browser element fullscreen support\n\n      if (fsApi.requestFullscreen) {\n        document[fsApi.exitFullscreen]();\n      } else if (this.tech_.supportsFullScreen()) {\n        this.techCall_('exitFullScreen');\n      } else {\n        this.exitFullWindow();\n        /**\n         * @event Player#fullscreenchange\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('fullscreenchange');\n      }\n    }\n    /**\n     * When fullscreen isn't supported we can stretch the\n     * video container to as wide as the browser will let us.\n     *\n     * @fires Player#enterFullWindow\n     */\n    ;\n\n    _proto.enterFullWindow = function enterFullWindow() {\n      this.isFullWindow = true; // Storing original doc overflow value to return to when fullscreen is off\n\n      this.docOrigOverflow = document.documentElement.style.overflow; // Add listener for esc key to exit fullscreen\n\n      on(document, 'keydown', this.boundFullWindowOnEscKey_); // Hide any scroll bars\n\n      document.documentElement.style.overflow = 'hidden'; // Apply fullscreen styles\n\n      addClass(document.body, 'vjs-full-window');\n      /**\n       * @event Player#enterFullWindow\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('enterFullWindow');\n    }\n    /**\n     * Check for call to either exit full window or\n     * full screen on ESC key\n     *\n     * @param {string} event\n     *        Event to check for key press\n     */\n    ;\n\n    _proto.fullWindowOnEscKey = function fullWindowOnEscKey(event) {\n      if (keycode.isEventKey(event, 'Esc')) {\n        if (this.isFullscreen() === true) {\n          this.exitFullscreen();\n        } else {\n          this.exitFullWindow();\n        }\n      }\n    }\n    /**\n     * Exit full window\n     *\n     * @fires Player#exitFullWindow\n     */\n    ;\n\n    _proto.exitFullWindow = function exitFullWindow() {\n      this.isFullWindow = false;\n      off(document, 'keydown', this.boundFullWindowOnEscKey_); // Unhide scroll bars.\n\n      document.documentElement.style.overflow = this.docOrigOverflow; // Remove fullscreen styles\n\n      removeClass(document.body, 'vjs-full-window'); // Resize the box, controller, and poster to original sizes\n      // this.positionAll();\n\n      /**\n       * @event Player#exitFullWindow\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('exitFullWindow');\n    }\n    /**\n     * Called when this Player has focus and a key gets pressed down, or when\n     * any Component of this player receives a key press that it doesn't handle.\n     * This allows player-wide hotkeys (either as defined below, or optionally\n     * by an external function).\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     *\n     * @listens keydown\n     */\n    ;\n\n    _proto.handleKeyDown = function handleKeyDown(event) {\n      var userActions = this.options_.userActions; // Bail out if hotkeys are not configured.\n\n      if (!userActions || !userActions.hotkeys) {\n        return;\n      } // Function that determines whether or not to exclude an element from\n      // hotkeys handling.\n\n\n      var excludeElement = function excludeElement(el) {\n        var tagName = el.tagName.toLowerCase(); // These tags will be excluded entirely.\n\n        var excludedTags = ['textarea']; // Inputs matching these types will still trigger hotkey handling as\n        // they are not text inputs.\n\n        var allowedInputTypes = ['button', 'checkbox', 'hidden', 'radio', 'reset', 'submit'];\n\n        if (tagName === 'input') {\n          return allowedInputTypes.indexOf(el.type) === -1;\n        }\n\n        return excludedTags.indexOf(tagName) !== -1;\n      }; // Bail out if the user is focused on an interactive form element.\n\n\n      if (excludeElement(this.el_.ownerDocument.activeElement)) {\n        return;\n      }\n\n      if (typeof userActions.hotkeys === 'function') {\n        userActions.hotkeys.call(this, event);\n      } else {\n        this.handleHotkeys(event);\n      }\n    }\n    /**\n     * Called when this Player receives a hotkey keydown event.\n     * Supported player-wide hotkeys are:\n     *\n     *   f          - toggle fullscreen\n     *   m          - toggle mute\n     *   k or Space - toggle play/pause\n     *\n     * @param {EventTarget~Event} event\n     *        The `keydown` event that caused this function to be called.\n     */\n    ;\n\n    _proto.handleHotkeys = function handleHotkeys(event) {\n      var hotkeys = this.options_.userActions ? this.options_.userActions.hotkeys : {}; // set fullscreenKey, muteKey, playPauseKey from `hotkeys`, use defaults if not set\n\n      var _hotkeys$fullscreenKe = hotkeys.fullscreenKey,\n          fullscreenKey = _hotkeys$fullscreenKe === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'f');\n      } : _hotkeys$fullscreenKe,\n          _hotkeys$muteKey = hotkeys.muteKey,\n          muteKey = _hotkeys$muteKey === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'm');\n      } : _hotkeys$muteKey,\n          _hotkeys$playPauseKey = hotkeys.playPauseKey,\n          playPauseKey = _hotkeys$playPauseKey === void 0 ? function (keydownEvent) {\n        return keycode.isEventKey(keydownEvent, 'k') || keycode.isEventKey(keydownEvent, 'Space');\n      } : _hotkeys$playPauseKey;\n\n      if (fullscreenKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var FSToggle = Component.getComponent('FullscreenToggle');\n\n        if (document[FullscreenApi.fullscreenEnabled] !== false) {\n          FSToggle.prototype.handleClick.call(this);\n        }\n      } else if (muteKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var MuteToggle = Component.getComponent('MuteToggle');\n        MuteToggle.prototype.handleClick.call(this);\n      } else if (playPauseKey.call(this, event)) {\n        event.preventDefault();\n        event.stopPropagation();\n        var PlayToggle = Component.getComponent('PlayToggle');\n        PlayToggle.prototype.handleClick.call(this);\n      }\n    }\n    /**\n     * Check whether the player can play a given mimetype\n     *\n     * @see https://www.w3.org/TR/2011/WD-html5-20110113/video.html#dom-navigator-canplaytype\n     *\n     * @param {string} type\n     *        The mimetype to check\n     *\n     * @return {string}\n     *         'probably', 'maybe', or '' (empty string)\n     */\n    ;\n\n    _proto.canPlayType = function canPlayType(type) {\n      var can; // Loop through each playback technology in the options order\n\n      for (var i = 0, j = this.options_.techOrder; i < j.length; i++) {\n        var techName = j[i];\n        var tech = Tech.getTech(techName); // Support old behavior of techs being registered as components.\n        // Remove once that deprecated behavior is removed.\n\n        if (!tech) {\n          tech = Component.getComponent(techName);\n        } // Check if the current tech is defined before continuing\n\n\n        if (!tech) {\n          log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n          continue;\n        } // Check if the browser supports this technology\n\n\n        if (tech.isSupported()) {\n          can = tech.canPlayType(type);\n\n          if (can) {\n            return can;\n          }\n        }\n      }\n\n      return '';\n    }\n    /**\n     * Select source based on tech-order or source-order\n     * Uses source-order selection if `options.sourceOrder` is truthy. Otherwise,\n     * defaults to tech-order selection\n     *\n     * @param {Array} sources\n     *        The sources for a media asset\n     *\n     * @return {Object|boolean}\n     *         Object of source and tech order or false\n     */\n    ;\n\n    _proto.selectSource = function selectSource(sources) {\n      var _this10 = this;\n\n      // Get only the techs specified in `techOrder` that exist and are supported by the\n      // current platform\n      var techs = this.options_.techOrder.map(function (techName) {\n        return [techName, Tech.getTech(techName)];\n      }).filter(function (_ref) {\n        var techName = _ref[0],\n            tech = _ref[1];\n\n        // Check if the current tech is defined before continuing\n        if (tech) {\n          // Check if the browser supports this technology\n          return tech.isSupported();\n        }\n\n        log.error(\"The \\\"\" + techName + \"\\\" tech is undefined. Skipped browser support check for that tech.\");\n        return false;\n      }); // Iterate over each `innerArray` element once per `outerArray` element and execute\n      // `tester` with both. If `tester` returns a non-falsy value, exit early and return\n      // that value.\n\n      var findFirstPassingTechSourcePair = function findFirstPassingTechSourcePair(outerArray, innerArray, tester) {\n        var found;\n        outerArray.some(function (outerChoice) {\n          return innerArray.some(function (innerChoice) {\n            found = tester(outerChoice, innerChoice);\n\n            if (found) {\n              return true;\n            }\n          });\n        });\n        return found;\n      };\n\n      var foundSourceAndTech;\n\n      var flip = function flip(fn) {\n        return function (a, b) {\n          return fn(b, a);\n        };\n      };\n\n      var finder = function finder(_ref2, source) {\n        var techName = _ref2[0],\n            tech = _ref2[1];\n\n        if (tech.canPlaySource(source, _this10.options_[techName.toLowerCase()])) {\n          return {\n            source: source,\n            tech: techName\n          };\n        }\n      }; // Depending on the truthiness of `options.sourceOrder`, we swap the order of techs and sources\n      // to select from them based on their priority.\n\n\n      if (this.options_.sourceOrder) {\n        // Source-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(sources, techs, flip(finder));\n      } else {\n        // Tech-first ordering\n        foundSourceAndTech = findFirstPassingTechSourcePair(techs, sources, finder);\n      }\n\n      return foundSourceAndTech || false;\n    }\n    /**\n     * Get or set the video source.\n     *\n     * @param {Tech~SourceObject|Tech~SourceObject[]|string} [source]\n     *        A SourceObject, an array of SourceObjects, or a string referencing\n     *        a URL to a media source. It is _highly recommended_ that an object\n     *        or array of objects is used here, so that source selection\n     *        algorithms can take the `type` into account.\n     *\n     *        If not provided, this method acts as a getter.\n     *\n     * @return {string|undefined}\n     *         If the `source` argument is missing, returns the current source\n     *         URL. Otherwise, returns nothing/undefined.\n     */\n    ;\n\n    _proto.src = function src(source) {\n      var _this11 = this;\n\n      // getter usage\n      if (typeof source === 'undefined') {\n        return this.cache_.src || '';\n      } // filter out invalid sources and turn our source into\n      // an array of source objects\n\n\n      var sources = filterSource(source); // if a source was passed in then it is invalid because\n      // it was filtered to a zero length Array. So we have to\n      // show an error\n\n      if (!sources.length) {\n        this.setTimeout(function () {\n          this.error({\n            code: 4,\n            message: this.localize(this.options_.notSupportedMessage)\n          });\n        }, 0);\n        return;\n      } // intial sources\n\n\n      this.changingSrc_ = true;\n      this.cache_.sources = sources;\n      this.updateSourceCaches_(sources[0]); // middlewareSource is the source after it has been changed by middleware\n\n      setSource(this, sources[0], function (middlewareSource, mws) {\n        _this11.middleware_ = mws; // since sourceSet is async we have to update the cache again after we select a source since\n        // the source that is selected could be out of order from the cache update above this callback.\n\n        _this11.cache_.sources = sources;\n\n        _this11.updateSourceCaches_(middlewareSource);\n\n        var err = _this11.src_(middlewareSource);\n\n        if (err) {\n          if (sources.length > 1) {\n            return _this11.src(sources.slice(1));\n          }\n\n          _this11.changingSrc_ = false; // We need to wrap this in a timeout to give folks a chance to add error event handlers\n\n          _this11.setTimeout(function () {\n            this.error({\n              code: 4,\n              message: this.localize(this.options_.notSupportedMessage)\n            });\n          }, 0); // we could not find an appropriate tech, but let's still notify the delegate that this is it\n          // this needs a better comment about why this is needed\n\n\n          _this11.triggerReady();\n\n          return;\n        }\n\n        setTech(mws, _this11.tech_);\n      });\n    }\n    /**\n     * Set the source object on the tech, returns a boolean that indicates whether\n     * there is a tech that can play the source or not\n     *\n     * @param {Tech~SourceObject} source\n     *        The source object to set on the Tech\n     *\n     * @return {boolean}\n     *         - True if there is no Tech to playback this source\n     *         - False otherwise\n     *\n     * @private\n     */\n    ;\n\n    _proto.src_ = function src_(source) {\n      var _this12 = this;\n\n      var sourceTech = this.selectSource([source]);\n\n      if (!sourceTech) {\n        return true;\n      }\n\n      if (!titleCaseEquals(sourceTech.tech, this.techName_)) {\n        this.changingSrc_ = true; // load this technology with the chosen source\n\n        this.loadTech_(sourceTech.tech, sourceTech.source);\n        this.tech_.ready(function () {\n          _this12.changingSrc_ = false;\n        });\n        return false;\n      } // wait until the tech is ready to set the source\n      // and set it synchronously if possible (#2326)\n\n\n      this.ready(function () {\n        // The setSource tech method was added with source handlers\n        // so older techs won't support it\n        // We need to check the direct prototype for the case where subclasses\n        // of the tech do not support source handlers\n        if (this.tech_.constructor.prototype.hasOwnProperty('setSource')) {\n          this.techCall_('setSource', source);\n        } else {\n          this.techCall_('src', source.src);\n        }\n\n        this.changingSrc_ = false;\n      }, true);\n      return false;\n    }\n    /**\n     * Begin loading the src data.\n     */\n    ;\n\n    _proto.load = function load() {\n      this.techCall_('load');\n    }\n    /**\n     * Reset the player. Loads the first tech in the techOrder,\n     * removes all the text tracks in the existing `tech`,\n     * and calls `reset` on the `tech`.\n     */\n    ;\n\n    _proto.reset = function reset() {\n      var _this13 = this;\n\n      var PromiseClass = this.options_.Promise || window$1.Promise;\n\n      if (this.paused() || !PromiseClass) {\n        this.doReset_();\n      } else {\n        var playPromise = this.play();\n        silencePromise(playPromise.then(function () {\n          return _this13.doReset_();\n        }));\n      }\n    };\n\n    _proto.doReset_ = function doReset_() {\n      if (this.tech_) {\n        this.tech_.clearTracks('text');\n      }\n\n      this.resetCache_();\n      this.poster('');\n      this.loadTech_(this.options_.techOrder[0], null);\n      this.techCall_('reset');\n      this.resetControlBarUI_();\n\n      if (isEvented(this)) {\n        this.trigger('playerreset');\n      }\n    }\n    /**\n     * Reset Control Bar's UI by calling sub-methods that reset\n     * all of Control Bar's components\n     */\n    ;\n\n    _proto.resetControlBarUI_ = function resetControlBarUI_() {\n      this.resetProgressBar_();\n      this.resetPlaybackRate_();\n      this.resetVolumeBar_();\n    }\n    /**\n     * Reset tech's progress so progress bar is reset in the UI\n     */\n    ;\n\n    _proto.resetProgressBar_ = function resetProgressBar_() {\n      this.currentTime(0);\n      var _this$controlBar = this.controlBar,\n          durationDisplay = _this$controlBar.durationDisplay,\n          remainingTimeDisplay = _this$controlBar.remainingTimeDisplay;\n\n      if (durationDisplay) {\n        durationDisplay.updateContent();\n      }\n\n      if (remainingTimeDisplay) {\n        remainingTimeDisplay.updateContent();\n      }\n    }\n    /**\n     * Reset Playback ratio\n     */\n    ;\n\n    _proto.resetPlaybackRate_ = function resetPlaybackRate_() {\n      this.playbackRate(this.defaultPlaybackRate());\n      this.handleTechRateChange_();\n    }\n    /**\n     * Reset Volume bar\n     */\n    ;\n\n    _proto.resetVolumeBar_ = function resetVolumeBar_() {\n      this.volume(1.0);\n      this.trigger('volumechange');\n    }\n    /**\n     * Returns all of the current source objects.\n     *\n     * @return {Tech~SourceObject[]}\n     *         The current source objects\n     */\n    ;\n\n    _proto.currentSources = function currentSources() {\n      var source = this.currentSource();\n      var sources = []; // assume `{}` or `{ src }`\n\n      if (Object.keys(source).length !== 0) {\n        sources.push(source);\n      }\n\n      return this.cache_.sources || sources;\n    }\n    /**\n     * Returns the current source object.\n     *\n     * @return {Tech~SourceObject}\n     *         The current source object\n     */\n    ;\n\n    _proto.currentSource = function currentSource() {\n      return this.cache_.source || {};\n    }\n    /**\n     * Returns the fully qualified URL of the current source value e.g. http://mysite.com/video.mp4\n     * Can be used in conjunction with `currentType` to assist in rebuilding the current source object.\n     *\n     * @return {string}\n     *         The current source\n     */\n    ;\n\n    _proto.currentSrc = function currentSrc() {\n      return this.currentSource() && this.currentSource().src || '';\n    }\n    /**\n     * Get the current source type e.g. video/mp4\n     * This can allow you rebuild the current source object so that you could load the same\n     * source and tech later\n     *\n     * @return {string}\n     *         The source MIME type\n     */\n    ;\n\n    _proto.currentType = function currentType() {\n      return this.currentSource() && this.currentSource().type || '';\n    }\n    /**\n     * Get or set the preload attribute\n     *\n     * @param {boolean} [value]\n     *        - true means that we should preload\n     *        - false means that we should not preload\n     *\n     * @return {string}\n     *         The preload attribute value when getting\n     */\n    ;\n\n    _proto.preload = function preload(value) {\n      if (value !== undefined) {\n        this.techCall_('setPreload', value);\n        this.options_.preload = value;\n        return;\n      }\n\n      return this.techGet_('preload');\n    }\n    /**\n     * Get or set the autoplay option. When this is a boolean it will\n     * modify the attribute on the tech. When this is a string the attribute on\n     * the tech will be removed and `Player` will handle autoplay on loadstarts.\n     *\n     * @param {boolean|string} [value]\n     *        - true: autoplay using the browser behavior\n     *        - false: do not autoplay\n     *        - 'play': call play() on every loadstart\n     *        - 'muted': call muted() then play() on every loadstart\n     *        - 'any': call play() on every loadstart. if that fails call muted() then play().\n     *        - *: values other than those listed here will be set `autoplay` to true\n     *\n     * @return {boolean|string}\n     *         The current value of autoplay when getting\n     */\n    ;\n\n    _proto.autoplay = function autoplay(value) {\n      // getter usage\n      if (value === undefined) {\n        return this.options_.autoplay || false;\n      }\n\n      var techAutoplay; // if the value is a valid string set it to that\n\n      if (typeof value === 'string' && /(any|play|muted)/.test(value)) {\n        this.options_.autoplay = value;\n        this.manualAutoplay_(value);\n        techAutoplay = false; // any falsy value sets autoplay to false in the browser,\n        // lets do the same\n      } else if (!value) {\n        this.options_.autoplay = false; // any other value (ie truthy) sets autoplay to true\n      } else {\n        this.options_.autoplay = true;\n      }\n\n      techAutoplay = typeof techAutoplay === 'undefined' ? this.options_.autoplay : techAutoplay; // if we don't have a tech then we do not queue up\n      // a setAutoplay call on tech ready. We do this because the\n      // autoplay option will be passed in the constructor and we\n      // do not need to set it twice\n\n      if (this.tech_) {\n        this.techCall_('setAutoplay', techAutoplay);\n      }\n    }\n    /**\n     * Set or unset the playsinline attribute.\n     * Playsinline tells the browser that non-fullscreen playback is preferred.\n     *\n     * @param {boolean} [value]\n     *        - true means that we should try to play inline by default\n     *        - false means that we should use the browser's default playback mode,\n     *          which in most cases is inline. iOS Safari is a notable exception\n     *          and plays fullscreen by default.\n     *\n     * @return {string|Player}\n     *         - the current value of playsinline\n     *         - the player when setting\n     *\n     * @see [Spec]{@link https://html.spec.whatwg.org/#attr-video-playsinline}\n     */\n    ;\n\n    _proto.playsinline = function playsinline(value) {\n      if (value !== undefined) {\n        this.techCall_('setPlaysinline', value);\n        this.options_.playsinline = value;\n        return this;\n      }\n\n      return this.techGet_('playsinline');\n    }\n    /**\n     * Get or set the loop attribute on the video element.\n     *\n     * @param {boolean} [value]\n     *        - true means that we should loop the video\n     *        - false means that we should not loop the video\n     *\n     * @return {boolean}\n     *         The current value of loop when getting\n     */\n    ;\n\n    _proto.loop = function loop(value) {\n      if (value !== undefined) {\n        this.techCall_('setLoop', value);\n        this.options_.loop = value;\n        return;\n      }\n\n      return this.techGet_('loop');\n    }\n    /**\n     * Get or set the poster image source url\n     *\n     * @fires Player#posterchange\n     *\n     * @param {string} [src]\n     *        Poster image source URL\n     *\n     * @return {string}\n     *         The current value of poster when getting\n     */\n    ;\n\n    _proto.poster = function poster(src) {\n      if (src === undefined) {\n        return this.poster_;\n      } // The correct way to remove a poster is to set as an empty string\n      // other falsey values will throw errors\n\n\n      if (!src) {\n        src = '';\n      }\n\n      if (src === this.poster_) {\n        return;\n      } // update the internal poster variable\n\n\n      this.poster_ = src; // update the tech's poster\n\n      this.techCall_('setPoster', src);\n      this.isPosterFromTech_ = false; // alert components that the poster has been set\n\n      /**\n       * This event fires when the poster image is changed on the player.\n       *\n       * @event Player#posterchange\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('posterchange');\n    }\n    /**\n     * Some techs (e.g. YouTube) can provide a poster source in an\n     * asynchronous way. We want the poster component to use this\n     * poster source so that it covers up the tech's controls.\n     * (YouTube's play button). However we only want to use this\n     * source if the player user hasn't set a poster through\n     * the normal APIs.\n     *\n     * @fires Player#posterchange\n     * @listens Tech#posterchange\n     * @private\n     */\n    ;\n\n    _proto.handleTechPosterChange_ = function handleTechPosterChange_() {\n      if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {\n        var newPoster = this.tech_.poster() || '';\n\n        if (newPoster !== this.poster_) {\n          this.poster_ = newPoster;\n          this.isPosterFromTech_ = true; // Let components know the poster has changed\n\n          this.trigger('posterchange');\n        }\n      }\n    }\n    /**\n     * Get or set whether or not the controls are showing.\n     *\n     * @fires Player#controlsenabled\n     *\n     * @param {boolean} [bool]\n     *        - true to turn controls on\n     *        - false to turn controls off\n     *\n     * @return {boolean}\n     *         The current value of controls when getting\n     */\n    ;\n\n    _proto.controls = function controls(bool) {\n      if (bool === undefined) {\n        return !!this.controls_;\n      }\n\n      bool = !!bool; // Don't trigger a change event unless it actually changed\n\n      if (this.controls_ === bool) {\n        return;\n      }\n\n      this.controls_ = bool;\n\n      if (this.usingNativeControls()) {\n        this.techCall_('setControls', bool);\n      }\n\n      if (this.controls_) {\n        this.removeClass('vjs-controls-disabled');\n        this.addClass('vjs-controls-enabled');\n        /**\n         * @event Player#controlsenabled\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('controlsenabled');\n\n        if (!this.usingNativeControls()) {\n          this.addTechControlsListeners_();\n        }\n      } else {\n        this.removeClass('vjs-controls-enabled');\n        this.addClass('vjs-controls-disabled');\n        /**\n         * @event Player#controlsdisabled\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('controlsdisabled');\n\n        if (!this.usingNativeControls()) {\n          this.removeTechControlsListeners_();\n        }\n      }\n    }\n    /**\n     * Toggle native controls on/off. Native controls are the controls built into\n     * devices (e.g. default iPhone controls), Flash, or other techs\n     * (e.g. Vimeo Controls)\n     * **This should only be set by the current tech, because only the tech knows\n     * if it can support native controls**\n     *\n     * @fires Player#usingnativecontrols\n     * @fires Player#usingcustomcontrols\n     *\n     * @param {boolean} [bool]\n     *        - true to turn native controls on\n     *        - false to turn native controls off\n     *\n     * @return {boolean}\n     *         The current value of native controls when getting\n     */\n    ;\n\n    _proto.usingNativeControls = function usingNativeControls(bool) {\n      if (bool === undefined) {\n        return !!this.usingNativeControls_;\n      }\n\n      bool = !!bool; // Don't trigger a change event unless it actually changed\n\n      if (this.usingNativeControls_ === bool) {\n        return;\n      }\n\n      this.usingNativeControls_ = bool;\n\n      if (this.usingNativeControls_) {\n        this.addClass('vjs-using-native-controls');\n        /**\n         * player is using the native device controls\n         *\n         * @event Player#usingnativecontrols\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('usingnativecontrols');\n      } else {\n        this.removeClass('vjs-using-native-controls');\n        /**\n         * player is using the custom HTML controls\n         *\n         * @event Player#usingcustomcontrols\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('usingcustomcontrols');\n      }\n    }\n    /**\n     * Set or get the current MediaError\n     *\n     * @fires Player#error\n     *\n     * @param  {MediaError|string|number} [err]\n     *         A MediaError or a string/number to be turned\n     *         into a MediaError\n     *\n     * @return {MediaError|null}\n     *         The current MediaError when getting (or null)\n     */\n    ;\n\n    _proto.error = function error(err) {\n      if (err === undefined) {\n        return this.error_ || null;\n      } // restoring to default\n\n\n      if (err === null) {\n        this.error_ = err;\n        this.removeClass('vjs-error');\n\n        if (this.errorDisplay) {\n          this.errorDisplay.close();\n        }\n\n        return;\n      }\n\n      this.error_ = new MediaError(err); // add the vjs-error classname to the player\n\n      this.addClass('vjs-error'); // log the name of the error type and any message\n      // IE11 logs \"[object object]\" and required you to expand message to see error object\n\n      log.error(\"(CODE:\" + this.error_.code + \" \" + MediaError.errorTypes[this.error_.code] + \")\", this.error_.message, this.error_);\n      /**\n       * @event Player#error\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('error');\n      return;\n    }\n    /**\n     * Report user activity\n     *\n     * @param {Object} event\n     *        Event object\n     */\n    ;\n\n    _proto.reportUserActivity = function reportUserActivity(event) {\n      this.userActivity_ = true;\n    }\n    /**\n     * Get/set if user is active\n     *\n     * @fires Player#useractive\n     * @fires Player#userinactive\n     *\n     * @param {boolean} [bool]\n     *        - true if the user is active\n     *        - false if the user is inactive\n     *\n     * @return {boolean}\n     *         The current value of userActive when getting\n     */\n    ;\n\n    _proto.userActive = function userActive(bool) {\n      if (bool === undefined) {\n        return this.userActive_;\n      }\n\n      bool = !!bool;\n\n      if (bool === this.userActive_) {\n        return;\n      }\n\n      this.userActive_ = bool;\n\n      if (this.userActive_) {\n        this.userActivity_ = true;\n        this.removeClass('vjs-user-inactive');\n        this.addClass('vjs-user-active');\n        /**\n         * @event Player#useractive\n         * @type {EventTarget~Event}\n         */\n\n        this.trigger('useractive');\n        return;\n      } // Chrome/Safari/IE have bugs where when you change the cursor it can\n      // trigger a mousemove event. This causes an issue when you're hiding\n      // the cursor when the user is inactive, and a mousemove signals user\n      // activity. Making it impossible to go into inactive mode. Specifically\n      // this happens in fullscreen when we really need to hide the cursor.\n      //\n      // When this gets resolved in ALL browsers it can be removed\n      // https://code.google.com/p/chromium/issues/detail?id=103041\n\n\n      if (this.tech_) {\n        this.tech_.one('mousemove', function (e) {\n          e.stopPropagation();\n          e.preventDefault();\n        });\n      }\n\n      this.userActivity_ = false;\n      this.removeClass('vjs-user-active');\n      this.addClass('vjs-user-inactive');\n      /**\n       * @event Player#userinactive\n       * @type {EventTarget~Event}\n       */\n\n      this.trigger('userinactive');\n    }\n    /**\n     * Listen for user activity based on timeout value\n     *\n     * @private\n     */\n    ;\n\n    _proto.listenForUserActivity_ = function listenForUserActivity_() {\n      var mouseInProgress;\n      var lastMoveX;\n      var lastMoveY;\n      var handleActivity = bind(this, this.reportUserActivity);\n\n      var handleMouseMove = function handleMouseMove(e) {\n        // #1068 - Prevent mousemove spamming\n        // Chrome Bug: https://code.google.com/p/chromium/issues/detail?id=366970\n        if (e.screenX !== lastMoveX || e.screenY !== lastMoveY) {\n          lastMoveX = e.screenX;\n          lastMoveY = e.screenY;\n          handleActivity();\n        }\n      };\n\n      var handleMouseDown = function handleMouseDown() {\n        handleActivity(); // For as long as the they are touching the device or have their mouse down,\n        // we consider them active even if they're not moving their finger or mouse.\n        // So we want to continue to update that they are active\n\n        this.clearInterval(mouseInProgress); // Setting userActivity=true now and setting the interval to the same time\n        // as the activityCheck interval (250) should ensure we never miss the\n        // next activityCheck\n\n        mouseInProgress = this.setInterval(handleActivity, 250);\n      };\n\n      var handleMouseUp = function handleMouseUp(event) {\n        handleActivity(); // Stop the interval that maintains activity if the mouse/touch is down\n\n        this.clearInterval(mouseInProgress);\n      }; // Any mouse movement will be considered user activity\n\n\n      this.on('mousedown', handleMouseDown);\n      this.on('mousemove', handleMouseMove);\n      this.on('mouseup', handleMouseUp);\n      var controlBar = this.getChild('controlBar'); // Fixes bug on Android & iOS where when tapping progressBar (when control bar is displayed)\n      // controlBar would no longer be hidden by default timeout.\n\n      if (controlBar && !IS_IOS && !IS_ANDROID) {\n        controlBar.on('mouseenter', function (event) {\n          this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout;\n          this.player().options_.inactivityTimeout = 0;\n        });\n        controlBar.on('mouseleave', function (event) {\n          this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout;\n        });\n      } // Listen for keyboard navigation\n      // Shouldn't need to use inProgress interval because of key repeat\n\n\n      this.on('keydown', handleActivity);\n      this.on('keyup', handleActivity); // Run an interval every 250 milliseconds instead of stuffing everything into\n      // the mousemove/touchmove function itself, to prevent performance degradation.\n      // `this.reportUserActivity` simply sets this.userActivity_ to true, which\n      // then gets picked up by this loop\n      // http://ejohn.org/blog/learning-from-twitter/\n\n      var inactivityTimeout;\n      this.setInterval(function () {\n        // Check to see if mouse/touch activity has happened\n        if (!this.userActivity_) {\n          return;\n        } // Reset the activity tracker\n\n\n        this.userActivity_ = false; // If the user state was inactive, set the state to active\n\n        this.userActive(true); // Clear any existing inactivity timeout to start the timer over\n\n        this.clearTimeout(inactivityTimeout);\n        var timeout = this.options_.inactivityTimeout;\n\n        if (timeout <= 0) {\n          return;\n        } // In <timeout> milliseconds, if no more activity has occurred the\n        // user will be considered inactive\n\n\n        inactivityTimeout = this.setTimeout(function () {\n          // Protect against the case where the inactivityTimeout can trigger just\n          // before the next user activity is picked up by the activity check loop\n          // causing a flicker\n          if (!this.userActivity_) {\n            this.userActive(false);\n          }\n        }, timeout);\n      }, 250);\n    }\n    /**\n     * Gets or sets the current playback rate. A playback rate of\n     * 1.0 represents normal speed and 0.5 would indicate half-speed\n     * playback, for instance.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-playbackrate\n     *\n     * @param {number} [rate]\n     *       New playback rate to set.\n     *\n     * @return {number}\n     *         The current playback rate when getting or 1.0\n     */\n    ;\n\n    _proto.playbackRate = function playbackRate(rate) {\n      if (rate !== undefined) {\n        // NOTE: this.cache_.lastPlaybackRate is set from the tech handler\n        // that is registered above\n        this.techCall_('setPlaybackRate', rate);\n        return;\n      }\n\n      if (this.tech_ && this.tech_.featuresPlaybackRate) {\n        return this.cache_.lastPlaybackRate || this.techGet_('playbackRate');\n      }\n\n      return 1.0;\n    }\n    /**\n     * Gets or sets the current default playback rate. A default playback rate of\n     * 1.0 represents normal speed and 0.5 would indicate half-speed playback, for instance.\n     * defaultPlaybackRate will only represent what the initial playbackRate of a video was, not\n     * not the current playbackRate.\n     *\n     * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-defaultplaybackrate\n     *\n     * @param {number} [rate]\n     *       New default playback rate to set.\n     *\n     * @return {number|Player}\n     *         - The default playback rate when getting or 1.0\n     *         - the player when setting\n     */\n    ;\n\n    _proto.defaultPlaybackRate = function defaultPlaybackRate(rate) {\n      if (rate !== undefined) {\n        return this.techCall_('setDefaultPlaybackRate', rate);\n      }\n\n      if (this.tech_ && this.tech_.featuresPlaybackRate) {\n        return this.techGet_('defaultPlaybackRate');\n      }\n\n      return 1.0;\n    }\n    /**\n     * Gets or sets the audio flag\n     *\n     * @param {boolean} bool\n     *        - true signals that this is an audio player\n     *        - false signals that this is not an audio player\n     *\n     * @return {boolean}\n     *         The current value of isAudio when getting\n     */\n    ;\n\n    _proto.isAudio = function isAudio(bool) {\n      if (bool !== undefined) {\n        this.isAudio_ = !!bool;\n        return;\n      }\n\n      return !!this.isAudio_;\n    }\n    /**\n     * A helper method for adding a {@link TextTrack} to our\n     * {@link TextTrackList}.\n     *\n     * In addition to the W3C settings we allow adding additional info through options.\n     *\n     * @see http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-addtexttrack\n     *\n     * @param {string} [kind]\n     *        the kind of TextTrack you are adding\n     *\n     * @param {string} [label]\n     *        the label to give the TextTrack label\n     *\n     * @param {string} [language]\n     *        the language to set on the TextTrack\n     *\n     * @return {TextTrack|undefined}\n     *         the TextTrack that was added or undefined\n     *         if there is no tech\n     */\n    ;\n\n    _proto.addTextTrack = function addTextTrack(kind, label, language) {\n      if (this.tech_) {\n        return this.tech_.addTextTrack(kind, label, language);\n      }\n    }\n    /**\n     * Create a remote {@link TextTrack} and an {@link HTMLTrackElement}. It will\n     * automatically removed from the video element whenever the source changes, unless\n     * manualCleanup is set to false.\n     *\n     * @param {Object} options\n     *        Options to pass to {@link HTMLTrackElement} during creation. See\n     *        {@link HTMLTrackElement} for object properties that you should use.\n     *\n     * @param {boolean} [manualCleanup=true] if set to false, the TextTrack will be\n     *\n     * @return {HtmlTrackElement}\n     *         the HTMLTrackElement that was created and added\n     *         to the HtmlTrackElementList and the remote\n     *         TextTrackList\n     *\n     * @deprecated The default value of the \"manualCleanup\" parameter will default\n     *             to \"false\" in upcoming versions of Video.js\n     */\n    ;\n\n    _proto.addRemoteTextTrack = function addRemoteTextTrack(options, manualCleanup) {\n      if (this.tech_) {\n        return this.tech_.addRemoteTextTrack(options, manualCleanup);\n      }\n    }\n    /**\n     * Remove a remote {@link TextTrack} from the respective\n     * {@link TextTrackList} and {@link HtmlTrackElementList}.\n     *\n     * @param {Object} track\n     *        Remote {@link TextTrack} to remove\n     *\n     * @return {undefined}\n     *         does not return anything\n     */\n    ;\n\n    _proto.removeRemoteTextTrack = function removeRemoteTextTrack(obj) {\n      if (obj === void 0) {\n        obj = {};\n      }\n\n      var _obj = obj,\n          track = _obj.track;\n\n      if (!track) {\n        track = obj;\n      } // destructure the input into an object with a track argument, defaulting to arguments[0]\n      // default the whole argument to an empty object if nothing was passed in\n\n\n      if (this.tech_) {\n        return this.tech_.removeRemoteTextTrack(track);\n      }\n    }\n    /**\n     * Gets available media playback quality metrics as specified by the W3C's Media\n     * Playback Quality API.\n     *\n     * @see [Spec]{@link https://wicg.github.io/media-playback-quality}\n     *\n     * @return {Object|undefined}\n     *         An object with supported media playback quality metrics or undefined if there\n     *         is no tech or the tech does not support it.\n     */\n    ;\n\n    _proto.getVideoPlaybackQuality = function getVideoPlaybackQuality() {\n      return this.techGet_('getVideoPlaybackQuality');\n    }\n    /**\n     * Get video width\n     *\n     * @return {number}\n     *         current video width\n     */\n    ;\n\n    _proto.videoWidth = function videoWidth() {\n      return this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth() || 0;\n    }\n    /**\n     * Get video height\n     *\n     * @return {number}\n     *         current video height\n     */\n    ;\n\n    _proto.videoHeight = function videoHeight() {\n      return this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight() || 0;\n    }\n    /**\n     * The player's language code\n     * NOTE: The language should be set in the player options if you want the\n     * the controls to be built with a specific language. Changing the language\n     * later will not update controls text.\n     *\n     * @param {string} [code]\n     *        the language code to set the player to\n     *\n     * @return {string}\n     *         The current language code when getting\n     */\n    ;\n\n    _proto.language = function language(code) {\n      if (code === undefined) {\n        return this.language_;\n      }\n\n      this.language_ = String(code).toLowerCase();\n    }\n    /**\n     * Get the player's language dictionary\n     * Merge every time, because a newly added plugin might call videojs.addLanguage() at any time\n     * Languages specified directly in the player options have precedence\n     *\n     * @return {Array}\n     *         An array of of supported languages\n     */\n    ;\n\n    _proto.languages = function languages() {\n      return mergeOptions(Player.prototype.options_.languages, this.languages_);\n    }\n    /**\n     * returns a JavaScript object reperesenting the current track\n     * information. **DOES not return it as JSON**\n     *\n     * @return {Object}\n     *         Object representing the current of track info\n     */\n    ;\n\n    _proto.toJSON = function toJSON() {\n      var options = mergeOptions(this.options_);\n      var tracks = options.tracks;\n      options.tracks = [];\n\n      for (var i = 0; i < tracks.length; i++) {\n        var track = tracks[i]; // deep merge tracks and null out player so no circular references\n\n        track = mergeOptions(track);\n        track.player = undefined;\n        options.tracks[i] = track;\n      }\n\n      return options;\n    }\n    /**\n     * Creates a simple modal dialog (an instance of the {@link ModalDialog}\n     * component) that immediately overlays the player with arbitrary\n     * content and removes itself when closed.\n     *\n     * @param {string|Function|Element|Array|null} content\n     *        Same as {@link ModalDialog#content}'s param of the same name.\n     *        The most straight-forward usage is to provide a string or DOM\n     *        element.\n     *\n     * @param {Object} [options]\n     *        Extra options which will be passed on to the {@link ModalDialog}.\n     *\n     * @return {ModalDialog}\n     *         the {@link ModalDialog} that was created\n     */\n    ;\n\n    _proto.createModal = function createModal(content, options) {\n      var _this14 = this;\n\n      options = options || {};\n      options.content = content || '';\n      var modal = new ModalDialog(this, options);\n      this.addChild(modal);\n      modal.on('dispose', function () {\n        _this14.removeChild(modal);\n      });\n      modal.open();\n      return modal;\n    }\n    /**\n     * Change breakpoint classes when the player resizes.\n     *\n     * @private\n     */\n    ;\n\n    _proto.updateCurrentBreakpoint_ = function updateCurrentBreakpoint_() {\n      if (!this.responsive()) {\n        return;\n      }\n\n      var currentBreakpoint = this.currentBreakpoint();\n      var currentWidth = this.currentWidth();\n\n      for (var i = 0; i < BREAKPOINT_ORDER.length; i++) {\n        var candidateBreakpoint = BREAKPOINT_ORDER[i];\n        var maxWidth = this.breakpoints_[candidateBreakpoint];\n\n        if (currentWidth <= maxWidth) {\n          // The current breakpoint did not change, nothing to do.\n          if (currentBreakpoint === candidateBreakpoint) {\n            return;\n          } // Only remove a class if there is a current breakpoint.\n\n\n          if (currentBreakpoint) {\n            this.removeClass(BREAKPOINT_CLASSES[currentBreakpoint]);\n          }\n\n          this.addClass(BREAKPOINT_CLASSES[candidateBreakpoint]);\n          this.breakpoint_ = candidateBreakpoint;\n          break;\n        }\n      }\n    }\n    /**\n     * Removes the current breakpoint.\n     *\n     * @private\n     */\n    ;\n\n    _proto.removeCurrentBreakpoint_ = function removeCurrentBreakpoint_() {\n      var className = this.currentBreakpointClass();\n      this.breakpoint_ = '';\n\n      if (className) {\n        this.removeClass(className);\n      }\n    }\n    /**\n     * Get or set breakpoints on the player.\n     *\n     * Calling this method with an object or `true` will remove any previous\n     * custom breakpoints and start from the defaults again.\n     *\n     * @param  {Object|boolean} [breakpoints]\n     *         If an object is given, it can be used to provide custom\n     *         breakpoints. If `true` is given, will set default breakpoints.\n     *         If this argument is not given, will simply return the current\n     *         breakpoints.\n     *\n     * @param  {number} [breakpoints.tiny]\n     *         The maximum width for the \"vjs-layout-tiny\" class.\n     *\n     * @param  {number} [breakpoints.xsmall]\n     *         The maximum width for the \"vjs-layout-x-small\" class.\n     *\n     * @param  {number} [breakpoints.small]\n     *         The maximum width for the \"vjs-layout-small\" class.\n     *\n     * @param  {number} [breakpoints.medium]\n     *         The maximum width for the \"vjs-layout-medium\" class.\n     *\n     * @param  {number} [breakpoints.large]\n     *         The maximum width for the \"vjs-layout-large\" class.\n     *\n     * @param  {number} [breakpoints.xlarge]\n     *         The maximum width for the \"vjs-layout-x-large\" class.\n     *\n     * @param  {number} [breakpoints.huge]\n     *         The maximum width for the \"vjs-layout-huge\" class.\n     *\n     * @return {Object}\n     *         An object mapping breakpoint names to maximum width values.\n     */\n    ;\n\n    _proto.breakpoints = function breakpoints(_breakpoints) {\n      // Used as a getter.\n      if (_breakpoints === undefined) {\n        return assign(this.breakpoints_);\n      }\n\n      this.breakpoint_ = '';\n      this.breakpoints_ = assign({}, DEFAULT_BREAKPOINTS, _breakpoints); // When breakpoint definitions change, we need to update the currently\n      // selected breakpoint.\n\n      this.updateCurrentBreakpoint_(); // Clone the breakpoints before returning.\n\n      return assign(this.breakpoints_);\n    }\n    /**\n     * Get or set a flag indicating whether or not this player should adjust\n     * its UI based on its dimensions.\n     *\n     * @param  {boolean} value\n     *         Should be `true` if the player should adjust its UI based on its\n     *         dimensions; otherwise, should be `false`.\n     *\n     * @return {boolean}\n     *         Will be `true` if this player should adjust its UI based on its\n     *         dimensions; otherwise, will be `false`.\n     */\n    ;\n\n    _proto.responsive = function responsive(value) {\n      // Used as a getter.\n      if (value === undefined) {\n        return this.responsive_;\n      }\n\n      value = Boolean(value);\n      var current = this.responsive_; // Nothing changed.\n\n      if (value === current) {\n        return;\n      } // The value actually changed, set it.\n\n\n      this.responsive_ = value; // Start listening for breakpoints and set the initial breakpoint if the\n      // player is now responsive.\n\n      if (value) {\n        this.on('playerresize', this.updateCurrentBreakpoint_);\n        this.updateCurrentBreakpoint_(); // Stop listening for breakpoints if the player is no longer responsive.\n      } else {\n        this.off('playerresize', this.updateCurrentBreakpoint_);\n        this.removeCurrentBreakpoint_();\n      }\n\n      return value;\n    }\n    /**\n     * Get current breakpoint name, if any.\n     *\n     * @return {string}\n     *         If there is currently a breakpoint set, returns a the key from the\n     *         breakpoints object matching it. Otherwise, returns an empty string.\n     */\n    ;\n\n    _proto.currentBreakpoint = function currentBreakpoint() {\n      return this.breakpoint_;\n    }\n    /**\n     * Get the current breakpoint class name.\n     *\n     * @return {string}\n     *         The matching class name (e.g. `\"vjs-layout-tiny\"` or\n     *         `\"vjs-layout-large\"`) for the current breakpoint. Empty string if\n     *         there is no current breakpoint.\n     */\n    ;\n\n    _proto.currentBreakpointClass = function currentBreakpointClass() {\n      return BREAKPOINT_CLASSES[this.breakpoint_] || '';\n    }\n    /**\n     * An object that describes a single piece of media.\n     *\n     * Properties that are not part of this type description will be retained; so,\n     * this can be viewed as a generic metadata storage mechanism as well.\n     *\n     * @see      {@link https://wicg.github.io/mediasession/#the-mediametadata-interface}\n     * @typedef  {Object} Player~MediaObject\n     *\n     * @property {string} [album]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {string} [artist]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {Object[]} [artwork]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API. If not specified, will be populated via the `poster`, if\n     *           available.\n     *\n     * @property {string} [poster]\n     *           URL to an image that will display before playback.\n     *\n     * @property {Tech~SourceObject|Tech~SourceObject[]|string} [src]\n     *           A single source object, an array of source objects, or a string\n     *           referencing a URL to a media source. It is _highly recommended_\n     *           that an object or array of objects is used here, so that source\n     *           selection algorithms can take the `type` into account.\n     *\n     * @property {string} [title]\n     *           Unused, except if this object is passed to the `MediaSession`\n     *           API.\n     *\n     * @property {Object[]} [textTracks]\n     *           An array of objects to be used to create text tracks, following\n     *           the {@link https://www.w3.org/TR/html50/embedded-content-0.html#the-track-element|native track element format}.\n     *           For ease of removal, these will be created as \"remote\" text\n     *           tracks and set to automatically clean up on source changes.\n     *\n     *           These objects may have properties like `src`, `kind`, `label`,\n     *           and `language`, see {@link Tech#createRemoteTextTrack}.\n     */\n\n    /**\n     * Populate the player using a {@link Player~MediaObject|MediaObject}.\n     *\n     * @param  {Player~MediaObject} media\n     *         A media object.\n     *\n     * @param  {Function} ready\n     *         A callback to be called when the player is ready.\n     */\n    ;\n\n    _proto.loadMedia = function loadMedia(media, ready) {\n      var _this15 = this;\n\n      if (!media || typeof media !== 'object') {\n        return;\n      }\n\n      this.reset(); // Clone the media object so it cannot be mutated from outside.\n\n      this.cache_.media = mergeOptions(media);\n      var _this$cache_$media = this.cache_.media,\n          artwork = _this$cache_$media.artwork,\n          poster = _this$cache_$media.poster,\n          src = _this$cache_$media.src,\n          textTracks = _this$cache_$media.textTracks; // If `artwork` is not given, create it using `poster`.\n\n      if (!artwork && poster) {\n        this.cache_.media.artwork = [{\n          src: poster,\n          type: getMimetype(poster)\n        }];\n      }\n\n      if (src) {\n        this.src(src);\n      }\n\n      if (poster) {\n        this.poster(poster);\n      }\n\n      if (Array.isArray(textTracks)) {\n        textTracks.forEach(function (tt) {\n          return _this15.addRemoteTextTrack(tt, false);\n        });\n      }\n\n      this.ready(ready);\n    }\n    /**\n     * Get a clone of the current {@link Player~MediaObject} for this player.\n     *\n     * If the `loadMedia` method has not been used, will attempt to return a\n     * {@link Player~MediaObject} based on the current state of the player.\n     *\n     * @return {Player~MediaObject}\n     */\n    ;\n\n    _proto.getMedia = function getMedia() {\n      if (!this.cache_.media) {\n        var poster = this.poster();\n        var src = this.currentSources();\n        var textTracks = Array.prototype.map.call(this.remoteTextTracks(), function (tt) {\n          return {\n            kind: tt.kind,\n            label: tt.label,\n            language: tt.language,\n            src: tt.src\n          };\n        });\n        var media = {\n          src: src,\n          textTracks: textTracks\n        };\n\n        if (poster) {\n          media.poster = poster;\n          media.artwork = [{\n            src: media.poster,\n            type: getMimetype(media.poster)\n          }];\n        }\n\n        return media;\n      }\n\n      return mergeOptions(this.cache_.media);\n    }\n    /**\n     * Gets tag settings\n     *\n     * @param {Element} tag\n     *        The player tag\n     *\n     * @return {Object}\n     *         An object containing all of the settings\n     *         for a player tag\n     */\n    ;\n\n    Player.getTagSettings = function getTagSettings(tag) {\n      var baseOptions = {\n        sources: [],\n        tracks: []\n      };\n      var tagOptions = getAttributes(tag);\n      var dataSetup = tagOptions['data-setup'];\n\n      if (hasClass(tag, 'vjs-fill')) {\n        tagOptions.fill = true;\n      }\n\n      if (hasClass(tag, 'vjs-fluid')) {\n        tagOptions.fluid = true;\n      } // Check if data-setup attr exists.\n\n\n      if (dataSetup !== null) {\n        // Parse options JSON\n        // If empty string, make it a parsable json object.\n        var _safeParseTuple = tuple(dataSetup || '{}'),\n            err = _safeParseTuple[0],\n            data = _safeParseTuple[1];\n\n        if (err) {\n          log.error(err);\n        }\n\n        assign(tagOptions, data);\n      }\n\n      assign(baseOptions, tagOptions); // Get tag children settings\n\n      if (tag.hasChildNodes()) {\n        var children = tag.childNodes;\n\n        for (var i = 0, j = children.length; i < j; i++) {\n          var child = children[i]; // Change case needed: http://ejohn.org/blog/nodename-case-sensitivity/\n\n          var childName = child.nodeName.toLowerCase();\n\n          if (childName === 'source') {\n            baseOptions.sources.push(getAttributes(child));\n          } else if (childName === 'track') {\n            baseOptions.tracks.push(getAttributes(child));\n          }\n        }\n      }\n\n      return baseOptions;\n    }\n    /**\n     * Determine whether or not flexbox is supported\n     *\n     * @return {boolean}\n     *         - true if flexbox is supported\n     *         - false if flexbox is not supported\n     */\n    ;\n\n    _proto.flexNotSupported_ = function flexNotSupported_() {\n      var elem = document.createElement('i'); // Note: We don't actually use flexBasis (or flexOrder), but it's one of the more\n      // common flex features that we can rely on when checking for flex support.\n\n      return !('flexBasis' in elem.style || 'webkitFlexBasis' in elem.style || 'mozFlexBasis' in elem.style || 'msFlexBasis' in elem.style || // IE10-specific (2012 flex spec), available for completeness\n      'msFlexOrder' in elem.style);\n    };\n\n    return Player;\n  }(Component);\n  /**\n   * Get the {@link VideoTrackList}\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#videotracklist\n   *\n   * @return {VideoTrackList}\n   *         the current video track list\n   *\n   * @method Player.prototype.videoTracks\n   */\n\n  /**\n   * Get the {@link AudioTrackList}\n   * @link https://html.spec.whatwg.org/multipage/embedded-content.html#audiotracklist\n   *\n   * @return {AudioTrackList}\n   *         the current audio track list\n   *\n   * @method Player.prototype.audioTracks\n   */\n\n  /**\n   * Get the {@link TextTrackList}\n   *\n   * @link http://www.w3.org/html/wg/drafts/html/master/embedded-content-0.html#dom-media-texttracks\n   *\n   * @return {TextTrackList}\n   *         the current text track list\n   *\n   * @method Player.prototype.textTracks\n   */\n\n  /**\n   * Get the remote {@link TextTrackList}\n   *\n   * @return {TextTrackList}\n   *         The current remote text track list\n   *\n   * @method Player.prototype.remoteTextTracks\n   */\n\n  /**\n   * Get the remote {@link HtmlTrackElementList} tracks.\n   *\n   * @return {HtmlTrackElementList}\n   *         The current remote text track element list\n   *\n   * @method Player.prototype.remoteTextTrackEls\n   */\n\n\n  ALL.names.forEach(function (name$$1) {\n    var props = ALL[name$$1];\n\n    Player.prototype[props.getterName] = function () {\n      if (this.tech_) {\n        return this.tech_[props.getterName]();\n      } // if we have not yet loadTech_, we create {video,audio,text}Tracks_\n      // these will be passed to the tech during loading\n\n\n      this[props.privateName] = this[props.privateName] || new props.ListClass();\n      return this[props.privateName];\n    };\n  });\n  /**\n   * Global enumeration of players.\n   *\n   * The keys are the player IDs and the values are either the {@link Player}\n   * instance or `null` for disposed players.\n   *\n   * @type {Object}\n   */\n\n  Player.players = {};\n  var navigator = window$1.navigator;\n  /*\n   * Player instance options, surfaced using options\n   * options = Player.prototype.options_\n   * Make changes in options, not here.\n   *\n   * @type {Object}\n   * @private\n   */\n\n  Player.prototype.options_ = {\n    // Default order of fallback technology\n    techOrder: Tech.defaultTechOrder_,\n    html5: {},\n    flash: {},\n    // default inactivity timeout\n    inactivityTimeout: 2000,\n    // default playback rates\n    playbackRates: [],\n    // Add playback rate selection by adding rates\n    // 'playbackRates': [0.5, 1, 1.5, 2],\n    liveui: false,\n    // Included control sets\n    children: ['mediaLoader', 'posterImage', 'textTrackDisplay', 'loadingSpinner', 'bigPlayButton', 'liveTracker', 'controlBar', 'errorDisplay', 'textTrackSettings', 'resizeManager'],\n    language: navigator && (navigator.languages && navigator.languages[0] || navigator.userLanguage || navigator.language) || 'en',\n    // locales and their language translations\n    languages: {},\n    // Default message to show when a video cannot be played.\n    notSupportedMessage: 'No compatible source was found for this media.',\n    breakpoints: {},\n    responsive: false\n  };\n  [\n  /**\n   * Returns whether or not the player is in the \"ended\" state.\n   *\n   * @return {Boolean} True if the player is in the ended state, false if not.\n   * @method Player#ended\n   */\n  'ended',\n  /**\n   * Returns whether or not the player is in the \"seeking\" state.\n   *\n   * @return {Boolean} True if the player is in the seeking state, false if not.\n   * @method Player#seeking\n   */\n  'seeking',\n  /**\n   * Returns the TimeRanges of the media that are currently available\n   * for seeking to.\n   *\n   * @return {TimeRanges} the seekable intervals of the media timeline\n   * @method Player#seekable\n   */\n  'seekable',\n  /**\n   * Returns the current state of network activity for the element, from\n   * the codes in the list below.\n   * - NETWORK_EMPTY (numeric value 0)\n   *   The element has not yet been initialised. All attributes are in\n   *   their initial states.\n   * - NETWORK_IDLE (numeric value 1)\n   *   The element's resource selection algorithm is active and has\n   *   selected a resource, but it is not actually using the network at\n   *   this time.\n   * - NETWORK_LOADING (numeric value 2)\n   *   The user agent is actively trying to download data.\n   * - NETWORK_NO_SOURCE (numeric value 3)\n   *   The element's resource selection algorithm is active, but it has\n   *   not yet found a resource to use.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#network-states\n   * @return {number} the current network activity state\n   * @method Player#networkState\n   */\n  'networkState',\n  /**\n   * Returns a value that expresses the current state of the element\n   * with respect to rendering the current playback position, from the\n   * codes in the list below.\n   * - HAVE_NOTHING (numeric value 0)\n   *   No information regarding the media resource is available.\n   * - HAVE_METADATA (numeric value 1)\n   *   Enough of the resource has been obtained that the duration of the\n   *   resource is available.\n   * - HAVE_CURRENT_DATA (numeric value 2)\n   *   Data for the immediate current playback position is available.\n   * - HAVE_FUTURE_DATA (numeric value 3)\n   *   Data for the immediate current playback position is available, as\n   *   well as enough data for the user agent to advance the current\n   *   playback position in the direction of playback.\n   * - HAVE_ENOUGH_DATA (numeric value 4)\n   *   The user agent estimates that enough data is available for\n   *   playback to proceed uninterrupted.\n   *\n   * @see https://html.spec.whatwg.org/multipage/embedded-content.html#dom-media-readystate\n   * @return {number} the current playback rendering state\n   * @method Player#readyState\n   */\n  'readyState'].forEach(function (fn) {\n    Player.prototype[fn] = function () {\n      return this.techGet_(fn);\n    };\n  });\n  TECH_EVENTS_RETRIGGER.forEach(function (event) {\n    Player.prototype[\"handleTech\" + toTitleCase(event) + \"_\"] = function () {\n      return this.trigger(event);\n    };\n  });\n  /**\n   * Fired when the player has initial duration and dimension information\n   *\n   * @event Player#loadedmetadata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the player has downloaded data at the current playback position\n   *\n   * @event Player#loadeddata\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the current playback position has changed *\n   * During playback this is fired every 15-250 milliseconds, depending on the\n   * playback technology in use.\n   *\n   * @event Player#timeupdate\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Fired when the volume changes\n   *\n   * @event Player#volumechange\n   * @type {EventTarget~Event}\n   */\n\n  /**\n   * Reports whether or not a player has a plugin available.\n   *\n   * This does not report whether or not the plugin has ever been initialized\n   * on this player. For that, [usingPlugin]{@link Player#usingPlugin}.\n   *\n   * @method Player#hasPlugin\n   * @param  {string}  name\n   *         The name of a plugin.\n   *\n   * @return {boolean}\n   *         Whether or not this player has the requested plugin available.\n   */\n\n  /**\n   * Reports whether or not a player is using a plugin by name.\n   *\n   * For basic plugins, this only reports whether the plugin has _ever_ been\n   * initialized on this player.\n   *\n   * @method Player#usingPlugin\n   * @param  {string} name\n   *         The name of a plugin.\n   *\n   * @return {boolean}\n   *         Whether or not this player is using the requested plugin.\n   */\n\n  Component.registerComponent('Player', Player);\n\n  /**\n   * The base plugin name.\n   *\n   * @private\n   * @constant\n   * @type {string}\n   */\n\n  var BASE_PLUGIN_NAME = 'plugin';\n  /**\n   * The key on which a player's active plugins cache is stored.\n   *\n   * @private\n   * @constant\n   * @type     {string}\n   */\n\n  var PLUGIN_CACHE_KEY = 'activePlugins_';\n  /**\n   * Stores registered plugins in a private space.\n   *\n   * @private\n   * @type    {Object}\n   */\n\n  var pluginStorage = {};\n  /**\n   * Reports whether or not a plugin has been registered.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {boolean}\n   *          Whether or not the plugin has been registered.\n   */\n\n  var pluginExists = function pluginExists(name) {\n    return pluginStorage.hasOwnProperty(name);\n  };\n  /**\n   * Get a single registered plugin by name.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of a plugin.\n   *\n   * @return {Function|undefined}\n   *          The plugin (or undefined).\n   */\n\n\n  var getPlugin = function getPlugin(name) {\n    return pluginExists(name) ? pluginStorage[name] : undefined;\n  };\n  /**\n   * Marks a plugin as \"active\" on a player.\n   *\n   * Also, ensures that the player has an object for tracking active plugins.\n   *\n   * @private\n   * @param   {Player} player\n   *          A Video.js player instance.\n   *\n   * @param   {string} name\n   *          The name of a plugin.\n   */\n\n\n  var markPluginAsActive = function markPluginAsActive(player, name) {\n    player[PLUGIN_CACHE_KEY] = player[PLUGIN_CACHE_KEY] || {};\n    player[PLUGIN_CACHE_KEY][name] = true;\n  };\n  /**\n   * Triggers a pair of plugin setup events.\n   *\n   * @private\n   * @param  {Player} player\n   *         A Video.js player instance.\n   *\n   * @param  {Plugin~PluginEventHash} hash\n   *         A plugin event hash.\n   *\n   * @param  {boolean} [before]\n   *         If true, prefixes the event name with \"before\". In other words,\n   *         use this to trigger \"beforepluginsetup\" instead of \"pluginsetup\".\n   */\n\n\n  var triggerSetupEvent = function triggerSetupEvent(player, hash, before) {\n    var eventName = (before ? 'before' : '') + 'pluginsetup';\n    player.trigger(eventName, hash);\n    player.trigger(eventName + ':' + hash.name, hash);\n  };\n  /**\n   * Takes a basic plugin function and returns a wrapper function which marks\n   * on the player that the plugin has been activated.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of the plugin.\n   *\n   * @param   {Function} plugin\n   *          The basic plugin.\n   *\n   * @return {Function}\n   *          A wrapper function for the given plugin.\n   */\n\n\n  var createBasicPlugin = function createBasicPlugin(name, plugin) {\n    var basicPluginWrapper = function basicPluginWrapper() {\n      // We trigger the \"beforepluginsetup\" and \"pluginsetup\" events on the player\n      // regardless, but we want the hash to be consistent with the hash provided\n      // for advanced plugins.\n      //\n      // The only potentially counter-intuitive thing here is the `instance` in\n      // the \"pluginsetup\" event is the value returned by the `plugin` function.\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: plugin,\n        instance: null\n      }, true);\n      var instance = plugin.apply(this, arguments);\n      markPluginAsActive(this, name);\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: plugin,\n        instance: instance\n      });\n      return instance;\n    };\n\n    Object.keys(plugin).forEach(function (prop) {\n      basicPluginWrapper[prop] = plugin[prop];\n    });\n    return basicPluginWrapper;\n  };\n  /**\n   * Takes a plugin sub-class and returns a factory function for generating\n   * instances of it.\n   *\n   * This factory function will replace itself with an instance of the requested\n   * sub-class of Plugin.\n   *\n   * @private\n   * @param   {string} name\n   *          The name of the plugin.\n   *\n   * @param   {Plugin} PluginSubClass\n   *          The advanced plugin.\n   *\n   * @return {Function}\n   */\n\n\n  var createPluginFactory = function createPluginFactory(name, PluginSubClass) {\n    // Add a `name` property to the plugin prototype so that each plugin can\n    // refer to itself by name.\n    PluginSubClass.prototype.name = name;\n    return function () {\n      triggerSetupEvent(this, {\n        name: name,\n        plugin: PluginSubClass,\n        instance: null\n      }, true);\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var instance = _construct(PluginSubClass, [this].concat(args)); // The plugin is replaced by a function that returns the current instance.\n\n\n      this[name] = function () {\n        return instance;\n      };\n\n      triggerSetupEvent(this, instance.getEventHash());\n      return instance;\n    };\n  };\n  /**\n   * Parent class for all advanced plugins.\n   *\n   * @mixes   module:evented~EventedMixin\n   * @mixes   module:stateful~StatefulMixin\n   * @fires   Player#beforepluginsetup\n   * @fires   Player#beforepluginsetup:$name\n   * @fires   Player#pluginsetup\n   * @fires   Player#pluginsetup:$name\n   * @listens Player#dispose\n   * @throws  {Error}\n   *          If attempting to instantiate the base {@link Plugin} class\n   *          directly instead of via a sub-class.\n   */\n\n\n  var Plugin =\n  /*#__PURE__*/\n  function () {\n    /**\n     * Creates an instance of this class.\n     *\n     * Sub-classes should call `super` to ensure plugins are properly initialized.\n     *\n     * @param {Player} player\n     *        A Video.js player instance.\n     */\n    function Plugin(player) {\n      if (this.constructor === Plugin) {\n        throw new Error('Plugin must be sub-classed; not directly instantiated.');\n      }\n\n      this.player = player; // Make this object evented, but remove the added `trigger` method so we\n      // use the prototype version instead.\n\n      evented(this);\n      delete this.trigger;\n      stateful(this, this.constructor.defaultState);\n      markPluginAsActive(player, this.name); // Auto-bind the dispose method so we can use it as a listener and unbind\n      // it later easily.\n\n      this.dispose = bind(this, this.dispose); // If the player is disposed, dispose the plugin.\n\n      player.on('dispose', this.dispose);\n    }\n    /**\n     * Get the version of the plugin that was set on <pluginName>.VERSION\n     */\n\n\n    var _proto = Plugin.prototype;\n\n    _proto.version = function version() {\n      return this.constructor.VERSION;\n    }\n    /**\n     * Each event triggered by plugins includes a hash of additional data with\n     * conventional properties.\n     *\n     * This returns that object or mutates an existing hash.\n     *\n     * @param   {Object} [hash={}]\n     *          An object to be used as event an event hash.\n     *\n     * @return {Plugin~PluginEventHash}\n     *          An event hash object with provided properties mixed-in.\n     */\n    ;\n\n    _proto.getEventHash = function getEventHash(hash) {\n      if (hash === void 0) {\n        hash = {};\n      }\n\n      hash.name = this.name;\n      hash.plugin = this.constructor;\n      hash.instance = this;\n      return hash;\n    }\n    /**\n     * Triggers an event on the plugin object and overrides\n     * {@link module:evented~EventedMixin.trigger|EventedMixin.trigger}.\n     *\n     * @param   {string|Object} event\n     *          An event type or an object with a type property.\n     *\n     * @param   {Object} [hash={}]\n     *          Additional data hash to merge with a\n     *          {@link Plugin~PluginEventHash|PluginEventHash}.\n     *\n     * @return {boolean}\n     *          Whether or not default was prevented.\n     */\n    ;\n\n    _proto.trigger = function trigger$$1(event, hash) {\n      if (hash === void 0) {\n        hash = {};\n      }\n\n      return trigger(this.eventBusEl_, event, this.getEventHash(hash));\n    }\n    /**\n     * Handles \"statechanged\" events on the plugin. No-op by default, override by\n     * subclassing.\n     *\n     * @abstract\n     * @param    {Event} e\n     *           An event object provided by a \"statechanged\" event.\n     *\n     * @param    {Object} e.changes\n     *           An object describing changes that occurred with the \"statechanged\"\n     *           event.\n     */\n    ;\n\n    _proto.handleStateChanged = function handleStateChanged(e) {}\n    /**\n     * Disposes a plugin.\n     *\n     * Subclasses can override this if they want, but for the sake of safety,\n     * it's probably best to subscribe the \"dispose\" event.\n     *\n     * @fires Plugin#dispose\n     */\n    ;\n\n    _proto.dispose = function dispose() {\n      var name = this.name,\n          player = this.player;\n      /**\n       * Signals that a advanced plugin is about to be disposed.\n       *\n       * @event Plugin#dispose\n       * @type  {EventTarget~Event}\n       */\n\n      this.trigger('dispose');\n      this.off();\n      player.off('dispose', this.dispose); // Eliminate any possible sources of leaking memory by clearing up\n      // references between the player and the plugin instance and nulling out\n      // the plugin's state and replacing methods with a function that throws.\n\n      player[PLUGIN_CACHE_KEY][name] = false;\n      this.player = this.state = null; // Finally, replace the plugin name on the player with a new factory\n      // function, so that the plugin is ready to be set up again.\n\n      player[name] = createPluginFactory(name, pluginStorage[name]);\n    }\n    /**\n     * Determines if a plugin is a basic plugin (i.e. not a sub-class of `Plugin`).\n     *\n     * @param   {string|Function} plugin\n     *          If a string, matches the name of a plugin. If a function, will be\n     *          tested directly.\n     *\n     * @return {boolean}\n     *          Whether or not a plugin is a basic plugin.\n     */\n    ;\n\n    Plugin.isBasic = function isBasic(plugin) {\n      var p = typeof plugin === 'string' ? getPlugin(plugin) : plugin;\n      return typeof p === 'function' && !Plugin.prototype.isPrototypeOf(p.prototype);\n    }\n    /**\n     * Register a Video.js plugin.\n     *\n     * @param   {string} name\n     *          The name of the plugin to be registered. Must be a string and\n     *          must not match an existing plugin or a method on the `Player`\n     *          prototype.\n     *\n     * @param   {Function} plugin\n     *          A sub-class of `Plugin` or a function for basic plugins.\n     *\n     * @return {Function}\n     *          For advanced plugins, a factory function for that plugin. For\n     *          basic plugins, a wrapper function that initializes the plugin.\n     */\n    ;\n\n    Plugin.registerPlugin = function registerPlugin(name, plugin) {\n      if (typeof name !== 'string') {\n        throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", must be a string, was \" + typeof name + \".\");\n      }\n\n      if (pluginExists(name)) {\n        log.warn(\"A plugin named \\\"\" + name + \"\\\" already exists. You may want to avoid re-registering plugins!\");\n      } else if (Player.prototype.hasOwnProperty(name)) {\n        throw new Error(\"Illegal plugin name, \\\"\" + name + \"\\\", cannot share a name with an existing player method!\");\n      }\n\n      if (typeof plugin !== 'function') {\n        throw new Error(\"Illegal plugin for \\\"\" + name + \"\\\", must be a function, was \" + typeof plugin + \".\");\n      }\n\n      pluginStorage[name] = plugin; // Add a player prototype method for all sub-classed plugins (but not for\n      // the base Plugin class).\n\n      if (name !== BASE_PLUGIN_NAME) {\n        if (Plugin.isBasic(plugin)) {\n          Player.prototype[name] = createBasicPlugin(name, plugin);\n        } else {\n          Player.prototype[name] = createPluginFactory(name, plugin);\n        }\n      }\n\n      return plugin;\n    }\n    /**\n     * De-register a Video.js plugin.\n     *\n     * @param  {string} name\n     *         The name of the plugin to be de-registered. Must be a string that\n     *         matches an existing plugin.\n     *\n     * @throws {Error}\n     *         If an attempt is made to de-register the base plugin.\n     */\n    ;\n\n    Plugin.deregisterPlugin = function deregisterPlugin(name) {\n      if (name === BASE_PLUGIN_NAME) {\n        throw new Error('Cannot de-register base plugin.');\n      }\n\n      if (pluginExists(name)) {\n        delete pluginStorage[name];\n        delete Player.prototype[name];\n      }\n    }\n    /**\n     * Gets an object containing multiple Video.js plugins.\n     *\n     * @param   {Array} [names]\n     *          If provided, should be an array of plugin names. Defaults to _all_\n     *          plugin names.\n     *\n     * @return {Object|undefined}\n     *          An object containing plugin(s) associated with their name(s) or\n     *          `undefined` if no matching plugins exist).\n     */\n    ;\n\n    Plugin.getPlugins = function getPlugins(names) {\n      if (names === void 0) {\n        names = Object.keys(pluginStorage);\n      }\n\n      var result;\n      names.forEach(function (name) {\n        var plugin = getPlugin(name);\n\n        if (plugin) {\n          result = result || {};\n          result[name] = plugin;\n        }\n      });\n      return result;\n    }\n    /**\n     * Gets a plugin's version, if available\n     *\n     * @param   {string} name\n     *          The name of a plugin.\n     *\n     * @return {string}\n     *          The plugin's version or an empty string.\n     */\n    ;\n\n    Plugin.getPluginVersion = function getPluginVersion(name) {\n      var plugin = getPlugin(name);\n      return plugin && plugin.VERSION || '';\n    };\n\n    return Plugin;\n  }();\n  /**\n   * Gets a plugin by name if it exists.\n   *\n   * @static\n   * @method   getPlugin\n   * @memberOf Plugin\n   * @param    {string} name\n   *           The name of a plugin.\n   *\n   * @returns  {Function|undefined}\n   *           The plugin (or `undefined`).\n   */\n\n\n  Plugin.getPlugin = getPlugin;\n  /**\n   * The name of the base plugin class as it is registered.\n   *\n   * @type {string}\n   */\n\n  Plugin.BASE_PLUGIN_NAME = BASE_PLUGIN_NAME;\n  Plugin.registerPlugin(BASE_PLUGIN_NAME, Plugin);\n  /**\n   * Documented in player.js\n   *\n   * @ignore\n   */\n\n  Player.prototype.usingPlugin = function (name) {\n    return !!this[PLUGIN_CACHE_KEY] && this[PLUGIN_CACHE_KEY][name] === true;\n  };\n  /**\n   * Documented in player.js\n   *\n   * @ignore\n   */\n\n\n  Player.prototype.hasPlugin = function (name) {\n    return !!pluginExists(name);\n  };\n  /**\n   * Signals that a plugin is about to be set up on a player.\n   *\n   * @event    Player#beforepluginsetup\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin is about to be set up on a player - by name. The name\n   * is the name of the plugin.\n   *\n   * @event    Player#beforepluginsetup:$name\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin has just been set up on a player.\n   *\n   * @event    Player#pluginsetup\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * Signals that a plugin has just been set up on a player - by name. The name\n   * is the name of the plugin.\n   *\n   * @event    Player#pluginsetup:$name\n   * @type     {Plugin~PluginEventHash}\n   */\n\n  /**\n   * @typedef  {Object} Plugin~PluginEventHash\n   *\n   * @property {string} instance\n   *           For basic plugins, the return value of the plugin function. For\n   *           advanced plugins, the plugin instance on which the event is fired.\n   *\n   * @property {string} name\n   *           The name of the plugin.\n   *\n   * @property {string} plugin\n   *           For basic plugins, the plugin function. For advanced plugins, the\n   *           plugin class/constructor.\n   */\n\n  /**\n   * @file extend.js\n   * @module extend\n   */\n\n  /**\n   * A combination of node inherits and babel's inherits (after transpile).\n   * Both work the same but node adds `super_` to the subClass\n   * and Bable adds the superClass as __proto__. Both seem useful.\n   *\n   * @param {Object} subClass\n   *        The class to inherit to\n   *\n   * @param {Object} superClass\n   *        The class to inherit from\n   *\n   * @private\n   */\n  var _inherits$1 = function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n\n    if (superClass) {\n      // node\n      subClass.super_ = superClass;\n    }\n  };\n  /**\n   * Used to subclass an existing class by emulating ES subclassing using the\n   * `extends` keyword.\n   *\n   * @function\n   * @example\n   * var MyComponent = videojs.extend(videojs.getComponent('Component'), {\n   *   myCustomMethod: function() {\n   *     // Do things in my method.\n   *   }\n   * });\n   *\n   * @param    {Function} superClass\n   *           The class to inherit from\n   *\n   * @param    {Object}   [subClassMethods={}]\n   *           Methods of the new class\n   *\n   * @return   {Function}\n   *           The new class with subClassMethods that inherited superClass.\n   */\n\n\n  var extend$1 = function extend(superClass, subClassMethods) {\n    if (subClassMethods === void 0) {\n      subClassMethods = {};\n    }\n\n    var subClass = function subClass() {\n      superClass.apply(this, arguments);\n    };\n\n    var methods = {};\n\n    if (typeof subClassMethods === 'object') {\n      if (subClassMethods.constructor !== Object.prototype.constructor) {\n        subClass = subClassMethods.constructor;\n      }\n\n      methods = subClassMethods;\n    } else if (typeof subClassMethods === 'function') {\n      subClass = subClassMethods;\n    }\n\n    _inherits$1(subClass, superClass); // Extend subObj's prototype with functions and other properties from props\n\n\n    for (var name in methods) {\n      if (methods.hasOwnProperty(name)) {\n        subClass.prototype[name] = methods[name];\n      }\n    }\n\n    return subClass;\n  };\n\n  /**\n   * @file video.js\n   * @module videojs\n   */\n  /**\n   * Normalize an `id` value by trimming off a leading `#`\n   *\n   * @private\n   * @param   {string} id\n   *          A string, maybe with a leading `#`.\n   *\n   * @return {string}\n   *          The string, without any leading `#`.\n   */\n\n  var normalizeId = function normalizeId(id) {\n    return id.indexOf('#') === 0 ? id.slice(1) : id;\n  };\n  /**\n   * The `videojs()` function doubles as the main function for users to create a\n   * {@link Player} instance as well as the main library namespace.\n   *\n   * It can also be used as a getter for a pre-existing {@link Player} instance.\n   * However, we _strongly_ recommend using `videojs.getPlayer()` for this\n   * purpose because it avoids any potential for unintended initialization.\n   *\n   * Due to [limitations](https://github.com/jsdoc3/jsdoc/issues/955#issuecomment-313829149)\n   * of our JSDoc template, we cannot properly document this as both a function\n   * and a namespace, so its function signature is documented here.\n   *\n   * #### Arguments\n   * ##### id\n   * string|Element, **required**\n   *\n   * Video element or video element ID.\n   *\n   * ##### options\n   * Object, optional\n   *\n   * Options object for providing settings.\n   * See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n   *\n   * ##### ready\n   * {@link Component~ReadyCallback}, optional\n   *\n   * A function to be called when the {@link Player} and {@link Tech} are ready.\n   *\n   * #### Return Value\n   *\n   * The `videojs()` function returns a {@link Player} instance.\n   *\n   * @namespace\n   *\n   * @borrows AudioTrack as AudioTrack\n   * @borrows Component.getComponent as getComponent\n   * @borrows module:computed-style~computedStyle as computedStyle\n   * @borrows module:events.on as on\n   * @borrows module:events.one as one\n   * @borrows module:events.off as off\n   * @borrows module:events.trigger as trigger\n   * @borrows EventTarget as EventTarget\n   * @borrows module:extend~extend as extend\n   * @borrows module:fn.bind as bind\n   * @borrows module:format-time.formatTime as formatTime\n   * @borrows module:format-time.resetFormatTime as resetFormatTime\n   * @borrows module:format-time.setFormatTime as setFormatTime\n   * @borrows module:merge-options.mergeOptions as mergeOptions\n   * @borrows module:middleware.use as use\n   * @borrows Player.players as players\n   * @borrows Plugin.registerPlugin as registerPlugin\n   * @borrows Plugin.deregisterPlugin as deregisterPlugin\n   * @borrows Plugin.getPlugins as getPlugins\n   * @borrows Plugin.getPlugin as getPlugin\n   * @borrows Plugin.getPluginVersion as getPluginVersion\n   * @borrows Tech.getTech as getTech\n   * @borrows Tech.registerTech as registerTech\n   * @borrows TextTrack as TextTrack\n   * @borrows module:time-ranges.createTimeRanges as createTimeRange\n   * @borrows module:time-ranges.createTimeRanges as createTimeRanges\n   * @borrows module:url.isCrossOrigin as isCrossOrigin\n   * @borrows module:url.parseUrl as parseUrl\n   * @borrows VideoTrack as VideoTrack\n   *\n   * @param  {string|Element} id\n   *         Video element or video element ID.\n   *\n   * @param  {Object} [options]\n   *         Options object for providing settings.\n   *         See: [Options Guide](https://docs.videojs.com/tutorial-options.html).\n   *\n   * @param  {Component~ReadyCallback} [ready]\n   *         A function to be called when the {@link Player} and {@link Tech} are\n   *         ready.\n   *\n   * @return {Player}\n   *         The `videojs()` function returns a {@link Player|Player} instance.\n   */\n\n\n  function videojs$1(id, options, ready) {\n    var player = videojs$1.getPlayer(id);\n\n    if (player) {\n      if (options) {\n        log.warn(\"Player \\\"\" + id + \"\\\" is already initialised. Options will not be applied.\");\n      }\n\n      if (ready) {\n        player.ready(ready);\n      }\n\n      return player;\n    }\n\n    var el = typeof id === 'string' ? $('#' + normalizeId(id)) : id;\n\n    if (!isEl(el)) {\n      throw new TypeError('The element or ID supplied is not valid. (videojs)');\n    } // document.body.contains(el) will only check if el is contained within that one document.\n    // This causes problems for elements in iframes.\n    // Instead, use the element's ownerDocument instead of the global document.\n    // This will make sure that the element is indeed in the dom of that document.\n    // Additionally, check that the document in question has a default view.\n    // If the document is no longer attached to the dom, the defaultView of the document will be null.\n\n\n    if (!el.ownerDocument.defaultView || !el.ownerDocument.body.contains(el)) {\n      log.warn('The element supplied is not included in the DOM');\n    }\n\n    options = options || {};\n    videojs$1.hooks('beforesetup').forEach(function (hookFunction) {\n      var opts = hookFunction(el, mergeOptions(options));\n\n      if (!isObject(opts) || Array.isArray(opts)) {\n        log.error('please return an object in beforesetup hooks');\n        return;\n      }\n\n      options = mergeOptions(options, opts);\n    }); // We get the current \"Player\" component here in case an integration has\n    // replaced it with a custom player.\n\n    var PlayerComponent = Component.getComponent('Player');\n    player = new PlayerComponent(el, options, ready);\n    videojs$1.hooks('setup').forEach(function (hookFunction) {\n      return hookFunction(player);\n    });\n    return player;\n  }\n  /**\n   * An Object that contains lifecycle hooks as keys which point to an array\n   * of functions that are run when a lifecycle is triggered\n   *\n   * @private\n   */\n\n\n  videojs$1.hooks_ = {};\n  /**\n   * Get a list of hooks for a specific lifecycle\n   *\n   * @param  {string} type\n   *         the lifecyle to get hooks from\n   *\n   * @param  {Function|Function[]} [fn]\n   *         Optionally add a hook (or hooks) to the lifecycle that your are getting.\n   *\n   * @return {Array}\n   *         an array of hooks, or an empty array if there are none.\n   */\n\n  videojs$1.hooks = function (type, fn) {\n    videojs$1.hooks_[type] = videojs$1.hooks_[type] || [];\n\n    if (fn) {\n      videojs$1.hooks_[type] = videojs$1.hooks_[type].concat(fn);\n    }\n\n    return videojs$1.hooks_[type];\n  };\n  /**\n   * Add a function hook to a specific videojs lifecycle.\n   *\n   * @param {string} type\n   *        the lifecycle to hook the function to.\n   *\n   * @param {Function|Function[]}\n   *        The function or array of functions to attach.\n   */\n\n\n  videojs$1.hook = function (type, fn) {\n    videojs$1.hooks(type, fn);\n  };\n  /**\n   * Add a function hook that will only run once to a specific videojs lifecycle.\n   *\n   * @param {string} type\n   *        the lifecycle to hook the function to.\n   *\n   * @param {Function|Function[]}\n   *        The function or array of functions to attach.\n   */\n\n\n  videojs$1.hookOnce = function (type, fn) {\n    videojs$1.hooks(type, [].concat(fn).map(function (original) {\n      var wrapper = function wrapper() {\n        videojs$1.removeHook(type, wrapper);\n        return original.apply(void 0, arguments);\n      };\n\n      return wrapper;\n    }));\n  };\n  /**\n   * Remove a hook from a specific videojs lifecycle.\n   *\n   * @param  {string} type\n   *         the lifecycle that the function hooked to\n   *\n   * @param  {Function} fn\n   *         The hooked function to remove\n   *\n   * @return {boolean}\n   *         The function that was removed or undef\n   */\n\n\n  videojs$1.removeHook = function (type, fn) {\n    var index = videojs$1.hooks(type).indexOf(fn);\n\n    if (index <= -1) {\n      return false;\n    }\n\n    videojs$1.hooks_[type] = videojs$1.hooks_[type].slice();\n    videojs$1.hooks_[type].splice(index, 1);\n    return true;\n  }; // Add default styles\n\n\n  if (window$1.VIDEOJS_NO_DYNAMIC_STYLE !== true && isReal()) {\n    var style$1 = $('.vjs-styles-defaults');\n\n    if (!style$1) {\n      style$1 = createStyleElement('vjs-styles-defaults');\n      var head = $('head');\n\n      if (head) {\n        head.insertBefore(style$1, head.firstChild);\n      }\n\n      setTextContent(style$1, \"\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    \");\n    }\n  } // Run Auto-load players\n  // You have to wait at least once in case this script is loaded after your\n  // video in the DOM (weird behavior only with minified version)\n\n\n  autoSetupTimeout(1, videojs$1);\n  /**\n   * Current Video.js version. Follows [semantic versioning](https://semver.org/).\n   *\n   * @type {string}\n   */\n\n  videojs$1.VERSION = version;\n  /**\n   * The global options object. These are the settings that take effect\n   * if no overrides are specified when the player is created.\n   *\n   * @type {Object}\n   */\n\n  videojs$1.options = Player.prototype.options_;\n  /**\n   * Get an object with the currently created players, keyed by player ID\n   *\n   * @return {Object}\n   *         The created players\n   */\n\n  videojs$1.getPlayers = function () {\n    return Player.players;\n  };\n  /**\n   * Get a single player based on an ID or DOM element.\n   *\n   * This is useful if you want to check if an element or ID has an associated\n   * Video.js player, but not create one if it doesn't.\n   *\n   * @param   {string|Element} id\n   *          An HTML element - `<video>`, `<audio>`, or `<video-js>` -\n   *          or a string matching the `id` of such an element.\n   *\n   * @return {Player|undefined}\n   *          A player instance or `undefined` if there is no player instance\n   *          matching the argument.\n   */\n\n\n  videojs$1.getPlayer = function (id) {\n    var players = Player.players;\n    var tag;\n\n    if (typeof id === 'string') {\n      var nId = normalizeId(id);\n      var player = players[nId];\n\n      if (player) {\n        return player;\n      }\n\n      tag = $('#' + nId);\n    } else {\n      tag = id;\n    }\n\n    if (isEl(tag)) {\n      var _tag = tag,\n          _player = _tag.player,\n          playerId = _tag.playerId; // Element may have a `player` property referring to an already created\n      // player instance. If so, return that.\n\n      if (_player || players[playerId]) {\n        return _player || players[playerId];\n      }\n    }\n  };\n  /**\n   * Returns an array of all current players.\n   *\n   * @return {Array}\n   *         An array of all players. The array will be in the order that\n   *         `Object.keys` provides, which could potentially vary between\n   *         JavaScript engines.\n   *\n   */\n\n\n  videojs$1.getAllPlayers = function () {\n    return (// Disposed players leave a key with a `null` value, so we need to make sure\n      // we filter those out.\n      Object.keys(Player.players).map(function (k) {\n        return Player.players[k];\n      }).filter(Boolean)\n    );\n  };\n\n  videojs$1.players = Player.players;\n  videojs$1.getComponent = Component.getComponent;\n  /**\n   * Register a component so it can referred to by name. Used when adding to other\n   * components, either through addChild `component.addChild('myComponent')` or through\n   * default children options  `{ children: ['myComponent'] }`.\n   *\n   * > NOTE: You could also just initialize the component before adding.\n   * `component.addChild(new MyComponent());`\n   *\n   * @param {string} name\n   *        The class name of the component\n   *\n   * @param {Component} comp\n   *        The component class\n   *\n   * @return {Component}\n   *         The newly registered component\n   */\n\n  videojs$1.registerComponent = function (name$$1, comp) {\n    if (Tech.isTech(comp)) {\n      log.warn(\"The \" + name$$1 + \" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)\");\n    }\n\n    Component.registerComponent.call(Component, name$$1, comp);\n  };\n\n  videojs$1.getTech = Tech.getTech;\n  videojs$1.registerTech = Tech.registerTech;\n  videojs$1.use = use;\n  /**\n   * An object that can be returned by a middleware to signify\n   * that the middleware is being terminated.\n   *\n   * @type {object}\n   * @property {object} middleware.TERMINATOR\n   */\n\n  Object.defineProperty(videojs$1, 'middleware', {\n    value: {},\n    writeable: false,\n    enumerable: true\n  });\n  Object.defineProperty(videojs$1.middleware, 'TERMINATOR', {\n    value: TERMINATOR,\n    writeable: false,\n    enumerable: true\n  });\n  /**\n   * A reference to the {@link module:browser|browser utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:browser|browser}\n   */\n\n  videojs$1.browser = browser;\n  /**\n   * Use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED} instead; only\n   * included for backward-compatibility with 4.x.\n   *\n   * @deprecated Since version 5.0, use {@link module:browser.TOUCH_ENABLED|browser.TOUCH_ENABLED instead.\n   * @type {boolean}\n   */\n\n  videojs$1.TOUCH_ENABLED = TOUCH_ENABLED;\n  videojs$1.extend = extend$1;\n  videojs$1.mergeOptions = mergeOptions;\n  videojs$1.bind = bind;\n  videojs$1.registerPlugin = Plugin.registerPlugin;\n  videojs$1.deregisterPlugin = Plugin.deregisterPlugin;\n  /**\n   * Deprecated method to register a plugin with Video.js\n   *\n   * @deprecated videojs.plugin() is deprecated; use videojs.registerPlugin() instead\n   *\n   * @param {string} name\n   *        The plugin name\n   *\n   * @param {Plugin|Function} plugin\n   *         The plugin sub-class or function\n   */\n\n  videojs$1.plugin = function (name$$1, plugin) {\n    log.warn('videojs.plugin() is deprecated; use videojs.registerPlugin() instead');\n    return Plugin.registerPlugin(name$$1, plugin);\n  };\n\n  videojs$1.getPlugins = Plugin.getPlugins;\n  videojs$1.getPlugin = Plugin.getPlugin;\n  videojs$1.getPluginVersion = Plugin.getPluginVersion;\n  /**\n   * Adding languages so that they're available to all players.\n   * Example: `videojs.addLanguage('es', { 'Hello': 'Hola' });`\n   *\n   * @param {string} code\n   *        The language code or dictionary property\n   *\n   * @param {Object} data\n   *        The data values to be translated\n   *\n   * @return {Object}\n   *         The resulting language dictionary object\n   */\n\n  videojs$1.addLanguage = function (code, data) {\n    var _mergeOptions;\n\n    code = ('' + code).toLowerCase();\n    videojs$1.options.languages = mergeOptions(videojs$1.options.languages, (_mergeOptions = {}, _mergeOptions[code] = data, _mergeOptions));\n    return videojs$1.options.languages[code];\n  };\n  /**\n   * A reference to the {@link module:log|log utility module} as an object.\n   *\n   * @type {Function}\n   * @see  {@link module:log|log}\n   */\n\n\n  videojs$1.log = log;\n  videojs$1.createLogger = createLogger$1;\n  videojs$1.createTimeRange = videojs$1.createTimeRanges = createTimeRanges;\n  videojs$1.formatTime = formatTime;\n  videojs$1.setFormatTime = setFormatTime;\n  videojs$1.resetFormatTime = resetFormatTime;\n  videojs$1.parseUrl = parseUrl;\n  videojs$1.isCrossOrigin = isCrossOrigin;\n  videojs$1.EventTarget = EventTarget;\n  videojs$1.on = on;\n  videojs$1.one = one;\n  videojs$1.off = off;\n  videojs$1.trigger = trigger;\n  /**\n   * A cross-browser XMLHttpRequest wrapper.\n   *\n   * @function\n   * @param    {Object} options\n   *           Settings for the request.\n   *\n   * @return   {XMLHttpRequest|XDomainRequest}\n   *           The request object.\n   *\n   * @see      https://github.com/Raynos/xhr\n   */\n\n  videojs$1.xhr = xhr;\n  videojs$1.TextTrack = TextTrack;\n  videojs$1.AudioTrack = AudioTrack;\n  videojs$1.VideoTrack = VideoTrack;\n  ['isEl', 'isTextNode', 'createEl', 'hasClass', 'addClass', 'removeClass', 'toggleClass', 'setAttributes', 'getAttributes', 'emptyEl', 'appendContent', 'insertContent'].forEach(function (k) {\n    videojs$1[k] = function () {\n      log.warn(\"videojs.\" + k + \"() is deprecated; use videojs.dom.\" + k + \"() instead\");\n      return Dom[k].apply(null, arguments);\n    };\n  });\n  videojs$1.computedStyle = computedStyle;\n  /**\n   * A reference to the {@link module:dom|DOM utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:dom|dom}\n   */\n\n  videojs$1.dom = Dom;\n  /**\n   * A reference to the {@link module:url|URL utility module} as an object.\n   *\n   * @type {Object}\n   * @see  {@link module:url|url}\n   */\n\n  videojs$1.url = Url;\n\n  var urlToolkit = createCommonjsModule(function (module, exports) {\n    // see https://tools.ietf.org/html/rfc1808\n\n    /* jshint ignore:start */\n    (function (root) {\n      /* jshint ignore:end */\n      var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n      var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n      var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n      var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n      var URLToolkit = {\n        // jshint ignore:line\n        // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n        // E.g\n        // With opts.alwaysNormalize = false (default, spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n        // With opts.alwaysNormalize = true (not spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n        buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n          opts = opts || {}; // remove any remaining space and CRLF\n\n          baseURL = baseURL.trim();\n          relativeURL = relativeURL.trim();\n\n          if (!relativeURL) {\n            // 2a) If the embedded URL is entirely empty, it inherits the\n            // entire base URL (i.e., is set equal to the base URL)\n            // and we are done.\n            if (!opts.alwaysNormalize) {\n              return baseURL;\n            }\n\n            var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n            if (!basePartsForNormalise) {\n              throw new Error('Error trying to parse base URL.');\n            }\n\n            basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n            return URLToolkit.buildURLFromParts(basePartsForNormalise);\n          }\n\n          var relativeParts = URLToolkit.parseURL(relativeURL);\n\n          if (!relativeParts) {\n            throw new Error('Error trying to parse relative URL.');\n          }\n\n          if (relativeParts.scheme) {\n            // 2b) If the embedded URL starts with a scheme name, it is\n            // interpreted as an absolute URL and we are done.\n            if (!opts.alwaysNormalize) {\n              return relativeURL;\n            }\n\n            relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n            return URLToolkit.buildURLFromParts(relativeParts);\n          }\n\n          var baseParts = URLToolkit.parseURL(baseURL);\n\n          if (!baseParts) {\n            throw new Error('Error trying to parse base URL.');\n          }\n\n          if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n            // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n            // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n            var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n            baseParts.netLoc = pathParts[1];\n            baseParts.path = pathParts[2];\n          }\n\n          if (baseParts.netLoc && !baseParts.path) {\n            baseParts.path = '/';\n          }\n\n          var builtParts = {\n            // 2c) Otherwise, the embedded URL inherits the scheme of\n            // the base URL.\n            scheme: baseParts.scheme,\n            netLoc: relativeParts.netLoc,\n            path: null,\n            params: relativeParts.params,\n            query: relativeParts.query,\n            fragment: relativeParts.fragment\n          };\n\n          if (!relativeParts.netLoc) {\n            // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n            // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n            // (if any) of the base URL.\n            builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n            // path is not relative and we skip to Step 7.\n\n            if (relativeParts.path[0] !== '/') {\n              if (!relativeParts.path) {\n                // 5) If the embedded URL path is empty (and not preceded by a\n                // slash), then the embedded URL inherits the base URL path\n                builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n                // step 7; otherwise, it inherits the <params> of the base\n                // URL (if any) and\n\n                if (!relativeParts.params) {\n                  builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n                  // step 7; otherwise, it inherits the <query> of the base\n                  // URL (if any) and we skip to step 7.\n\n                  if (!relativeParts.query) {\n                    builtParts.query = baseParts.query;\n                  }\n                }\n              } else {\n                // 6) The last segment of the base URL's path (anything\n                // following the rightmost slash \"/\", or the entire path if no\n                // slash is present) is removed and the embedded URL's path is\n                // appended in its place.\n                var baseURLPath = baseParts.path;\n                var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n                builtParts.path = URLToolkit.normalizePath(newPath);\n              }\n            }\n          }\n\n          if (builtParts.path === null) {\n            builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n          }\n\n          return URLToolkit.buildURLFromParts(builtParts);\n        },\n        parseURL: function parseURL(url) {\n          var parts = URL_REGEX.exec(url);\n\n          if (!parts) {\n            return null;\n          }\n\n          return {\n            scheme: parts[1] || '',\n            netLoc: parts[2] || '',\n            path: parts[3] || '',\n            params: parts[4] || '',\n            query: parts[5] || '',\n            fragment: parts[6] || ''\n          };\n        },\n        normalizePath: function normalizePath(path) {\n          // The following operations are\n          // then applied, in order, to the new path:\n          // 6a) All occurrences of \"./\", where \".\" is a complete path\n          // segment, are removed.\n          // 6b) If the path ends with \".\" as a complete path segment,\n          // that \".\" is removed.\n          path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n          // complete path segment not equal to \"..\", are removed.\n          // Removal of these path segments is performed iteratively,\n          // removing the leftmost matching pattern on each iteration,\n          // until no matching pattern remains.\n          // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n          // complete path segment not equal to \"..\", that\n          // \"<segment>/..\" is removed.\n\n          while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n\n\n          return path.split('').reverse().join('');\n        },\n        buildURLFromParts: function buildURLFromParts(parts) {\n          return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n        }\n      };\n      /* jshint ignore:start */\n\n      module.exports = URLToolkit;\n    })(commonjsGlobal);\n    /* jshint ignore:end */\n\n  });\n\n  /*! @name m3u8-parser @version 4.3.0 @license Apache-2.0 */\n  function _extends$1() {\n    _extends$1 = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends$1.apply(this, arguments);\n  }\n\n  function _inheritsLoose$1(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _assertThisInitialized$1(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n  /**\n   * @file stream.js\n   */\n\n  /**\n   * A lightweight readable stream implementation that handles event dispatching.\n   *\n   * @class Stream\n   */\n\n\n  var Stream =\n  /*#__PURE__*/\n  function () {\n    function Stream() {\n      this.listeners = {};\n    }\n    /**\n     * Add a listener for a specified event type.\n     *\n     * @param {string} type the event name\n     * @param {Function} listener the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n\n    var _proto = Stream.prototype;\n\n    _proto.on = function on(type, listener) {\n      if (!this.listeners[type]) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push(listener);\n    };\n    /**\n     * Remove a listener for a specified event type.\n     *\n     * @param {string} type the event name\n     * @param {Function} listener  a function previously registered for this\n     * type of event through `on`\n     * @return {boolean} if we could turn it off or not\n     */\n\n\n    _proto.off = function off(type, listener) {\n      if (!this.listeners[type]) {\n        return false;\n      }\n\n      var index = this.listeners[type].indexOf(listener);\n      this.listeners[type].splice(index, 1);\n      return index > -1;\n    };\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     *\n     * @param {string} type the event name\n     */\n\n\n    _proto.trigger = function trigger(type) {\n      var callbacks = this.listeners[type];\n      var i;\n      var length;\n      var args;\n\n      if (!callbacks) {\n        return;\n      } // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n\n\n      if (arguments.length === 2) {\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        args = Array.prototype.slice.call(arguments, 1);\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].apply(this, args);\n        }\n      }\n    };\n    /**\n     * Destroys the stream and cleans up.\n     */\n\n\n    _proto.dispose = function dispose() {\n      this.listeners = {};\n    };\n    /**\n     * Forwards all `data` events on this stream to the destination stream. The\n     * destination stream should provide a method `push` to receive the data\n     * events as they arrive.\n     *\n     * @param {Stream} destination the stream that will receive all `data` events\n     * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n     */\n\n\n    _proto.pipe = function pipe(destination) {\n      this.on('data', function (data) {\n        destination.push(data);\n      });\n    };\n\n    return Stream;\n  }();\n  /**\n   * A stream that buffers string input and generates a `data` event for each\n   * line.\n   *\n   * @class LineStream\n   * @extends Stream\n   */\n\n\n  var LineStream =\n  /*#__PURE__*/\n  function (_Stream) {\n    _inheritsLoose$1(LineStream, _Stream);\n\n    function LineStream() {\n      var _this;\n\n      _this = _Stream.call(this) || this;\n      _this.buffer = '';\n      return _this;\n    }\n    /**\n     * Add new data to be parsed.\n     *\n     * @param {string} data the text to process\n     */\n\n\n    var _proto = LineStream.prototype;\n\n    _proto.push = function push(data) {\n      var nextNewline;\n      this.buffer += data;\n      nextNewline = this.buffer.indexOf('\\n');\n\n      for (; nextNewline > -1; nextNewline = this.buffer.indexOf('\\n')) {\n        this.trigger('data', this.buffer.substring(0, nextNewline));\n        this.buffer = this.buffer.substring(nextNewline + 1);\n      }\n    };\n\n    return LineStream;\n  }(Stream);\n  /**\n   * \"forgiving\" attribute list psuedo-grammar:\n   * attributes -> keyvalue (',' keyvalue)*\n   * keyvalue   -> key '=' value\n   * key        -> [^=]*\n   * value      -> '\"' [^\"]* '\"' | [^,]*\n   */\n\n\n  var attributeSeparator = function attributeSeparator() {\n    var key = '[^=]*';\n    var value = '\"[^\"]*\"|[^,]*';\n    var keyvalue = '(?:' + key + ')=(?:' + value + ')';\n    return new RegExp('(?:^|,)(' + keyvalue + ')');\n  };\n  /**\n   * Parse attributes from a line given the separator\n   *\n   * @param {string} attributes the attribute line to parse\n   */\n\n\n  var parseAttributes = function parseAttributes(attributes) {\n    // split the string using attributes as the separator\n    var attrs = attributes.split(attributeSeparator());\n    var result = {};\n    var i = attrs.length;\n    var attr;\n\n    while (i--) {\n      // filter out unmatched portions of the string\n      if (attrs[i] === '') {\n        continue;\n      } // split the key and value\n\n\n      attr = /([^=]*)=(.*)/.exec(attrs[i]).slice(1); // trim whitespace and remove optional quotes around the value\n\n      attr[0] = attr[0].replace(/^\\s+|\\s+$/g, '');\n      attr[1] = attr[1].replace(/^\\s+|\\s+$/g, '');\n      attr[1] = attr[1].replace(/^['\"](.*)['\"]$/g, '$1');\n      result[attr[0]] = attr[1];\n    }\n\n    return result;\n  };\n  /**\n   * A line-level M3U8 parser event stream. It expects to receive input one\n   * line at a time and performs a context-free parse of its contents. A stream\n   * interpretation of a manifest can be useful if the manifest is expected to\n   * be too large to fit comfortably into memory or the entirety of the input\n   * is not immediately available. Otherwise, it's probably much easier to work\n   * with a regular `Parser` object.\n   *\n   * Produces `data` events with an object that captures the parser's\n   * interpretation of the input. That object has a property `tag` that is one\n   * of `uri`, `comment`, or `tag`. URIs only have a single additional\n   * property, `line`, which captures the entirety of the input without\n   * interpretation. Comments similarly have a single additional property\n   * `text` which is the input without the leading `#`.\n   *\n   * Tags always have a property `tagType` which is the lower-cased version of\n   * the M3U8 directive without the `#EXT` or `#EXT-X-` prefix. For instance,\n   * `#EXT-X-MEDIA-SEQUENCE` becomes `media-sequence` when parsed. Unrecognized\n   * tags are given the tag type `unknown` and a single additional property\n   * `data` with the remainder of the input.\n   *\n   * @class ParseStream\n   * @extends Stream\n   */\n\n\n  var ParseStream =\n  /*#__PURE__*/\n  function (_Stream) {\n    _inheritsLoose$1(ParseStream, _Stream);\n\n    function ParseStream() {\n      var _this;\n\n      _this = _Stream.call(this) || this;\n      _this.customParsers = [];\n      _this.tagMappers = [];\n      return _this;\n    }\n    /**\n     * Parses an additional line of input.\n     *\n     * @param {string} line a single line of an M3U8 file to parse\n     */\n\n\n    var _proto = ParseStream.prototype;\n\n    _proto.push = function push(line) {\n      var _this2 = this;\n\n      var match;\n      var event; // strip whitespace\n\n      line = line.trim();\n\n      if (line.length === 0) {\n        // ignore empty lines\n        return;\n      } // URIs\n\n\n      if (line[0] !== '#') {\n        this.trigger('data', {\n          type: 'uri',\n          uri: line\n        });\n        return;\n      } // map tags\n\n\n      var newLines = this.tagMappers.reduce(function (acc, mapper) {\n        var mappedLine = mapper(line); // skip if unchanged\n\n        if (mappedLine === line) {\n          return acc;\n        }\n\n        return acc.concat([mappedLine]);\n      }, [line]);\n      newLines.forEach(function (newLine) {\n        for (var i = 0; i < _this2.customParsers.length; i++) {\n          if (_this2.customParsers[i].call(_this2, newLine)) {\n            return;\n          }\n        } // Comments\n\n\n        if (newLine.indexOf('#EXT') !== 0) {\n          _this2.trigger('data', {\n            type: 'comment',\n            text: newLine.slice(1)\n          });\n\n          return;\n        } // strip off any carriage returns here so the regex matching\n        // doesn't have to account for them.\n\n\n        newLine = newLine.replace('\\r', ''); // Tags\n\n        match = /^#EXTM3U/.exec(newLine);\n\n        if (match) {\n          _this2.trigger('data', {\n            type: 'tag',\n            tagType: 'm3u'\n          });\n\n          return;\n        }\n\n        match = /^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'inf'\n          };\n\n          if (match[1]) {\n            event.duration = parseFloat(match[1]);\n          }\n\n          if (match[2]) {\n            event.title = match[2];\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'targetduration'\n          };\n\n          if (match[1]) {\n            event.duration = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'totalduration'\n          };\n\n          if (match[1]) {\n            event.duration = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'version'\n          };\n\n          if (match[1]) {\n            event.version = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'media-sequence'\n          };\n\n          if (match[1]) {\n            event.number = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'discontinuity-sequence'\n          };\n\n          if (match[1]) {\n            event.number = parseInt(match[1], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'playlist-type'\n          };\n\n          if (match[1]) {\n            event.playlistType = match[1];\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'byterange'\n          };\n\n          if (match[1]) {\n            event.length = parseInt(match[1], 10);\n          }\n\n          if (match[2]) {\n            event.offset = parseInt(match[2], 10);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'allow-cache'\n          };\n\n          if (match[1]) {\n            event.allowed = !/NO/.test(match[1]);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-MAP:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'map'\n          };\n\n          if (match[1]) {\n            var attributes = parseAttributes(match[1]);\n\n            if (attributes.URI) {\n              event.uri = attributes.URI;\n            }\n\n            if (attributes.BYTERANGE) {\n              var _attributes$BYTERANGE = attributes.BYTERANGE.split('@'),\n                  length = _attributes$BYTERANGE[0],\n                  offset = _attributes$BYTERANGE[1];\n\n              event.byterange = {};\n\n              if (length) {\n                event.byterange.length = parseInt(length, 10);\n              }\n\n              if (offset) {\n                event.byterange.offset = parseInt(offset, 10);\n              }\n            }\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-STREAM-INF:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'stream-inf'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n\n            if (event.attributes.RESOLUTION) {\n              var split = event.attributes.RESOLUTION.split('x');\n              var resolution = {};\n\n              if (split[0]) {\n                resolution.width = parseInt(split[0], 10);\n              }\n\n              if (split[1]) {\n                resolution.height = parseInt(split[1], 10);\n              }\n\n              event.attributes.RESOLUTION = resolution;\n            }\n\n            if (event.attributes.BANDWIDTH) {\n              event.attributes.BANDWIDTH = parseInt(event.attributes.BANDWIDTH, 10);\n            }\n\n            if (event.attributes['PROGRAM-ID']) {\n              event.attributes['PROGRAM-ID'] = parseInt(event.attributes['PROGRAM-ID'], 10);\n            }\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-MEDIA:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'media'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-ENDLIST/.exec(newLine);\n\n        if (match) {\n          _this2.trigger('data', {\n            type: 'tag',\n            tagType: 'endlist'\n          });\n\n          return;\n        }\n\n        match = /^#EXT-X-DISCONTINUITY/.exec(newLine);\n\n        if (match) {\n          _this2.trigger('data', {\n            type: 'tag',\n            tagType: 'discontinuity'\n          });\n\n          return;\n        }\n\n        match = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'program-date-time'\n          };\n\n          if (match[1]) {\n            event.dateTimeString = match[1];\n            event.dateTimeObject = new Date(match[1]);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-KEY:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'key'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]); // parse the IV string into a Uint32Array\n\n            if (event.attributes.IV) {\n              if (event.attributes.IV.substring(0, 2).toLowerCase() === '0x') {\n                event.attributes.IV = event.attributes.IV.substring(2);\n              }\n\n              event.attributes.IV = event.attributes.IV.match(/.{8}/g);\n              event.attributes.IV[0] = parseInt(event.attributes.IV[0], 16);\n              event.attributes.IV[1] = parseInt(event.attributes.IV[1], 16);\n              event.attributes.IV[2] = parseInt(event.attributes.IV[2], 16);\n              event.attributes.IV[3] = parseInt(event.attributes.IV[3], 16);\n              event.attributes.IV = new Uint32Array(event.attributes.IV);\n            }\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-START:?(.*)$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'start'\n          };\n\n          if (match[1]) {\n            event.attributes = parseAttributes(match[1]);\n            event.attributes['TIME-OFFSET'] = parseFloat(event.attributes['TIME-OFFSET']);\n            event.attributes.PRECISE = /YES/.test(event.attributes.PRECISE);\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-out-cont'\n          };\n\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-out'\n          };\n\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        }\n\n        match = /^#EXT-X-CUE-IN:?(.*)?$/.exec(newLine);\n\n        if (match) {\n          event = {\n            type: 'tag',\n            tagType: 'cue-in'\n          };\n\n          if (match[1]) {\n            event.data = match[1];\n          } else {\n            event.data = '';\n          }\n\n          _this2.trigger('data', event);\n\n          return;\n        } // unknown tag type\n\n\n        _this2.trigger('data', {\n          type: 'tag',\n          data: newLine.slice(4)\n        });\n      });\n    };\n    /**\n     * Add a parser for custom headers\n     *\n     * @param {Object}   options              a map of options for the added parser\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {string}   options.customType   the custom type to register to the output\n     * @param {Function} [options.dataParser] function to parse the line into an object\n     * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n     */\n\n\n    _proto.addParser = function addParser(_ref) {\n      var _this3 = this;\n\n      var expression = _ref.expression,\n          customType = _ref.customType,\n          dataParser = _ref.dataParser,\n          segment = _ref.segment;\n\n      if (typeof dataParser !== 'function') {\n        dataParser = function dataParser(line) {\n          return line;\n        };\n      }\n\n      this.customParsers.push(function (line) {\n        var match = expression.exec(line);\n\n        if (match) {\n          _this3.trigger('data', {\n            type: 'custom',\n            data: dataParser(line),\n            customType: customType,\n            segment: segment\n          });\n\n          return true;\n        }\n      });\n    };\n    /**\n     * Add a custom header mapper\n     *\n     * @param {Object}   options\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {Function} options.map          function to translate tag into a different tag\n     */\n\n\n    _proto.addTagMapper = function addTagMapper(_ref2) {\n      var expression = _ref2.expression,\n          map = _ref2.map;\n\n      var mapFn = function mapFn(line) {\n        if (expression.test(line)) {\n          return map(line);\n        }\n\n        return line;\n      };\n\n      this.tagMappers.push(mapFn);\n    };\n\n    return ParseStream;\n  }(Stream);\n  /**\n   * A parser for M3U8 files. The current interpretation of the input is\n   * exposed as a property `manifest` on parser objects. It's just two lines to\n   * create and parse a manifest once you have the contents available as a string:\n   *\n   * ```js\n   * var parser = new m3u8.Parser();\n   * parser.push(xhr.responseText);\n   * ```\n   *\n   * New input can later be applied to update the manifest object by calling\n   * `push` again.\n   *\n   * The parser attempts to create a usable manifest object even if the\n   * underlying input is somewhat nonsensical. It emits `info` and `warning`\n   * events during the parse if it encounters input that seems invalid or\n   * requires some property of the manifest object to be defaulted.\n   *\n   * @class Parser\n   * @extends Stream\n   */\n\n\n  var Parser =\n  /*#__PURE__*/\n  function (_Stream) {\n    _inheritsLoose$1(Parser, _Stream);\n\n    function Parser() {\n      var _this;\n\n      _this = _Stream.call(this) || this;\n      _this.lineStream = new LineStream();\n      _this.parseStream = new ParseStream();\n\n      _this.lineStream.pipe(_this.parseStream);\n      /* eslint-disable consistent-this */\n\n\n      var self = _assertThisInitialized$1(_assertThisInitialized$1(_this));\n      /* eslint-enable consistent-this */\n\n\n      var uris = [];\n      var currentUri = {}; // if specified, the active EXT-X-MAP definition\n\n      var currentMap; // if specified, the active decryption key\n\n      var _key;\n\n      var noop = function noop() {};\n\n      var defaultMediaGroups = {\n        'AUDIO': {},\n        'VIDEO': {},\n        'CLOSED-CAPTIONS': {},\n        'SUBTITLES': {}\n      }; // group segments into numbered timelines delineated by discontinuities\n\n      var currentTimeline = 0; // the manifest is empty until the parse stream begins delivering data\n\n      _this.manifest = {\n        allowCache: true,\n        discontinuityStarts: [],\n        segments: []\n      }; // update the manifest with the m3u8 entry from the parse stream\n\n      _this.parseStream.on('data', function (entry) {\n        var mediaGroup;\n        var rendition;\n        ({\n          tag: function tag() {\n            // switch based on the tag type\n            (({\n              'allow-cache': function allowCache() {\n                this.manifest.allowCache = entry.allowed;\n\n                if (!('allowed' in entry)) {\n                  this.trigger('info', {\n                    message: 'defaulting allowCache to YES'\n                  });\n                  this.manifest.allowCache = true;\n                }\n              },\n              byterange: function byterange() {\n                var byterange = {};\n\n                if ('length' in entry) {\n                  currentUri.byterange = byterange;\n                  byterange.length = entry.length;\n\n                  if (!('offset' in entry)) {\n                    this.trigger('info', {\n                      message: 'defaulting offset to zero'\n                    });\n                    entry.offset = 0;\n                  }\n                }\n\n                if ('offset' in entry) {\n                  currentUri.byterange = byterange;\n                  byterange.offset = entry.offset;\n                }\n              },\n              endlist: function endlist() {\n                this.manifest.endList = true;\n              },\n              inf: function inf() {\n                if (!('mediaSequence' in this.manifest)) {\n                  this.manifest.mediaSequence = 0;\n                  this.trigger('info', {\n                    message: 'defaulting media sequence to zero'\n                  });\n                }\n\n                if (!('discontinuitySequence' in this.manifest)) {\n                  this.manifest.discontinuitySequence = 0;\n                  this.trigger('info', {\n                    message: 'defaulting discontinuity sequence to zero'\n                  });\n                }\n\n                if (entry.duration > 0) {\n                  currentUri.duration = entry.duration;\n                }\n\n                if (entry.duration === 0) {\n                  currentUri.duration = 0.01;\n                  this.trigger('info', {\n                    message: 'updating zero segment duration to a small value'\n                  });\n                }\n\n                this.manifest.segments = uris;\n              },\n              key: function key() {\n                if (!entry.attributes) {\n                  this.trigger('warn', {\n                    message: 'ignoring key declaration without attribute list'\n                  });\n                  return;\n                } // clear the active encryption key\n\n\n                if (entry.attributes.METHOD === 'NONE') {\n                  _key = null;\n                  return;\n                }\n\n                if (!entry.attributes.URI) {\n                  this.trigger('warn', {\n                    message: 'ignoring key declaration without URI'\n                  });\n                  return;\n                }\n\n                if (!entry.attributes.METHOD) {\n                  this.trigger('warn', {\n                    message: 'defaulting key method to AES-128'\n                  });\n                } // setup an encryption key for upcoming segments\n\n\n                _key = {\n                  method: entry.attributes.METHOD || 'AES-128',\n                  uri: entry.attributes.URI\n                };\n\n                if (typeof entry.attributes.IV !== 'undefined') {\n                  _key.iv = entry.attributes.IV;\n                }\n              },\n              'media-sequence': function mediaSequence() {\n                if (!isFinite(entry.number)) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid media sequence: ' + entry.number\n                  });\n                  return;\n                }\n\n                this.manifest.mediaSequence = entry.number;\n              },\n              'discontinuity-sequence': function discontinuitySequence() {\n                if (!isFinite(entry.number)) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid discontinuity sequence: ' + entry.number\n                  });\n                  return;\n                }\n\n                this.manifest.discontinuitySequence = entry.number;\n                currentTimeline = entry.number;\n              },\n              'playlist-type': function playlistType() {\n                if (!/VOD|EVENT/.test(entry.playlistType)) {\n                  this.trigger('warn', {\n                    message: 'ignoring unknown playlist type: ' + entry.playlist\n                  });\n                  return;\n                }\n\n                this.manifest.playlistType = entry.playlistType;\n              },\n              map: function map() {\n                currentMap = {};\n\n                if (entry.uri) {\n                  currentMap.uri = entry.uri;\n                }\n\n                if (entry.byterange) {\n                  currentMap.byterange = entry.byterange;\n                }\n              },\n              'stream-inf': function streamInf() {\n                this.manifest.playlists = uris;\n                this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n                if (!entry.attributes) {\n                  this.trigger('warn', {\n                    message: 'ignoring empty stream-inf attributes'\n                  });\n                  return;\n                }\n\n                if (!currentUri.attributes) {\n                  currentUri.attributes = {};\n                }\n\n                _extends$1(currentUri.attributes, entry.attributes);\n              },\n              media: function media() {\n                this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n                if (!(entry.attributes && entry.attributes.TYPE && entry.attributes['GROUP-ID'] && entry.attributes.NAME)) {\n                  this.trigger('warn', {\n                    message: 'ignoring incomplete or missing media group'\n                  });\n                  return;\n                } // find the media group, creating defaults as necessary\n\n\n                var mediaGroupType = this.manifest.mediaGroups[entry.attributes.TYPE];\n                mediaGroupType[entry.attributes['GROUP-ID']] = mediaGroupType[entry.attributes['GROUP-ID']] || {};\n                mediaGroup = mediaGroupType[entry.attributes['GROUP-ID']]; // collect the rendition metadata\n\n                rendition = {\n                  default: /yes/i.test(entry.attributes.DEFAULT)\n                };\n\n                if (rendition.default) {\n                  rendition.autoselect = true;\n                } else {\n                  rendition.autoselect = /yes/i.test(entry.attributes.AUTOSELECT);\n                }\n\n                if (entry.attributes.LANGUAGE) {\n                  rendition.language = entry.attributes.LANGUAGE;\n                }\n\n                if (entry.attributes.URI) {\n                  rendition.uri = entry.attributes.URI;\n                }\n\n                if (entry.attributes['INSTREAM-ID']) {\n                  rendition.instreamId = entry.attributes['INSTREAM-ID'];\n                }\n\n                if (entry.attributes.CHARACTERISTICS) {\n                  rendition.characteristics = entry.attributes.CHARACTERISTICS;\n                }\n\n                if (entry.attributes.FORCED) {\n                  rendition.forced = /yes/i.test(entry.attributes.FORCED);\n                } // insert the new rendition\n\n\n                mediaGroup[entry.attributes.NAME] = rendition;\n              },\n              discontinuity: function discontinuity() {\n                currentTimeline += 1;\n                currentUri.discontinuity = true;\n                this.manifest.discontinuityStarts.push(uris.length);\n              },\n              'program-date-time': function programDateTime() {\n                if (typeof this.manifest.dateTimeString === 'undefined') {\n                  // PROGRAM-DATE-TIME is a media-segment tag, but for backwards\n                  // compatibility, we add the first occurence of the PROGRAM-DATE-TIME tag\n                  // to the manifest object\n                  // TODO: Consider removing this in future major version\n                  this.manifest.dateTimeString = entry.dateTimeString;\n                  this.manifest.dateTimeObject = entry.dateTimeObject;\n                }\n\n                currentUri.dateTimeString = entry.dateTimeString;\n                currentUri.dateTimeObject = entry.dateTimeObject;\n              },\n              targetduration: function targetduration() {\n                if (!isFinite(entry.duration) || entry.duration < 0) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid target duration: ' + entry.duration\n                  });\n                  return;\n                }\n\n                this.manifest.targetDuration = entry.duration;\n              },\n              totalduration: function totalduration() {\n                if (!isFinite(entry.duration) || entry.duration < 0) {\n                  this.trigger('warn', {\n                    message: 'ignoring invalid total duration: ' + entry.duration\n                  });\n                  return;\n                }\n\n                this.manifest.totalDuration = entry.duration;\n              },\n              start: function start() {\n                if (!entry.attributes || isNaN(entry.attributes['TIME-OFFSET'])) {\n                  this.trigger('warn', {\n                    message: 'ignoring start declaration without appropriate attribute list'\n                  });\n                  return;\n                }\n\n                this.manifest.start = {\n                  timeOffset: entry.attributes['TIME-OFFSET'],\n                  precise: entry.attributes.PRECISE\n                };\n              },\n              'cue-out': function cueOut() {\n                currentUri.cueOut = entry.data;\n              },\n              'cue-out-cont': function cueOutCont() {\n                currentUri.cueOutCont = entry.data;\n              },\n              'cue-in': function cueIn() {\n                currentUri.cueIn = entry.data;\n              }\n            })[entry.tagType] || noop).call(self);\n          },\n          uri: function uri() {\n            currentUri.uri = entry.uri;\n            uris.push(currentUri); // if no explicit duration was declared, use the target duration\n\n            if (this.manifest.targetDuration && !('duration' in currentUri)) {\n              this.trigger('warn', {\n                message: 'defaulting segment duration to the target duration'\n              });\n              currentUri.duration = this.manifest.targetDuration;\n            } // annotate with encryption information, if necessary\n\n\n            if (_key) {\n              currentUri.key = _key;\n            }\n\n            currentUri.timeline = currentTimeline; // annotate with initialization segment information, if necessary\n\n            if (currentMap) {\n              currentUri.map = currentMap;\n            } // prepare for the next URI\n\n\n            currentUri = {};\n          },\n          comment: function comment() {// comments are not important for playback\n          },\n          custom: function custom() {\n            // if this is segment-level data attach the output to the segment\n            if (entry.segment) {\n              currentUri.custom = currentUri.custom || {};\n              currentUri.custom[entry.customType] = entry.data; // if this is manifest-level data attach to the top level manifest object\n            } else {\n              this.manifest.custom = this.manifest.custom || {};\n              this.manifest.custom[entry.customType] = entry.data;\n            }\n          }\n        })[entry.type].call(self);\n      });\n\n      return _this;\n    }\n    /**\n     * Parse the input string and update the manifest object.\n     *\n     * @param {string} chunk a potentially incomplete portion of the manifest\n     */\n\n\n    var _proto = Parser.prototype;\n\n    _proto.push = function push(chunk) {\n      this.lineStream.push(chunk);\n    };\n    /**\n     * Flush any remaining input. This can be handy if the last line of an M3U8\n     * manifest did not contain a trailing newline but the file has been\n     * completely received.\n     */\n\n\n    _proto.end = function end() {\n      // flush any buffered input\n      this.lineStream.push('\\n');\n    };\n    /**\n     * Add an additional parser for non-standard tags\n     *\n     * @param {Object}   options              a map of options for the added parser\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {string}   options.type         the type to register to the output\n     * @param {Function} [options.dataParser] function to parse the line into an object\n     * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n     */\n\n\n    _proto.addParser = function addParser(options) {\n      this.parseStream.addParser(options);\n    };\n    /**\n     * Add a custom header mapper\n     *\n     * @param {Object}   options\n     * @param {RegExp}   options.expression   a regular expression to match the custom header\n     * @param {Function} options.map          function to translate tag into a different tag\n     */\n\n\n    _proto.addTagMapper = function addTagMapper(options) {\n      this.parseStream.addTagMapper(options);\n    };\n\n    return Parser;\n  }(Stream);\n\n  /*! @name mpd-parser @version 0.7.0 @license Apache-2.0 */\n\n  var isObject$1 = function isObject(obj) {\n    return !!obj && typeof obj === 'object';\n  };\n\n  var merge = function merge() {\n    for (var _len = arguments.length, objects = new Array(_len), _key = 0; _key < _len; _key++) {\n      objects[_key] = arguments[_key];\n    }\n\n    return objects.reduce(function (result, source) {\n      Object.keys(source).forEach(function (key) {\n        if (Array.isArray(result[key]) && Array.isArray(source[key])) {\n          result[key] = result[key].concat(source[key]);\n        } else if (isObject$1(result[key]) && isObject$1(source[key])) {\n          result[key] = merge(result[key], source[key]);\n        } else {\n          result[key] = source[key];\n        }\n      });\n      return result;\n    }, {});\n  };\n\n  var values = function values(o) {\n    return Object.keys(o).map(function (k) {\n      return o[k];\n    });\n  };\n\n  var range = function range(start, end) {\n    var result = [];\n\n    for (var i = start; i < end; i++) {\n      result.push(i);\n    }\n\n    return result;\n  };\n\n  var flatten = function flatten(lists) {\n    return lists.reduce(function (x, y) {\n      return x.concat(y);\n    }, []);\n  };\n\n  var from = function from(list) {\n    if (!list.length) {\n      return [];\n    }\n\n    var result = [];\n\n    for (var i = 0; i < list.length; i++) {\n      result.push(list[i]);\n    }\n\n    return result;\n  };\n\n  var findIndexes = function findIndexes(l, key) {\n    return l.reduce(function (a, e, i) {\n      if (e[key]) {\n        a.push(i);\n      }\n\n      return a;\n    }, []);\n  };\n\n  var mergeDiscontiguousPlaylists = function mergeDiscontiguousPlaylists(playlists) {\n    var mergedPlaylists = values(playlists.reduce(function (acc, playlist) {\n      // assuming playlist IDs are the same across periods\n      // TODO: handle multiperiod where representation sets are not the same\n      // across periods\n      var name = playlist.attributes.id + (playlist.attributes.lang || ''); // Periods after first\n\n      if (acc[name]) {\n        var _acc$name$segments; // first segment of subsequent periods signal a discontinuity\n\n\n        playlist.segments[0].discontinuity = true;\n\n        (_acc$name$segments = acc[name].segments).push.apply(_acc$name$segments, playlist.segments); // bubble up contentProtection, this assumes all DRM content\n        // has the same contentProtection\n\n\n        if (playlist.attributes.contentProtection) {\n          acc[name].attributes.contentProtection = playlist.attributes.contentProtection;\n        }\n      } else {\n        // first Period\n        acc[name] = playlist;\n      }\n\n      return acc;\n    }, {}));\n    return mergedPlaylists.map(function (playlist) {\n      playlist.discontinuityStarts = findIndexes(playlist.segments, 'discontinuity');\n      return playlist;\n    });\n  };\n\n  var formatAudioPlaylist = function formatAudioPlaylist(_ref) {\n    var _attributes;\n\n    var attributes = _ref.attributes,\n        segments = _ref.segments;\n    var playlist = {\n      attributes: (_attributes = {\n        NAME: attributes.id,\n        BANDWIDTH: attributes.bandwidth,\n        CODECS: attributes.codecs\n      }, _attributes['PROGRAM-ID'] = 1, _attributes),\n      uri: '',\n      endList: (attributes.type || 'static') === 'static',\n      timeline: attributes.periodIndex,\n      resolvedUri: '',\n      targetDuration: attributes.duration,\n      segments: segments,\n      mediaSequence: segments.length ? segments[0].number : 1\n    };\n\n    if (attributes.contentProtection) {\n      playlist.contentProtection = attributes.contentProtection;\n    }\n\n    return playlist;\n  };\n\n  var formatVttPlaylist = function formatVttPlaylist(_ref2) {\n    var _attributes2;\n\n    var attributes = _ref2.attributes,\n        segments = _ref2.segments;\n\n    if (typeof segments === 'undefined') {\n      // vtt tracks may use single file in BaseURL\n      segments = [{\n        uri: attributes.baseUrl,\n        timeline: attributes.periodIndex,\n        resolvedUri: attributes.baseUrl || '',\n        duration: attributes.sourceDuration,\n        number: 0\n      }]; // targetDuration should be the same duration as the only segment\n\n      attributes.duration = attributes.sourceDuration;\n    }\n\n    return {\n      attributes: (_attributes2 = {\n        NAME: attributes.id,\n        BANDWIDTH: attributes.bandwidth\n      }, _attributes2['PROGRAM-ID'] = 1, _attributes2),\n      uri: '',\n      endList: (attributes.type || 'static') === 'static',\n      timeline: attributes.periodIndex,\n      resolvedUri: attributes.baseUrl || '',\n      targetDuration: attributes.duration,\n      segments: segments,\n      mediaSequence: segments.length ? segments[0].number : 1\n    };\n  };\n\n  var organizeAudioPlaylists = function organizeAudioPlaylists(playlists) {\n    return playlists.reduce(function (a, playlist) {\n      var role = playlist.attributes.role && playlist.attributes.role.value || 'main';\n      var language = playlist.attributes.lang || '';\n      var label = 'main';\n\n      if (language) {\n        label = playlist.attributes.lang + \" (\" + role + \")\";\n      } // skip if we already have the highest quality audio for a language\n\n\n      if (a[label] && a[label].playlists[0].attributes.BANDWIDTH > playlist.attributes.bandwidth) {\n        return a;\n      }\n\n      a[label] = {\n        language: language,\n        autoselect: true,\n        default: role === 'main',\n        playlists: [formatAudioPlaylist(playlist)],\n        uri: ''\n      };\n      return a;\n    }, {});\n  };\n\n  var organizeVttPlaylists = function organizeVttPlaylists(playlists) {\n    return playlists.reduce(function (a, playlist) {\n      var label = playlist.attributes.lang || 'text'; // skip if we already have subtitles\n\n      if (a[label]) {\n        return a;\n      }\n\n      a[label] = {\n        language: label,\n        default: false,\n        autoselect: false,\n        playlists: [formatVttPlaylist(playlist)],\n        uri: ''\n      };\n      return a;\n    }, {});\n  };\n\n  var formatVideoPlaylist = function formatVideoPlaylist(_ref3) {\n    var _attributes3;\n\n    var attributes = _ref3.attributes,\n        segments = _ref3.segments;\n    var playlist = {\n      attributes: (_attributes3 = {\n        NAME: attributes.id,\n        AUDIO: 'audio',\n        SUBTITLES: 'subs',\n        RESOLUTION: {\n          width: attributes.width,\n          height: attributes.height\n        },\n        CODECS: attributes.codecs,\n        BANDWIDTH: attributes.bandwidth\n      }, _attributes3['PROGRAM-ID'] = 1, _attributes3),\n      uri: '',\n      endList: (attributes.type || 'static') === 'static',\n      timeline: attributes.periodIndex,\n      resolvedUri: '',\n      targetDuration: attributes.duration,\n      segments: segments,\n      mediaSequence: segments.length ? segments[0].number : 1\n    };\n\n    if (attributes.contentProtection) {\n      playlist.contentProtection = attributes.contentProtection;\n    }\n\n    return playlist;\n  };\n\n  var toM3u8 = function toM3u8(dashPlaylists) {\n    var _mediaGroups;\n\n    if (!dashPlaylists.length) {\n      return {};\n    } // grab all master attributes\n\n\n    var _dashPlaylists$0$attr = dashPlaylists[0].attributes,\n        duration = _dashPlaylists$0$attr.sourceDuration,\n        _dashPlaylists$0$attr2 = _dashPlaylists$0$attr.minimumUpdatePeriod,\n        minimumUpdatePeriod = _dashPlaylists$0$attr2 === void 0 ? 0 : _dashPlaylists$0$attr2;\n\n    var videoOnly = function videoOnly(_ref4) {\n      var attributes = _ref4.attributes;\n      return attributes.mimeType === 'video/mp4' || attributes.contentType === 'video';\n    };\n\n    var audioOnly = function audioOnly(_ref5) {\n      var attributes = _ref5.attributes;\n      return attributes.mimeType === 'audio/mp4' || attributes.contentType === 'audio';\n    };\n\n    var vttOnly = function vttOnly(_ref6) {\n      var attributes = _ref6.attributes;\n      return attributes.mimeType === 'text/vtt' || attributes.contentType === 'text';\n    };\n\n    var videoPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(videoOnly)).map(formatVideoPlaylist);\n    var audioPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(audioOnly));\n    var vttPlaylists = dashPlaylists.filter(vttOnly);\n    var master = {\n      allowCache: true,\n      discontinuityStarts: [],\n      segments: [],\n      endList: true,\n      mediaGroups: (_mediaGroups = {\n        AUDIO: {},\n        VIDEO: {}\n      }, _mediaGroups['CLOSED-CAPTIONS'] = {}, _mediaGroups.SUBTITLES = {}, _mediaGroups),\n      uri: '',\n      duration: duration,\n      playlists: videoPlaylists,\n      minimumUpdatePeriod: minimumUpdatePeriod * 1000\n    };\n\n    if (audioPlaylists.length) {\n      master.mediaGroups.AUDIO.audio = organizeAudioPlaylists(audioPlaylists);\n    }\n\n    if (vttPlaylists.length) {\n      master.mediaGroups.SUBTITLES.subs = organizeVttPlaylists(vttPlaylists);\n    }\n\n    return master;\n  };\n\n  var commonjsGlobal$1 = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule$1(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var urlToolkit$1 = createCommonjsModule$1(function (module, exports) {\n    // see https://tools.ietf.org/html/rfc1808\n\n    /* jshint ignore:start */\n    (function (root) {\n      /* jshint ignore:end */\n      var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/\\?#]*\\/)*.*?)??(;.*?)?(\\?.*?)?(#.*?)?$/;\n      var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n      var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n      var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/).*?(?=\\/)/g;\n      var URLToolkit = {\n        // jshint ignore:line\n        // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n        // E.g\n        // With opts.alwaysNormalize = false (default, spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n        // With opts.alwaysNormalize = true (not spec compliant)\n        // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n        buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n          opts = opts || {}; // remove any remaining space and CRLF\n\n          baseURL = baseURL.trim();\n          relativeURL = relativeURL.trim();\n\n          if (!relativeURL) {\n            // 2a) If the embedded URL is entirely empty, it inherits the\n            // entire base URL (i.e., is set equal to the base URL)\n            // and we are done.\n            if (!opts.alwaysNormalize) {\n              return baseURL;\n            }\n\n            var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n            if (!basePartsForNormalise) {\n              throw new Error('Error trying to parse base URL.');\n            }\n\n            basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n            return URLToolkit.buildURLFromParts(basePartsForNormalise);\n          }\n\n          var relativeParts = URLToolkit.parseURL(relativeURL);\n\n          if (!relativeParts) {\n            throw new Error('Error trying to parse relative URL.');\n          }\n\n          if (relativeParts.scheme) {\n            // 2b) If the embedded URL starts with a scheme name, it is\n            // interpreted as an absolute URL and we are done.\n            if (!opts.alwaysNormalize) {\n              return relativeURL;\n            }\n\n            relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n            return URLToolkit.buildURLFromParts(relativeParts);\n          }\n\n          var baseParts = URLToolkit.parseURL(baseURL);\n\n          if (!baseParts) {\n            throw new Error('Error trying to parse base URL.');\n          }\n\n          if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n            // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n            // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n            var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n            baseParts.netLoc = pathParts[1];\n            baseParts.path = pathParts[2];\n          }\n\n          if (baseParts.netLoc && !baseParts.path) {\n            baseParts.path = '/';\n          }\n\n          var builtParts = {\n            // 2c) Otherwise, the embedded URL inherits the scheme of\n            // the base URL.\n            scheme: baseParts.scheme,\n            netLoc: relativeParts.netLoc,\n            path: null,\n            params: relativeParts.params,\n            query: relativeParts.query,\n            fragment: relativeParts.fragment\n          };\n\n          if (!relativeParts.netLoc) {\n            // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n            // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n            // (if any) of the base URL.\n            builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n            // path is not relative and we skip to Step 7.\n\n            if (relativeParts.path[0] !== '/') {\n              if (!relativeParts.path) {\n                // 5) If the embedded URL path is empty (and not preceded by a\n                // slash), then the embedded URL inherits the base URL path\n                builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n                // step 7; otherwise, it inherits the <params> of the base\n                // URL (if any) and\n\n                if (!relativeParts.params) {\n                  builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n                  // step 7; otherwise, it inherits the <query> of the base\n                  // URL (if any) and we skip to step 7.\n\n                  if (!relativeParts.query) {\n                    builtParts.query = baseParts.query;\n                  }\n                }\n              } else {\n                // 6) The last segment of the base URL's path (anything\n                // following the rightmost slash \"/\", or the entire path if no\n                // slash is present) is removed and the embedded URL's path is\n                // appended in its place.\n                var baseURLPath = baseParts.path;\n                var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n                builtParts.path = URLToolkit.normalizePath(newPath);\n              }\n            }\n          }\n\n          if (builtParts.path === null) {\n            builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n          }\n\n          return URLToolkit.buildURLFromParts(builtParts);\n        },\n        parseURL: function parseURL(url) {\n          var parts = URL_REGEX.exec(url);\n\n          if (!parts) {\n            return null;\n          }\n\n          return {\n            scheme: parts[1] || '',\n            netLoc: parts[2] || '',\n            path: parts[3] || '',\n            params: parts[4] || '',\n            query: parts[5] || '',\n            fragment: parts[6] || ''\n          };\n        },\n        normalizePath: function normalizePath(path) {\n          // The following operations are\n          // then applied, in order, to the new path:\n          // 6a) All occurrences of \"./\", where \".\" is a complete path\n          // segment, are removed.\n          // 6b) If the path ends with \".\" as a complete path segment,\n          // that \".\" is removed.\n          path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n          // complete path segment not equal to \"..\", are removed.\n          // Removal of these path segments is performed iteratively,\n          // removing the leftmost matching pattern on each iteration,\n          // until no matching pattern remains.\n          // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n          // complete path segment not equal to \"..\", that\n          // \"<segment>/..\" is removed.\n\n          while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {} // jshint ignore:line\n\n\n          return path.split('').reverse().join('');\n        },\n        buildURLFromParts: function buildURLFromParts(parts) {\n          return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n        }\n      };\n      /* jshint ignore:start */\n\n      module.exports = URLToolkit;\n    })(commonjsGlobal$1);\n    /* jshint ignore:end */\n\n  });\n\n  var resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n    // return early if we don't need to resolve\n    if (/^[a-z]+:/i.test(relativeUrl)) {\n      return relativeUrl;\n    } // if the base URL is relative then combine with the current location\n\n\n    if (!/\\/\\//i.test(baseUrl)) {\n      baseUrl = urlToolkit$1.buildAbsoluteURL(window$1.location.href, baseUrl);\n    }\n\n    return urlToolkit$1.buildAbsoluteURL(baseUrl, relativeUrl);\n  };\n  /**\n   * @typedef {Object} SingleUri\n   * @property {string} uri - relative location of segment\n   * @property {string} resolvedUri - resolved location of segment\n   * @property {Object} byterange - Object containing information on how to make byte range\n   *   requests following byte-range-spec per RFC2616.\n   * @property {String} byterange.length - length of range request\n   * @property {String} byterange.offset - byte offset of range request\n   *\n   * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.1\n   */\n\n  /**\n   * Converts a URLType node (5.3.9.2.3 Table 13) to a segment object\n   * that conforms to how m3u8-parser is structured\n   *\n   * @see https://github.com/videojs/m3u8-parser\n   *\n   * @param {string} baseUrl - baseUrl provided by <BaseUrl> nodes\n   * @param {string} source - source url for segment\n   * @param {string} range - optional range used for range calls, follows\n   * @return {SingleUri} full segment information transformed into a format similar\n   *   to m3u8-parser\n   */\n\n\n  var urlTypeToSegment = function urlTypeToSegment(_ref) {\n    var _ref$baseUrl = _ref.baseUrl,\n        baseUrl = _ref$baseUrl === void 0 ? '' : _ref$baseUrl,\n        _ref$source = _ref.source,\n        source = _ref$source === void 0 ? '' : _ref$source,\n        _ref$range = _ref.range,\n        range = _ref$range === void 0 ? '' : _ref$range;\n    var init = {\n      uri: source,\n      resolvedUri: resolveUrl(baseUrl || '', source)\n    };\n\n    if (range) {\n      var ranges = range.split('-');\n      var startRange = parseInt(ranges[0], 10);\n      var endRange = parseInt(ranges[1], 10);\n      init.byterange = {\n        length: endRange - startRange,\n        offset: startRange\n      };\n    }\n\n    return init;\n  };\n  /**\n   * Calculates the R (repetition) value for a live stream (for the final segment\n   * in a manifest where the r value is negative 1)\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {number} time\n   *        current time (typically the total time up until the final segment)\n   * @param {number} duration\n   *        duration property for the given <S />\n   *\n   * @return {number}\n   *        R value to reach the end of the given period\n   */\n\n\n  var getLiveRValue = function getLiveRValue(attributes, time, duration) {\n    var NOW = attributes.NOW,\n        clientOffset = attributes.clientOffset,\n        availabilityStartTime = attributes.availabilityStartTime,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        _attributes$start = attributes.start,\n        start = _attributes$start === void 0 ? 0 : _attributes$start,\n        _attributes$minimumUp = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp;\n    var now = (NOW + clientOffset) / 1000;\n    var periodStartWC = availabilityStartTime + start;\n    var periodEndWC = now + minimumUpdatePeriod;\n    var periodDuration = periodEndWC - periodStartWC;\n    return Math.ceil((periodDuration * timescale - time) / duration);\n  };\n  /**\n   * Uses information provided by SegmentTemplate.SegmentTimeline to determine segment\n   * timing and duration\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {Object[]} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *\n   * @return {{number: number, duration: number, time: number, timeline: number}[]}\n   *         List of Objects with segment timing and duration info\n   */\n\n\n  var parseByTimeline = function parseByTimeline(attributes, segmentTimeline) {\n    var _attributes$type = attributes.type,\n        type = _attributes$type === void 0 ? 'static' : _attributes$type,\n        _attributes$minimumUp2 = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp2 === void 0 ? 0 : _attributes$minimumUp2,\n        _attributes$media = attributes.media,\n        media = _attributes$media === void 0 ? '' : _attributes$media,\n        sourceDuration = attributes.sourceDuration,\n        _attributes$timescale2 = attributes.timescale,\n        timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n        _attributes$startNumb = attributes.startNumber,\n        startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb,\n        timeline = attributes.periodIndex;\n    var segments = [];\n    var time = -1;\n\n    for (var sIndex = 0; sIndex < segmentTimeline.length; sIndex++) {\n      var S = segmentTimeline[sIndex];\n      var duration = S.d;\n      var repeat = S.r || 0;\n      var segmentTime = S.t || 0;\n\n      if (time < 0) {\n        // first segment\n        time = segmentTime;\n      }\n\n      if (segmentTime && segmentTime > time) {\n        // discontinuity\n        // TODO: How to handle this type of discontinuity\n        // timeline++ here would treat it like HLS discontuity and content would\n        // get appended without gap\n        // E.G.\n        //  <S t=\"0\" d=\"1\" />\n        //  <S d=\"1\" />\n        //  <S d=\"1\" />\n        //  <S t=\"5\" d=\"1\" />\n        // would have $Time$ values of [0, 1, 2, 5]\n        // should this be appened at time positions [0, 1, 2, 3],(#EXT-X-DISCONTINUITY)\n        // or [0, 1, 2, gap, gap, 5]? (#EXT-X-GAP)\n        // does the value of sourceDuration consider this when calculating arbitrary\n        // negative @r repeat value?\n        // E.G. Same elements as above with this added at the end\n        //  <S d=\"1\" r=\"-1\" />\n        //  with a sourceDuration of 10\n        // Would the 2 gaps be included in the time duration calculations resulting in\n        // 8 segments with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9] or 10 segments\n        // with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9, 10, 11] ?\n        time = segmentTime;\n      }\n\n      var count = void 0;\n\n      if (repeat < 0) {\n        var nextS = sIndex + 1;\n\n        if (nextS === segmentTimeline.length) {\n          // last segment\n          if (type === 'dynamic' && minimumUpdatePeriod > 0 && media.indexOf('$Number$') > 0) {\n            count = getLiveRValue(attributes, time, duration);\n          } else {\n            // TODO: This may be incorrect depending on conclusion of TODO above\n            count = (sourceDuration * timescale - time) / duration;\n          }\n        } else {\n          count = (segmentTimeline[nextS].t - time) / duration;\n        }\n      } else {\n        count = repeat + 1;\n      }\n\n      var end = startNumber + segments.length + count;\n      var number = startNumber + segments.length;\n\n      while (number < end) {\n        segments.push({\n          number: number,\n          duration: duration / timescale,\n          time: time,\n          timeline: timeline\n        });\n        time += duration;\n        number++;\n      }\n    }\n\n    return segments;\n  };\n  /**\n   * Functions for calculating the range of available segments in static and dynamic\n   * manifests.\n   */\n\n\n  var segmentRange = {\n    /**\n     * Returns the entire range of available segments for a static MPD\n     *\n     * @param {Object} attributes\n     *        Inheritied MPD attributes\n     * @return {{ start: number, end: number }}\n     *         The start and end numbers for available segments\n     */\n    static: function _static(attributes) {\n      var duration = attributes.duration,\n          _attributes$timescale = attributes.timescale,\n          timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n          sourceDuration = attributes.sourceDuration;\n      return {\n        start: 0,\n        end: Math.ceil(sourceDuration / (duration / timescale))\n      };\n    },\n\n    /**\n     * Returns the current live window range of available segments for a dynamic MPD\n     *\n     * @param {Object} attributes\n     *        Inheritied MPD attributes\n     * @return {{ start: number, end: number }}\n     *         The start and end numbers for available segments\n     */\n    dynamic: function dynamic(attributes) {\n      var NOW = attributes.NOW,\n          clientOffset = attributes.clientOffset,\n          availabilityStartTime = attributes.availabilityStartTime,\n          _attributes$timescale2 = attributes.timescale,\n          timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n          duration = attributes.duration,\n          _attributes$start = attributes.start,\n          start = _attributes$start === void 0 ? 0 : _attributes$start,\n          _attributes$minimumUp = attributes.minimumUpdatePeriod,\n          minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp,\n          _attributes$timeShift = attributes.timeShiftBufferDepth,\n          timeShiftBufferDepth = _attributes$timeShift === void 0 ? Infinity : _attributes$timeShift;\n      var now = (NOW + clientOffset) / 1000;\n      var periodStartWC = availabilityStartTime + start;\n      var periodEndWC = now + minimumUpdatePeriod;\n      var periodDuration = periodEndWC - periodStartWC;\n      var segmentCount = Math.ceil(periodDuration * timescale / duration);\n      var availableStart = Math.floor((now - periodStartWC - timeShiftBufferDepth) * timescale / duration);\n      var availableEnd = Math.floor((now - periodStartWC) * timescale / duration);\n      return {\n        start: Math.max(0, availableStart),\n        end: Math.min(segmentCount, availableEnd)\n      };\n    }\n  };\n  /**\n   * Maps a range of numbers to objects with information needed to build the corresponding\n   * segment list\n   *\n   * @name toSegmentsCallback\n   * @function\n   * @param {number} number\n   *        Number of the segment\n   * @param {number} index\n   *        Index of the number in the range list\n   * @return {{ number: Number, duration: Number, timeline: Number, time: Number }}\n   *         Object with segment timing and duration info\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping a range of numbers to\n   * information needed to build the segment list.\n   *\n   * @param {Object} attributes\n   *        Inherited MPD attributes\n   * @return {toSegmentsCallback}\n   *         Callback map function\n   */\n\n  var toSegments = function toSegments(attributes) {\n    return function (number, index) {\n      var duration = attributes.duration,\n          _attributes$timescale3 = attributes.timescale,\n          timescale = _attributes$timescale3 === void 0 ? 1 : _attributes$timescale3,\n          periodIndex = attributes.periodIndex,\n          _attributes$startNumb = attributes.startNumber,\n          startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb;\n      return {\n        number: startNumber + number,\n        duration: duration / timescale,\n        timeline: periodIndex,\n        time: index * duration\n      };\n    };\n  };\n  /**\n   * Returns a list of objects containing segment timing and duration info used for\n   * building the list of segments. This uses the @duration attribute specified\n   * in the MPD manifest to derive the range of segments.\n   *\n   * @param {Object} attributes\n   *        Inherited MPD attributes\n   * @return {{number: number, duration: number, time: number, timeline: number}[]}\n   *         List of Objects with segment timing and duration info\n   */\n\n\n  var parseByDuration = function parseByDuration(attributes) {\n    var _attributes$type = attributes.type,\n        type = _attributes$type === void 0 ? 'static' : _attributes$type,\n        duration = attributes.duration,\n        _attributes$timescale4 = attributes.timescale,\n        timescale = _attributes$timescale4 === void 0 ? 1 : _attributes$timescale4,\n        sourceDuration = attributes.sourceDuration;\n\n    var _segmentRange$type = segmentRange[type](attributes),\n        start = _segmentRange$type.start,\n        end = _segmentRange$type.end;\n\n    var segments = range(start, end).map(toSegments(attributes));\n\n    if (type === 'static') {\n      var index = segments.length - 1; // final segment may be less than full segment duration\n\n      segments[index].duration = sourceDuration - duration / timescale * index;\n    }\n\n    return segments;\n  };\n\n  var identifierPattern = /\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g;\n  /**\n   * Replaces template identifiers with corresponding values. To be used as the callback\n   * for String.prototype.replace\n   *\n   * @name replaceCallback\n   * @function\n   * @param {string} match\n   *        Entire match of identifier\n   * @param {string} identifier\n   *        Name of matched identifier\n   * @param {string} format\n   *        Format tag string. Its presence indicates that padding is expected\n   * @param {string} width\n   *        Desired length of the replaced value. Values less than this width shall be left\n   *        zero padded\n   * @return {string}\n   *         Replacement for the matched identifier\n   */\n\n  /**\n   * Returns a function to be used as a callback for String.prototype.replace to replace\n   * template identifiers\n   *\n   * @param {Obect} values\n   *        Object containing values that shall be used to replace known identifiers\n   * @param {number} values.RepresentationID\n   *        Value of the Representation@id attribute\n   * @param {number} values.Number\n   *        Number of the corresponding segment\n   * @param {number} values.Bandwidth\n   *        Value of the Representation@bandwidth attribute.\n   * @param {number} values.Time\n   *        Timestamp value of the corresponding segment\n   * @return {replaceCallback}\n   *         Callback to be used with String.prototype.replace to replace identifiers\n   */\n\n  var identifierReplacement = function identifierReplacement(values) {\n    return function (match, identifier, format, width) {\n      if (match === '$$') {\n        // escape sequence\n        return '$';\n      }\n\n      if (typeof values[identifier] === 'undefined') {\n        return match;\n      }\n\n      var value = '' + values[identifier];\n\n      if (identifier === 'RepresentationID') {\n        // Format tag shall not be present with RepresentationID\n        return value;\n      }\n\n      if (!format) {\n        width = 1;\n      } else {\n        width = parseInt(width, 10);\n      }\n\n      if (value.length >= width) {\n        return value;\n      }\n\n      return \"\" + new Array(width - value.length + 1).join('0') + value;\n    };\n  };\n  /**\n   * Constructs a segment url from a template string\n   *\n   * @param {string} url\n   *        Template string to construct url from\n   * @param {Obect} values\n   *        Object containing values that shall be used to replace known identifiers\n   * @param {number} values.RepresentationID\n   *        Value of the Representation@id attribute\n   * @param {number} values.Number\n   *        Number of the corresponding segment\n   * @param {number} values.Bandwidth\n   *        Value of the Representation@bandwidth attribute.\n   * @param {number} values.Time\n   *        Timestamp value of the corresponding segment\n   * @return {string}\n   *         Segment url with identifiers replaced\n   */\n\n\n  var constructTemplateUrl = function constructTemplateUrl(url, values) {\n    return url.replace(identifierPattern, identifierReplacement(values));\n  };\n  /**\n   * Generates a list of objects containing timing and duration information about each\n   * segment needed to generate segment uris and the complete segment object\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {Object[]|undefined} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *        the SegmentTimeline element\n   * @return {{number: number, duration: number, time: number, timeline: number}[]}\n   *         List of Objects with segment timing and duration info\n   */\n\n\n  var parseTemplateInfo = function parseTemplateInfo(attributes, segmentTimeline) {\n    if (!attributes.duration && !segmentTimeline) {\n      // if neither @duration or SegmentTimeline are present, then there shall be exactly\n      // one media segment\n      return [{\n        number: attributes.startNumber || 1,\n        duration: attributes.sourceDuration,\n        time: 0,\n        timeline: attributes.periodIndex\n      }];\n    }\n\n    if (attributes.duration) {\n      return parseByDuration(attributes);\n    }\n\n    return parseByTimeline(attributes, segmentTimeline);\n  };\n  /**\n   * Generates a list of segments using information provided by the SegmentTemplate element\n   *\n   * @param {Object} attributes\n   *        Object containing all inherited attributes from parent elements with attribute\n   *        names as keys\n   * @param {Object[]|undefined} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *        the SegmentTimeline element\n   * @return {Object[]}\n   *         List of segment objects\n   */\n\n\n  var segmentsFromTemplate = function segmentsFromTemplate(attributes, segmentTimeline) {\n    var templateValues = {\n      RepresentationID: attributes.id,\n      Bandwidth: attributes.bandwidth || 0\n    };\n    var _attributes$initializ = attributes.initialization,\n        initialization = _attributes$initializ === void 0 ? {\n      sourceURL: '',\n      range: ''\n    } : _attributes$initializ;\n    var mapSegment = urlTypeToSegment({\n      baseUrl: attributes.baseUrl,\n      source: constructTemplateUrl(initialization.sourceURL, templateValues),\n      range: initialization.range\n    });\n    var segments = parseTemplateInfo(attributes, segmentTimeline);\n    return segments.map(function (segment) {\n      templateValues.Number = segment.number;\n      templateValues.Time = segment.time;\n      var uri = constructTemplateUrl(attributes.media || '', templateValues);\n      return {\n        uri: uri,\n        timeline: segment.timeline,\n        duration: segment.duration,\n        resolvedUri: resolveUrl(attributes.baseUrl || '', uri),\n        map: mapSegment,\n        number: segment.number\n      };\n    });\n  };\n\n  var errors = {\n    INVALID_NUMBER_OF_PERIOD: 'INVALID_NUMBER_OF_PERIOD',\n    DASH_EMPTY_MANIFEST: 'DASH_EMPTY_MANIFEST',\n    DASH_INVALID_XML: 'DASH_INVALID_XML',\n    NO_BASE_URL: 'NO_BASE_URL',\n    MISSING_SEGMENT_INFORMATION: 'MISSING_SEGMENT_INFORMATION',\n    SEGMENT_TIME_UNSPECIFIED: 'SEGMENT_TIME_UNSPECIFIED',\n    UNSUPPORTED_UTC_TIMING_SCHEME: 'UNSUPPORTED_UTC_TIMING_SCHEME'\n  };\n  /**\n   * Converts a <SegmentUrl> (of type URLType from the DASH spec 5.3.9.2 Table 14)\n   * to an object that matches the output of a segment in videojs/mpd-parser\n   *\n   * @param {Object} attributes\n   *   Object containing all inherited attributes from parent elements with attribute\n   *   names as keys\n   * @param {Object} segmentUrl\n   *   <SegmentURL> node to translate into a segment object\n   * @return {Object} translated segment object\n   */\n\n  var SegmentURLToSegmentObject = function SegmentURLToSegmentObject(attributes, segmentUrl) {\n    var baseUrl = attributes.baseUrl,\n        _attributes$initializ = attributes.initialization,\n        initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ;\n    var initSegment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: initialization.sourceURL,\n      range: initialization.range\n    });\n    var segment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: segmentUrl.media,\n      range: segmentUrl.mediaRange\n    });\n    segment.map = initSegment;\n    return segment;\n  };\n  /**\n   * Generates a list of segments using information provided by the SegmentList element\n   * SegmentList (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n   * node should be translated into segment.\n   *\n   * @param {Object} attributes\n   *   Object containing all inherited attributes from parent elements with attribute\n   *   names as keys\n   * @param {Object[]|undefined} segmentTimeline\n   *        List of objects representing the attributes of each S element contained within\n   *        the SegmentTimeline element\n   * @return {Object.<Array>} list of segments\n   */\n\n\n  var segmentsFromList = function segmentsFromList(attributes, segmentTimeline) {\n    var duration = attributes.duration,\n        _attributes$segmentUr = attributes.segmentUrls,\n        segmentUrls = _attributes$segmentUr === void 0 ? [] : _attributes$segmentUr; // Per spec (5.3.9.2.1) no way to determine segment duration OR\n    // if both SegmentTimeline and @duration are defined, it is outside of spec.\n\n    if (!duration && !segmentTimeline || duration && segmentTimeline) {\n      throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);\n    }\n\n    var segmentUrlMap = segmentUrls.map(function (segmentUrlObject) {\n      return SegmentURLToSegmentObject(attributes, segmentUrlObject);\n    });\n    var segmentTimeInfo;\n\n    if (duration) {\n      segmentTimeInfo = parseByDuration(attributes);\n    }\n\n    if (segmentTimeline) {\n      segmentTimeInfo = parseByTimeline(attributes, segmentTimeline);\n    }\n\n    var segments = segmentTimeInfo.map(function (segmentTime, index) {\n      if (segmentUrlMap[index]) {\n        var segment = segmentUrlMap[index];\n        segment.timeline = segmentTime.timeline;\n        segment.duration = segmentTime.duration;\n        segment.number = segmentTime.number;\n        return segment;\n      } // Since we're mapping we should get rid of any blank segments (in case\n      // the given SegmentTimeline is handling for more elements than we have\n      // SegmentURLs for).\n\n    }).filter(function (segment) {\n      return segment;\n    });\n    return segments;\n  };\n  /**\n   * Translates SegmentBase into a set of segments.\n   * (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n   * node should be translated into segment.\n   *\n   * @param {Object} attributes\n   *   Object containing all inherited attributes from parent elements with attribute\n   *   names as keys\n   * @return {Object.<Array>} list of segments\n   */\n\n\n  var segmentsFromBase = function segmentsFromBase(attributes) {\n    var baseUrl = attributes.baseUrl,\n        _attributes$initializ = attributes.initialization,\n        initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ,\n        sourceDuration = attributes.sourceDuration,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        _attributes$indexRang = attributes.indexRange,\n        indexRange = _attributes$indexRang === void 0 ? '' : _attributes$indexRang,\n        duration = attributes.duration; // base url is required for SegmentBase to work, per spec (Section 5.3.9.2.1)\n\n    if (!baseUrl) {\n      throw new Error(errors.NO_BASE_URL);\n    }\n\n    var initSegment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: initialization.sourceURL,\n      range: initialization.range\n    });\n    var segment = urlTypeToSegment({\n      baseUrl: baseUrl,\n      source: baseUrl,\n      range: indexRange\n    });\n    segment.map = initSegment; // If there is a duration, use it, otherwise use the given duration of the source\n    // (since SegmentBase is only for one total segment)\n\n    if (duration) {\n      var segmentTimeInfo = parseByDuration(attributes);\n\n      if (segmentTimeInfo.length) {\n        segment.duration = segmentTimeInfo[0].duration;\n        segment.timeline = segmentTimeInfo[0].timeline;\n      }\n    } else if (sourceDuration) {\n      segment.duration = sourceDuration / timescale;\n      segment.timeline = 0;\n    } // This is used for mediaSequence\n\n\n    segment.number = 0;\n    return [segment];\n  };\n\n  var generateSegments = function generateSegments(_ref) {\n    var attributes = _ref.attributes,\n        segmentInfo = _ref.segmentInfo;\n    var segmentAttributes;\n    var segmentsFn;\n\n    if (segmentInfo.template) {\n      segmentsFn = segmentsFromTemplate;\n      segmentAttributes = merge(attributes, segmentInfo.template);\n    } else if (segmentInfo.base) {\n      segmentsFn = segmentsFromBase;\n      segmentAttributes = merge(attributes, segmentInfo.base);\n    } else if (segmentInfo.list) {\n      segmentsFn = segmentsFromList;\n      segmentAttributes = merge(attributes, segmentInfo.list);\n    }\n\n    if (!segmentsFn) {\n      return {\n        attributes: attributes\n      };\n    }\n\n    var segments = segmentsFn(segmentAttributes, segmentInfo.timeline); // The @duration attribute will be used to determin the playlist's targetDuration which\n    // must be in seconds. Since we've generated the segment list, we no longer need\n    // @duration to be in @timescale units, so we can convert it here.\n\n    if (segmentAttributes.duration) {\n      var _segmentAttributes = segmentAttributes,\n          duration = _segmentAttributes.duration,\n          _segmentAttributes$ti = _segmentAttributes.timescale,\n          timescale = _segmentAttributes$ti === void 0 ? 1 : _segmentAttributes$ti;\n      segmentAttributes.duration = duration / timescale;\n    } else if (segments.length) {\n      // if there is no @duration attribute, use the largest segment duration as\n      // as target duration\n      segmentAttributes.duration = segments.reduce(function (max, segment) {\n        return Math.max(max, Math.ceil(segment.duration));\n      }, 0);\n    } else {\n      segmentAttributes.duration = 0;\n    }\n\n    return {\n      attributes: segmentAttributes,\n      segments: segments\n    };\n  };\n\n  var toPlaylists = function toPlaylists(representations) {\n    return representations.map(generateSegments);\n  };\n\n  var findChildren = function findChildren(element, name) {\n    return from(element.childNodes).filter(function (_ref) {\n      var tagName = _ref.tagName;\n      return tagName === name;\n    });\n  };\n\n  var getContent = function getContent(element) {\n    return element.textContent.trim();\n  };\n\n  var parseDuration = function parseDuration(str) {\n    var SECONDS_IN_YEAR = 365 * 24 * 60 * 60;\n    var SECONDS_IN_MONTH = 30 * 24 * 60 * 60;\n    var SECONDS_IN_DAY = 24 * 60 * 60;\n    var SECONDS_IN_HOUR = 60 * 60;\n    var SECONDS_IN_MIN = 60; // P10Y10M10DT10H10M10.1S\n\n    var durationRegex = /P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/;\n    var match = durationRegex.exec(str);\n\n    if (!match) {\n      return 0;\n    }\n\n    var _match$slice = match.slice(1),\n        year = _match$slice[0],\n        month = _match$slice[1],\n        day = _match$slice[2],\n        hour = _match$slice[3],\n        minute = _match$slice[4],\n        second = _match$slice[5];\n\n    return parseFloat(year || 0) * SECONDS_IN_YEAR + parseFloat(month || 0) * SECONDS_IN_MONTH + parseFloat(day || 0) * SECONDS_IN_DAY + parseFloat(hour || 0) * SECONDS_IN_HOUR + parseFloat(minute || 0) * SECONDS_IN_MIN + parseFloat(second || 0);\n  };\n\n  var parseDate = function parseDate(str) {\n    // Date format without timezone according to ISO 8601\n    // YYY-MM-DDThh:mm:ss.ssssss\n    var dateRegex = /^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/; // If the date string does not specifiy a timezone, we must specifiy UTC. This is\n    // expressed by ending with 'Z'\n\n    if (dateRegex.test(str)) {\n      str += 'Z';\n    }\n\n    return Date.parse(str);\n  };\n\n  var parsers = {\n    /**\n     * Specifies the duration of the entire Media Presentation. Format is a duration string\n     * as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    mediaPresentationDuration: function mediaPresentationDuration(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the Segment availability start time for all Segments referred to in this\n     * MPD. For a dynamic manifest, it specifies the anchor for the earliest availability\n     * time. Format is a date string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The date as seconds from unix epoch\n     */\n    availabilityStartTime: function availabilityStartTime(value) {\n      return parseDate(value) / 1000;\n    },\n\n    /**\n     * Specifies the smallest period between potential changes to the MPD. Format is a\n     * duration string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    minimumUpdatePeriod: function minimumUpdatePeriod(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the duration of the smallest time shifting buffer for any Representation\n     * in the MPD. Format is a duration string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    timeShiftBufferDepth: function timeShiftBufferDepth(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the PeriodStart time of the Period relative to the availabilityStarttime.\n     * Format is a duration string as specified in ISO 8601\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The duration in seconds\n     */\n    start: function start(value) {\n      return parseDuration(value);\n    },\n\n    /**\n     * Specifies the width of the visual presentation\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed width\n     */\n    width: function width(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the height of the visual presentation\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed height\n     */\n    height: function height(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the bitrate of the representation\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed bandwidth\n     */\n    bandwidth: function bandwidth(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the number of the first Media Segment in this Representation in the Period\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed number\n     */\n    startNumber: function startNumber(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the timescale in units per seconds\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The aprsed timescale\n     */\n    timescale: function timescale(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the constant approximate Segment duration\n     * NOTE: The <Period> element also contains an @duration attribute. This duration\n     *       specifies the duration of the Period. This attribute is currently not\n     *       supported by the rest of the parser, however we still check for it to prevent\n     *       errors.\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed duration\n     */\n    duration: function duration(value) {\n      var parsedValue = parseInt(value, 10);\n\n      if (isNaN(parsedValue)) {\n        return parseDuration(value);\n      }\n\n      return parsedValue;\n    },\n\n    /**\n     * Specifies the Segment duration, in units of the value of the @timescale.\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed duration\n     */\n    d: function d(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the MPD start time, in @timescale units, the first Segment in the series\n     * starts relative to the beginning of the Period\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed time\n     */\n    t: function t(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Specifies the repeat count of the number of following contiguous Segments with the\n     * same duration expressed by the value of @d\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {number}\n     *         The parsed number\n     */\n    r: function r(value) {\n      return parseInt(value, 10);\n    },\n\n    /**\n     * Default parser for all other attributes. Acts as a no-op and just returns the value\n     * as a string\n     *\n     * @param {string} value\n     *        value of attribute as a string\n     * @return {string}\n     *         Unparsed value\n     */\n    DEFAULT: function DEFAULT(value) {\n      return value;\n    }\n  };\n  /**\n   * Gets all the attributes and values of the provided node, parses attributes with known\n   * types, and returns an object with attribute names mapped to values.\n   *\n   * @param {Node} el\n   *        The node to parse attributes from\n   * @return {Object}\n   *         Object with all attributes of el parsed\n   */\n\n  var parseAttributes$1 = function parseAttributes(el) {\n    if (!(el && el.attributes)) {\n      return {};\n    }\n\n    return from(el.attributes).reduce(function (a, e) {\n      var parseFn = parsers[e.name] || parsers.DEFAULT;\n      a[e.name] = parseFn(e.value);\n      return a;\n    }, {});\n  };\n\n  function decodeB64ToUint8Array(b64Text) {\n    var decodedString = window$1.atob(b64Text);\n    var array = new Uint8Array(decodedString.length);\n\n    for (var i = 0; i < decodedString.length; i++) {\n      array[i] = decodedString.charCodeAt(i);\n    }\n\n    return array;\n  }\n\n  var keySystemsMap = {\n    'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b': 'org.w3.clearkey',\n    'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed': 'com.widevine.alpha',\n    'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready',\n    'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb': 'com.adobe.primetime'\n  };\n  /**\n   * Builds a list of urls that is the product of the reference urls and BaseURL values\n   *\n   * @param {string[]} referenceUrls\n   *        List of reference urls to resolve to\n   * @param {Node[]} baseUrlElements\n   *        List of BaseURL nodes from the mpd\n   * @return {string[]}\n   *         List of resolved urls\n   */\n\n  var buildBaseUrls = function buildBaseUrls(referenceUrls, baseUrlElements) {\n    if (!baseUrlElements.length) {\n      return referenceUrls;\n    }\n\n    return flatten(referenceUrls.map(function (reference) {\n      return baseUrlElements.map(function (baseUrlElement) {\n        return resolveUrl(reference, getContent(baseUrlElement));\n      });\n    }));\n  };\n  /**\n   * Contains all Segment information for its containing AdaptationSet\n   *\n   * @typedef {Object} SegmentInformation\n   * @property {Object|undefined} template\n   *           Contains the attributes for the SegmentTemplate node\n   * @property {Object[]|undefined} timeline\n   *           Contains a list of atrributes for each S node within the SegmentTimeline node\n   * @property {Object|undefined} list\n   *           Contains the attributes for the SegmentList node\n   * @property {Object|undefined} base\n   *           Contains the attributes for the SegmentBase node\n   */\n\n  /**\n   * Returns all available Segment information contained within the AdaptationSet node\n   *\n   * @param {Node} adaptationSet\n   *        The AdaptationSet node to get Segment information from\n   * @return {SegmentInformation}\n   *         The Segment information contained within the provided AdaptationSet\n   */\n\n\n  var getSegmentInformation = function getSegmentInformation(adaptationSet) {\n    var segmentTemplate = findChildren(adaptationSet, 'SegmentTemplate')[0];\n    var segmentList = findChildren(adaptationSet, 'SegmentList')[0];\n    var segmentUrls = segmentList && findChildren(segmentList, 'SegmentURL').map(function (s) {\n      return merge({\n        tag: 'SegmentURL'\n      }, parseAttributes$1(s));\n    });\n    var segmentBase = findChildren(adaptationSet, 'SegmentBase')[0];\n    var segmentTimelineParentNode = segmentList || segmentTemplate;\n    var segmentTimeline = segmentTimelineParentNode && findChildren(segmentTimelineParentNode, 'SegmentTimeline')[0];\n    var segmentInitializationParentNode = segmentList || segmentBase || segmentTemplate;\n    var segmentInitialization = segmentInitializationParentNode && findChildren(segmentInitializationParentNode, 'Initialization')[0]; // SegmentTemplate is handled slightly differently, since it can have both\n    // @initialization and an <Initialization> node.  @initialization can be templated,\n    // while the node can have a url and range specified.  If the <SegmentTemplate> has\n    // both @initialization and an <Initialization> subelement we opt to override with\n    // the node, as this interaction is not defined in the spec.\n\n    var template = segmentTemplate && parseAttributes$1(segmentTemplate);\n\n    if (template && segmentInitialization) {\n      template.initialization = segmentInitialization && parseAttributes$1(segmentInitialization);\n    } else if (template && template.initialization) {\n      // If it is @initialization we convert it to an object since this is the format that\n      // later functions will rely on for the initialization segment.  This is only valid\n      // for <SegmentTemplate>\n      template.initialization = {\n        sourceURL: template.initialization\n      };\n    }\n\n    var segmentInfo = {\n      template: template,\n      timeline: segmentTimeline && findChildren(segmentTimeline, 'S').map(function (s) {\n        return parseAttributes$1(s);\n      }),\n      list: segmentList && merge(parseAttributes$1(segmentList), {\n        segmentUrls: segmentUrls,\n        initialization: parseAttributes$1(segmentInitialization)\n      }),\n      base: segmentBase && merge(parseAttributes$1(segmentBase), {\n        initialization: parseAttributes$1(segmentInitialization)\n      })\n    };\n    Object.keys(segmentInfo).forEach(function (key) {\n      if (!segmentInfo[key]) {\n        delete segmentInfo[key];\n      }\n    });\n    return segmentInfo;\n  };\n  /**\n   * Contains Segment information and attributes needed to construct a Playlist object\n   * from a Representation\n   *\n   * @typedef {Object} RepresentationInformation\n   * @property {SegmentInformation} segmentInfo\n   *           Segment information for this Representation\n   * @property {Object} attributes\n   *           Inherited attributes for this Representation\n   */\n\n  /**\n   * Maps a Representation node to an object containing Segment information and attributes\n   *\n   * @name inheritBaseUrlsCallback\n   * @function\n   * @param {Node} representation\n   *        Representation node from the mpd\n   * @return {RepresentationInformation}\n   *         Representation information needed to construct a Playlist object\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping Representation nodes to\n   * Segment information and attributes using inherited BaseURL nodes.\n   *\n   * @param {Object} adaptationSetAttributes\n   *        Contains attributes inherited by the AdaptationSet\n   * @param {string[]} adaptationSetBaseUrls\n   *        Contains list of resolved base urls inherited by the AdaptationSet\n   * @param {SegmentInformation} adaptationSetSegmentInfo\n   *        Contains Segment information for the AdaptationSet\n   * @return {inheritBaseUrlsCallback}\n   *         Callback map function\n   */\n\n\n  var inheritBaseUrls = function inheritBaseUrls(adaptationSetAttributes, adaptationSetBaseUrls, adaptationSetSegmentInfo) {\n    return function (representation) {\n      var repBaseUrlElements = findChildren(representation, 'BaseURL');\n      var repBaseUrls = buildBaseUrls(adaptationSetBaseUrls, repBaseUrlElements);\n      var attributes = merge(adaptationSetAttributes, parseAttributes$1(representation));\n      var representationSegmentInfo = getSegmentInformation(representation);\n      return repBaseUrls.map(function (baseUrl) {\n        return {\n          segmentInfo: merge(adaptationSetSegmentInfo, representationSegmentInfo),\n          attributes: merge(attributes, {\n            baseUrl: baseUrl\n          })\n        };\n      });\n    };\n  };\n  /**\n   * Tranforms a series of content protection nodes to\n   * an object containing pssh data by key system\n   *\n   * @param {Node[]} contentProtectionNodes\n   *        Content protection nodes\n   * @return {Object}\n   *        Object containing pssh data by key system\n   */\n\n\n  var generateKeySystemInformation = function generateKeySystemInformation(contentProtectionNodes) {\n    return contentProtectionNodes.reduce(function (acc, node) {\n      var attributes = parseAttributes$1(node);\n      var keySystem = keySystemsMap[attributes.schemeIdUri];\n\n      if (keySystem) {\n        acc[keySystem] = {\n          attributes: attributes\n        };\n        var psshNode = findChildren(node, 'cenc:pssh')[0];\n\n        if (psshNode) {\n          var pssh = getContent(psshNode);\n          var psshBuffer = pssh && decodeB64ToUint8Array(pssh);\n          acc[keySystem].pssh = psshBuffer;\n        }\n      }\n\n      return acc;\n    }, {});\n  };\n  /**\n   * Maps an AdaptationSet node to a list of Representation information objects\n   *\n   * @name toRepresentationsCallback\n   * @function\n   * @param {Node} adaptationSet\n   *        AdaptationSet node from the mpd\n   * @return {RepresentationInformation[]}\n   *         List of objects containing Representaion information\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping AdaptationSet nodes to a list of\n   * Representation information objects\n   *\n   * @param {Object} periodAttributes\n   *        Contains attributes inherited by the Period\n   * @param {string[]} periodBaseUrls\n   *        Contains list of resolved base urls inherited by the Period\n   * @param {string[]} periodSegmentInfo\n   *        Contains Segment Information at the period level\n   * @return {toRepresentationsCallback}\n   *         Callback map function\n   */\n\n\n  var toRepresentations = function toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo) {\n    return function (adaptationSet) {\n      var adaptationSetAttributes = parseAttributes$1(adaptationSet);\n      var adaptationSetBaseUrls = buildBaseUrls(periodBaseUrls, findChildren(adaptationSet, 'BaseURL'));\n      var role = findChildren(adaptationSet, 'Role')[0];\n      var roleAttributes = {\n        role: parseAttributes$1(role)\n      };\n      var attrs = merge(periodAttributes, adaptationSetAttributes, roleAttributes);\n      var contentProtection = generateKeySystemInformation(findChildren(adaptationSet, 'ContentProtection'));\n\n      if (Object.keys(contentProtection).length) {\n        attrs = merge(attrs, {\n          contentProtection: contentProtection\n        });\n      }\n\n      var segmentInfo = getSegmentInformation(adaptationSet);\n      var representations = findChildren(adaptationSet, 'Representation');\n      var adaptationSetSegmentInfo = merge(periodSegmentInfo, segmentInfo);\n      return flatten(representations.map(inheritBaseUrls(attrs, adaptationSetBaseUrls, adaptationSetSegmentInfo)));\n    };\n  };\n  /**\n   * Maps an Period node to a list of Representation inforamtion objects for all\n   * AdaptationSet nodes contained within the Period\n   *\n   * @name toAdaptationSetsCallback\n   * @function\n   * @param {Node} period\n   *        Period node from the mpd\n   * @param {number} periodIndex\n   *        Index of the Period within the mpd\n   * @return {RepresentationInformation[]}\n   *         List of objects containing Representaion information\n   */\n\n  /**\n   * Returns a callback for Array.prototype.map for mapping Period nodes to a list of\n   * Representation information objects\n   *\n   * @param {Object} mpdAttributes\n   *        Contains attributes inherited by the mpd\n   * @param {string[]} mpdBaseUrls\n   *        Contains list of resolved base urls inherited by the mpd\n   * @return {toAdaptationSetsCallback}\n   *         Callback map function\n   */\n\n\n  var toAdaptationSets = function toAdaptationSets(mpdAttributes, mpdBaseUrls) {\n    return function (period, index) {\n      var periodBaseUrls = buildBaseUrls(mpdBaseUrls, findChildren(period, 'BaseURL'));\n      var periodAtt = parseAttributes$1(period);\n      var parsedPeriodId = parseInt(periodAtt.id, 10); // fallback to mapping index if Period@id is not a number\n\n      var periodIndex = window$1.isNaN(parsedPeriodId) ? index : parsedPeriodId;\n      var periodAttributes = merge(mpdAttributes, {\n        periodIndex: periodIndex\n      });\n      var adaptationSets = findChildren(period, 'AdaptationSet');\n      var periodSegmentInfo = getSegmentInformation(period);\n      return flatten(adaptationSets.map(toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo)));\n    };\n  };\n  /**\n   * Traverses the mpd xml tree to generate a list of Representation information objects\n   * that have inherited attributes from parent nodes\n   *\n   * @param {Node} mpd\n   *        The root node of the mpd\n   * @param {Object} options\n   *        Available options for inheritAttributes\n   * @param {string} options.manifestUri\n   *        The uri source of the mpd\n   * @param {number} options.NOW\n   *        Current time per DASH IOP.  Default is current time in ms since epoch\n   * @param {number} options.clientOffset\n   *        Client time difference from NOW (in milliseconds)\n   * @return {RepresentationInformation[]}\n   *         List of objects containing Representation information\n   */\n\n\n  var inheritAttributes = function inheritAttributes(mpd, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    var _options = options,\n        _options$manifestUri = _options.manifestUri,\n        manifestUri = _options$manifestUri === void 0 ? '' : _options$manifestUri,\n        _options$NOW = _options.NOW,\n        NOW = _options$NOW === void 0 ? Date.now() : _options$NOW,\n        _options$clientOffset = _options.clientOffset,\n        clientOffset = _options$clientOffset === void 0 ? 0 : _options$clientOffset;\n    var periods = findChildren(mpd, 'Period');\n\n    if (!periods.length) {\n      throw new Error(errors.INVALID_NUMBER_OF_PERIOD);\n    }\n\n    var mpdAttributes = parseAttributes$1(mpd);\n    var mpdBaseUrls = buildBaseUrls([manifestUri], findChildren(mpd, 'BaseURL'));\n    mpdAttributes.sourceDuration = mpdAttributes.mediaPresentationDuration || 0;\n    mpdAttributes.NOW = NOW;\n    mpdAttributes.clientOffset = clientOffset;\n    return flatten(periods.map(toAdaptationSets(mpdAttributes, mpdBaseUrls)));\n  };\n\n  var stringToMpdXml = function stringToMpdXml(manifestString) {\n    if (manifestString === '') {\n      throw new Error(errors.DASH_EMPTY_MANIFEST);\n    }\n\n    var parser = new window$1.DOMParser();\n    var xml = parser.parseFromString(manifestString, 'application/xml');\n    var mpd = xml && xml.documentElement.tagName === 'MPD' ? xml.documentElement : null;\n\n    if (!mpd || mpd && mpd.getElementsByTagName('parsererror').length > 0) {\n      throw new Error(errors.DASH_INVALID_XML);\n    }\n\n    return mpd;\n  };\n  /**\n   * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n   *\n   * @param {string} mpd\n   *        XML string of the MPD manifest\n   * @return {Object|null}\n   *         Attributes of UTCTiming node specified in the manifest. Null if none found\n   */\n\n\n  var parseUTCTimingScheme = function parseUTCTimingScheme(mpd) {\n    var UTCTimingNode = findChildren(mpd, 'UTCTiming')[0];\n\n    if (!UTCTimingNode) {\n      return null;\n    }\n\n    var attributes = parseAttributes$1(UTCTimingNode);\n\n    switch (attributes.schemeIdUri) {\n      case 'urn:mpeg:dash:utc:http-head:2014':\n      case 'urn:mpeg:dash:utc:http-head:2012':\n        attributes.method = 'HEAD';\n        break;\n\n      case 'urn:mpeg:dash:utc:http-xsdate:2014':\n      case 'urn:mpeg:dash:utc:http-iso:2014':\n      case 'urn:mpeg:dash:utc:http-xsdate:2012':\n      case 'urn:mpeg:dash:utc:http-iso:2012':\n        attributes.method = 'GET';\n        break;\n\n      case 'urn:mpeg:dash:utc:direct:2014':\n      case 'urn:mpeg:dash:utc:direct:2012':\n        attributes.method = 'DIRECT';\n        attributes.value = Date.parse(attributes.value);\n        break;\n\n      case 'urn:mpeg:dash:utc:http-ntp:2014':\n      case 'urn:mpeg:dash:utc:ntp:2014':\n      case 'urn:mpeg:dash:utc:sntp:2014':\n      default:\n        throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME);\n    }\n\n    return attributes;\n  };\n\n  var parse = function parse(manifestString, options) {\n    return toM3u8(toPlaylists(inheritAttributes(stringToMpdXml(manifestString), options)));\n  };\n  /**\n   * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n   *\n   * @param {string} manifestString\n   *        XML string of the MPD manifest\n   * @return {Object|null}\n   *         Attributes of UTCTiming node specified in the manifest. Null if none found\n   */\n\n\n  var parseUTCTiming = function parseUTCTiming(manifestString) {\n    return parseUTCTimingScheme(stringToMpdXml(manifestString));\n  };\n\n  var toUnsigned = function toUnsigned(value) {\n    return value >>> 0;\n  };\n\n  var bin = {\n    toUnsigned: toUnsigned\n  };\n\n  var toUnsigned$1 = bin.toUnsigned;\n\n  var _findBox, parseType, timescale, startTime, getVideoTrackIds; // Find the data for a box specified by its path\n\n\n  _findBox = function findBox(data, path) {\n    var results = [],\n        i,\n        size,\n        type,\n        end,\n        subresults;\n\n    if (!path.length) {\n      // short-circuit the search for empty paths\n      return null;\n    }\n\n    for (i = 0; i < data.byteLength;) {\n      size = toUnsigned$1(data[i] << 24 | data[i + 1] << 16 | data[i + 2] << 8 | data[i + 3]);\n      type = parseType(data.subarray(i + 4, i + 8));\n      end = size > 1 ? i + size : data.byteLength;\n\n      if (type === path[0]) {\n        if (path.length === 1) {\n          // this is the end of the path and we've found the box we were\n          // looking for\n          results.push(data.subarray(i + 8, end));\n        } else {\n          // recursively search for the next box along the path\n          subresults = _findBox(data.subarray(i + 8, end), path.slice(1));\n\n          if (subresults.length) {\n            results = results.concat(subresults);\n          }\n        }\n      }\n\n      i = end;\n    } // we've finished searching all of data\n\n\n    return results;\n  };\n  /**\n   * Returns the string representation of an ASCII encoded four byte buffer.\n   * @param buffer {Uint8Array} a four-byte buffer to translate\n   * @return {string} the corresponding string\n   */\n\n\n  parseType = function parseType(buffer) {\n    var result = '';\n    result += String.fromCharCode(buffer[0]);\n    result += String.fromCharCode(buffer[1]);\n    result += String.fromCharCode(buffer[2]);\n    result += String.fromCharCode(buffer[3]);\n    return result;\n  };\n  /**\n   * Parses an MP4 initialization segment and extracts the timescale\n   * values for any declared tracks. Timescale values indicate the\n   * number of clock ticks per second to assume for time-based values\n   * elsewhere in the MP4.\n   *\n   * To determine the start time of an MP4, you need two pieces of\n   * information: the timescale unit and the earliest base media decode\n   * time. Multiple timescales can be specified within an MP4 but the\n   * base media decode time is always expressed in the timescale from\n   * the media header box for the track:\n   * ```\n   * moov > trak > mdia > mdhd.timescale\n   * ```\n   * @param init {Uint8Array} the bytes of the init segment\n   * @return {object} a hash of track ids to timescale values or null if\n   * the init segment is malformed.\n   */\n\n\n  timescale = function timescale(init) {\n    var result = {},\n        traks = _findBox(init, ['moov', 'trak']); // mdhd timescale\n\n\n    return traks.reduce(function (result, trak) {\n      var tkhd, version, index, id, mdhd;\n      tkhd = _findBox(trak, ['tkhd'])[0];\n\n      if (!tkhd) {\n        return null;\n      }\n\n      version = tkhd[0];\n      index = version === 0 ? 12 : 20;\n      id = toUnsigned$1(tkhd[index] << 24 | tkhd[index + 1] << 16 | tkhd[index + 2] << 8 | tkhd[index + 3]);\n      mdhd = _findBox(trak, ['mdia', 'mdhd'])[0];\n\n      if (!mdhd) {\n        return null;\n      }\n\n      version = mdhd[0];\n      index = version === 0 ? 12 : 20;\n      result[id] = toUnsigned$1(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n      return result;\n    }, result);\n  };\n  /**\n   * Determine the base media decode start time, in seconds, for an MP4\n   * fragment. If multiple fragments are specified, the earliest time is\n   * returned.\n   *\n   * The base media decode time can be parsed from track fragment\n   * metadata:\n   * ```\n   * moof > traf > tfdt.baseMediaDecodeTime\n   * ```\n   * It requires the timescale value from the mdhd to interpret.\n   *\n   * @param timescale {object} a hash of track ids to timescale values.\n   * @return {number} the earliest base media decode start time for the\n   * fragment, in seconds\n   */\n\n\n  startTime = function startTime(timescale, fragment) {\n    var trafs, baseTimes, result; // we need info from two childrend of each track fragment box\n\n    trafs = _findBox(fragment, ['moof', 'traf']); // determine the start times for each track\n\n    baseTimes = [].concat.apply([], trafs.map(function (traf) {\n      return _findBox(traf, ['tfhd']).map(function (tfhd) {\n        var id, scale, baseTime; // get the track id from the tfhd\n\n        id = toUnsigned$1(tfhd[4] << 24 | tfhd[5] << 16 | tfhd[6] << 8 | tfhd[7]); // assume a 90kHz clock if no timescale was specified\n\n        scale = timescale[id] || 90e3; // get the base media decode time from the tfdt\n\n        baseTime = _findBox(traf, ['tfdt']).map(function (tfdt) {\n          var version, result;\n          version = tfdt[0];\n          result = toUnsigned$1(tfdt[4] << 24 | tfdt[5] << 16 | tfdt[6] << 8 | tfdt[7]);\n\n          if (version === 1) {\n            result *= Math.pow(2, 32);\n            result += toUnsigned$1(tfdt[8] << 24 | tfdt[9] << 16 | tfdt[10] << 8 | tfdt[11]);\n          }\n\n          return result;\n        })[0];\n        baseTime = baseTime || Infinity; // convert base time to seconds\n\n        return baseTime / scale;\n      });\n    })); // return the minimum\n\n    result = Math.min.apply(null, baseTimes);\n    return isFinite(result) ? result : 0;\n  };\n  /**\n    * Find the trackIds of the video tracks in this source.\n    * Found by parsing the Handler Reference and Track Header Boxes:\n    *   moov > trak > mdia > hdlr\n    *   moov > trak > tkhd\n    *\n    * @param {Uint8Array} init - The bytes of the init segment for this source\n    * @return {Number[]} A list of trackIds\n    *\n    * @see ISO-BMFF-12/2015, Section 8.4.3\n   **/\n\n\n  getVideoTrackIds = function getVideoTrackIds(init) {\n    var traks = _findBox(init, ['moov', 'trak']);\n\n    var videoTrackIds = [];\n    traks.forEach(function (trak) {\n      var hdlrs = _findBox(trak, ['mdia', 'hdlr']);\n\n      var tkhds = _findBox(trak, ['tkhd']);\n\n      hdlrs.forEach(function (hdlr, index) {\n        var handlerType = parseType(hdlr.subarray(8, 12));\n        var tkhd = tkhds[index];\n        var view;\n        var version;\n        var trackId;\n\n        if (handlerType === 'vide') {\n          view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n          version = view.getUint8(0);\n          trackId = version === 0 ? view.getUint32(12) : view.getUint32(20);\n          videoTrackIds.push(trackId);\n        }\n      });\n    });\n    return videoTrackIds;\n  };\n\n  var probe = {\n    findBox: _findBox,\n    parseType: parseType,\n    timescale: timescale,\n    startTime: startTime,\n    videoTrackIds: getVideoTrackIds\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * Functions that generate fragmented MP4s suitable for use with Media\n   * Source Extensions.\n   */\n\n  var UINT32_MAX = Math.pow(2, 32) - 1;\n  var box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd, trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex, trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR, AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS; // pre-calculate constants\n\n  (function () {\n    var i;\n    types = {\n      avc1: [],\n      // codingname\n      avcC: [],\n      btrt: [],\n      dinf: [],\n      dref: [],\n      esds: [],\n      ftyp: [],\n      hdlr: [],\n      mdat: [],\n      mdhd: [],\n      mdia: [],\n      mfhd: [],\n      minf: [],\n      moof: [],\n      moov: [],\n      mp4a: [],\n      // codingname\n      mvex: [],\n      mvhd: [],\n      sdtp: [],\n      smhd: [],\n      stbl: [],\n      stco: [],\n      stsc: [],\n      stsd: [],\n      stsz: [],\n      stts: [],\n      styp: [],\n      tfdt: [],\n      tfhd: [],\n      traf: [],\n      trak: [],\n      trun: [],\n      trex: [],\n      tkhd: [],\n      vmhd: []\n    }; // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\n    // don't throw an error\n\n    if (typeof Uint8Array === 'undefined') {\n      return;\n    }\n\n    for (i in types) {\n      if (types.hasOwnProperty(i)) {\n        types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];\n      }\n    }\n\n    MAJOR_BRAND = new Uint8Array(['i'.charCodeAt(0), 's'.charCodeAt(0), 'o'.charCodeAt(0), 'm'.charCodeAt(0)]);\n    AVC1_BRAND = new Uint8Array(['a'.charCodeAt(0), 'v'.charCodeAt(0), 'c'.charCodeAt(0), '1'.charCodeAt(0)]);\n    MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\n    VIDEO_HDLR = new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x00, // pre_defined\n    0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n    ]);\n    AUDIO_HDLR = new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x00, // pre_defined\n    0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n    ]);\n    HDLR_TYPES = {\n      video: VIDEO_HDLR,\n      audio: AUDIO_HDLR\n    };\n    DREF = new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x01, // entry_count\n    0x00, 0x00, 0x00, 0x0c, // entry_size\n    0x75, 0x72, 0x6c, 0x20, // 'url' type\n    0x00, // version 0\n    0x00, 0x00, 0x01 // entry_flags\n    ]);\n    SMHD = new Uint8Array([0x00, // version\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, // balance, 0 means centered\n    0x00, 0x00 // reserved\n    ]);\n    STCO = new Uint8Array([0x00, // version\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x00 // entry_count\n    ]);\n    STSC = STCO;\n    STSZ = new Uint8Array([0x00, // version\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x00, // sample_size\n    0x00, 0x00, 0x00, 0x00 // sample_count\n    ]);\n    STTS = STCO;\n    VMHD = new Uint8Array([0x00, // version\n    0x00, 0x00, 0x01, // flags\n    0x00, 0x00, // graphicsmode\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00 // opcolor\n    ]);\n  })();\n\n  box = function box(type) {\n    var payload = [],\n        size = 0,\n        i,\n        result,\n        view;\n\n    for (i = 1; i < arguments.length; i++) {\n      payload.push(arguments[i]);\n    }\n\n    i = payload.length; // calculate the total size we need to allocate\n\n    while (i--) {\n      size += payload[i].byteLength;\n    }\n\n    result = new Uint8Array(size + 8);\n    view = new DataView(result.buffer, result.byteOffset, result.byteLength);\n    view.setUint32(0, result.byteLength);\n    result.set(type, 4); // copy the payload into the result\n\n    for (i = 0, size = 8; i < payload.length; i++) {\n      result.set(payload[i], size);\n      size += payload[i].byteLength;\n    }\n\n    return result;\n  };\n\n  dinf = function dinf() {\n    return box(types.dinf, box(types.dref, DREF));\n  };\n\n  esds = function esds(track) {\n    return box(types.esds, new Uint8Array([0x00, // version\n    0x00, 0x00, 0x00, // flags\n    // ES_Descriptor\n    0x03, // tag, ES_DescrTag\n    0x19, // length\n    0x00, 0x00, // ES_ID\n    0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\n    // DecoderConfigDescriptor\n    0x04, // tag, DecoderConfigDescrTag\n    0x11, // length\n    0x40, // object type\n    0x15, // streamType\n    0x00, 0x06, 0x00, // bufferSizeDB\n    0x00, 0x00, 0xda, 0xc0, // maxBitrate\n    0x00, 0x00, 0xda, 0xc0, // avgBitrate\n    // DecoderSpecificInfo\n    0x05, // tag, DecoderSpecificInfoTag\n    0x02, // length\n    // ISO/IEC 14496-3, AudioSpecificConfig\n    // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\n    track.audioobjecttype << 3 | track.samplingfrequencyindex >>> 1, track.samplingfrequencyindex << 7 | track.channelcount << 3, 0x06, 0x01, 0x02 // GASpecificConfig\n    ]));\n  };\n\n  ftyp = function ftyp() {\n    return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\n  };\n\n  hdlr = function hdlr(type) {\n    return box(types.hdlr, HDLR_TYPES[type]);\n  };\n\n  mdat = function mdat(data) {\n    return box(types.mdat, data);\n  };\n\n  mdhd = function mdhd(track) {\n    var result = new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x02, // creation_time\n    0x00, 0x00, 0x00, 0x03, // modification_time\n    0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n    track.duration >>> 24 & 0xFF, track.duration >>> 16 & 0xFF, track.duration >>> 8 & 0xFF, track.duration & 0xFF, // duration\n    0x55, 0xc4, // 'und' language (undetermined)\n    0x00, 0x00]); // Use the sample rate from the track metadata, when it is\n    // defined. The sample rate can be parsed out of an ADTS header, for\n    // instance.\n\n    if (track.samplerate) {\n      result[12] = track.samplerate >>> 24 & 0xFF;\n      result[13] = track.samplerate >>> 16 & 0xFF;\n      result[14] = track.samplerate >>> 8 & 0xFF;\n      result[15] = track.samplerate & 0xFF;\n    }\n\n    return box(types.mdhd, result);\n  };\n\n  mdia = function mdia(track) {\n    return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\n  };\n\n  mfhd = function mfhd(sequenceNumber) {\n    return box(types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // flags\n    (sequenceNumber & 0xFF000000) >> 24, (sequenceNumber & 0xFF0000) >> 16, (sequenceNumber & 0xFF00) >> 8, sequenceNumber & 0xFF // sequence_number\n    ]));\n  };\n\n  minf = function minf(track) {\n    return box(types.minf, track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD), dinf(), stbl(track));\n  };\n\n  moof = function moof(sequenceNumber, tracks) {\n    var trackFragments = [],\n        i = tracks.length; // build traf boxes for each track fragment\n\n    while (i--) {\n      trackFragments[i] = traf(tracks[i]);\n    }\n\n    return box.apply(null, [types.moof, mfhd(sequenceNumber)].concat(trackFragments));\n  };\n  /**\n   * Returns a movie box.\n   * @param tracks {array} the tracks associated with this movie\n   * @see ISO/IEC 14496-12:2012(E), section 8.2.1\n   */\n\n\n  moov = function moov(tracks) {\n    var i = tracks.length,\n        boxes = [];\n\n    while (i--) {\n      boxes[i] = trak(tracks[i]);\n    }\n\n    return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\n  };\n\n  mvex = function mvex(tracks) {\n    var i = tracks.length,\n        boxes = [];\n\n    while (i--) {\n      boxes[i] = trex(tracks[i]);\n    }\n\n    return box.apply(null, [types.mvex].concat(boxes));\n  };\n\n  mvhd = function mvhd(duration) {\n    var bytes = new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x00, // flags\n    0x00, 0x00, 0x00, 0x01, // creation_time\n    0x00, 0x00, 0x00, 0x02, // modification_time\n    0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n    (duration & 0xFF000000) >> 24, (duration & 0xFF0000) >> 16, (duration & 0xFF00) >> 8, duration & 0xFF, // duration\n    0x00, 0x01, 0x00, 0x00, // 1.0 rate\n    0x01, 0x00, // 1.0 volume\n    0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n    0xff, 0xff, 0xff, 0xff // next_track_ID\n    ]);\n    return box(types.mvhd, bytes);\n  };\n\n  sdtp = function sdtp(track) {\n    var samples = track.samples || [],\n        bytes = new Uint8Array(4 + samples.length),\n        flags,\n        i; // leave the full box header (4 bytes) all zero\n    // write the sample table\n\n    for (i = 0; i < samples.length; i++) {\n      flags = samples[i].flags;\n      bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;\n    }\n\n    return box(types.sdtp, bytes);\n  };\n\n  stbl = function stbl(track) {\n    return box(types.stbl, stsd(track), box(types.stts, STTS), box(types.stsc, STSC), box(types.stsz, STSZ), box(types.stco, STCO));\n  };\n\n  (function () {\n    var videoSample, audioSample;\n\n    stsd = function stsd(track) {\n      return box(types.stsd, new Uint8Array([0x00, // version 0\n      0x00, 0x00, 0x00, // flags\n      0x00, 0x00, 0x00, 0x01]), track.type === 'video' ? videoSample(track) : audioSample(track));\n    };\n\n    videoSample = function videoSample(track) {\n      var sps = track.sps || [],\n          pps = track.pps || [],\n          sequenceParameterSets = [],\n          pictureParameterSets = [],\n          i; // assemble the SPSs\n\n      for (i = 0; i < sps.length; i++) {\n        sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\n        sequenceParameterSets.push(sps[i].byteLength & 0xFF); // sequenceParameterSetLength\n\n        sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\n      } // assemble the PPSs\n\n\n      for (i = 0; i < pps.length; i++) {\n        pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\n        pictureParameterSets.push(pps[i].byteLength & 0xFF);\n        pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\n      }\n\n      return box(types.avc1, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // data_reference_index\n      0x00, 0x00, // pre_defined\n      0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n      (track.width & 0xff00) >> 8, track.width & 0xff, // width\n      (track.height & 0xff00) >> 8, track.height & 0xff, // height\n      0x00, 0x48, 0x00, 0x00, // horizresolution\n      0x00, 0x48, 0x00, 0x00, // vertresolution\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // frame_count\n      0x13, 0x76, 0x69, 0x64, 0x65, 0x6f, 0x6a, 0x73, 0x2d, 0x63, 0x6f, 0x6e, 0x74, 0x72, 0x69, 0x62, 0x2d, 0x68, 0x6c, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // compressorname\n      0x00, 0x18, // depth = 24\n      0x11, 0x11 // pre_defined = -1\n      ]), box(types.avcC, new Uint8Array([0x01, // configurationVersion\n      track.profileIdc, // AVCProfileIndication\n      track.profileCompatibility, // profile_compatibility\n      track.levelIdc, // AVCLevelIndication\n      0xff // lengthSizeMinusOne, hard-coded to 4 bytes\n      ].concat([sps.length // numOfSequenceParameterSets\n      ]).concat(sequenceParameterSets).concat([pps.length // numOfPictureParameterSets\n      ]).concat(pictureParameterSets))), // \"PPS\"\n      box(types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n      0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n      0x00, 0x2d, 0xc6, 0xc0])) // avgBitrate\n      );\n    };\n\n    audioSample = function audioSample(track) {\n      return box(types.mp4a, new Uint8Array([// SampleEntry, ISO/IEC 14496-12\n      0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x01, // data_reference_index\n      // AudioSampleEntry, ISO/IEC 14496-12\n      0x00, 0x00, 0x00, 0x00, // reserved\n      0x00, 0x00, 0x00, 0x00, // reserved\n      (track.channelcount & 0xff00) >> 8, track.channelcount & 0xff, // channelcount\n      (track.samplesize & 0xff00) >> 8, track.samplesize & 0xff, // samplesize\n      0x00, 0x00, // pre_defined\n      0x00, 0x00, // reserved\n      (track.samplerate & 0xff00) >> 8, track.samplerate & 0xff, 0x00, 0x00 // samplerate, 16.16\n      // MP4AudioSampleEntry, ISO/IEC 14496-14\n      ]), esds(track));\n    };\n  })();\n\n  tkhd = function tkhd(track) {\n    var result = new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x07, // flags\n    0x00, 0x00, 0x00, 0x00, // creation_time\n    0x00, 0x00, 0x00, 0x00, // modification_time\n    (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n    0x00, 0x00, 0x00, 0x00, // reserved\n    (track.duration & 0xFF000000) >> 24, (track.duration & 0xFF0000) >> 16, (track.duration & 0xFF00) >> 8, track.duration & 0xFF, // duration\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n    0x00, 0x00, // layer\n    0x00, 0x00, // alternate_group\n    0x01, 0x00, // non-audio track volume\n    0x00, 0x00, // reserved\n    0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n    (track.width & 0xFF00) >> 8, track.width & 0xFF, 0x00, 0x00, // width\n    (track.height & 0xFF00) >> 8, track.height & 0xFF, 0x00, 0x00 // height\n    ]);\n    return box(types.tkhd, result);\n  };\n  /**\n   * Generate a track fragment (traf) box. A traf box collects metadata\n   * about tracks in a movie fragment (moof) box.\n   */\n\n\n  traf = function traf(track) {\n    var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable, dataOffset, upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\n    trackFragmentHeader = box(types.tfhd, new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x3a, // flags\n    (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n    0x00, 0x00, 0x00, 0x01, // sample_description_index\n    0x00, 0x00, 0x00, 0x00, // default_sample_duration\n    0x00, 0x00, 0x00, 0x00, // default_sample_size\n    0x00, 0x00, 0x00, 0x00 // default_sample_flags\n    ]));\n    upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\n    lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\n    trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([0x01, // version 1\n    0x00, 0x00, 0x00, // flags\n    // baseMediaDecodeTime\n    upperWordBaseMediaDecodeTime >>> 24 & 0xFF, upperWordBaseMediaDecodeTime >>> 16 & 0xFF, upperWordBaseMediaDecodeTime >>> 8 & 0xFF, upperWordBaseMediaDecodeTime & 0xFF, lowerWordBaseMediaDecodeTime >>> 24 & 0xFF, lowerWordBaseMediaDecodeTime >>> 16 & 0xFF, lowerWordBaseMediaDecodeTime >>> 8 & 0xFF, lowerWordBaseMediaDecodeTime & 0xFF])); // the data offset specifies the number of bytes from the start of\n    // the containing moof to the first payload byte of the associated\n    // mdat\n\n    dataOffset = 32 + // tfhd\n    20 + // tfdt\n    8 + // traf header\n    16 + // mfhd\n    8 + // moof header\n    8; // mdat header\n    // audio tracks require less metadata\n\n    if (track.type === 'audio') {\n      trackFragmentRun = trun(track, dataOffset);\n      return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun);\n    } // video tracks should contain an independent and disposable samples\n    // box (sdtp)\n    // generate one and adjust offsets to match\n\n\n    sampleDependencyTable = sdtp(track);\n    trackFragmentRun = trun(track, sampleDependencyTable.length + dataOffset);\n    return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable);\n  };\n  /**\n   * Generate a track box.\n   * @param track {object} a track definition\n   * @return {Uint8Array} the track box\n   */\n\n\n  trak = function trak(track) {\n    track.duration = track.duration || 0xffffffff;\n    return box(types.trak, tkhd(track), mdia(track));\n  };\n\n  trex = function trex(track) {\n    var result = new Uint8Array([0x00, // version 0\n    0x00, 0x00, 0x00, // flags\n    (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n    0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n    0x00, 0x00, 0x00, 0x00, // default_sample_duration\n    0x00, 0x00, 0x00, 0x00, // default_sample_size\n    0x00, 0x01, 0x00, 0x01 // default_sample_flags\n    ]); // the last two bytes of default_sample_flags is the sample\n    // degradation priority, a hint about the importance of this sample\n    // relative to others. Lower the degradation priority for all sample\n    // types other than video.\n\n    if (track.type !== 'video') {\n      result[result.length - 1] = 0x00;\n    }\n\n    return box(types.trex, result);\n  };\n\n  (function () {\n    var audioTrun, videoTrun, trunHeader; // This method assumes all samples are uniform. That is, if a\n    // duration is present for the first sample, it will be present for\n    // all subsequent samples.\n    // see ISO/IEC 14496-12:2012, Section 8.8.8.1\n\n    trunHeader = function trunHeader(samples, offset) {\n      var durationPresent = 0,\n          sizePresent = 0,\n          flagsPresent = 0,\n          compositionTimeOffset = 0; // trun flag constants\n\n      if (samples.length) {\n        if (samples[0].duration !== undefined) {\n          durationPresent = 0x1;\n        }\n\n        if (samples[0].size !== undefined) {\n          sizePresent = 0x2;\n        }\n\n        if (samples[0].flags !== undefined) {\n          flagsPresent = 0x4;\n        }\n\n        if (samples[0].compositionTimeOffset !== undefined) {\n          compositionTimeOffset = 0x8;\n        }\n      }\n\n      return [0x00, // version 0\n      0x00, durationPresent | sizePresent | flagsPresent | compositionTimeOffset, 0x01, // flags\n      (samples.length & 0xFF000000) >>> 24, (samples.length & 0xFF0000) >>> 16, (samples.length & 0xFF00) >>> 8, samples.length & 0xFF, // sample_count\n      (offset & 0xFF000000) >>> 24, (offset & 0xFF0000) >>> 16, (offset & 0xFF00) >>> 8, offset & 0xFF // data_offset\n      ];\n    };\n\n    videoTrun = function videoTrun(track, offset) {\n      var bytes, samples, sample, i;\n      samples = track.samples || [];\n      offset += 8 + 12 + 16 * samples.length;\n      bytes = trunHeader(samples, offset);\n\n      for (i = 0; i < samples.length; i++) {\n        sample = samples[i];\n        bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n        (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF, // sample_size\n        sample.flags.isLeading << 2 | sample.flags.dependsOn, sample.flags.isDependedOn << 6 | sample.flags.hasRedundancy << 4 | sample.flags.paddingValue << 1 | sample.flags.isNonSyncSample, sample.flags.degradationPriority & 0xF0 << 8, sample.flags.degradationPriority & 0x0F, // sample_flags\n        (sample.compositionTimeOffset & 0xFF000000) >>> 24, (sample.compositionTimeOffset & 0xFF0000) >>> 16, (sample.compositionTimeOffset & 0xFF00) >>> 8, sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\n        ]);\n      }\n\n      return box(types.trun, new Uint8Array(bytes));\n    };\n\n    audioTrun = function audioTrun(track, offset) {\n      var bytes, samples, sample, i;\n      samples = track.samples || [];\n      offset += 8 + 12 + 8 * samples.length;\n      bytes = trunHeader(samples, offset);\n\n      for (i = 0; i < samples.length; i++) {\n        sample = samples[i];\n        bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n        (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF]); // sample_size\n      }\n\n      return box(types.trun, new Uint8Array(bytes));\n    };\n\n    trun = function trun(track, offset) {\n      if (track.type === 'audio') {\n        return audioTrun(track, offset);\n      }\n\n      return videoTrun(track, offset);\n    };\n  })();\n\n  var mp4Generator = {\n    ftyp: ftyp,\n    mdat: mdat,\n    moof: moof,\n    moov: moov,\n    initSegment: function initSegment(tracks) {\n      var fileType = ftyp(),\n          movie = moov(tracks),\n          result;\n      result = new Uint8Array(fileType.byteLength + movie.byteLength);\n      result.set(fileType);\n      result.set(movie, fileType.byteLength);\n      return result;\n    }\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2014 Brightcove\n   * All rights reserved.\n   *\n   * A lightweight readable stream implemention that handles event dispatching.\n   * Objects that inherit from streams should call init in their constructors.\n   */\n\n  var Stream$1 = function Stream() {\n    this.init = function () {\n      var listeners = {};\n      /**\n       * Add a listener for a specified event type.\n       * @param type {string} the event name\n       * @param listener {function} the callback to be invoked when an event of\n       * the specified type occurs\n       */\n\n      this.on = function (type, listener) {\n        if (!listeners[type]) {\n          listeners[type] = [];\n        }\n\n        listeners[type] = listeners[type].concat(listener);\n      };\n      /**\n       * Remove a listener for a specified event type.\n       * @param type {string} the event name\n       * @param listener {function} a function previously registered for this\n       * type of event through `on`\n       */\n\n\n      this.off = function (type, listener) {\n        var index;\n\n        if (!listeners[type]) {\n          return false;\n        }\n\n        index = listeners[type].indexOf(listener);\n        listeners[type] = listeners[type].slice();\n        listeners[type].splice(index, 1);\n        return index > -1;\n      };\n      /**\n       * Trigger an event of the specified type on this stream. Any additional\n       * arguments to this function are passed as parameters to event listeners.\n       * @param type {string} the event name\n       */\n\n\n      this.trigger = function (type) {\n        var callbacks, i, length, args;\n        callbacks = listeners[type];\n\n        if (!callbacks) {\n          return;\n        } // Slicing the arguments on every invocation of this method\n        // can add a significant amount of overhead. Avoid the\n        // intermediate object creation for the common case of a\n        // single callback argument\n\n\n        if (arguments.length === 2) {\n          length = callbacks.length;\n\n          for (i = 0; i < length; ++i) {\n            callbacks[i].call(this, arguments[1]);\n          }\n        } else {\n          args = [];\n          i = arguments.length;\n\n          for (i = 1; i < arguments.length; ++i) {\n            args.push(arguments[i]);\n          }\n\n          length = callbacks.length;\n\n          for (i = 0; i < length; ++i) {\n            callbacks[i].apply(this, args);\n          }\n        }\n      };\n      /**\n       * Destroys the stream and cleans up.\n       */\n\n\n      this.dispose = function () {\n        listeners = {};\n      };\n    };\n  };\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   * @param destination {stream} the stream that will receive all `data` events\n   * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n   *                            when the current stream emits a 'done' event\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n\n\n  Stream$1.prototype.pipe = function (destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n    this.on('done', function (flushSource) {\n      destination.flush(flushSource);\n    });\n    return destination;\n  }; // Default stream functions that are expected to be overridden to perform\n  // actual work. These are provided by the prototype as a sort of no-op\n  // implementation so that we don't have to check for their existence in the\n  // `pipe` function above.\n\n\n  Stream$1.prototype.push = function (data) {\n    this.trigger('data', data);\n  };\n\n  Stream$1.prototype.flush = function (flushSource) {\n    this.trigger('done', flushSource);\n  };\n\n  var stream = Stream$1;\n\n  // Convert an array of nal units into an array of frames with each frame being\n  // composed of the nal units that make up that frame\n  // Also keep track of cummulative data about the frame from the nal units such\n  // as the frame duration, starting pts, etc.\n  var groupNalsIntoFrames = function groupNalsIntoFrames(nalUnits) {\n    var i,\n        currentNal,\n        currentFrame = [],\n        frames = [];\n    currentFrame.byteLength = 0;\n\n    for (i = 0; i < nalUnits.length; i++) {\n      currentNal = nalUnits[i]; // Split on 'aud'-type nal units\n\n      if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n        // Since the very first nal unit is expected to be an AUD\n        // only push to the frames array when currentFrame is not empty\n        if (currentFrame.length) {\n          currentFrame.duration = currentNal.dts - currentFrame.dts;\n          frames.push(currentFrame);\n        }\n\n        currentFrame = [currentNal];\n        currentFrame.byteLength = currentNal.data.byteLength;\n        currentFrame.pts = currentNal.pts;\n        currentFrame.dts = currentNal.dts;\n      } else {\n        // Specifically flag key frames for ease of use later\n        if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n          currentFrame.keyFrame = true;\n        }\n\n        currentFrame.duration = currentNal.dts - currentFrame.dts;\n        currentFrame.byteLength += currentNal.data.byteLength;\n        currentFrame.push(currentNal);\n      }\n    } // For the last frame, use the duration of the previous frame if we\n    // have nothing better to go on\n\n\n    if (frames.length && (!currentFrame.duration || currentFrame.duration <= 0)) {\n      currentFrame.duration = frames[frames.length - 1].duration;\n    } // Push the final frame\n\n\n    frames.push(currentFrame);\n    return frames;\n  }; // Convert an array of frames into an array of Gop with each Gop being composed\n  // of the frames that make up that Gop\n  // Also keep track of cummulative data about the Gop from the frames such as the\n  // Gop duration, starting pts, etc.\n\n\n  var groupFramesIntoGops = function groupFramesIntoGops(frames) {\n    var i,\n        currentFrame,\n        currentGop = [],\n        gops = []; // We must pre-set some of the values on the Gop since we\n    // keep running totals of these values\n\n    currentGop.byteLength = 0;\n    currentGop.nalCount = 0;\n    currentGop.duration = 0;\n    currentGop.pts = frames[0].pts;\n    currentGop.dts = frames[0].dts; // store some metadata about all the Gops\n\n    gops.byteLength = 0;\n    gops.nalCount = 0;\n    gops.duration = 0;\n    gops.pts = frames[0].pts;\n    gops.dts = frames[0].dts;\n\n    for (i = 0; i < frames.length; i++) {\n      currentFrame = frames[i];\n\n      if (currentFrame.keyFrame) {\n        // Since the very first frame is expected to be an keyframe\n        // only push to the gops array when currentGop is not empty\n        if (currentGop.length) {\n          gops.push(currentGop);\n          gops.byteLength += currentGop.byteLength;\n          gops.nalCount += currentGop.nalCount;\n          gops.duration += currentGop.duration;\n        }\n\n        currentGop = [currentFrame];\n        currentGop.nalCount = currentFrame.length;\n        currentGop.byteLength = currentFrame.byteLength;\n        currentGop.pts = currentFrame.pts;\n        currentGop.dts = currentFrame.dts;\n        currentGop.duration = currentFrame.duration;\n      } else {\n        currentGop.duration += currentFrame.duration;\n        currentGop.nalCount += currentFrame.length;\n        currentGop.byteLength += currentFrame.byteLength;\n        currentGop.push(currentFrame);\n      }\n    }\n\n    if (gops.length && currentGop.duration <= 0) {\n      currentGop.duration = gops[gops.length - 1].duration;\n    }\n\n    gops.byteLength += currentGop.byteLength;\n    gops.nalCount += currentGop.nalCount;\n    gops.duration += currentGop.duration; // push the final Gop\n\n    gops.push(currentGop);\n    return gops;\n  };\n  /*\n   * Search for the first keyframe in the GOPs and throw away all frames\n   * until that keyframe. Then extend the duration of the pulled keyframe\n   * and pull the PTS and DTS of the keyframe so that it covers the time\n   * range of the frames that were disposed.\n   *\n   * @param {Array} gops video GOPs\n   * @returns {Array} modified video GOPs\n   */\n\n\n  var extendFirstKeyFrame = function extendFirstKeyFrame(gops) {\n    var currentGop;\n\n    if (!gops[0][0].keyFrame && gops.length > 1) {\n      // Remove the first GOP\n      currentGop = gops.shift();\n      gops.byteLength -= currentGop.byteLength;\n      gops.nalCount -= currentGop.nalCount; // Extend the first frame of what is now the\n      // first gop to cover the time period of the\n      // frames we just removed\n\n      gops[0][0].dts = currentGop.dts;\n      gops[0][0].pts = currentGop.pts;\n      gops[0][0].duration += currentGop.duration;\n    }\n\n    return gops;\n  };\n  /**\n   * Default sample object\n   * see ISO/IEC 14496-12:2012, section 8.6.4.3\n   */\n\n\n  var createDefaultSample = function createDefaultSample() {\n    return {\n      size: 0,\n      flags: {\n        isLeading: 0,\n        dependsOn: 1,\n        isDependedOn: 0,\n        hasRedundancy: 0,\n        degradationPriority: 0,\n        isNonSyncSample: 1\n      }\n    };\n  };\n  /*\n   * Collates information from a video frame into an object for eventual\n   * entry into an MP4 sample table.\n   *\n   * @param {Object} frame the video frame\n   * @param {Number} dataOffset the byte offset to position the sample\n   * @return {Object} object containing sample table info for a frame\n   */\n\n\n  var sampleForFrame = function sampleForFrame(frame, dataOffset) {\n    var sample = createDefaultSample();\n    sample.dataOffset = dataOffset;\n    sample.compositionTimeOffset = frame.pts - frame.dts;\n    sample.duration = frame.duration;\n    sample.size = 4 * frame.length; // Space for nal unit size\n\n    sample.size += frame.byteLength;\n\n    if (frame.keyFrame) {\n      sample.flags.dependsOn = 2;\n      sample.flags.isNonSyncSample = 0;\n    }\n\n    return sample;\n  }; // generate the track's sample table from an array of gops\n\n\n  var generateSampleTable = function generateSampleTable(gops, baseDataOffset) {\n    var h,\n        i,\n        sample,\n        currentGop,\n        currentFrame,\n        dataOffset = baseDataOffset || 0,\n        samples = [];\n\n    for (h = 0; h < gops.length; h++) {\n      currentGop = gops[h];\n\n      for (i = 0; i < currentGop.length; i++) {\n        currentFrame = currentGop[i];\n        sample = sampleForFrame(currentFrame, dataOffset);\n        dataOffset += sample.size;\n        samples.push(sample);\n      }\n    }\n\n    return samples;\n  }; // generate the track's raw mdat data from an array of gops\n\n\n  var concatenateNalData = function concatenateNalData(gops) {\n    var h,\n        i,\n        j,\n        currentGop,\n        currentFrame,\n        currentNal,\n        dataOffset = 0,\n        nalsByteLength = gops.byteLength,\n        numberOfNals = gops.nalCount,\n        totalByteLength = nalsByteLength + 4 * numberOfNals,\n        data = new Uint8Array(totalByteLength),\n        view = new DataView(data.buffer); // For each Gop..\n\n    for (h = 0; h < gops.length; h++) {\n      currentGop = gops[h]; // For each Frame..\n\n      for (i = 0; i < currentGop.length; i++) {\n        currentFrame = currentGop[i]; // For each NAL..\n\n        for (j = 0; j < currentFrame.length; j++) {\n          currentNal = currentFrame[j];\n          view.setUint32(dataOffset, currentNal.data.byteLength);\n          dataOffset += 4;\n          data.set(currentNal.data, dataOffset);\n          dataOffset += currentNal.data.byteLength;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  var frameUtils = {\n    groupNalsIntoFrames: groupNalsIntoFrames,\n    groupFramesIntoGops: groupFramesIntoGops,\n    extendFirstKeyFrame: extendFirstKeyFrame,\n    generateSampleTable: generateSampleTable,\n    concatenateNalData: concatenateNalData\n  };\n\n  var highPrefix = [33, 16, 5, 32, 164, 27];\n  var lowPrefix = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252];\n\n  var zeroFill = function zeroFill(count) {\n    var a = [];\n\n    while (count--) {\n      a.push(0);\n    }\n\n    return a;\n  };\n\n  var makeTable = function makeTable(metaTable) {\n    return Object.keys(metaTable).reduce(function (obj, key) {\n      obj[key] = new Uint8Array(metaTable[key].reduce(function (arr, part) {\n        return arr.concat(part);\n      }, []));\n      return obj;\n    }, {});\n  }; // Frames-of-silence to use for filling in missing AAC frames\n\n\n  var coneOfSilence = {\n    96000: [highPrefix, [227, 64], zeroFill(154), [56]],\n    88200: [highPrefix, [231], zeroFill(170), [56]],\n    64000: [highPrefix, [248, 192], zeroFill(240), [56]],\n    48000: [highPrefix, [255, 192], zeroFill(268), [55, 148, 128], zeroFill(54), [112]],\n    44100: [highPrefix, [255, 192], zeroFill(268), [55, 163, 128], zeroFill(84), [112]],\n    32000: [highPrefix, [255, 192], zeroFill(268), [55, 234], zeroFill(226), [112]],\n    24000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 112], zeroFill(126), [224]],\n    16000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 255], zeroFill(269), [223, 108], zeroFill(195), [1, 192]],\n    12000: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 253, 128], zeroFill(259), [56]],\n    11025: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 255, 192], zeroFill(268), [55, 175, 128], zeroFill(108), [112]],\n    8000: [lowPrefix, zeroFill(268), [3, 121, 16], zeroFill(47), [7]]\n  };\n  var silence = makeTable(coneOfSilence);\n\n  var ONE_SECOND_IN_TS = 90000,\n      // 90kHz clock\n  secondsToVideoTs,\n      secondsToAudioTs,\n      videoTsToSeconds,\n      audioTsToSeconds,\n      audioTsToVideoTs,\n      videoTsToAudioTs;\n\n  secondsToVideoTs = function secondsToVideoTs(seconds) {\n    return seconds * ONE_SECOND_IN_TS;\n  };\n\n  secondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n    return seconds * sampleRate;\n  };\n\n  videoTsToSeconds = function videoTsToSeconds(timestamp) {\n    return timestamp / ONE_SECOND_IN_TS;\n  };\n\n  audioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n    return timestamp / sampleRate;\n  };\n\n  audioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n    return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n  };\n\n  videoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n    return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n  };\n\n  var clock = {\n    secondsToVideoTs: secondsToVideoTs,\n    secondsToAudioTs: secondsToAudioTs,\n    videoTsToSeconds: videoTsToSeconds,\n    audioTsToSeconds: audioTsToSeconds,\n    audioTsToVideoTs: audioTsToVideoTs,\n    videoTsToAudioTs: videoTsToAudioTs\n  };\n\n  var ONE_SECOND_IN_TS$1 = 90000; // 90kHz clock\n\n  /**\n   * Sum the `byteLength` properties of the data in each AAC frame\n   */\n\n  var sumFrameByteLengths = function sumFrameByteLengths(array) {\n    var i,\n        currentObj,\n        sum = 0; // sum the byteLength's all each nal unit in the frame\n\n    for (i = 0; i < array.length; i++) {\n      currentObj = array[i];\n      sum += currentObj.data.byteLength;\n    }\n\n    return sum;\n  }; // Possibly pad (prefix) the audio track with silence if appending this track\n  // would lead to the introduction of a gap in the audio buffer\n\n\n  var prefixWithSilence = function prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime) {\n    var baseMediaDecodeTimeTs,\n        frameDuration = 0,\n        audioGapDuration = 0,\n        audioFillFrameCount = 0,\n        audioFillDuration = 0,\n        silentFrame,\n        i;\n\n    if (!frames.length) {\n      return;\n    }\n\n    baseMediaDecodeTimeTs = clock.audioTsToVideoTs(track.baseMediaDecodeTime, track.samplerate); // determine frame clock duration based on sample rate, round up to avoid overfills\n\n    frameDuration = Math.ceil(ONE_SECOND_IN_TS$1 / (track.samplerate / 1024));\n\n    if (audioAppendStartTs && videoBaseMediaDecodeTime) {\n      // insert the shortest possible amount (audio gap or audio to video gap)\n      audioGapDuration = baseMediaDecodeTimeTs - Math.max(audioAppendStartTs, videoBaseMediaDecodeTime); // number of full frames in the audio gap\n\n      audioFillFrameCount = Math.floor(audioGapDuration / frameDuration);\n      audioFillDuration = audioFillFrameCount * frameDuration;\n    } // don't attempt to fill gaps smaller than a single frame or larger\n    // than a half second\n\n\n    if (audioFillFrameCount < 1 || audioFillDuration > ONE_SECOND_IN_TS$1 / 2) {\n      return;\n    }\n\n    silentFrame = silence[track.samplerate];\n\n    if (!silentFrame) {\n      // we don't have a silent frame pregenerated for the sample rate, so use a frame\n      // from the content instead\n      silentFrame = frames[0].data;\n    }\n\n    for (i = 0; i < audioFillFrameCount; i++) {\n      frames.splice(i, 0, {\n        data: silentFrame\n      });\n    }\n\n    track.baseMediaDecodeTime -= Math.floor(clock.videoTsToAudioTs(audioFillDuration, track.samplerate));\n  }; // If the audio segment extends before the earliest allowed dts\n  // value, remove AAC frames until starts at or after the earliest\n  // allowed DTS so that we don't end up with a negative baseMedia-\n  // DecodeTime for the audio track\n\n\n  var trimAdtsFramesByEarliestDts = function trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts) {\n    if (track.minSegmentDts >= earliestAllowedDts) {\n      return adtsFrames;\n    } // We will need to recalculate the earliest segment Dts\n\n\n    track.minSegmentDts = Infinity;\n    return adtsFrames.filter(function (currentFrame) {\n      // If this is an allowed frame, keep it and record it's Dts\n      if (currentFrame.dts >= earliestAllowedDts) {\n        track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\n        track.minSegmentPts = track.minSegmentDts;\n        return true;\n      } // Otherwise, discard it\n\n\n      return false;\n    });\n  }; // generate the track's raw mdat data from an array of frames\n\n\n  var generateSampleTable$1 = function generateSampleTable(frames) {\n    var i,\n        currentFrame,\n        samples = [];\n\n    for (i = 0; i < frames.length; i++) {\n      currentFrame = frames[i];\n      samples.push({\n        size: currentFrame.data.byteLength,\n        duration: 1024 // For AAC audio, all samples contain 1024 samples\n\n      });\n    }\n\n    return samples;\n  }; // generate the track's sample table from an array of frames\n\n\n  var concatenateFrameData = function concatenateFrameData(frames) {\n    var i,\n        currentFrame,\n        dataOffset = 0,\n        data = new Uint8Array(sumFrameByteLengths(frames));\n\n    for (i = 0; i < frames.length; i++) {\n      currentFrame = frames[i];\n      data.set(currentFrame.data, dataOffset);\n      dataOffset += currentFrame.data.byteLength;\n    }\n\n    return data;\n  };\n\n  var audioFrameUtils = {\n    prefixWithSilence: prefixWithSilence,\n    trimAdtsFramesByEarliestDts: trimAdtsFramesByEarliestDts,\n    generateSampleTable: generateSampleTable$1,\n    concatenateFrameData: concatenateFrameData\n  };\n\n  var ONE_SECOND_IN_TS$2 = 90000; // 90kHz clock\n\n  /**\n   * Store information about the start and end of the track and the\n   * duration for each frame/sample we process in order to calculate\n   * the baseMediaDecodeTime\n   */\n\n  var collectDtsInfo = function collectDtsInfo(track, data) {\n    if (typeof data.pts === 'number') {\n      if (track.timelineStartInfo.pts === undefined) {\n        track.timelineStartInfo.pts = data.pts;\n      }\n\n      if (track.minSegmentPts === undefined) {\n        track.minSegmentPts = data.pts;\n      } else {\n        track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n      }\n\n      if (track.maxSegmentPts === undefined) {\n        track.maxSegmentPts = data.pts;\n      } else {\n        track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n      }\n    }\n\n    if (typeof data.dts === 'number') {\n      if (track.timelineStartInfo.dts === undefined) {\n        track.timelineStartInfo.dts = data.dts;\n      }\n\n      if (track.minSegmentDts === undefined) {\n        track.minSegmentDts = data.dts;\n      } else {\n        track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n      }\n\n      if (track.maxSegmentDts === undefined) {\n        track.maxSegmentDts = data.dts;\n      } else {\n        track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n      }\n    }\n  };\n  /**\n   * Clear values used to calculate the baseMediaDecodeTime between\n   * tracks\n   */\n\n\n  var clearDtsInfo = function clearDtsInfo(track) {\n    delete track.minSegmentDts;\n    delete track.maxSegmentDts;\n    delete track.minSegmentPts;\n    delete track.maxSegmentPts;\n  };\n  /**\n   * Calculate the track's baseMediaDecodeTime based on the earliest\n   * DTS the transmuxer has ever seen and the minimum DTS for the\n   * current track\n   * @param track {object} track metadata configuration\n   * @param keepOriginalTimestamps {boolean} If true, keep the timestamps\n   *        in the source; false to adjust the first segment to start at 0.\n   */\n\n\n  var calculateTrackBaseMediaDecodeTime = function calculateTrackBaseMediaDecodeTime(track, keepOriginalTimestamps) {\n    var baseMediaDecodeTime,\n        scale,\n        minSegmentDts = track.minSegmentDts; // Optionally adjust the time so the first segment starts at zero.\n\n    if (!keepOriginalTimestamps) {\n      minSegmentDts -= track.timelineStartInfo.dts;\n    } // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n    // we want the start of the first segment to be placed\n\n\n    baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime; // Add to that the distance this segment is from the very first\n\n    baseMediaDecodeTime += minSegmentDts; // baseMediaDecodeTime must not become negative\n\n    baseMediaDecodeTime = Math.max(0, baseMediaDecodeTime);\n\n    if (track.type === 'audio') {\n      // Audio has a different clock equal to the sampling_rate so we need to\n      // scale the PTS values into the clock rate of the track\n      scale = track.samplerate / ONE_SECOND_IN_TS$2;\n      baseMediaDecodeTime *= scale;\n      baseMediaDecodeTime = Math.floor(baseMediaDecodeTime);\n    }\n\n    return baseMediaDecodeTime;\n  };\n\n  var trackDecodeInfo = {\n    clearDtsInfo: clearDtsInfo,\n    calculateTrackBaseMediaDecodeTime: calculateTrackBaseMediaDecodeTime,\n    collectDtsInfo: collectDtsInfo\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2015 Brightcove\n   * All rights reserved.\n   *\n   * Reads in-band caption information from a video elementary\n   * stream. Captions must follow the CEA-708 standard for injection\n   * into an MPEG-2 transport streams.\n   * @see https://en.wikipedia.org/wiki/CEA-708\n   * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n   */\n  // payload type field to indicate how they are to be\n  // interpreted. CEAS-708 caption content is always transmitted with\n  // payload type 0x04.\n\n  var USER_DATA_REGISTERED_ITU_T_T35 = 4,\n      RBSP_TRAILING_BITS = 128;\n  /**\n    * Parse a supplemental enhancement information (SEI) NAL unit.\n    * Stops parsing once a message of type ITU T T35 has been found.\n    *\n    * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n    * @return {object} the parsed SEI payload\n    * @see Rec. ITU-T H.264, 7.3.2.3.1\n    */\n\n  var parseSei = function parseSei(bytes) {\n    var i = 0,\n        result = {\n      payloadType: -1,\n      payloadSize: 0\n    },\n        payloadType = 0,\n        payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n    while (i < bytes.byteLength) {\n      // stop once we have hit the end of the sei_rbsp\n      if (bytes[i] === RBSP_TRAILING_BITS) {\n        break;\n      } // Parse payload type\n\n\n      while (bytes[i] === 0xFF) {\n        payloadType += 255;\n        i++;\n      }\n\n      payloadType += bytes[i++]; // Parse payload size\n\n      while (bytes[i] === 0xFF) {\n        payloadSize += 255;\n        i++;\n      }\n\n      payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n      // there can only ever be one caption message in a frame's sei\n\n      if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n        result.payloadType = payloadType;\n        result.payloadSize = payloadSize;\n        result.payload = bytes.subarray(i, i + payloadSize);\n        break;\n      } // skip the payload and parse the next message\n\n\n      i += payloadSize;\n      payloadType = 0;\n      payloadSize = 0;\n    }\n\n    return result;\n  }; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\n  var parseUserData = function parseUserData(sei) {\n    // itu_t_t35_contry_code must be 181 (United States) for\n    // captions\n    if (sei.payload[0] !== 181) {\n      return null;\n    } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n    if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n      return null;\n    } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n    if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n      return null;\n    } // finally, user_data_type_code should be 0x03 for caption data\n\n\n    if (sei.payload[7] !== 0x03) {\n      return null;\n    } // return the user_data_type_structure and strip the trailing\n    // marker bits\n\n\n    return sei.payload.subarray(8, sei.payload.length - 1);\n  }; // see CEA-708-D, section 4.4\n\n\n  var parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n    var results = [],\n        i,\n        count,\n        offset,\n        data; // if this is just filler, return immediately\n\n    if (!(userData[0] & 0x40)) {\n      return results;\n    } // parse out the cc_data_1 and cc_data_2 fields\n\n\n    count = userData[0] & 0x1f;\n\n    for (i = 0; i < count; i++) {\n      offset = i * 3;\n      data = {\n        type: userData[offset + 2] & 0x03,\n        pts: pts\n      }; // capture cc data when cc_valid is 1\n\n      if (userData[offset + 2] & 0x04) {\n        data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n        results.push(data);\n      }\n    }\n\n    return results;\n  };\n\n  var discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n    var length = data.byteLength,\n        emulationPreventionBytesPositions = [],\n        i = 1,\n        newLength,\n        newData; // Find all `Emulation Prevention Bytes`\n\n    while (i < length - 2) {\n      if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n        emulationPreventionBytesPositions.push(i + 2);\n        i += 2;\n      } else {\n        i++;\n      }\n    } // If no Emulation Prevention Bytes were found just return the original\n    // array\n\n\n    if (emulationPreventionBytesPositions.length === 0) {\n      return data;\n    } // Create a new array to hold the NAL unit data\n\n\n    newLength = length - emulationPreventionBytesPositions.length;\n    newData = new Uint8Array(newLength);\n    var sourceIndex = 0;\n\n    for (i = 0; i < newLength; sourceIndex++, i++) {\n      if (sourceIndex === emulationPreventionBytesPositions[0]) {\n        // Skip this byte\n        sourceIndex++; // Remove this position index\n\n        emulationPreventionBytesPositions.shift();\n      }\n\n      newData[i] = data[sourceIndex];\n    }\n\n    return newData;\n  }; // exports\n\n\n  var captionPacketParser = {\n    parseSei: parseSei,\n    parseUserData: parseUserData,\n    parseCaptionPackets: parseCaptionPackets,\n    discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n    USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n  };\n\n  // Link To Transport\n  // -----------------\n\n\n  var CaptionStream = function CaptionStream() {\n    CaptionStream.prototype.init.call(this);\n    this.captionPackets_ = [];\n    this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n    new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n    new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n    new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n    ];\n    this.reset(); // forward data and done events from CCs to this CaptionStream\n\n    this.ccStreams_.forEach(function (cc) {\n      cc.on('data', this.trigger.bind(this, 'data'));\n      cc.on('done', this.trigger.bind(this, 'done'));\n    }, this);\n  };\n\n  CaptionStream.prototype = new stream();\n\n  CaptionStream.prototype.push = function (event) {\n    var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n    if (event.nalUnitType !== 'sei_rbsp') {\n      return;\n    } // parse the sei\n\n\n    sei = captionPacketParser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n    if (sei.payloadType !== captionPacketParser.USER_DATA_REGISTERED_ITU_T_T35) {\n      return;\n    } // parse out the user data payload\n\n\n    userData = captionPacketParser.parseUserData(sei); // ignore unrecognized userData\n\n    if (!userData) {\n      return;\n    } // Sometimes, the same segment # will be downloaded twice. To stop the\n    // caption data from being processed twice, we track the latest dts we've\n    // received and ignore everything with a dts before that. However, since\n    // data for a specific dts can be split across packets on either side of\n    // a segment boundary, we need to make sure we *don't* ignore the packets\n    // from the *next* segment that have dts === this.latestDts_. By constantly\n    // tracking the number of packets received with dts === this.latestDts_, we\n    // know how many should be ignored once we start receiving duplicates.\n\n\n    if (event.dts < this.latestDts_) {\n      // We've started getting older data, so set the flag.\n      this.ignoreNextEqualDts_ = true;\n      return;\n    } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n      this.numSameDts_--;\n\n      if (!this.numSameDts_) {\n        // We've received the last duplicate packet, time to start processing again\n        this.ignoreNextEqualDts_ = false;\n      }\n\n      return;\n    } // parse out CC data packets and save them for later\n\n\n    newCaptionPackets = captionPacketParser.parseCaptionPackets(event.pts, userData);\n    this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n    if (this.latestDts_ !== event.dts) {\n      this.numSameDts_ = 0;\n    }\n\n    this.numSameDts_++;\n    this.latestDts_ = event.dts;\n  };\n\n  CaptionStream.prototype.flush = function () {\n    // make sure we actually parsed captions before proceeding\n    if (!this.captionPackets_.length) {\n      this.ccStreams_.forEach(function (cc) {\n        cc.flush();\n      }, this);\n      return;\n    } // In Chrome, the Array#sort function is not stable so add a\n    // presortIndex that we can use to ensure we get a stable-sort\n\n\n    this.captionPackets_.forEach(function (elem, idx) {\n      elem.presortIndex = idx;\n    }); // sort caption byte-pairs based on their PTS values\n\n    this.captionPackets_.sort(function (a, b) {\n      if (a.pts === b.pts) {\n        return a.presortIndex - b.presortIndex;\n      }\n\n      return a.pts - b.pts;\n    });\n    this.captionPackets_.forEach(function (packet) {\n      if (packet.type < 2) {\n        // Dispatch packet to the right Cea608Stream\n        this.dispatchCea608Packet(packet);\n      } // this is where an 'else' would go for a dispatching packets\n      // to a theoretical Cea708Stream that handles SERVICEn data\n\n    }, this);\n    this.captionPackets_.length = 0;\n    this.ccStreams_.forEach(function (cc) {\n      cc.flush();\n    }, this);\n    return;\n  };\n\n  CaptionStream.prototype.reset = function () {\n    this.latestDts_ = null;\n    this.ignoreNextEqualDts_ = false;\n    this.numSameDts_ = 0;\n    this.activeCea608Channel_ = [null, null];\n    this.ccStreams_.forEach(function (ccStream) {\n      ccStream.reset();\n    });\n  };\n\n  CaptionStream.prototype.dispatchCea608Packet = function (packet) {\n    // NOTE: packet.type is the CEA608 field\n    if (this.setsChannel1Active(packet)) {\n      this.activeCea608Channel_[packet.type] = 0;\n    } else if (this.setsChannel2Active(packet)) {\n      this.activeCea608Channel_[packet.type] = 1;\n    }\n\n    if (this.activeCea608Channel_[packet.type] === null) {\n      // If we haven't received anything to set the active channel, discard the\n      // data; we don't want jumbled captions\n      return;\n    }\n\n    this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n  };\n\n  CaptionStream.prototype.setsChannel1Active = function (packet) {\n    return (packet.ccData & 0x7800) === 0x1000;\n  };\n\n  CaptionStream.prototype.setsChannel2Active = function (packet) {\n    return (packet.ccData & 0x7800) === 0x1800;\n  }; // ----------------------\n  // Session to Application\n  // ----------------------\n  // This hash maps non-ASCII, special, and extended character codes to their\n  // proper Unicode equivalent. The first keys that are only a single byte\n  // are the non-standard ASCII characters, which simply map the CEA608 byte\n  // to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n  // character codes, but have their MSB bitmasked with 0x03 so that a lookup\n  // can be performed regardless of the field and data channel on which the\n  // character code was received.\n\n\n  var CHARACTER_TRANSLATION = {\n    0x2a: 0xe1,\n    // á\n    0x5c: 0xe9,\n    // é\n    0x5e: 0xed,\n    // í\n    0x5f: 0xf3,\n    // ó\n    0x60: 0xfa,\n    // ú\n    0x7b: 0xe7,\n    // ç\n    0x7c: 0xf7,\n    // ÷\n    0x7d: 0xd1,\n    // Ñ\n    0x7e: 0xf1,\n    // ñ\n    0x7f: 0x2588,\n    // █\n    0x0130: 0xae,\n    // ®\n    0x0131: 0xb0,\n    // °\n    0x0132: 0xbd,\n    // ½\n    0x0133: 0xbf,\n    // ¿\n    0x0134: 0x2122,\n    // ™\n    0x0135: 0xa2,\n    // ¢\n    0x0136: 0xa3,\n    // £\n    0x0137: 0x266a,\n    // ♪\n    0x0138: 0xe0,\n    // à\n    0x0139: 0xa0,\n    //\n    0x013a: 0xe8,\n    // è\n    0x013b: 0xe2,\n    // â\n    0x013c: 0xea,\n    // ê\n    0x013d: 0xee,\n    // î\n    0x013e: 0xf4,\n    // ô\n    0x013f: 0xfb,\n    // û\n    0x0220: 0xc1,\n    // Á\n    0x0221: 0xc9,\n    // É\n    0x0222: 0xd3,\n    // Ó\n    0x0223: 0xda,\n    // Ú\n    0x0224: 0xdc,\n    // Ü\n    0x0225: 0xfc,\n    // ü\n    0x0226: 0x2018,\n    // ‘\n    0x0227: 0xa1,\n    // ¡\n    0x0228: 0x2a,\n    // *\n    0x0229: 0x27,\n    // '\n    0x022a: 0x2014,\n    // —\n    0x022b: 0xa9,\n    // ©\n    0x022c: 0x2120,\n    // ℠\n    0x022d: 0x2022,\n    // •\n    0x022e: 0x201c,\n    // “\n    0x022f: 0x201d,\n    // ”\n    0x0230: 0xc0,\n    // À\n    0x0231: 0xc2,\n    // Â\n    0x0232: 0xc7,\n    // Ç\n    0x0233: 0xc8,\n    // È\n    0x0234: 0xca,\n    // Ê\n    0x0235: 0xcb,\n    // Ë\n    0x0236: 0xeb,\n    // ë\n    0x0237: 0xce,\n    // Î\n    0x0238: 0xcf,\n    // Ï\n    0x0239: 0xef,\n    // ï\n    0x023a: 0xd4,\n    // Ô\n    0x023b: 0xd9,\n    // Ù\n    0x023c: 0xf9,\n    // ù\n    0x023d: 0xdb,\n    // Û\n    0x023e: 0xab,\n    // «\n    0x023f: 0xbb,\n    // »\n    0x0320: 0xc3,\n    // Ã\n    0x0321: 0xe3,\n    // ã\n    0x0322: 0xcd,\n    // Í\n    0x0323: 0xcc,\n    // Ì\n    0x0324: 0xec,\n    // ì\n    0x0325: 0xd2,\n    // Ò\n    0x0326: 0xf2,\n    // ò\n    0x0327: 0xd5,\n    // Õ\n    0x0328: 0xf5,\n    // õ\n    0x0329: 0x7b,\n    // {\n    0x032a: 0x7d,\n    // }\n    0x032b: 0x5c,\n    // \\\n    0x032c: 0x5e,\n    // ^\n    0x032d: 0x5f,\n    // _\n    0x032e: 0x7c,\n    // |\n    0x032f: 0x7e,\n    // ~\n    0x0330: 0xc4,\n    // Ä\n    0x0331: 0xe4,\n    // ä\n    0x0332: 0xd6,\n    // Ö\n    0x0333: 0xf6,\n    // ö\n    0x0334: 0xdf,\n    // ß\n    0x0335: 0xa5,\n    // ¥\n    0x0336: 0xa4,\n    // ¤\n    0x0337: 0x2502,\n    // │\n    0x0338: 0xc5,\n    // Å\n    0x0339: 0xe5,\n    // å\n    0x033a: 0xd8,\n    // Ø\n    0x033b: 0xf8,\n    // ø\n    0x033c: 0x250c,\n    // ┌\n    0x033d: 0x2510,\n    // ┐\n    0x033e: 0x2514,\n    // └\n    0x033f: 0x2518 // ┘\n\n  };\n\n  var getCharFromCode = function getCharFromCode(code) {\n    if (code === null) {\n      return '';\n    }\n\n    code = CHARACTER_TRANSLATION[code] || code;\n    return String.fromCharCode(code);\n  }; // the index of the last row in a CEA-608 display buffer\n\n\n  var BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n  // getting it through bit logic.\n\n  var ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n  // cells. The \"bottom\" row is the last element in the outer array.\n\n  var createDisplayBuffer = function createDisplayBuffer() {\n    var result = [],\n        i = BOTTOM_ROW + 1;\n\n    while (i--) {\n      result.push('');\n    }\n\n    return result;\n  };\n\n  var Cea608Stream = function Cea608Stream(field, dataChannel) {\n    Cea608Stream.prototype.init.call(this);\n    this.field_ = field || 0;\n    this.dataChannel_ = dataChannel || 0;\n    this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n    this.setConstants();\n    this.reset();\n\n    this.push = function (packet) {\n      var data, swap, char0, char1, text; // remove the parity bits\n\n      data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n      if (data === this.lastControlCode_) {\n        this.lastControlCode_ = null;\n        return;\n      } // Store control codes\n\n\n      if ((data & 0xf000) === 0x1000) {\n        this.lastControlCode_ = data;\n      } else if (data !== this.PADDING_) {\n        this.lastControlCode_ = null;\n      }\n\n      char0 = data >>> 8;\n      char1 = data & 0xff;\n\n      if (data === this.PADDING_) {\n        return;\n      } else if (data === this.RESUME_CAPTION_LOADING_) {\n        this.mode_ = 'popOn';\n      } else if (data === this.END_OF_CAPTION_) {\n        // If an EOC is received while in paint-on mode, the displayed caption\n        // text should be swapped to non-displayed memory as if it was a pop-on\n        // caption. Because of that, we should explicitly switch back to pop-on\n        // mode\n        this.mode_ = 'popOn';\n        this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n        this.flushDisplayed(packet.pts); // flip memory\n\n        swap = this.displayed_;\n        this.displayed_ = this.nonDisplayed_;\n        this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n        this.startPts_ = packet.pts;\n      } else if (data === this.ROLL_UP_2_ROWS_) {\n        this.rollUpRows_ = 2;\n        this.setRollUp(packet.pts);\n      } else if (data === this.ROLL_UP_3_ROWS_) {\n        this.rollUpRows_ = 3;\n        this.setRollUp(packet.pts);\n      } else if (data === this.ROLL_UP_4_ROWS_) {\n        this.rollUpRows_ = 4;\n        this.setRollUp(packet.pts);\n      } else if (data === this.CARRIAGE_RETURN_) {\n        this.clearFormatting(packet.pts);\n        this.flushDisplayed(packet.pts);\n        this.shiftRowsUp_();\n        this.startPts_ = packet.pts;\n      } else if (data === this.BACKSPACE_) {\n        if (this.mode_ === 'popOn') {\n          this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n        } else {\n          this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n        }\n      } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n        this.flushDisplayed(packet.pts);\n        this.displayed_ = createDisplayBuffer();\n      } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n        this.nonDisplayed_ = createDisplayBuffer();\n      } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n        if (this.mode_ !== 'paintOn') {\n          // NOTE: This should be removed when proper caption positioning is\n          // implemented\n          this.flushDisplayed(packet.pts);\n          this.displayed_ = createDisplayBuffer();\n        }\n\n        this.mode_ = 'paintOn';\n        this.startPts_ = packet.pts; // Append special characters to caption text\n      } else if (this.isSpecialCharacter(char0, char1)) {\n        // Bitmask char0 so that we can apply character transformations\n        // regardless of field and data channel.\n        // Then byte-shift to the left and OR with char1 so we can pass the\n        // entire character code to `getCharFromCode`.\n        char0 = (char0 & 0x03) << 8;\n        text = getCharFromCode(char0 | char1);\n        this[this.mode_](packet.pts, text);\n        this.column_++; // Append extended characters to caption text\n      } else if (this.isExtCharacter(char0, char1)) {\n        // Extended characters always follow their \"non-extended\" equivalents.\n        // IE if a \"è\" is desired, you'll always receive \"eè\"; non-compliant\n        // decoders are supposed to drop the \"è\", while compliant decoders\n        // backspace the \"e\" and insert \"è\".\n        // Delete the previous character\n        if (this.mode_ === 'popOn') {\n          this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n        } else {\n          this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n        } // Bitmask char0 so that we can apply character transformations\n        // regardless of field and data channel.\n        // Then byte-shift to the left and OR with char1 so we can pass the\n        // entire character code to `getCharFromCode`.\n\n\n        char0 = (char0 & 0x03) << 8;\n        text = getCharFromCode(char0 | char1);\n        this[this.mode_](packet.pts, text);\n        this.column_++; // Process mid-row codes\n      } else if (this.isMidRowCode(char0, char1)) {\n        // Attributes are not additive, so clear all formatting\n        this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n        // should be replaced with spaces, so add one now\n\n        this[this.mode_](packet.pts, ' ');\n        this.column_++;\n\n        if ((char1 & 0xe) === 0xe) {\n          this.addFormatting(packet.pts, ['i']);\n        }\n\n        if ((char1 & 0x1) === 0x1) {\n          this.addFormatting(packet.pts, ['u']);\n        } // Detect offset control codes and adjust cursor\n\n      } else if (this.isOffsetControlCode(char0, char1)) {\n        // Cursor position is set by indent PAC (see below) in 4-column\n        // increments, with an additional offset code of 1-3 to reach any\n        // of the 32 columns specified by CEA-608. So all we need to do\n        // here is increment the column cursor by the given offset.\n        this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n      } else if (this.isPAC(char0, char1)) {\n        // There's no logic for PAC -> row mapping, so we have to just\n        // find the row code in an array and use its index :(\n        var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n        if (this.mode_ === 'rollUp') {\n          // This implies that the base row is incorrectly set.\n          // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n          // of roll-up rows set.\n          if (row - this.rollUpRows_ + 1 < 0) {\n            row = this.rollUpRows_ - 1;\n          }\n\n          this.setRollUp(packet.pts, row);\n        }\n\n        if (row !== this.row_) {\n          // formatting is only persistent for current row\n          this.clearFormatting(packet.pts);\n          this.row_ = row;\n        } // All PACs can apply underline, so detect and apply\n        // (All odd-numbered second bytes set underline)\n\n\n        if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n          this.addFormatting(packet.pts, ['u']);\n        }\n\n        if ((data & 0x10) === 0x10) {\n          // We've got an indent level code. Each successive even number\n          // increments the column cursor by 4, so we can get the desired\n          // column position by bit-shifting to the right (to get n/2)\n          // and multiplying by 4.\n          this.column_ = ((data & 0xe) >> 1) * 4;\n        }\n\n        if (this.isColorPAC(char1)) {\n          // it's a color code, though we only support white, which\n          // can be either normal or italicized. white italics can be\n          // either 0x4e or 0x6e depending on the row, so we just\n          // bitwise-and with 0xe to see if italics should be turned on\n          if ((char1 & 0xe) === 0xe) {\n            this.addFormatting(packet.pts, ['i']);\n          }\n        } // We have a normal character in char0, and possibly one in char1\n\n      } else if (this.isNormalChar(char0)) {\n        if (char1 === 0x00) {\n          char1 = null;\n        }\n\n        text = getCharFromCode(char0);\n        text += getCharFromCode(char1);\n        this[this.mode_](packet.pts, text);\n        this.column_ += text.length;\n      } // finish data processing\n\n    };\n  };\n\n  Cea608Stream.prototype = new stream(); // Trigger a cue point that captures the current state of the\n  // display buffer\n\n  Cea608Stream.prototype.flushDisplayed = function (pts) {\n    var content = this.displayed_ // remove spaces from the start and end of the string\n    .map(function (row) {\n      try {\n        return row.trim();\n      } catch (e) {\n        // Ordinarily, this shouldn't happen. However, caption\n        // parsing errors should not throw exceptions and\n        // break playback.\n        // eslint-disable-next-line no-console\n        console.error('Skipping malformed caption.');\n        return '';\n      }\n    }) // combine all text rows to display in one cue\n    .join('\\n') // and remove blank rows from the start and end, but not the middle\n    .replace(/^\\n+|\\n+$/g, '');\n\n    if (content.length) {\n      this.trigger('data', {\n        startPts: this.startPts_,\n        endPts: pts,\n        text: content,\n        stream: this.name_\n      });\n    }\n  };\n  /**\n   * Zero out the data, used for startup and on seek\n   */\n\n\n  Cea608Stream.prototype.reset = function () {\n    this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n    // actually display captions. If a caption is shifted to a row\n    // with a lower index than this, it is cleared from the display\n    // buffer\n\n    this.topRow_ = 0;\n    this.startPts_ = 0;\n    this.displayed_ = createDisplayBuffer();\n    this.nonDisplayed_ = createDisplayBuffer();\n    this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n    this.column_ = 0;\n    this.row_ = BOTTOM_ROW;\n    this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n    this.formatting_ = [];\n  };\n  /**\n   * Sets up control code and related constants for this instance\n   */\n\n\n  Cea608Stream.prototype.setConstants = function () {\n    // The following attributes have these uses:\n    // ext_ :    char0 for mid-row codes, and the base for extended\n    //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n    //           extended codes)\n    // control_: char0 for control codes, except byte-shifted to the\n    //           left so that we can do this.control_ | CONTROL_CODE\n    // offset_:  char0 for tab offset codes\n    //\n    // It's also worth noting that control codes, and _only_ control codes,\n    // differ between field 1 and field2. Field 2 control codes are always\n    // their field 1 value plus 1. That's why there's the \"| field\" on the\n    // control value.\n    if (this.dataChannel_ === 0) {\n      this.BASE_ = 0x10;\n      this.EXT_ = 0x11;\n      this.CONTROL_ = (0x14 | this.field_) << 8;\n      this.OFFSET_ = 0x17;\n    } else if (this.dataChannel_ === 1) {\n      this.BASE_ = 0x18;\n      this.EXT_ = 0x19;\n      this.CONTROL_ = (0x1c | this.field_) << 8;\n      this.OFFSET_ = 0x1f;\n    } // Constants for the LSByte command codes recognized by Cea608Stream. This\n    // list is not exhaustive. For a more comprehensive listing and semantics see\n    // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n    // Padding\n\n\n    this.PADDING_ = 0x0000; // Pop-on Mode\n\n    this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n    this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n    this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n    this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n    this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n    this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n    this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n    this.BACKSPACE_ = this.CONTROL_ | 0x21;\n    this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n    this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n  };\n  /**\n   * Detects if the 2-byte packet data is a special character\n   *\n   * Special characters have a second byte in the range 0x30 to 0x3f,\n   * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n   * data channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are an special character\n   */\n\n\n  Cea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n    return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n  };\n  /**\n   * Detects if the 2-byte packet data is an extended character\n   *\n   * Extended characters have a second byte in the range 0x20 to 0x3f,\n   * with the first byte being 0x12 or 0x13 (for data channel 1) or\n   * 0x1a or 0x1b (for data channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are an extended character\n   */\n\n\n  Cea608Stream.prototype.isExtCharacter = function (char0, char1) {\n    return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n  };\n  /**\n   * Detects if the 2-byte packet is a mid-row code\n   *\n   * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n   * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n   * channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are a mid-row code\n   */\n\n\n  Cea608Stream.prototype.isMidRowCode = function (char0, char1) {\n    return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n  };\n  /**\n   * Detects if the 2-byte packet is an offset control code\n   *\n   * Offset control codes have a second byte in the range 0x21 to 0x23,\n   * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n   * data channel 2).\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are an offset control code\n   */\n\n\n  Cea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n    return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n  };\n  /**\n   * Detects if the 2-byte packet is a Preamble Address Code\n   *\n   * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n   * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n   * range 0x40 to 0x7f.\n   *\n   * @param  {Integer} char0 The first byte\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the 2 bytes are a PAC\n   */\n\n\n  Cea608Stream.prototype.isPAC = function (char0, char1) {\n    return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n  };\n  /**\n   * Detects if a packet's second byte is in the range of a PAC color code\n   *\n   * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n   * 0x60 to 0x6f.\n   *\n   * @param  {Integer} char1 The second byte\n   * @return {Boolean}       Whether the byte is a color PAC\n   */\n\n\n  Cea608Stream.prototype.isColorPAC = function (char1) {\n    return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n  };\n  /**\n   * Detects if a single byte is in the range of a normal character\n   *\n   * Normal text bytes are in the range 0x20 to 0x7f.\n   *\n   * @param  {Integer} char  The byte\n   * @return {Boolean}       Whether the byte is a normal character\n   */\n\n\n  Cea608Stream.prototype.isNormalChar = function (char) {\n    return char >= 0x20 && char <= 0x7f;\n  };\n  /**\n   * Configures roll-up\n   *\n   * @param  {Integer} pts         Current PTS\n   * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n   *                               a new position\n   */\n\n\n  Cea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n    // Reset the base row to the bottom row when switching modes\n    if (this.mode_ !== 'rollUp') {\n      this.row_ = BOTTOM_ROW;\n      this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n      this.flushDisplayed(pts);\n      this.nonDisplayed_ = createDisplayBuffer();\n      this.displayed_ = createDisplayBuffer();\n    }\n\n    if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n      // move currently displayed captions (up or down) to the new base row\n      for (var i = 0; i < this.rollUpRows_; i++) {\n        this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n        this.displayed_[this.row_ - i] = '';\n      }\n    }\n\n    if (newBaseRow === undefined) {\n      newBaseRow = this.row_;\n    }\n\n    this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n  }; // Adds the opening HTML tag for the passed character to the caption text,\n  // and keeps track of it for later closing\n\n\n  Cea608Stream.prototype.addFormatting = function (pts, format) {\n    this.formatting_ = this.formatting_.concat(format);\n    var text = format.reduce(function (text, format) {\n      return text + '<' + format + '>';\n    }, '');\n    this[this.mode_](pts, text);\n  }; // Adds HTML closing tags for current formatting to caption text and\n  // clears remembered formatting\n\n\n  Cea608Stream.prototype.clearFormatting = function (pts) {\n    if (!this.formatting_.length) {\n      return;\n    }\n\n    var text = this.formatting_.reverse().reduce(function (text, format) {\n      return text + '</' + format + '>';\n    }, '');\n    this.formatting_ = [];\n    this[this.mode_](pts, text);\n  }; // Mode Implementations\n\n\n  Cea608Stream.prototype.popOn = function (pts, text) {\n    var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n    baseRow += text;\n    this.nonDisplayed_[this.row_] = baseRow;\n  };\n\n  Cea608Stream.prototype.rollUp = function (pts, text) {\n    var baseRow = this.displayed_[this.row_];\n    baseRow += text;\n    this.displayed_[this.row_] = baseRow;\n  };\n\n  Cea608Stream.prototype.shiftRowsUp_ = function () {\n    var i; // clear out inactive rows\n\n    for (i = 0; i < this.topRow_; i++) {\n      this.displayed_[i] = '';\n    }\n\n    for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n      this.displayed_[i] = '';\n    } // shift displayed rows up\n\n\n    for (i = this.topRow_; i < this.row_; i++) {\n      this.displayed_[i] = this.displayed_[i + 1];\n    } // clear out the bottom row\n\n\n    this.displayed_[this.row_] = '';\n  };\n\n  Cea608Stream.prototype.paintOn = function (pts, text) {\n    var baseRow = this.displayed_[this.row_];\n    baseRow += text;\n    this.displayed_[this.row_] = baseRow;\n  }; // exports\n\n\n  var captionStream = {\n    CaptionStream: CaptionStream,\n    Cea608Stream: Cea608Stream\n  };\n\n  var streamTypes = {\n    H264_STREAM_TYPE: 0x1B,\n    ADTS_STREAM_TYPE: 0x0F,\n    METADATA_STREAM_TYPE: 0x15\n  };\n\n  var MAX_TS = 8589934592;\n  var RO_THRESH = 4294967296;\n\n  var handleRollover = function handleRollover(value, reference) {\n    var direction = 1;\n\n    if (value > reference) {\n      // If the current timestamp value is greater than our reference timestamp and we detect a\n      // timestamp rollover, this means the roll over is happening in the opposite direction.\n      // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n      // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n      // rollover point. In loading this segment, the timestamp values will be very large,\n      // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n      // the time stamp to be `value - 2^33`.\n      direction = -1;\n    } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n    // cause an incorrect adjustment.\n\n\n    while (Math.abs(reference - value) > RO_THRESH) {\n      value += direction * MAX_TS;\n    }\n\n    return value;\n  };\n\n  var TimestampRolloverStream = function TimestampRolloverStream(type) {\n    var lastDTS, referenceDTS;\n    TimestampRolloverStream.prototype.init.call(this);\n    this.type_ = type;\n\n    this.push = function (data) {\n      if (data.type !== this.type_) {\n        return;\n      }\n\n      if (referenceDTS === undefined) {\n        referenceDTS = data.dts;\n      }\n\n      data.dts = handleRollover(data.dts, referenceDTS);\n      data.pts = handleRollover(data.pts, referenceDTS);\n      lastDTS = data.dts;\n      this.trigger('data', data);\n    };\n\n    this.flush = function () {\n      referenceDTS = lastDTS;\n      this.trigger('done');\n    };\n\n    this.discontinuity = function () {\n      referenceDTS = void 0;\n      lastDTS = void 0;\n    };\n  };\n\n  TimestampRolloverStream.prototype = new stream();\n  var timestampRolloverStream = {\n    TimestampRolloverStream: TimestampRolloverStream,\n    handleRollover: handleRollover\n  };\n\n  var percentEncode = function percentEncode(bytes, start, end) {\n    var i,\n        result = '';\n\n    for (i = start; i < end; i++) {\n      result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n    }\n\n    return result;\n  },\n      // return the string representation of the specified byte range,\n  // interpreted as UTf-8.\n  parseUtf8 = function parseUtf8(bytes, start, end) {\n    return decodeURIComponent(percentEncode(bytes, start, end));\n  },\n      // return the string representation of the specified byte range,\n  // interpreted as ISO-8859-1.\n  parseIso88591 = function parseIso88591(bytes, start, end) {\n    return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n  },\n      parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n    return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n  },\n      tagParsers = {\n    TXXX: function TXXX(tag) {\n      var i;\n\n      if (tag.data[0] !== 3) {\n        // ignore frames with unrecognized character encodings\n        return;\n      }\n\n      for (i = 1; i < tag.data.length; i++) {\n        if (tag.data[i] === 0) {\n          // parse the text fields\n          tag.description = parseUtf8(tag.data, 1, i); // do not include the null terminator in the tag value\n\n          tag.value = parseUtf8(tag.data, i + 1, tag.data.length).replace(/\\0*$/, '');\n          break;\n        }\n      }\n\n      tag.data = tag.value;\n    },\n    WXXX: function WXXX(tag) {\n      var i;\n\n      if (tag.data[0] !== 3) {\n        // ignore frames with unrecognized character encodings\n        return;\n      }\n\n      for (i = 1; i < tag.data.length; i++) {\n        if (tag.data[i] === 0) {\n          // parse the description and URL fields\n          tag.description = parseUtf8(tag.data, 1, i);\n          tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\n          break;\n        }\n      }\n    },\n    PRIV: function PRIV(tag) {\n      var i;\n\n      for (i = 0; i < tag.data.length; i++) {\n        if (tag.data[i] === 0) {\n          // parse the description and URL fields\n          tag.owner = parseIso88591(tag.data, 0, i);\n          break;\n        }\n      }\n\n      tag.privateData = tag.data.subarray(i + 1);\n      tag.data = tag.privateData;\n    }\n  },\n      _MetadataStream;\n\n  _MetadataStream = function MetadataStream(options) {\n    var settings = {\n      debug: !!(options && options.debug),\n      // the bytes of the program-level descriptor field in MP2T\n      // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\n      // program element descriptors\"\n      descriptor: options && options.descriptor\n    },\n        // the total size in bytes of the ID3 tag being parsed\n    tagSize = 0,\n        // tag data that is not complete enough to be parsed\n    buffer = [],\n        // the total number of bytes currently in the buffer\n    bufferSize = 0,\n        i;\n\n    _MetadataStream.prototype.init.call(this); // calculate the text track in-band metadata track dispatch type\n    // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\n\n\n    this.dispatchType = streamTypes.METADATA_STREAM_TYPE.toString(16);\n\n    if (settings.descriptor) {\n      for (i = 0; i < settings.descriptor.length; i++) {\n        this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\n      }\n    }\n\n    this.push = function (chunk) {\n      var tag, frameStart, frameSize, frame, i, frameHeader;\n\n      if (chunk.type !== 'timed-metadata') {\n        return;\n      } // if data_alignment_indicator is set in the PES header,\n      // we must have the start of a new ID3 tag. Assume anything\n      // remaining in the buffer was malformed and throw it out\n\n\n      if (chunk.dataAlignmentIndicator) {\n        bufferSize = 0;\n        buffer.length = 0;\n      } // ignore events that don't look like ID3 data\n\n\n      if (buffer.length === 0 && (chunk.data.length < 10 || chunk.data[0] !== 'I'.charCodeAt(0) || chunk.data[1] !== 'D'.charCodeAt(0) || chunk.data[2] !== '3'.charCodeAt(0))) {\n        if (settings.debug) {\n          // eslint-disable-next-line no-console\n          console.log('Skipping unrecognized metadata packet');\n        }\n\n        return;\n      } // add this chunk to the data we've collected so far\n\n\n      buffer.push(chunk);\n      bufferSize += chunk.data.byteLength; // grab the size of the entire frame from the ID3 header\n\n      if (buffer.length === 1) {\n        // the frame size is transmitted as a 28-bit integer in the\n        // last four bytes of the ID3 header.\n        // The most significant bit of each byte is dropped and the\n        // results concatenated to recover the actual value.\n        tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10)); // ID3 reports the tag size excluding the header but it's more\n        // convenient for our comparisons to include it\n\n        tagSize += 10;\n      } // if the entire frame has not arrived, wait for more data\n\n\n      if (bufferSize < tagSize) {\n        return;\n      } // collect the entire frame so it can be parsed\n\n\n      tag = {\n        data: new Uint8Array(tagSize),\n        frames: [],\n        pts: buffer[0].pts,\n        dts: buffer[0].dts\n      };\n\n      for (i = 0; i < tagSize;) {\n        tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\n        i += buffer[0].data.byteLength;\n        bufferSize -= buffer[0].data.byteLength;\n        buffer.shift();\n      } // find the start of the first frame and the end of the tag\n\n\n      frameStart = 10;\n\n      if (tag.data[5] & 0x40) {\n        // advance the frame start past the extended header\n        frameStart += 4; // header size field\n\n        frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14)); // clip any padding off the end\n\n        tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\n      } // parse one or more ID3 frames\n      // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n      do {\n        // determine the number of bytes in this frame\n        frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\n\n        if (frameSize < 1) {\n          // eslint-disable-next-line no-console\n          return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\n        }\n\n        frameHeader = String.fromCharCode(tag.data[frameStart], tag.data[frameStart + 1], tag.data[frameStart + 2], tag.data[frameStart + 3]);\n        frame = {\n          id: frameHeader,\n          data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\n        };\n        frame.key = frame.id;\n\n        if (tagParsers[frame.id]) {\n          tagParsers[frame.id](frame); // handle the special PRIV frame used to indicate the start\n          // time for raw AAC data\n\n          if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\n            var d = frame.data,\n                size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n            size *= 4;\n            size += d[7] & 0x03;\n            frame.timeStamp = size; // in raw AAC, all subsequent data will be timestamped based\n            // on the value of this frame\n            // we couldn't have known the appropriate pts and dts before\n            // parsing this ID3 tag so set those values now\n\n            if (tag.pts === undefined && tag.dts === undefined) {\n              tag.pts = frame.timeStamp;\n              tag.dts = frame.timeStamp;\n            }\n\n            this.trigger('timestamp', frame);\n          }\n        }\n\n        tag.frames.push(frame);\n        frameStart += 10; // advance past the frame header\n\n        frameStart += frameSize; // advance past the frame body\n      } while (frameStart < tagSize);\n\n      this.trigger('data', tag);\n    };\n  };\n\n  _MetadataStream.prototype = new stream();\n  var metadataStream = _MetadataStream;\n\n  var TimestampRolloverStream$1 = timestampRolloverStream.TimestampRolloverStream; // object types\n\n  var _TransportPacketStream, _TransportParseStream, _ElementaryStream; // constants\n\n\n  var MP2T_PACKET_LENGTH = 188,\n      // bytes\n  SYNC_BYTE = 0x47;\n  /**\n   * Splits an incoming stream of binary data into MPEG-2 Transport\n   * Stream packets.\n   */\n\n  _TransportPacketStream = function TransportPacketStream() {\n    var buffer = new Uint8Array(MP2T_PACKET_LENGTH),\n        bytesInBuffer = 0;\n\n    _TransportPacketStream.prototype.init.call(this); // Deliver new bytes to the stream.\n\n    /**\n     * Split a stream of data into M2TS packets\n    **/\n\n\n    this.push = function (bytes) {\n      var startIndex = 0,\n          endIndex = MP2T_PACKET_LENGTH,\n          everything; // If there are bytes remaining from the last segment, prepend them to the\n      // bytes that were pushed in\n\n      if (bytesInBuffer) {\n        everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\n        everything.set(buffer.subarray(0, bytesInBuffer));\n        everything.set(bytes, bytesInBuffer);\n        bytesInBuffer = 0;\n      } else {\n        everything = bytes;\n      } // While we have enough data for a packet\n\n\n      while (endIndex < everything.byteLength) {\n        // Look for a pair of start and end sync bytes in the data..\n        if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\n          // We found a packet so emit it and jump one whole packet forward in\n          // the stream\n          this.trigger('data', everything.subarray(startIndex, endIndex));\n          startIndex += MP2T_PACKET_LENGTH;\n          endIndex += MP2T_PACKET_LENGTH;\n          continue;\n        } // If we get here, we have somehow become de-synchronized and we need to step\n        // forward one byte at a time until we find a pair of sync bytes that denote\n        // a packet\n\n\n        startIndex++;\n        endIndex++;\n      } // If there was some data left over at the end of the segment that couldn't\n      // possibly be a whole packet, keep it because it might be the start of a packet\n      // that continues in the next segment\n\n\n      if (startIndex < everything.byteLength) {\n        buffer.set(everything.subarray(startIndex), 0);\n        bytesInBuffer = everything.byteLength - startIndex;\n      }\n    };\n    /**\n     * Passes identified M2TS packets to the TransportParseStream to be parsed\n    **/\n\n\n    this.flush = function () {\n      // If the buffer contains a whole packet when we are being flushed, emit it\n      // and empty the buffer. Otherwise hold onto the data because it may be\n      // important for decoding the next segment\n      if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\n        this.trigger('data', buffer);\n        bytesInBuffer = 0;\n      }\n\n      this.trigger('done');\n    };\n  };\n\n  _TransportPacketStream.prototype = new stream();\n  /**\n   * Accepts an MP2T TransportPacketStream and emits data events with parsed\n   * forms of the individual transport stream packets.\n   */\n\n  _TransportParseStream = function TransportParseStream() {\n    var parsePsi, parsePat, parsePmt, self;\n\n    _TransportParseStream.prototype.init.call(this);\n\n    self = this;\n    this.packetsWaitingForPmt = [];\n    this.programMapTable = undefined;\n\n    parsePsi = function parsePsi(payload, psi) {\n      var offset = 0; // PSI packets may be split into multiple sections and those\n      // sections may be split into multiple packets. If a PSI\n      // section starts in this packet, the payload_unit_start_indicator\n      // will be true and the first byte of the payload will indicate\n      // the offset from the current position to the start of the\n      // section.\n\n      if (psi.payloadUnitStartIndicator) {\n        offset += payload[offset] + 1;\n      }\n\n      if (psi.type === 'pat') {\n        parsePat(payload.subarray(offset), psi);\n      } else {\n        parsePmt(payload.subarray(offset), psi);\n      }\n    };\n\n    parsePat = function parsePat(payload, pat) {\n      pat.section_number = payload[7]; // eslint-disable-line camelcase\n\n      pat.last_section_number = payload[8]; // eslint-disable-line camelcase\n      // skip the PSI header and parse the first PMT entry\n\n      self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\n      pat.pmtPid = self.pmtPid;\n    };\n    /**\n     * Parse out the relevant fields of a Program Map Table (PMT).\n     * @param payload {Uint8Array} the PMT-specific portion of an MP2T\n     * packet. The first byte in this array should be the table_id\n     * field.\n     * @param pmt {object} the object that should be decorated with\n     * fields parsed from the PMT.\n     */\n\n\n    parsePmt = function parsePmt(payload, pmt) {\n      var sectionLength, tableEnd, programInfoLength, offset; // PMTs can be sent ahead of the time when they should actually\n      // take effect. We don't believe this should ever be the case\n      // for HLS but we'll ignore \"forward\" PMT declarations if we see\n      // them. Future PMT declarations have the current_next_indicator\n      // set to zero.\n\n      if (!(payload[5] & 0x01)) {\n        return;\n      } // overwrite any existing program map table\n\n\n      self.programMapTable = {\n        video: null,\n        audio: null,\n        'timed-metadata': {}\n      }; // the mapping table ends at the end of the current section\n\n      sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\n      tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n      // long the program info descriptors are\n\n      programInfoLength = (payload[10] & 0x0f) << 8 | payload[11]; // advance the offset to the first entry in the mapping table\n\n      offset = 12 + programInfoLength;\n\n      while (offset < tableEnd) {\n        var streamType = payload[offset];\n        var pid = (payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]; // only map a single elementary_pid for audio and video stream types\n        // TODO: should this be done for metadata too? for now maintain behavior of\n        //       multiple metadata streams\n\n        if (streamType === streamTypes.H264_STREAM_TYPE && self.programMapTable.video === null) {\n          self.programMapTable.video = pid;\n        } else if (streamType === streamTypes.ADTS_STREAM_TYPE && self.programMapTable.audio === null) {\n          self.programMapTable.audio = pid;\n        } else if (streamType === streamTypes.METADATA_STREAM_TYPE) {\n          // map pid to stream type for metadata streams\n          self.programMapTable['timed-metadata'][pid] = streamType;\n        } // move to the next table entry\n        // skip past the elementary stream descriptors, if present\n\n\n        offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\n      } // record the map on the packet as well\n\n\n      pmt.programMapTable = self.programMapTable;\n    };\n    /**\n     * Deliver a new MP2T packet to the next stream in the pipeline.\n     */\n\n\n    this.push = function (packet) {\n      var result = {},\n          offset = 4;\n      result.payloadUnitStartIndicator = !!(packet[1] & 0x40); // pid is a 13-bit field starting at the last bit of packet[1]\n\n      result.pid = packet[1] & 0x1f;\n      result.pid <<= 8;\n      result.pid |= packet[2]; // if an adaption field is present, its length is specified by the\n      // fifth byte of the TS packet header. The adaptation field is\n      // used to add stuffing to PES packets that don't fill a complete\n      // TS packet, and to specify some forms of timing and control data\n      // that we do not currently use.\n\n      if ((packet[3] & 0x30) >>> 4 > 0x01) {\n        offset += packet[offset] + 1;\n      } // parse the rest of the packet based on the type\n\n\n      if (result.pid === 0) {\n        result.type = 'pat';\n        parsePsi(packet.subarray(offset), result);\n        this.trigger('data', result);\n      } else if (result.pid === this.pmtPid) {\n        result.type = 'pmt';\n        parsePsi(packet.subarray(offset), result);\n        this.trigger('data', result); // if there are any packets waiting for a PMT to be found, process them now\n\n        while (this.packetsWaitingForPmt.length) {\n          this.processPes_.apply(this, this.packetsWaitingForPmt.shift());\n        }\n      } else if (this.programMapTable === undefined) {\n        // When we have not seen a PMT yet, defer further processing of\n        // PES packets until one has been parsed\n        this.packetsWaitingForPmt.push([packet, offset, result]);\n      } else {\n        this.processPes_(packet, offset, result);\n      }\n    };\n\n    this.processPes_ = function (packet, offset, result) {\n      // set the appropriate stream type\n      if (result.pid === this.programMapTable.video) {\n        result.streamType = streamTypes.H264_STREAM_TYPE;\n      } else if (result.pid === this.programMapTable.audio) {\n        result.streamType = streamTypes.ADTS_STREAM_TYPE;\n      } else {\n        // if not video or audio, it is timed-metadata or unknown\n        // if unknown, streamType will be undefined\n        result.streamType = this.programMapTable['timed-metadata'][result.pid];\n      }\n\n      result.type = 'pes';\n      result.data = packet.subarray(offset);\n      this.trigger('data', result);\n    };\n  };\n\n  _TransportParseStream.prototype = new stream();\n  _TransportParseStream.STREAM_TYPES = {\n    h264: 0x1b,\n    adts: 0x0f\n  };\n  /**\n   * Reconsistutes program elementary stream (PES) packets from parsed\n   * transport stream packets. That is, if you pipe an\n   * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\n   * events will be events which capture the bytes for individual PES\n   * packets plus relevant metadata that has been extracted from the\n   * container.\n   */\n\n  _ElementaryStream = function ElementaryStream() {\n    var self = this,\n        // PES packet fragments\n    video = {\n      data: [],\n      size: 0\n    },\n        audio = {\n      data: [],\n      size: 0\n    },\n        timedMetadata = {\n      data: [],\n      size: 0\n    },\n        parsePes = function parsePes(payload, pes) {\n      var ptsDtsFlags; // get the packet length, this will be 0 for video\n\n      pes.packetLength = 6 + (payload[4] << 8 | payload[5]); // find out if this packets starts a new keyframe\n\n      pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0; // PES packets may be annotated with a PTS value, or a PTS value\n      // and a DTS value. Determine what combination of values is\n      // available to work with.\n\n      ptsDtsFlags = payload[7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n      // performs all bitwise operations on 32-bit integers but javascript\n      // supports a much greater range (52-bits) of integer using standard\n      // mathematical operations.\n      // We construct a 31-bit value using bitwise operators over the 31\n      // most significant bits and then multiply by 4 (equal to a left-shift\n      // of 2) before we add the final 2 least significant bits of the\n      // timestamp (equal to an OR.)\n\n      if (ptsDtsFlags & 0xC0) {\n        // the PTS and DTS are not written out directly. For information\n        // on how they are encoded, see\n        // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n        pes.pts = (payload[9] & 0x0E) << 27 | (payload[10] & 0xFF) << 20 | (payload[11] & 0xFE) << 12 | (payload[12] & 0xFF) << 5 | (payload[13] & 0xFE) >>> 3;\n        pes.pts *= 4; // Left shift by 2\n\n        pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\n\n        pes.dts = pes.pts;\n\n        if (ptsDtsFlags & 0x40) {\n          pes.dts = (payload[14] & 0x0E) << 27 | (payload[15] & 0xFF) << 20 | (payload[16] & 0xFE) << 12 | (payload[17] & 0xFF) << 5 | (payload[18] & 0xFE) >>> 3;\n          pes.dts *= 4; // Left shift by 2\n\n          pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\n        }\n      } // the data section starts immediately after the PES header.\n      // pes_header_data_length specifies the number of header bytes\n      // that follow the last byte of the field.\n\n\n      pes.data = payload.subarray(9 + payload[8]);\n    },\n\n    /**\n      * Pass completely parsed PES packets to the next stream in the pipeline\n     **/\n    flushStream = function flushStream(stream$$1, type, forceFlush) {\n      var packetData = new Uint8Array(stream$$1.size),\n          event = {\n        type: type\n      },\n          i = 0,\n          offset = 0,\n          packetFlushable = false,\n          fragment; // do nothing if there is not enough buffered data for a complete\n      // PES header\n\n      if (!stream$$1.data.length || stream$$1.size < 9) {\n        return;\n      }\n\n      event.trackId = stream$$1.data[0].pid; // reassemble the packet\n\n      for (i = 0; i < stream$$1.data.length; i++) {\n        fragment = stream$$1.data[i];\n        packetData.set(fragment.data, offset);\n        offset += fragment.data.byteLength;\n      } // parse assembled packet's PES header\n\n\n      parsePes(packetData, event); // non-video PES packets MUST have a non-zero PES_packet_length\n      // check that there is enough stream data to fill the packet\n\n      packetFlushable = type === 'video' || event.packetLength <= stream$$1.size; // flush pending packets if the conditions are right\n\n      if (forceFlush || packetFlushable) {\n        stream$$1.size = 0;\n        stream$$1.data.length = 0;\n      } // only emit packets that are complete. this is to avoid assembling\n      // incomplete PES packets due to poor segmentation\n\n\n      if (packetFlushable) {\n        self.trigger('data', event);\n      }\n    };\n\n    _ElementaryStream.prototype.init.call(this);\n    /**\n     * Identifies M2TS packet types and parses PES packets using metadata\n     * parsed from the PMT\n     **/\n\n\n    this.push = function (data) {\n      ({\n        pat: function pat() {// we have to wait for the PMT to arrive as well before we\n          // have any meaningful metadata\n        },\n        pes: function pes() {\n          var stream$$1, streamType;\n\n          switch (data.streamType) {\n            case streamTypes.H264_STREAM_TYPE:\n            case streamTypes.H264_STREAM_TYPE:\n              stream$$1 = video;\n              streamType = 'video';\n              break;\n\n            case streamTypes.ADTS_STREAM_TYPE:\n              stream$$1 = audio;\n              streamType = 'audio';\n              break;\n\n            case streamTypes.METADATA_STREAM_TYPE:\n              stream$$1 = timedMetadata;\n              streamType = 'timed-metadata';\n              break;\n\n            default:\n              // ignore unknown stream types\n              return;\n          } // if a new packet is starting, we can flush the completed\n          // packet\n\n\n          if (data.payloadUnitStartIndicator) {\n            flushStream(stream$$1, streamType, true);\n          } // buffer this fragment until we are sure we've received the\n          // complete payload\n\n\n          stream$$1.data.push(data);\n          stream$$1.size += data.data.byteLength;\n        },\n        pmt: function pmt() {\n          var event = {\n            type: 'metadata',\n            tracks: []\n          },\n              programMapTable = data.programMapTable; // translate audio and video streams to tracks\n\n          if (programMapTable.video !== null) {\n            event.tracks.push({\n              timelineStartInfo: {\n                baseMediaDecodeTime: 0\n              },\n              id: +programMapTable.video,\n              codec: 'avc',\n              type: 'video'\n            });\n          }\n\n          if (programMapTable.audio !== null) {\n            event.tracks.push({\n              timelineStartInfo: {\n                baseMediaDecodeTime: 0\n              },\n              id: +programMapTable.audio,\n              codec: 'adts',\n              type: 'audio'\n            });\n          }\n\n          self.trigger('data', event);\n        }\n      })[data.type]();\n    };\n    /**\n     * Flush any remaining input. Video PES packets may be of variable\n     * length. Normally, the start of a new video packet can trigger the\n     * finalization of the previous packet. That is not possible if no\n     * more video is forthcoming, however. In that case, some other\n     * mechanism (like the end of the file) has to be employed. When it is\n     * clear that no additional data is forthcoming, calling this method\n     * will flush the buffered packets.\n     */\n\n\n    this.flush = function () {\n      // !!THIS ORDER IS IMPORTANT!!\n      // video first then audio\n      flushStream(video, 'video');\n      flushStream(audio, 'audio');\n      flushStream(timedMetadata, 'timed-metadata');\n      this.trigger('done');\n    };\n  };\n\n  _ElementaryStream.prototype = new stream();\n  var m2ts = {\n    PAT_PID: 0x0000,\n    MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\n    TransportPacketStream: _TransportPacketStream,\n    TransportParseStream: _TransportParseStream,\n    ElementaryStream: _ElementaryStream,\n    TimestampRolloverStream: TimestampRolloverStream$1,\n    CaptionStream: captionStream.CaptionStream,\n    Cea608Stream: captionStream.Cea608Stream,\n    MetadataStream: metadataStream\n  };\n\n  for (var type$1 in streamTypes) {\n    if (streamTypes.hasOwnProperty(type$1)) {\n      m2ts[type$1] = streamTypes[type$1];\n    }\n  }\n\n  var m2ts_1 = m2ts;\n\n  var _AdtsStream;\n\n  var ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n  /*\n   * Accepts a ElementaryStream and emits data events with parsed\n   * AAC Audio Frames of the individual packets. Input audio in ADTS\n   * format is unpacked and re-emitted as AAC frames.\n   *\n   * @see http://wiki.multimedia.cx/index.php?title=ADTS\n   * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n   */\n\n  _AdtsStream = function AdtsStream() {\n    var buffer;\n\n    _AdtsStream.prototype.init.call(this);\n\n    this.push = function (packet) {\n      var i = 0,\n          frameNum = 0,\n          frameLength,\n          protectionSkipBytes,\n          frameEnd,\n          oldBuffer,\n          sampleCount,\n          adtsFrameDuration;\n\n      if (packet.type !== 'audio') {\n        // ignore non-audio data\n        return;\n      } // Prepend any data in the buffer to the input data so that we can parse\n      // aac frames the cross a PES packet boundary\n\n\n      if (buffer) {\n        oldBuffer = buffer;\n        buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n        buffer.set(oldBuffer);\n        buffer.set(packet.data, oldBuffer.byteLength);\n      } else {\n        buffer = packet.data;\n      } // unpack any ADTS frames which have been fully received\n      // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n\n\n      while (i + 5 < buffer.length) {\n        // Loook for the start of an ADTS header..\n        if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n          // If a valid header was not found,  jump one forward and attempt to\n          // find a valid ADTS header starting at the next byte\n          i++;\n          continue;\n        } // The protection skip bit tells us if we have 2 bytes of CRC data at the\n        // end of the ADTS header\n\n\n        protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2; // Frame length is a 13 bit integer starting 16 bits from the\n        // end of the sync sequence\n\n        frameLength = (buffer[i + 3] & 0x03) << 11 | buffer[i + 4] << 3 | (buffer[i + 5] & 0xe0) >> 5;\n        sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n        adtsFrameDuration = sampleCount * 90000 / ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n        frameEnd = i + frameLength; // If we don't have enough data to actually finish this ADTS frame, return\n        // and wait for more data\n\n        if (buffer.byteLength < frameEnd) {\n          return;\n        } // Otherwise, deliver the complete AAC frame\n\n\n        this.trigger('data', {\n          pts: packet.pts + frameNum * adtsFrameDuration,\n          dts: packet.dts + frameNum * adtsFrameDuration,\n          sampleCount: sampleCount,\n          audioobjecttype: (buffer[i + 2] >>> 6 & 0x03) + 1,\n          channelcount: (buffer[i + 2] & 1) << 2 | (buffer[i + 3] & 0xc0) >>> 6,\n          samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n          samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n          // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n          samplesize: 16,\n          data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n        }); // If the buffer is empty, clear it and return\n\n        if (buffer.byteLength === frameEnd) {\n          buffer = undefined;\n          return;\n        }\n\n        frameNum++; // Remove the finished frame from the buffer and start the process again\n\n        buffer = buffer.subarray(frameEnd);\n      }\n    };\n\n    this.flush = function () {\n      this.trigger('done');\n    };\n  };\n\n  _AdtsStream.prototype = new stream();\n  var adts = _AdtsStream;\n\n  var ExpGolomb;\n  /**\n   * Parser for exponential Golomb codes, a variable-bitwidth number encoding\n   * scheme used by h264.\n   */\n\n  ExpGolomb = function ExpGolomb(workingData) {\n    var // the number of bytes left to examine in workingData\n    workingBytesAvailable = workingData.byteLength,\n        // the current word being examined\n    workingWord = 0,\n        // :uint\n    // the number of bits left to examine in the current word\n    workingBitsAvailable = 0; // :uint;\n    // ():uint\n\n    this.length = function () {\n      return 8 * workingBytesAvailable;\n    }; // ():uint\n\n\n    this.bitsAvailable = function () {\n      return 8 * workingBytesAvailable + workingBitsAvailable;\n    }; // ():void\n\n\n    this.loadWord = function () {\n      var position = workingData.byteLength - workingBytesAvailable,\n          workingBytes = new Uint8Array(4),\n          availableBytes = Math.min(4, workingBytesAvailable);\n\n      if (availableBytes === 0) {\n        throw new Error('no bytes available');\n      }\n\n      workingBytes.set(workingData.subarray(position, position + availableBytes));\n      workingWord = new DataView(workingBytes.buffer).getUint32(0); // track the amount of workingData that has been processed\n\n      workingBitsAvailable = availableBytes * 8;\n      workingBytesAvailable -= availableBytes;\n    }; // (count:int):void\n\n\n    this.skipBits = function (count) {\n      var skipBytes; // :int\n\n      if (workingBitsAvailable > count) {\n        workingWord <<= count;\n        workingBitsAvailable -= count;\n      } else {\n        count -= workingBitsAvailable;\n        skipBytes = Math.floor(count / 8);\n        count -= skipBytes * 8;\n        workingBytesAvailable -= skipBytes;\n        this.loadWord();\n        workingWord <<= count;\n        workingBitsAvailable -= count;\n      }\n    }; // (size:int):uint\n\n\n    this.readBits = function (size) {\n      var bits = Math.min(workingBitsAvailable, size),\n          // :uint\n      valu = workingWord >>> 32 - bits; // :uint\n      // if size > 31, handle error\n\n      workingBitsAvailable -= bits;\n\n      if (workingBitsAvailable > 0) {\n        workingWord <<= bits;\n      } else if (workingBytesAvailable > 0) {\n        this.loadWord();\n      }\n\n      bits = size - bits;\n\n      if (bits > 0) {\n        return valu << bits | this.readBits(bits);\n      }\n\n      return valu;\n    }; // ():uint\n\n\n    this.skipLeadingZeros = function () {\n      var leadingZeroCount; // :uint\n\n      for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\n        if ((workingWord & 0x80000000 >>> leadingZeroCount) !== 0) {\n          // the first bit of working word is 1\n          workingWord <<= leadingZeroCount;\n          workingBitsAvailable -= leadingZeroCount;\n          return leadingZeroCount;\n        }\n      } // we exhausted workingWord and still have not found a 1\n\n\n      this.loadWord();\n      return leadingZeroCount + this.skipLeadingZeros();\n    }; // ():void\n\n\n    this.skipUnsignedExpGolomb = function () {\n      this.skipBits(1 + this.skipLeadingZeros());\n    }; // ():void\n\n\n    this.skipExpGolomb = function () {\n      this.skipBits(1 + this.skipLeadingZeros());\n    }; // ():uint\n\n\n    this.readUnsignedExpGolomb = function () {\n      var clz = this.skipLeadingZeros(); // :uint\n\n      return this.readBits(clz + 1) - 1;\n    }; // ():int\n\n\n    this.readExpGolomb = function () {\n      var valu = this.readUnsignedExpGolomb(); // :int\n\n      if (0x01 & valu) {\n        // the number is odd if the low order bit is set\n        return 1 + valu >>> 1; // add 1 to make it even, and divide by 2\n      }\n\n      return -1 * (valu >>> 1); // divide by two then make it negative\n    }; // Some convenience functions\n    // :Boolean\n\n\n    this.readBoolean = function () {\n      return this.readBits(1) === 1;\n    }; // ():int\n\n\n    this.readUnsignedByte = function () {\n      return this.readBits(8);\n    };\n\n    this.loadWord();\n  };\n\n  var expGolomb = ExpGolomb;\n\n  var _H264Stream, _NalByteStream;\n\n  var PROFILES_WITH_OPTIONAL_SPS_DATA;\n  /**\n   * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\n   */\n\n  _NalByteStream = function NalByteStream() {\n    var syncPoint = 0,\n        i,\n        buffer;\n\n    _NalByteStream.prototype.init.call(this);\n    /*\n     * Scans a byte stream and triggers a data event with the NAL units found.\n     * @param {Object} data Event received from H264Stream\n     * @param {Uint8Array} data.data The h264 byte stream to be scanned\n     *\n     * @see H264Stream.push\n     */\n\n\n    this.push = function (data) {\n      var swapBuffer;\n\n      if (!buffer) {\n        buffer = data.data;\n      } else {\n        swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\n        swapBuffer.set(buffer);\n        swapBuffer.set(data.data, buffer.byteLength);\n        buffer = swapBuffer;\n      } // Rec. ITU-T H.264, Annex B\n      // scan for NAL unit boundaries\n      // a match looks like this:\n      // 0 0 1 .. NAL .. 0 0 1\n      // ^ sync point        ^ i\n      // or this:\n      // 0 0 1 .. NAL .. 0 0 0\n      // ^ sync point        ^ i\n      // advance the sync point to a NAL start, if necessary\n\n\n      for (; syncPoint < buffer.byteLength - 3; syncPoint++) {\n        if (buffer[syncPoint + 2] === 1) {\n          // the sync point is properly aligned\n          i = syncPoint + 5;\n          break;\n        }\n      }\n\n      while (i < buffer.byteLength) {\n        // look at the current byte to determine if we've hit the end of\n        // a NAL unit boundary\n        switch (buffer[i]) {\n          case 0:\n            // skip past non-sync sequences\n            if (buffer[i - 1] !== 0) {\n              i += 2;\n              break;\n            } else if (buffer[i - 2] !== 0) {\n              i++;\n              break;\n            } // deliver the NAL unit if it isn't empty\n\n\n            if (syncPoint + 3 !== i - 2) {\n              this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n            } // drop trailing zeroes\n\n\n            do {\n              i++;\n            } while (buffer[i] !== 1 && i < buffer.length);\n\n            syncPoint = i - 2;\n            i += 3;\n            break;\n\n          case 1:\n            // skip past non-sync sequences\n            if (buffer[i - 1] !== 0 || buffer[i - 2] !== 0) {\n              i += 3;\n              break;\n            } // deliver the NAL unit\n\n\n            this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n            syncPoint = i - 2;\n            i += 3;\n            break;\n\n          default:\n            // the current byte isn't a one or zero, so it cannot be part\n            // of a sync sequence\n            i += 3;\n            break;\n        }\n      } // filter out the NAL units that were delivered\n\n\n      buffer = buffer.subarray(syncPoint);\n      i -= syncPoint;\n      syncPoint = 0;\n    };\n\n    this.flush = function () {\n      // deliver the last buffered NAL unit\n      if (buffer && buffer.byteLength > 3) {\n        this.trigger('data', buffer.subarray(syncPoint + 3));\n      } // reset the stream state\n\n\n      buffer = null;\n      syncPoint = 0;\n      this.trigger('done');\n    };\n  };\n\n  _NalByteStream.prototype = new stream(); // values of profile_idc that indicate additional fields are included in the SPS\n  // see Recommendation ITU-T H.264 (4/2013),\n  // 7.3.2.1.1 Sequence parameter set data syntax\n\n  PROFILES_WITH_OPTIONAL_SPS_DATA = {\n    100: true,\n    110: true,\n    122: true,\n    244: true,\n    44: true,\n    83: true,\n    86: true,\n    118: true,\n    128: true,\n    138: true,\n    139: true,\n    134: true\n  };\n  /**\n   * Accepts input from a ElementaryStream and produces H.264 NAL unit data\n   * events.\n   */\n\n  _H264Stream = function H264Stream() {\n    var nalByteStream = new _NalByteStream(),\n        self,\n        trackId,\n        currentPts,\n        currentDts,\n        discardEmulationPreventionBytes,\n        readSequenceParameterSet,\n        skipScalingList;\n\n    _H264Stream.prototype.init.call(this);\n\n    self = this;\n    /*\n     * Pushes a packet from a stream onto the NalByteStream\n     *\n     * @param {Object} packet - A packet received from a stream\n     * @param {Uint8Array} packet.data - The raw bytes of the packet\n     * @param {Number} packet.dts - Decode timestamp of the packet\n     * @param {Number} packet.pts - Presentation timestamp of the packet\n     * @param {Number} packet.trackId - The id of the h264 track this packet came from\n     * @param {('video'|'audio')} packet.type - The type of packet\n     *\n     */\n\n    this.push = function (packet) {\n      if (packet.type !== 'video') {\n        return;\n      }\n\n      trackId = packet.trackId;\n      currentPts = packet.pts;\n      currentDts = packet.dts;\n      nalByteStream.push(packet);\n    };\n    /*\n     * Identify NAL unit types and pass on the NALU, trackId, presentation and decode timestamps\n     * for the NALUs to the next stream component.\n     * Also, preprocess caption and sequence parameter NALUs.\n     *\n     * @param {Uint8Array} data - A NAL unit identified by `NalByteStream.push`\n     * @see NalByteStream.push\n     */\n\n\n    nalByteStream.on('data', function (data) {\n      var event = {\n        trackId: trackId,\n        pts: currentPts,\n        dts: currentDts,\n        data: data\n      };\n\n      switch (data[0] & 0x1f) {\n        case 0x05:\n          event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\n          break;\n\n        case 0x06:\n          event.nalUnitType = 'sei_rbsp';\n          event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n          break;\n\n        case 0x07:\n          event.nalUnitType = 'seq_parameter_set_rbsp';\n          event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n          event.config = readSequenceParameterSet(event.escapedRBSP);\n          break;\n\n        case 0x08:\n          event.nalUnitType = 'pic_parameter_set_rbsp';\n          break;\n\n        case 0x09:\n          event.nalUnitType = 'access_unit_delimiter_rbsp';\n          break;\n\n        default:\n          break;\n      } // This triggers data on the H264Stream\n\n\n      self.trigger('data', event);\n    });\n    nalByteStream.on('done', function () {\n      self.trigger('done');\n    });\n\n    this.flush = function () {\n      nalByteStream.flush();\n    };\n    /**\n     * Advance the ExpGolomb decoder past a scaling list. The scaling\n     * list is optionally transmitted as part of a sequence parameter\n     * set and is not relevant to transmuxing.\n     * @param count {number} the number of entries in this scaling list\n     * @param expGolombDecoder {object} an ExpGolomb pointed to the\n     * start of a scaling list\n     * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n     */\n\n\n    skipScalingList = function skipScalingList(count, expGolombDecoder) {\n      var lastScale = 8,\n          nextScale = 8,\n          j,\n          deltaScale;\n\n      for (j = 0; j < count; j++) {\n        if (nextScale !== 0) {\n          deltaScale = expGolombDecoder.readExpGolomb();\n          nextScale = (lastScale + deltaScale + 256) % 256;\n        }\n\n        lastScale = nextScale === 0 ? lastScale : nextScale;\n      }\n    };\n    /**\n     * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n     * Sequence Payload\"\n     * @param data {Uint8Array} the bytes of a RBSP from a NAL\n     * unit\n     * @return {Uint8Array} the RBSP without any Emulation\n     * Prevention Bytes\n     */\n\n\n    discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n      var length = data.byteLength,\n          emulationPreventionBytesPositions = [],\n          i = 1,\n          newLength,\n          newData; // Find all `Emulation Prevention Bytes`\n\n      while (i < length - 2) {\n        if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n          emulationPreventionBytesPositions.push(i + 2);\n          i += 2;\n        } else {\n          i++;\n        }\n      } // If no Emulation Prevention Bytes were found just return the original\n      // array\n\n\n      if (emulationPreventionBytesPositions.length === 0) {\n        return data;\n      } // Create a new array to hold the NAL unit data\n\n\n      newLength = length - emulationPreventionBytesPositions.length;\n      newData = new Uint8Array(newLength);\n      var sourceIndex = 0;\n\n      for (i = 0; i < newLength; sourceIndex++, i++) {\n        if (sourceIndex === emulationPreventionBytesPositions[0]) {\n          // Skip this byte\n          sourceIndex++; // Remove this position index\n\n          emulationPreventionBytesPositions.shift();\n        }\n\n        newData[i] = data[sourceIndex];\n      }\n\n      return newData;\n    };\n    /**\n     * Read a sequence parameter set and return some interesting video\n     * properties. A sequence parameter set is the H264 metadata that\n     * describes the properties of upcoming video frames.\n     * @param data {Uint8Array} the bytes of a sequence parameter set\n     * @return {object} an object with configuration parsed from the\n     * sequence parameter set, including the dimensions of the\n     * associated video frames.\n     */\n\n\n    readSequenceParameterSet = function readSequenceParameterSet(data) {\n      var frameCropLeftOffset = 0,\n          frameCropRightOffset = 0,\n          frameCropTopOffset = 0,\n          frameCropBottomOffset = 0,\n          sarScale = 1,\n          expGolombDecoder,\n          profileIdc,\n          levelIdc,\n          profileCompatibility,\n          chromaFormatIdc,\n          picOrderCntType,\n          numRefFramesInPicOrderCntCycle,\n          picWidthInMbsMinus1,\n          picHeightInMapUnitsMinus1,\n          frameMbsOnlyFlag,\n          scalingListCount,\n          sarRatio,\n          aspectRatioIdc,\n          i;\n      expGolombDecoder = new expGolomb(data);\n      profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\n\n      profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\n\n      levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\n\n      expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\n      // some profiles have more optional data we don't need\n\n      if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\n        chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\n\n        if (chromaFormatIdc === 3) {\n          expGolombDecoder.skipBits(1); // separate_colour_plane_flag\n        }\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\n\n        expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\n\n        expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n\n        if (expGolombDecoder.readBoolean()) {\n          // seq_scaling_matrix_present_flag\n          scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n\n          for (i = 0; i < scalingListCount; i++) {\n            if (expGolombDecoder.readBoolean()) {\n              // seq_scaling_list_present_flag[ i ]\n              if (i < 6) {\n                skipScalingList(16, expGolombDecoder);\n              } else {\n                skipScalingList(64, expGolombDecoder);\n              }\n            }\n          }\n        }\n      }\n\n      expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\n\n      picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\n\n      if (picOrderCntType === 0) {\n        expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\n      } else if (picOrderCntType === 1) {\n        expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\n\n        expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\n\n        expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\n\n        numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\n\n        for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n          expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\n        }\n      }\n\n      expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\n\n      expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n\n      picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n      picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n      frameMbsOnlyFlag = expGolombDecoder.readBits(1);\n\n      if (frameMbsOnlyFlag === 0) {\n        expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\n      }\n\n      expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\n\n      if (expGolombDecoder.readBoolean()) {\n        // frame_cropping_flag\n        frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\n        frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\n        frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\n        frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\n      }\n\n      if (expGolombDecoder.readBoolean()) {\n        // vui_parameters_present_flag\n        if (expGolombDecoder.readBoolean()) {\n          // aspect_ratio_info_present_flag\n          aspectRatioIdc = expGolombDecoder.readUnsignedByte();\n\n          switch (aspectRatioIdc) {\n            case 1:\n              sarRatio = [1, 1];\n              break;\n\n            case 2:\n              sarRatio = [12, 11];\n              break;\n\n            case 3:\n              sarRatio = [10, 11];\n              break;\n\n            case 4:\n              sarRatio = [16, 11];\n              break;\n\n            case 5:\n              sarRatio = [40, 33];\n              break;\n\n            case 6:\n              sarRatio = [24, 11];\n              break;\n\n            case 7:\n              sarRatio = [20, 11];\n              break;\n\n            case 8:\n              sarRatio = [32, 11];\n              break;\n\n            case 9:\n              sarRatio = [80, 33];\n              break;\n\n            case 10:\n              sarRatio = [18, 11];\n              break;\n\n            case 11:\n              sarRatio = [15, 11];\n              break;\n\n            case 12:\n              sarRatio = [64, 33];\n              break;\n\n            case 13:\n              sarRatio = [160, 99];\n              break;\n\n            case 14:\n              sarRatio = [4, 3];\n              break;\n\n            case 15:\n              sarRatio = [3, 2];\n              break;\n\n            case 16:\n              sarRatio = [2, 1];\n              break;\n\n            case 255:\n              {\n                sarRatio = [expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte(), expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte()];\n                break;\n              }\n          }\n\n          if (sarRatio) {\n            sarScale = sarRatio[0] / sarRatio[1];\n          }\n        }\n      }\n\n      return {\n        profileIdc: profileIdc,\n        levelIdc: levelIdc,\n        profileCompatibility: profileCompatibility,\n        width: Math.ceil(((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - frameCropTopOffset * 2 - frameCropBottomOffset * 2\n      };\n    };\n  };\n\n  _H264Stream.prototype = new stream();\n  var h264 = {\n    H264Stream: _H264Stream,\n    NalByteStream: _NalByteStream\n  };\n\n  /**\n   * mux.js\n   *\n   * Copyright (c) 2016 Brightcove\n   * All rights reserved.\n   *\n   * Utilities to detect basic properties and metadata about Aac data.\n   */\n\n  var ADTS_SAMPLING_FREQUENCIES$1 = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n  var isLikelyAacData = function isLikelyAacData(data) {\n    if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  var parseSyncSafeInteger$1 = function parseSyncSafeInteger(data) {\n    return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n  }; // return a percent-encoded representation of the specified byte range\n  // @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\n  var percentEncode$1 = function percentEncode(bytes, start, end) {\n    var i,\n        result = '';\n\n    for (i = start; i < end; i++) {\n      result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n    }\n\n    return result;\n  }; // return the string representation of the specified byte range,\n  // interpreted as ISO-8859-1.\n\n\n  var parseIso88591$1 = function parseIso88591(bytes, start, end) {\n    return unescape(percentEncode$1(bytes, start, end)); // jshint ignore:line\n  };\n\n  var parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n    var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n        flags = header[byteIndex + 5],\n        footerPresent = (flags & 16) >> 4;\n\n    if (footerPresent) {\n      return returnSize + 20;\n    }\n\n    return returnSize + 10;\n  };\n\n  var parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n    var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n        middle = header[byteIndex + 4] << 3,\n        highTwo = header[byteIndex + 3] & 0x3 << 11;\n    return highTwo | middle | lowThree;\n  };\n\n  var parseType$1 = function parseType(header, byteIndex) {\n    if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n      return 'timed-metadata';\n    } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n      return 'audio';\n    }\n\n    return null;\n  };\n\n  var parseSampleRate = function parseSampleRate(packet) {\n    var i = 0;\n\n    while (i + 5 < packet.length) {\n      if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n        // If a valid header was not found,  jump one forward and attempt to\n        // find a valid ADTS header starting at the next byte\n        i++;\n        continue;\n      }\n\n      return ADTS_SAMPLING_FREQUENCIES$1[(packet[i + 2] & 0x3c) >>> 2];\n    }\n\n    return null;\n  };\n\n  var parseAacTimestamp = function parseAacTimestamp(packet) {\n    var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n    frameStart = 10;\n\n    if (packet[5] & 0x40) {\n      // advance the frame start past the extended header\n      frameStart += 4; // header size field\n\n      frameStart += parseSyncSafeInteger$1(packet.subarray(10, 14));\n    } // parse one or more ID3 frames\n    // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n    do {\n      // determine the number of bytes in this frame\n      frameSize = parseSyncSafeInteger$1(packet.subarray(frameStart + 4, frameStart + 8));\n\n      if (frameSize < 1) {\n        return null;\n      }\n\n      frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n      if (frameHeader === 'PRIV') {\n        frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n        for (var i = 0; i < frame.byteLength; i++) {\n          if (frame[i] === 0) {\n            var owner = parseIso88591$1(frame, 0, i);\n\n            if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n              var d = frame.subarray(i + 1);\n              var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n              size *= 4;\n              size += d[7] & 0x03;\n              return size;\n            }\n\n            break;\n          }\n        }\n      }\n\n      frameStart += 10; // advance past the frame header\n\n      frameStart += frameSize; // advance past the frame body\n    } while (frameStart < packet.byteLength);\n\n    return null;\n  };\n\n  var utils = {\n    isLikelyAacData: isLikelyAacData,\n    parseId3TagSize: parseId3TagSize,\n    parseAdtsSize: parseAdtsSize,\n    parseType: parseType$1,\n    parseSampleRate: parseSampleRate,\n    parseAacTimestamp: parseAacTimestamp\n  };\n\n  var _AacStream;\n  /**\n   * Splits an incoming stream of binary data into ADTS and ID3 Frames.\n   */\n\n\n  _AacStream = function AacStream() {\n    var everything = new Uint8Array(),\n        timeStamp = 0;\n\n    _AacStream.prototype.init.call(this);\n\n    this.setTimestamp = function (timestamp) {\n      timeStamp = timestamp;\n    };\n\n    this.push = function (bytes) {\n      var frameSize = 0,\n          byteIndex = 0,\n          bytesLeft,\n          chunk,\n          packet,\n          tempLength; // If there are bytes remaining from the last segment, prepend them to the\n      // bytes that were pushed in\n\n      if (everything.length) {\n        tempLength = everything.length;\n        everything = new Uint8Array(bytes.byteLength + tempLength);\n        everything.set(everything.subarray(0, tempLength));\n        everything.set(bytes, tempLength);\n      } else {\n        everything = bytes;\n      }\n\n      while (everything.length - byteIndex >= 3) {\n        if (everything[byteIndex] === 'I'.charCodeAt(0) && everything[byteIndex + 1] === 'D'.charCodeAt(0) && everything[byteIndex + 2] === '3'.charCodeAt(0)) {\n          // Exit early because we don't have enough to parse\n          // the ID3 tag header\n          if (everything.length - byteIndex < 10) {\n            break;\n          } // check framesize\n\n\n          frameSize = utils.parseId3TagSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n          // Add to byteIndex to support multiple ID3 tags in sequence\n\n          if (byteIndex + frameSize > everything.length) {\n            break;\n          }\n\n          chunk = {\n            type: 'timed-metadata',\n            data: everything.subarray(byteIndex, byteIndex + frameSize)\n          };\n          this.trigger('data', chunk);\n          byteIndex += frameSize;\n          continue;\n        } else if ((everything[byteIndex] & 0xff) === 0xff && (everything[byteIndex + 1] & 0xf0) === 0xf0) {\n          // Exit early because we don't have enough to parse\n          // the ADTS frame header\n          if (everything.length - byteIndex < 7) {\n            break;\n          }\n\n          frameSize = utils.parseAdtsSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n\n          if (byteIndex + frameSize > everything.length) {\n            break;\n          }\n\n          packet = {\n            type: 'audio',\n            data: everything.subarray(byteIndex, byteIndex + frameSize),\n            pts: timeStamp,\n            dts: timeStamp\n          };\n          this.trigger('data', packet);\n          byteIndex += frameSize;\n          continue;\n        }\n\n        byteIndex++;\n      }\n\n      bytesLeft = everything.length - byteIndex;\n\n      if (bytesLeft > 0) {\n        everything = everything.subarray(byteIndex);\n      } else {\n        everything = new Uint8Array();\n      }\n    };\n  };\n\n  _AacStream.prototype = new stream();\n  var aac = _AacStream;\n\n  var H264Stream = h264.H264Stream;\n  var isLikelyAacData$1 = utils.isLikelyAacData; // constants\n\n  var AUDIO_PROPERTIES = ['audioobjecttype', 'channelcount', 'samplerate', 'samplingfrequencyindex', 'samplesize'];\n  var VIDEO_PROPERTIES = ['width', 'height', 'profileIdc', 'levelIdc', 'profileCompatibility']; // object types\n\n  var _VideoSegmentStream, _AudioSegmentStream, _Transmuxer, _CoalesceStream;\n  /**\n   * Compare two arrays (even typed) for same-ness\n   */\n\n\n  var arrayEquals = function arrayEquals(a, b) {\n    var i;\n\n    if (a.length !== b.length) {\n      return false;\n    } // compare the value of each element in the array\n\n\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  var generateVideoSegmentTimingInfo = function generateVideoSegmentTimingInfo(baseMediaDecodeTime, startDts, startPts, endDts, endPts, prependedContentDuration) {\n    var ptsOffsetFromDts = startPts - startDts,\n        decodeDuration = endDts - startDts,\n        presentationDuration = endPts - startPts; // The PTS and DTS values are based on the actual stream times from the segment,\n    // however, the player time values will reflect a start from the baseMediaDecodeTime.\n    // In order to provide relevant values for the player times, base timing info on the\n    // baseMediaDecodeTime and the DTS and PTS durations of the segment.\n\n    return {\n      start: {\n        dts: baseMediaDecodeTime,\n        pts: baseMediaDecodeTime + ptsOffsetFromDts\n      },\n      end: {\n        dts: baseMediaDecodeTime + decodeDuration,\n        pts: baseMediaDecodeTime + presentationDuration\n      },\n      prependedContentDuration: prependedContentDuration,\n      baseMediaDecodeTime: baseMediaDecodeTime\n    };\n  };\n  /**\n   * Constructs a single-track, ISO BMFF media segment from AAC data\n   * events. The output of this stream can be fed to a SourceBuffer\n   * configured with a suitable initialization segment.\n   * @param track {object} track metadata configuration\n   * @param options {object} transmuxer options object\n   * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n   *        in the source; false to adjust the first segment to start at 0.\n   */\n\n\n  _AudioSegmentStream = function AudioSegmentStream(track, options) {\n    var adtsFrames = [],\n        sequenceNumber = 0,\n        earliestAllowedDts = 0,\n        audioAppendStartTs = 0,\n        videoBaseMediaDecodeTime = Infinity;\n    options = options || {};\n\n    _AudioSegmentStream.prototype.init.call(this);\n\n    this.push = function (data) {\n      trackDecodeInfo.collectDtsInfo(track, data);\n\n      if (track) {\n        AUDIO_PROPERTIES.forEach(function (prop) {\n          track[prop] = data[prop];\n        });\n      } // buffer audio data until end() is called\n\n\n      adtsFrames.push(data);\n    };\n\n    this.setEarliestDts = function (earliestDts) {\n      earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\n    };\n\n    this.setVideoBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n      videoBaseMediaDecodeTime = baseMediaDecodeTime;\n    };\n\n    this.setAudioAppendStart = function (timestamp) {\n      audioAppendStartTs = timestamp;\n    };\n\n    this.flush = function () {\n      var frames, moof, mdat, boxes; // return early if no audio data has been observed\n\n      if (adtsFrames.length === 0) {\n        this.trigger('done', 'AudioSegmentStream');\n        return;\n      }\n\n      frames = audioFrameUtils.trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts);\n      track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n      audioFrameUtils.prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime); // we have to build the index from byte locations to\n      // samples (that is, adts frames) in the audio data\n\n      track.samples = audioFrameUtils.generateSampleTable(frames); // concatenate the audio data to constuct the mdat\n\n      mdat = mp4Generator.mdat(audioFrameUtils.concatenateFrameData(frames));\n      adtsFrames = [];\n      moof = mp4Generator.moof(sequenceNumber, [track]);\n      boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // bump the sequence number for next time\n\n      sequenceNumber++;\n      boxes.set(moof);\n      boxes.set(mdat, moof.byteLength);\n      trackDecodeInfo.clearDtsInfo(track);\n      this.trigger('data', {\n        track: track,\n        boxes: boxes\n      });\n      this.trigger('done', 'AudioSegmentStream');\n    };\n  };\n\n  _AudioSegmentStream.prototype = new stream();\n  /**\n   * Constructs a single-track, ISO BMFF media segment from H264 data\n   * events. The output of this stream can be fed to a SourceBuffer\n   * configured with a suitable initialization segment.\n   * @param track {object} track metadata configuration\n   * @param options {object} transmuxer options object\n   * @param options.alignGopsAtEnd {boolean} If true, start from the end of the\n   *        gopsToAlignWith list when attempting to align gop pts\n   * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n   *        in the source; false to adjust the first segment to start at 0.\n   */\n\n  _VideoSegmentStream = function VideoSegmentStream(track, options) {\n    var sequenceNumber = 0,\n        nalUnits = [],\n        gopsToAlignWith = [],\n        config,\n        pps;\n    options = options || {};\n\n    _VideoSegmentStream.prototype.init.call(this);\n\n    delete track.minPTS;\n    this.gopCache_ = [];\n    /**\n      * Constructs a ISO BMFF segment given H264 nalUnits\n      * @param {Object} nalUnit A data event representing a nalUnit\n      * @param {String} nalUnit.nalUnitType\n      * @param {Object} nalUnit.config Properties for a mp4 track\n      * @param {Uint8Array} nalUnit.data The nalUnit bytes\n      * @see lib/codecs/h264.js\n     **/\n\n    this.push = function (nalUnit) {\n      trackDecodeInfo.collectDtsInfo(track, nalUnit); // record the track config\n\n      if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\n        config = nalUnit.config;\n        track.sps = [nalUnit.data];\n        VIDEO_PROPERTIES.forEach(function (prop) {\n          track[prop] = config[prop];\n        }, this);\n      }\n\n      if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' && !pps) {\n        pps = nalUnit.data;\n        track.pps = [nalUnit.data];\n      } // buffer video until flush() is called\n\n\n      nalUnits.push(nalUnit);\n    };\n    /**\n      * Pass constructed ISO BMFF track and boxes on to the\n      * next stream in the pipeline\n     **/\n\n\n    this.flush = function () {\n      var frames,\n          gopForFusion,\n          gops,\n          moof,\n          mdat,\n          boxes,\n          prependedContentDuration = 0,\n          firstGop,\n          lastGop; // Throw away nalUnits at the start of the byte stream until\n      // we find the first AUD\n\n      while (nalUnits.length) {\n        if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n          break;\n        }\n\n        nalUnits.shift();\n      } // Return early if no video data has been observed\n\n\n      if (nalUnits.length === 0) {\n        this.resetStream_();\n        this.trigger('done', 'VideoSegmentStream');\n        return;\n      } // Organize the raw nal-units into arrays that represent\n      // higher-level constructs such as frames and gops\n      // (group-of-pictures)\n\n\n      frames = frameUtils.groupNalsIntoFrames(nalUnits);\n      gops = frameUtils.groupFramesIntoGops(frames); // If the first frame of this fragment is not a keyframe we have\n      // a problem since MSE (on Chrome) requires a leading keyframe.\n      //\n      // We have two approaches to repairing this situation:\n      // 1) GOP-FUSION:\n      //    This is where we keep track of the GOPS (group-of-pictures)\n      //    from previous fragments and attempt to find one that we can\n      //    prepend to the current fragment in order to create a valid\n      //    fragment.\n      // 2) KEYFRAME-PULLING:\n      //    Here we search for the first keyframe in the fragment and\n      //    throw away all the frames between the start of the fragment\n      //    and that keyframe. We then extend the duration and pull the\n      //    PTS of the keyframe forward so that it covers the time range\n      //    of the frames that were disposed of.\n      //\n      // #1 is far prefereable over #2 which can cause \"stuttering\" but\n      // requires more things to be just right.\n\n      if (!gops[0][0].keyFrame) {\n        // Search for a gop for fusion from our gopCache\n        gopForFusion = this.getGopForFusion_(nalUnits[0], track);\n\n        if (gopForFusion) {\n          // in order to provide more accurate timing information about the segment, save\n          // the number of seconds prepended to the original segment due to GOP fusion\n          prependedContentDuration = gopForFusion.duration;\n          gops.unshift(gopForFusion); // Adjust Gops' metadata to account for the inclusion of the\n          // new gop at the beginning\n\n          gops.byteLength += gopForFusion.byteLength;\n          gops.nalCount += gopForFusion.nalCount;\n          gops.pts = gopForFusion.pts;\n          gops.dts = gopForFusion.dts;\n          gops.duration += gopForFusion.duration;\n        } else {\n          // If we didn't find a candidate gop fall back to keyframe-pulling\n          gops = frameUtils.extendFirstKeyFrame(gops);\n        }\n      } // Trim gops to align with gopsToAlignWith\n\n\n      if (gopsToAlignWith.length) {\n        var alignedGops;\n\n        if (options.alignGopsAtEnd) {\n          alignedGops = this.alignGopsAtEnd_(gops);\n        } else {\n          alignedGops = this.alignGopsAtStart_(gops);\n        }\n\n        if (!alignedGops) {\n          // save all the nals in the last GOP into the gop cache\n          this.gopCache_.unshift({\n            gop: gops.pop(),\n            pps: track.pps,\n            sps: track.sps\n          }); // Keep a maximum of 6 GOPs in the cache\n\n          this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n          nalUnits = []; // return early no gops can be aligned with desired gopsToAlignWith\n\n          this.resetStream_();\n          this.trigger('done', 'VideoSegmentStream');\n          return;\n        } // Some gops were trimmed. clear dts info so minSegmentDts and pts are correct\n        // when recalculated before sending off to CoalesceStream\n\n\n        trackDecodeInfo.clearDtsInfo(track);\n        gops = alignedGops;\n      }\n\n      trackDecodeInfo.collectDtsInfo(track, gops); // First, we have to build the index from byte locations to\n      // samples (that is, frames) in the video data\n\n      track.samples = frameUtils.generateSampleTable(gops); // Concatenate the video data and construct the mdat\n\n      mdat = mp4Generator.mdat(frameUtils.concatenateNalData(gops));\n      track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n      this.trigger('processedGopsInfo', gops.map(function (gop) {\n        return {\n          pts: gop.pts,\n          dts: gop.dts,\n          byteLength: gop.byteLength\n        };\n      }));\n      firstGop = gops[0];\n      lastGop = gops[gops.length - 1];\n      this.trigger('segmentTimingInfo', generateVideoSegmentTimingInfo(track.baseMediaDecodeTime, firstGop.dts, firstGop.pts, lastGop.dts + lastGop.duration, lastGop.pts + lastGop.duration, prependedContentDuration)); // save all the nals in the last GOP into the gop cache\n\n      this.gopCache_.unshift({\n        gop: gops.pop(),\n        pps: track.pps,\n        sps: track.sps\n      }); // Keep a maximum of 6 GOPs in the cache\n\n      this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n      nalUnits = [];\n      this.trigger('baseMediaDecodeTime', track.baseMediaDecodeTime);\n      this.trigger('timelineStartInfo', track.timelineStartInfo);\n      moof = mp4Generator.moof(sequenceNumber, [track]); // it would be great to allocate this array up front instead of\n      // throwing away hundreds of media segment fragments\n\n      boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // Bump the sequence number for next time\n\n      sequenceNumber++;\n      boxes.set(moof);\n      boxes.set(mdat, moof.byteLength);\n      this.trigger('data', {\n        track: track,\n        boxes: boxes\n      });\n      this.resetStream_(); // Continue with the flush process now\n\n      this.trigger('done', 'VideoSegmentStream');\n    };\n\n    this.resetStream_ = function () {\n      trackDecodeInfo.clearDtsInfo(track); // reset config and pps because they may differ across segments\n      // for instance, when we are rendition switching\n\n      config = undefined;\n      pps = undefined;\n    }; // Search for a candidate Gop for gop-fusion from the gop cache and\n    // return it or return null if no good candidate was found\n\n\n    this.getGopForFusion_ = function (nalUnit) {\n      var halfSecond = 45000,\n          // Half-a-second in a 90khz clock\n      allowableOverlap = 10000,\n          // About 3 frames @ 30fps\n      nearestDistance = Infinity,\n          dtsDistance,\n          nearestGopObj,\n          currentGop,\n          currentGopObj,\n          i; // Search for the GOP nearest to the beginning of this nal unit\n\n      for (i = 0; i < this.gopCache_.length; i++) {\n        currentGopObj = this.gopCache_[i];\n        currentGop = currentGopObj.gop; // Reject Gops with different SPS or PPS\n\n        if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) || !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\n          continue;\n        } // Reject Gops that would require a negative baseMediaDecodeTime\n\n\n        if (currentGop.dts < track.timelineStartInfo.dts) {\n          continue;\n        } // The distance between the end of the gop and the start of the nalUnit\n\n\n        dtsDistance = nalUnit.dts - currentGop.dts - currentGop.duration; // Only consider GOPS that start before the nal unit and end within\n        // a half-second of the nal unit\n\n        if (dtsDistance >= -allowableOverlap && dtsDistance <= halfSecond) {\n          // Always use the closest GOP we found if there is more than\n          // one candidate\n          if (!nearestGopObj || nearestDistance > dtsDistance) {\n            nearestGopObj = currentGopObj;\n            nearestDistance = dtsDistance;\n          }\n        }\n      }\n\n      if (nearestGopObj) {\n        return nearestGopObj.gop;\n      }\n\n      return null;\n    }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n    // of gopsToAlignWith starting from the START of the list\n\n\n    this.alignGopsAtStart_ = function (gops) {\n      var alignIndex, gopIndex, align, gop, byteLength, nalCount, duration, alignedGops;\n      byteLength = gops.byteLength;\n      nalCount = gops.nalCount;\n      duration = gops.duration;\n      alignIndex = gopIndex = 0;\n\n      while (alignIndex < gopsToAlignWith.length && gopIndex < gops.length) {\n        align = gopsToAlignWith[alignIndex];\n        gop = gops[gopIndex];\n\n        if (align.pts === gop.pts) {\n          break;\n        }\n\n        if (gop.pts > align.pts) {\n          // this current gop starts after the current gop we want to align on, so increment\n          // align index\n          alignIndex++;\n          continue;\n        } // current gop starts before the current gop we want to align on. so increment gop\n        // index\n\n\n        gopIndex++;\n        byteLength -= gop.byteLength;\n        nalCount -= gop.nalCount;\n        duration -= gop.duration;\n      }\n\n      if (gopIndex === 0) {\n        // no gops to trim\n        return gops;\n      }\n\n      if (gopIndex === gops.length) {\n        // all gops trimmed, skip appending all gops\n        return null;\n      }\n\n      alignedGops = gops.slice(gopIndex);\n      alignedGops.byteLength = byteLength;\n      alignedGops.duration = duration;\n      alignedGops.nalCount = nalCount;\n      alignedGops.pts = alignedGops[0].pts;\n      alignedGops.dts = alignedGops[0].dts;\n      return alignedGops;\n    }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n    // of gopsToAlignWith starting from the END of the list\n\n\n    this.alignGopsAtEnd_ = function (gops) {\n      var alignIndex, gopIndex, align, gop, alignEndIndex, matchFound;\n      alignIndex = gopsToAlignWith.length - 1;\n      gopIndex = gops.length - 1;\n      alignEndIndex = null;\n      matchFound = false;\n\n      while (alignIndex >= 0 && gopIndex >= 0) {\n        align = gopsToAlignWith[alignIndex];\n        gop = gops[gopIndex];\n\n        if (align.pts === gop.pts) {\n          matchFound = true;\n          break;\n        }\n\n        if (align.pts > gop.pts) {\n          alignIndex--;\n          continue;\n        }\n\n        if (alignIndex === gopsToAlignWith.length - 1) {\n          // gop.pts is greater than the last alignment candidate. If no match is found\n          // by the end of this loop, we still want to append gops that come after this\n          // point\n          alignEndIndex = gopIndex;\n        }\n\n        gopIndex--;\n      }\n\n      if (!matchFound && alignEndIndex === null) {\n        return null;\n      }\n\n      var trimIndex;\n\n      if (matchFound) {\n        trimIndex = gopIndex;\n      } else {\n        trimIndex = alignEndIndex;\n      }\n\n      if (trimIndex === 0) {\n        return gops;\n      }\n\n      var alignedGops = gops.slice(trimIndex);\n      var metadata = alignedGops.reduce(function (total, gop) {\n        total.byteLength += gop.byteLength;\n        total.duration += gop.duration;\n        total.nalCount += gop.nalCount;\n        return total;\n      }, {\n        byteLength: 0,\n        duration: 0,\n        nalCount: 0\n      });\n      alignedGops.byteLength = metadata.byteLength;\n      alignedGops.duration = metadata.duration;\n      alignedGops.nalCount = metadata.nalCount;\n      alignedGops.pts = alignedGops[0].pts;\n      alignedGops.dts = alignedGops[0].dts;\n      return alignedGops;\n    };\n\n    this.alignGopsWith = function (newGopsToAlignWith) {\n      gopsToAlignWith = newGopsToAlignWith;\n    };\n  };\n\n  _VideoSegmentStream.prototype = new stream();\n  /**\n   * A Stream that can combine multiple streams (ie. audio & video)\n   * into a single output segment for MSE. Also supports audio-only\n   * and video-only streams.\n   * @param options {object} transmuxer options object\n   * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n   *        in the source; false to adjust the first segment to start at media timeline start.\n   */\n\n  _CoalesceStream = function CoalesceStream(options, metadataStream) {\n    // Number of Tracks per output segment\n    // If greater than 1, we combine multiple\n    // tracks into a single segment\n    this.numberOfTracks = 0;\n    this.metadataStream = metadataStream;\n    options = options || {};\n\n    if (typeof options.remux !== 'undefined') {\n      this.remuxTracks = !!options.remux;\n    } else {\n      this.remuxTracks = true;\n    }\n\n    if (typeof options.keepOriginalTimestamps === 'boolean') {\n      this.keepOriginalTimestamps = options.keepOriginalTimestamps;\n    }\n\n    this.pendingTracks = [];\n    this.videoTrack = null;\n    this.pendingBoxes = [];\n    this.pendingCaptions = [];\n    this.pendingMetadata = [];\n    this.pendingBytes = 0;\n    this.emittedTracks = 0;\n\n    _CoalesceStream.prototype.init.call(this); // Take output from multiple\n\n\n    this.push = function (output) {\n      // buffer incoming captions until the associated video segment\n      // finishes\n      if (output.text) {\n        return this.pendingCaptions.push(output);\n      } // buffer incoming id3 tags until the final flush\n\n\n      if (output.frames) {\n        return this.pendingMetadata.push(output);\n      } // Add this track to the list of pending tracks and store\n      // important information required for the construction of\n      // the final segment\n\n\n      this.pendingTracks.push(output.track);\n      this.pendingBoxes.push(output.boxes);\n      this.pendingBytes += output.boxes.byteLength;\n\n      if (output.track.type === 'video') {\n        this.videoTrack = output.track;\n      }\n\n      if (output.track.type === 'audio') {\n        this.audioTrack = output.track;\n      }\n    };\n  };\n\n  _CoalesceStream.prototype = new stream();\n\n  _CoalesceStream.prototype.flush = function (flushSource) {\n    var offset = 0,\n        event = {\n      captions: [],\n      captionStreams: {},\n      metadata: [],\n      info: {}\n    },\n        caption,\n        id3,\n        initSegment,\n        timelineStartPts = 0,\n        i;\n\n    if (this.pendingTracks.length < this.numberOfTracks) {\n      if (flushSource !== 'VideoSegmentStream' && flushSource !== 'AudioSegmentStream') {\n        // Return because we haven't received a flush from a data-generating\n        // portion of the segment (meaning that we have only recieved meta-data\n        // or captions.)\n        return;\n      } else if (this.remuxTracks) {\n        // Return until we have enough tracks from the pipeline to remux (if we\n        // are remuxing audio and video into a single MP4)\n        return;\n      } else if (this.pendingTracks.length === 0) {\n        // In the case where we receive a flush without any data having been\n        // received we consider it an emitted track for the purposes of coalescing\n        // `done` events.\n        // We do this for the case where there is an audio and video track in the\n        // segment but no audio data. (seen in several playlists with alternate\n        // audio tracks and no audio present in the main TS segments.)\n        this.emittedTracks++;\n\n        if (this.emittedTracks >= this.numberOfTracks) {\n          this.trigger('done');\n          this.emittedTracks = 0;\n        }\n\n        return;\n      }\n    }\n\n    if (this.videoTrack) {\n      timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n      VIDEO_PROPERTIES.forEach(function (prop) {\n        event.info[prop] = this.videoTrack[prop];\n      }, this);\n    } else if (this.audioTrack) {\n      timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n      AUDIO_PROPERTIES.forEach(function (prop) {\n        event.info[prop] = this.audioTrack[prop];\n      }, this);\n    }\n\n    if (this.pendingTracks.length === 1) {\n      event.type = this.pendingTracks[0].type;\n    } else {\n      event.type = 'combined';\n    }\n\n    this.emittedTracks += this.pendingTracks.length;\n    initSegment = mp4Generator.initSegment(this.pendingTracks); // Create a new typed array to hold the init segment\n\n    event.initSegment = new Uint8Array(initSegment.byteLength); // Create an init segment containing a moov\n    // and track definitions\n\n    event.initSegment.set(initSegment); // Create a new typed array to hold the moof+mdats\n\n    event.data = new Uint8Array(this.pendingBytes); // Append each moof+mdat (one per track) together\n\n    for (i = 0; i < this.pendingBoxes.length; i++) {\n      event.data.set(this.pendingBoxes[i], offset);\n      offset += this.pendingBoxes[i].byteLength;\n    } // Translate caption PTS times into second offsets to match the\n    // video timeline for the segment, and add track info\n\n\n    for (i = 0; i < this.pendingCaptions.length; i++) {\n      caption = this.pendingCaptions[i];\n      caption.startTime = caption.startPts;\n\n      if (!this.keepOriginalTimestamps) {\n        caption.startTime -= timelineStartPts;\n      }\n\n      caption.startTime /= 90e3;\n      caption.endTime = caption.endPts;\n\n      if (!this.keepOriginalTimestamps) {\n        caption.endTime -= timelineStartPts;\n      }\n\n      caption.endTime /= 90e3;\n      event.captionStreams[caption.stream] = true;\n      event.captions.push(caption);\n    } // Translate ID3 frame PTS times into second offsets to match the\n    // video timeline for the segment\n\n\n    for (i = 0; i < this.pendingMetadata.length; i++) {\n      id3 = this.pendingMetadata[i];\n      id3.cueTime = id3.pts;\n\n      if (!this.keepOriginalTimestamps) {\n        id3.cueTime -= timelineStartPts;\n      }\n\n      id3.cueTime /= 90e3;\n      event.metadata.push(id3);\n    } // We add this to every single emitted segment even though we only need\n    // it for the first\n\n\n    event.metadata.dispatchType = this.metadataStream.dispatchType; // Reset stream state\n\n    this.pendingTracks.length = 0;\n    this.videoTrack = null;\n    this.pendingBoxes.length = 0;\n    this.pendingCaptions.length = 0;\n    this.pendingBytes = 0;\n    this.pendingMetadata.length = 0; // Emit the built segment\n\n    this.trigger('data', event); // Only emit `done` if all tracks have been flushed and emitted\n\n    if (this.emittedTracks >= this.numberOfTracks) {\n      this.trigger('done');\n      this.emittedTracks = 0;\n    }\n  };\n  /**\n   * A Stream that expects MP2T binary data as input and produces\n   * corresponding media segments, suitable for use with Media Source\n   * Extension (MSE) implementations that support the ISO BMFF byte\n   * stream format, like Chrome.\n   */\n\n\n  _Transmuxer = function Transmuxer(options) {\n    var self = this,\n        hasFlushed = true,\n        videoTrack,\n        audioTrack;\n\n    _Transmuxer.prototype.init.call(this);\n\n    options = options || {};\n    this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\n    this.transmuxPipeline_ = {};\n\n    this.setupAacPipeline = function () {\n      var pipeline = {};\n      this.transmuxPipeline_ = pipeline;\n      pipeline.type = 'aac';\n      pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n      pipeline.aacStream = new aac();\n      pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n      pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n      pipeline.adtsStream = new adts();\n      pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n      pipeline.headOfPipeline = pipeline.aacStream;\n      pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n      pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);\n      pipeline.metadataStream.on('timestamp', function (frame) {\n        pipeline.aacStream.setTimestamp(frame.timeStamp);\n      });\n      pipeline.aacStream.on('data', function (data) {\n        if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\n          audioTrack = audioTrack || {\n            timelineStartInfo: {\n              baseMediaDecodeTime: self.baseMediaDecodeTime\n            },\n            codec: 'adts',\n            type: 'audio'\n          }; // hook up the audio segment stream to the first track with aac data\n\n          pipeline.coalesceStream.numberOfTracks++;\n          pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n          pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n        }\n      }); // Re-emit any data coming from the coalesce stream to the outside world\n\n      pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n      pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n    };\n\n    this.setupTsPipeline = function () {\n      var pipeline = {};\n      this.transmuxPipeline_ = pipeline;\n      pipeline.type = 'ts';\n      pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n      pipeline.packetStream = new m2ts_1.TransportPacketStream();\n      pipeline.parseStream = new m2ts_1.TransportParseStream();\n      pipeline.elementaryStream = new m2ts_1.ElementaryStream();\n      pipeline.videoTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('video');\n      pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n      pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n      pipeline.adtsStream = new adts();\n      pipeline.h264Stream = new H264Stream();\n      pipeline.captionStream = new m2ts_1.CaptionStream();\n      pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n      pipeline.headOfPipeline = pipeline.packetStream; // disassemble MPEG2-TS packets into elementary streams\n\n      pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream); // !!THIS ORDER IS IMPORTANT!!\n      // demux the streams\n\n      pipeline.elementaryStream.pipe(pipeline.videoTimestampRolloverStream).pipe(pipeline.h264Stream);\n      pipeline.elementaryStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n      pipeline.elementaryStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream); // Hook up CEA-608/708 caption stream\n\n      pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream);\n      pipeline.elementaryStream.on('data', function (data) {\n        var i;\n\n        if (data.type === 'metadata') {\n          i = data.tracks.length; // scan the tracks listed in the metadata\n\n          while (i--) {\n            if (!videoTrack && data.tracks[i].type === 'video') {\n              videoTrack = data.tracks[i];\n              videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n            } else if (!audioTrack && data.tracks[i].type === 'audio') {\n              audioTrack = data.tracks[i];\n              audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n            }\n          } // hook up the video segment stream to the first track with h264 data\n\n\n          if (videoTrack && !pipeline.videoSegmentStream) {\n            pipeline.coalesceStream.numberOfTracks++;\n            pipeline.videoSegmentStream = new _VideoSegmentStream(videoTrack, options);\n            pipeline.videoSegmentStream.on('timelineStartInfo', function (timelineStartInfo) {\n              // When video emits timelineStartInfo data after a flush, we forward that\n              // info to the AudioSegmentStream, if it exists, because video timeline\n              // data takes precedence.\n              if (audioTrack) {\n                audioTrack.timelineStartInfo = timelineStartInfo; // On the first segment we trim AAC frames that exist before the\n                // very earliest DTS we have seen in video because Chrome will\n                // interpret any video track with a baseMediaDecodeTime that is\n                // non-zero as a gap.\n\n                pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\n              }\n            });\n            pipeline.videoSegmentStream.on('processedGopsInfo', self.trigger.bind(self, 'gopInfo'));\n            pipeline.videoSegmentStream.on('segmentTimingInfo', self.trigger.bind(self, 'videoSegmentTimingInfo'));\n            pipeline.videoSegmentStream.on('baseMediaDecodeTime', function (baseMediaDecodeTime) {\n              if (audioTrack) {\n                pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime);\n              }\n            }); // Set up the final part of the video pipeline\n\n            pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream);\n          }\n\n          if (audioTrack && !pipeline.audioSegmentStream) {\n            // hook up the audio segment stream to the first track with aac data\n            pipeline.coalesceStream.numberOfTracks++;\n            pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n            pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n          }\n        }\n      }); // Re-emit any data coming from the coalesce stream to the outside world\n\n      pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n      pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n    }; // hook up the segment streams once track metadata is delivered\n\n\n    this.setBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n      var pipeline = this.transmuxPipeline_;\n\n      if (!options.keepOriginalTimestamps) {\n        this.baseMediaDecodeTime = baseMediaDecodeTime;\n      }\n\n      if (audioTrack) {\n        audioTrack.timelineStartInfo.dts = undefined;\n        audioTrack.timelineStartInfo.pts = undefined;\n        trackDecodeInfo.clearDtsInfo(audioTrack);\n\n        if (!options.keepOriginalTimestamps) {\n          audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n        }\n\n        if (pipeline.audioTimestampRolloverStream) {\n          pipeline.audioTimestampRolloverStream.discontinuity();\n        }\n      }\n\n      if (videoTrack) {\n        if (pipeline.videoSegmentStream) {\n          pipeline.videoSegmentStream.gopCache_ = [];\n          pipeline.videoTimestampRolloverStream.discontinuity();\n        }\n\n        videoTrack.timelineStartInfo.dts = undefined;\n        videoTrack.timelineStartInfo.pts = undefined;\n        trackDecodeInfo.clearDtsInfo(videoTrack);\n        pipeline.captionStream.reset();\n\n        if (!options.keepOriginalTimestamps) {\n          videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n        }\n      }\n\n      if (pipeline.timedMetadataTimestampRolloverStream) {\n        pipeline.timedMetadataTimestampRolloverStream.discontinuity();\n      }\n    };\n\n    this.setAudioAppendStart = function (timestamp) {\n      if (audioTrack) {\n        this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp);\n      }\n    };\n\n    this.alignGopsWith = function (gopsToAlignWith) {\n      if (videoTrack && this.transmuxPipeline_.videoSegmentStream) {\n        this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith);\n      }\n    }; // feed incoming data to the front of the parsing pipeline\n\n\n    this.push = function (data) {\n      if (hasFlushed) {\n        var isAac = isLikelyAacData$1(data);\n\n        if (isAac && this.transmuxPipeline_.type !== 'aac') {\n          this.setupAacPipeline();\n        } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\n          this.setupTsPipeline();\n        }\n\n        hasFlushed = false;\n      }\n\n      this.transmuxPipeline_.headOfPipeline.push(data);\n    }; // flush any buffered data\n\n\n    this.flush = function () {\n      hasFlushed = true; // Start at the top of the pipeline and flush all pending work\n\n      this.transmuxPipeline_.headOfPipeline.flush();\n    }; // Caption data has to be reset when seeking outside buffered range\n\n\n    this.resetCaptions = function () {\n      if (this.transmuxPipeline_.captionStream) {\n        this.transmuxPipeline_.captionStream.reset();\n      }\n    };\n  };\n\n  _Transmuxer.prototype = new stream();\n  var transmuxer = {\n    Transmuxer: _Transmuxer,\n    VideoSegmentStream: _VideoSegmentStream,\n    AudioSegmentStream: _AudioSegmentStream,\n    AUDIO_PROPERTIES: AUDIO_PROPERTIES,\n    VIDEO_PROPERTIES: VIDEO_PROPERTIES,\n    // exported for testing\n    generateVideoSegmentTimingInfo: generateVideoSegmentTimingInfo\n  };\n\n  var inspectMp4,\n      _textifyMp,\n      parseType$2 = probe.parseType,\n      parseMp4Date = function parseMp4Date(seconds) {\n    return new Date(seconds * 1000 - 2082844800000);\n  },\n      parseSampleFlags = function parseSampleFlags(flags) {\n    return {\n      isLeading: (flags[0] & 0x0c) >>> 2,\n      dependsOn: flags[0] & 0x03,\n      isDependedOn: (flags[1] & 0xc0) >>> 6,\n      hasRedundancy: (flags[1] & 0x30) >>> 4,\n      paddingValue: (flags[1] & 0x0e) >>> 1,\n      isNonSyncSample: flags[1] & 0x01,\n      degradationPriority: flags[2] << 8 | flags[3]\n    };\n  },\n      nalParse = function nalParse(avcStream) {\n    var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n        result = [],\n        i,\n        length;\n\n    for (i = 0; i + 4 < avcStream.length; i += length) {\n      length = avcView.getUint32(i);\n      i += 4; // bail if this doesn't appear to be an H264 stream\n\n      if (length <= 0) {\n        result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\n        continue;\n      }\n\n      switch (avcStream[i] & 0x1F) {\n        case 0x01:\n          result.push('slice_layer_without_partitioning_rbsp');\n          break;\n\n        case 0x05:\n          result.push('slice_layer_without_partitioning_rbsp_idr');\n          break;\n\n        case 0x06:\n          result.push('sei_rbsp');\n          break;\n\n        case 0x07:\n          result.push('seq_parameter_set_rbsp');\n          break;\n\n        case 0x08:\n          result.push('pic_parameter_set_rbsp');\n          break;\n\n        case 0x09:\n          result.push('access_unit_delimiter_rbsp');\n          break;\n\n        default:\n          result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\n          break;\n      }\n    }\n\n    return result;\n  },\n      // registry of handlers for individual mp4 box types\n  parse$1 = {\n    // codingname, not a first-class box type. stsd entries share the\n    // same format as real boxes so the parsing infrastructure can be\n    // shared\n    avc1: function avc1(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        dataReferenceIndex: view.getUint16(6),\n        width: view.getUint16(24),\n        height: view.getUint16(26),\n        horizresolution: view.getUint16(28) + view.getUint16(30) / 16,\n        vertresolution: view.getUint16(32) + view.getUint16(34) / 16,\n        frameCount: view.getUint16(40),\n        depth: view.getUint16(74),\n        config: inspectMp4(data.subarray(78, data.byteLength))\n      };\n    },\n    avcC: function avcC(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        configurationVersion: data[0],\n        avcProfileIndication: data[1],\n        profileCompatibility: data[2],\n        avcLevelIndication: data[3],\n        lengthSizeMinusOne: data[4] & 0x03,\n        sps: [],\n        pps: []\n      },\n          numOfSequenceParameterSets = data[5] & 0x1f,\n          numOfPictureParameterSets,\n          nalSize,\n          offset,\n          i; // iterate past any SPSs\n\n      offset = 6;\n\n      for (i = 0; i < numOfSequenceParameterSets; i++) {\n        nalSize = view.getUint16(offset);\n        offset += 2;\n        result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n        offset += nalSize;\n      } // iterate past any PPSs\n\n\n      numOfPictureParameterSets = data[offset];\n      offset++;\n\n      for (i = 0; i < numOfPictureParameterSets; i++) {\n        nalSize = view.getUint16(offset);\n        offset += 2;\n        result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n        offset += nalSize;\n      }\n\n      return result;\n    },\n    btrt: function btrt(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        bufferSizeDB: view.getUint32(0),\n        maxBitrate: view.getUint32(4),\n        avgBitrate: view.getUint32(8)\n      };\n    },\n    esds: function esds(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        esId: data[6] << 8 | data[7],\n        streamPriority: data[8] & 0x1f,\n        decoderConfig: {\n          objectProfileIndication: data[11],\n          streamType: data[12] >>> 2 & 0x3f,\n          bufferSize: data[13] << 16 | data[14] << 8 | data[15],\n          maxBitrate: data[16] << 24 | data[17] << 16 | data[18] << 8 | data[19],\n          avgBitrate: data[20] << 24 | data[21] << 16 | data[22] << 8 | data[23],\n          decoderConfigDescriptor: {\n            tag: data[24],\n            length: data[25],\n            audioObjectType: data[26] >>> 3 & 0x1f,\n            samplingFrequencyIndex: (data[26] & 0x07) << 1 | data[27] >>> 7 & 0x01,\n            channelConfiguration: data[27] >>> 3 & 0x0f\n          }\n        }\n      };\n    },\n    ftyp: function ftyp(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        majorBrand: parseType$2(data.subarray(0, 4)),\n        minorVersion: view.getUint32(4),\n        compatibleBrands: []\n      },\n          i = 8;\n\n      while (i < data.byteLength) {\n        result.compatibleBrands.push(parseType$2(data.subarray(i, i + 4)));\n        i += 4;\n      }\n\n      return result;\n    },\n    dinf: function dinf(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    dref: function dref(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        dataReferences: inspectMp4(data.subarray(8))\n      };\n    },\n    hdlr: function hdlr(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4)),\n        handlerType: parseType$2(data.subarray(8, 12)),\n        name: ''\n      },\n          i = 8; // parse out the name field\n\n      for (i = 24; i < data.byteLength; i++) {\n        if (data[i] === 0x00) {\n          // the name field is null-terminated\n          i++;\n          break;\n        }\n\n        result.name += String.fromCharCode(data[i]);\n      } // decode UTF-8 to javascript's internal representation\n      // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\n\n      result.name = decodeURIComponent(escape(result.name));\n      return result;\n    },\n    mdat: function mdat(data) {\n      return {\n        byteLength: data.byteLength,\n        nals: nalParse(data)\n      };\n    },\n    mdhd: function mdhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          i = 4,\n          language,\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4)),\n        language: ''\n      };\n\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n\n      i += 4; // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n      // each field is the packed difference between its ASCII value and 0x60\n\n      language = view.getUint16(i);\n      result.language += String.fromCharCode((language >> 10) + 0x60);\n      result.language += String.fromCharCode(((language & 0x03e0) >> 5) + 0x60);\n      result.language += String.fromCharCode((language & 0x1f) + 0x60);\n      return result;\n    },\n    mdia: function mdia(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mfhd: function mfhd(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sequenceNumber: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n      };\n    },\n    minf: function minf(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    // codingname, not a first-class box type. stsd entries share the\n    // same format as real boxes so the parsing infrastructure can be\n    // shared\n    mp4a: function mp4a(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        // 6 bytes reserved\n        dataReferenceIndex: view.getUint16(6),\n        // 4 + 4 bytes reserved\n        channelcount: view.getUint16(16),\n        samplesize: view.getUint16(18),\n        // 2 bytes pre_defined\n        // 2 bytes reserved\n        samplerate: view.getUint16(24) + view.getUint16(26) / 65536\n      }; // if there are more bytes to process, assume this is an ISO/IEC\n      // 14496-14 MP4AudioSampleEntry and parse the ESDBox\n\n      if (data.byteLength > 28) {\n        result.streamDescriptor = inspectMp4(data.subarray(28))[0];\n      }\n\n      return result;\n    },\n    moof: function moof(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    moov: function moov(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mvex: function mvex(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    mvhd: function mvhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          i = 4,\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4))\n      };\n\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.timescale = view.getUint32(i);\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n\n      i += 4; // convert fixed-point, base 16 back to a number\n\n      result.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\n      i += 4;\n      result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n      i += 2;\n      i += 2;\n      i += 2 * 4;\n      result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n      i += 9 * 4;\n      i += 6 * 4;\n      result.nextTrackId = view.getUint32(i);\n      return result;\n    },\n    pdin: function pdin(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4)),\n        rate: view.getUint32(4),\n        initialDelay: view.getUint32(8)\n      };\n    },\n    sdtp: function sdtp(data) {\n      var result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        samples: []\n      },\n          i;\n\n      for (i = 4; i < data.byteLength; i++) {\n        result.samples.push({\n          dependsOn: (data[i] & 0x30) >> 4,\n          isDependedOn: (data[i] & 0x0c) >> 2,\n          hasRedundancy: data[i] & 0x03\n        });\n      }\n\n      return result;\n    },\n    sidx: function sidx(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        references: [],\n        referenceId: view.getUint32(4),\n        timescale: view.getUint32(8),\n        earliestPresentationTime: view.getUint32(12),\n        firstOffset: view.getUint32(16)\n      },\n          referenceCount = view.getUint16(22),\n          i;\n\n      for (i = 24; referenceCount; i += 12, referenceCount--) {\n        result.references.push({\n          referenceType: (data[i] & 0x80) >>> 7,\n          referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n          subsegmentDuration: view.getUint32(i + 4),\n          startsWithSap: !!(data[i + 8] & 0x80),\n          sapType: (data[i + 8] & 0x70) >>> 4,\n          sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n        });\n      }\n\n      return result;\n    },\n    smhd: function smhd(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        balance: data[4] + data[5] / 256\n      };\n    },\n    stbl: function stbl(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    stco: function stco(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        chunkOffsets: []\n      },\n          entryCount = view.getUint32(4),\n          i;\n\n      for (i = 8; entryCount; i += 4, entryCount--) {\n        result.chunkOffsets.push(view.getUint32(i));\n      }\n\n      return result;\n    },\n    stsc: function stsc(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          entryCount = view.getUint32(4),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sampleToChunks: []\n      },\n          i;\n\n      for (i = 8; entryCount; i += 12, entryCount--) {\n        result.sampleToChunks.push({\n          firstChunk: view.getUint32(i),\n          samplesPerChunk: view.getUint32(i + 4),\n          sampleDescriptionIndex: view.getUint32(i + 8)\n        });\n      }\n\n      return result;\n    },\n    stsd: function stsd(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sampleDescriptions: inspectMp4(data.subarray(8))\n      };\n    },\n    stsz: function stsz(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        sampleSize: view.getUint32(4),\n        entries: []\n      },\n          i;\n\n      for (i = 12; i < data.byteLength; i += 4) {\n        result.entries.push(view.getUint32(i));\n      }\n\n      return result;\n    },\n    stts: function stts(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        timeToSamples: []\n      },\n          entryCount = view.getUint32(4),\n          i;\n\n      for (i = 8; entryCount; i += 8, entryCount--) {\n        result.timeToSamples.push({\n          sampleCount: view.getUint32(i),\n          sampleDelta: view.getUint32(i + 4)\n        });\n      }\n\n      return result;\n    },\n    styp: function styp(data) {\n      return parse$1.ftyp(data);\n    },\n    tfdt: function tfdt(data) {\n      var result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        baseMediaDecodeTime: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n      };\n\n      if (result.version === 1) {\n        result.baseMediaDecodeTime *= Math.pow(2, 32);\n        result.baseMediaDecodeTime += data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11];\n      }\n\n      return result;\n    },\n    tfhd: function tfhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        trackId: view.getUint32(4)\n      },\n          baseDataOffsetPresent = result.flags[2] & 0x01,\n          sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n          defaultSampleDurationPresent = result.flags[2] & 0x08,\n          defaultSampleSizePresent = result.flags[2] & 0x10,\n          defaultSampleFlagsPresent = result.flags[2] & 0x20,\n          durationIsEmpty = result.flags[0] & 0x010000,\n          defaultBaseIsMoof = result.flags[0] & 0x020000,\n          i;\n      i = 8;\n\n      if (baseDataOffsetPresent) {\n        i += 4; // truncate top 4 bytes\n        // FIXME: should we read the full 64 bits?\n\n        result.baseDataOffset = view.getUint32(12);\n        i += 4;\n      }\n\n      if (sampleDescriptionIndexPresent) {\n        result.sampleDescriptionIndex = view.getUint32(i);\n        i += 4;\n      }\n\n      if (defaultSampleDurationPresent) {\n        result.defaultSampleDuration = view.getUint32(i);\n        i += 4;\n      }\n\n      if (defaultSampleSizePresent) {\n        result.defaultSampleSize = view.getUint32(i);\n        i += 4;\n      }\n\n      if (defaultSampleFlagsPresent) {\n        result.defaultSampleFlags = view.getUint32(i);\n      }\n\n      if (durationIsEmpty) {\n        result.durationIsEmpty = true;\n      }\n\n      if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n        result.baseDataOffsetIsMoof = true;\n      }\n\n      return result;\n    },\n    tkhd: function tkhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          i = 4,\n          result = {\n        version: view.getUint8(0),\n        flags: new Uint8Array(data.subarray(1, 4))\n      };\n\n      if (result.version === 1) {\n        i += 4;\n        result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 8;\n        result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n        i += 4;\n        result.trackId = view.getUint32(i);\n        i += 4;\n        i += 8;\n        result.duration = view.getUint32(i); // truncating top 4 bytes\n      } else {\n        result.creationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.modificationTime = parseMp4Date(view.getUint32(i));\n        i += 4;\n        result.trackId = view.getUint32(i);\n        i += 4;\n        i += 4;\n        result.duration = view.getUint32(i);\n      }\n\n      i += 4;\n      i += 2 * 4;\n      result.layer = view.getUint16(i);\n      i += 2;\n      result.alternateGroup = view.getUint16(i);\n      i += 2; // convert fixed-point, base 16 back to a number\n\n      result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n      i += 2;\n      i += 2;\n      result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n      i += 9 * 4;\n      result.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\n      i += 4;\n      result.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\n      return result;\n    },\n    traf: function traf(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    trak: function trak(data) {\n      return {\n        boxes: inspectMp4(data)\n      };\n    },\n    trex: function trex(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        trackId: view.getUint32(4),\n        defaultSampleDescriptionIndex: view.getUint32(8),\n        defaultSampleDuration: view.getUint32(12),\n        defaultSampleSize: view.getUint32(16),\n        sampleDependsOn: data[20] & 0x03,\n        sampleIsDependedOn: (data[21] & 0xc0) >> 6,\n        sampleHasRedundancy: (data[21] & 0x30) >> 4,\n        samplePaddingValue: (data[21] & 0x0e) >> 1,\n        sampleIsDifferenceSample: !!(data[21] & 0x01),\n        sampleDegradationPriority: view.getUint16(22)\n      };\n    },\n    trun: function trun(data) {\n      var result = {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        samples: []\n      },\n          view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n          // Flag interpretation\n      dataOffsetPresent = result.flags[2] & 0x01,\n          // compare with 2nd byte of 0x1\n      firstSampleFlagsPresent = result.flags[2] & 0x04,\n          // compare with 2nd byte of 0x4\n      sampleDurationPresent = result.flags[1] & 0x01,\n          // compare with 2nd byte of 0x100\n      sampleSizePresent = result.flags[1] & 0x02,\n          // compare with 2nd byte of 0x200\n      sampleFlagsPresent = result.flags[1] & 0x04,\n          // compare with 2nd byte of 0x400\n      sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n          // compare with 2nd byte of 0x800\n      sampleCount = view.getUint32(4),\n          offset = 8,\n          sample;\n\n      if (dataOffsetPresent) {\n        // 32 bit signed integer\n        result.dataOffset = view.getInt32(offset);\n        offset += 4;\n      } // Overrides the flags for the first sample only. The order of\n      // optional values will be: duration, size, compositionTimeOffset\n\n\n      if (firstSampleFlagsPresent && sampleCount) {\n        sample = {\n          flags: parseSampleFlags(data.subarray(offset, offset + 4))\n        };\n        offset += 4;\n\n        if (sampleDurationPresent) {\n          sample.duration = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleSizePresent) {\n          sample.size = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleCompositionTimeOffsetPresent) {\n          // Note: this should be a signed int if version is 1\n          sample.compositionTimeOffset = view.getUint32(offset);\n          offset += 4;\n        }\n\n        result.samples.push(sample);\n        sampleCount--;\n      }\n\n      while (sampleCount--) {\n        sample = {};\n\n        if (sampleDurationPresent) {\n          sample.duration = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleSizePresent) {\n          sample.size = view.getUint32(offset);\n          offset += 4;\n        }\n\n        if (sampleFlagsPresent) {\n          sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n          offset += 4;\n        }\n\n        if (sampleCompositionTimeOffsetPresent) {\n          // Note: this should be a signed int if version is 1\n          sample.compositionTimeOffset = view.getUint32(offset);\n          offset += 4;\n        }\n\n        result.samples.push(sample);\n      }\n\n      return result;\n    },\n    'url ': function url(data) {\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4))\n      };\n    },\n    vmhd: function vmhd(data) {\n      var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n      return {\n        version: data[0],\n        flags: new Uint8Array(data.subarray(1, 4)),\n        graphicsmode: view.getUint16(4),\n        opcolor: new Uint16Array([view.getUint16(6), view.getUint16(8), view.getUint16(10)])\n      };\n    }\n  };\n  /**\n   * Return a javascript array of box objects parsed from an ISO base\n   * media file.\n   * @param data {Uint8Array} the binary data of the media to be inspected\n   * @return {array} a javascript array of potentially nested box objects\n   */\n\n\n  inspectMp4 = function inspectMp4(data) {\n    var i = 0,\n        result = [],\n        view,\n        size,\n        type,\n        end,\n        box; // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\n\n    var ab = new ArrayBuffer(data.length);\n    var v = new Uint8Array(ab);\n\n    for (var z = 0; z < data.length; ++z) {\n      v[z] = data[z];\n    }\n\n    view = new DataView(ab);\n\n    while (i < data.byteLength) {\n      // parse box data\n      size = view.getUint32(i);\n      type = parseType$2(data.subarray(i + 4, i + 8));\n      end = size > 1 ? i + size : data.byteLength; // parse type-specific data\n\n      box = (parse$1[type] || function (data) {\n        return {\n          data: data\n        };\n      })(data.subarray(i + 8, end));\n\n      box.size = size;\n      box.type = type; // store this box and move to the next\n\n      result.push(box);\n      i = end;\n    }\n\n    return result;\n  };\n  /**\n   * Returns a textual representation of the javascript represtentation\n   * of an MP4 file. You can use it as an alternative to\n   * JSON.stringify() to compare inspected MP4s.\n   * @param inspectedMp4 {array} the parsed array of boxes in an MP4\n   * file\n   * @param depth {number} (optional) the number of ancestor boxes of\n   * the elements of inspectedMp4. Assumed to be zero if unspecified.\n   * @return {string} a text representation of the parsed MP4\n   */\n\n\n  _textifyMp = function textifyMp4(inspectedMp4, depth) {\n    var indent;\n    depth = depth || 0;\n    indent = new Array(depth * 2 + 1).join(' '); // iterate over all the boxes\n\n    return inspectedMp4.map(function (box, index) {\n      // list the box type first at the current indentation level\n      return indent + box.type + '\\n' + // the type is already included and handle child boxes separately\n      Object.keys(box).filter(function (key) {\n        return key !== 'type' && key !== 'boxes'; // output all the box properties\n      }).map(function (key) {\n        var prefix = indent + '  ' + key + ': ',\n            value = box[key]; // print out raw bytes as hexademical\n\n        if (value instanceof Uint8Array || value instanceof Uint32Array) {\n          var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength)).map(function (byte) {\n            return ' ' + ('00' + byte.toString(16)).slice(-2);\n          }).join('').match(/.{1,24}/g);\n\n          if (!bytes) {\n            return prefix + '<>';\n          }\n\n          if (bytes.length === 1) {\n            return prefix + '<' + bytes.join('').slice(1) + '>';\n          }\n\n          return prefix + '<\\n' + bytes.map(function (line) {\n            return indent + '  ' + line;\n          }).join('\\n') + '\\n' + indent + '  >';\n        } // stringify generic objects\n\n\n        return prefix + JSON.stringify(value, null, 2).split('\\n').map(function (line, index) {\n          if (index === 0) {\n            return line;\n          }\n\n          return indent + '  ' + line;\n        }).join('\\n');\n      }).join('\\n') + ( // recursively textify the child boxes\n      box.boxes ? '\\n' + _textifyMp(box.boxes, depth + 1) : '');\n    }).join('\\n');\n  };\n\n  var mp4Inspector = {\n    inspect: inspectMp4,\n    textify: _textifyMp,\n    parseTfdt: parse$1.tfdt,\n    parseHdlr: parse$1.hdlr,\n    parseTfhd: parse$1.tfhd,\n    parseTrun: parse$1.trun,\n    parseSidx: parse$1.sidx\n  };\n\n  var discardEmulationPreventionBytes$1 = captionPacketParser.discardEmulationPreventionBytes;\n  var CaptionStream$1 = captionStream.CaptionStream;\n  /**\n    * Maps an offset in the mdat to a sample based on the the size of the samples.\n    * Assumes that `parseSamples` has been called first.\n    *\n    * @param {Number} offset - The offset into the mdat\n    * @param {Object[]} samples - An array of samples, parsed using `parseSamples`\n    * @return {?Object} The matching sample, or null if no match was found.\n    *\n    * @see ISO-BMFF-12/2015, Section 8.8.8\n   **/\n\n  var mapToSample = function mapToSample(offset, samples) {\n    var approximateOffset = offset;\n\n    for (var i = 0; i < samples.length; i++) {\n      var sample = samples[i];\n\n      if (approximateOffset < sample.size) {\n        return sample;\n      }\n\n      approximateOffset -= sample.size;\n    }\n\n    return null;\n  };\n  /**\n    * Finds SEI nal units contained in a Media Data Box.\n    * Assumes that `parseSamples` has been called first.\n    *\n    * @param {Uint8Array} avcStream - The bytes of the mdat\n    * @param {Object[]} samples - The samples parsed out by `parseSamples`\n    * @param {Number} trackId - The trackId of this video track\n    * @return {Object[]} seiNals - the parsed SEI NALUs found.\n    *   The contents of the seiNal should match what is expected by\n    *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)\n    *\n    * @see ISO-BMFF-12/2015, Section 8.1.1\n    * @see Rec. ITU-T H.264, 7.3.2.3.1\n   **/\n\n\n  var findSeiNals = function findSeiNals(avcStream, samples, trackId) {\n    var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n        result = [],\n        seiNal,\n        i,\n        length,\n        lastMatchedSample;\n\n    for (i = 0; i + 4 < avcStream.length; i += length) {\n      length = avcView.getUint32(i);\n      i += 4; // Bail if this doesn't appear to be an H264 stream\n\n      if (length <= 0) {\n        continue;\n      }\n\n      switch (avcStream[i] & 0x1F) {\n        case 0x06:\n          var data = avcStream.subarray(i + 1, i + 1 + length);\n          var matchingSample = mapToSample(i, samples);\n          seiNal = {\n            nalUnitType: 'sei_rbsp',\n            size: length,\n            data: data,\n            escapedRBSP: discardEmulationPreventionBytes$1(data),\n            trackId: trackId\n          };\n\n          if (matchingSample) {\n            seiNal.pts = matchingSample.pts;\n            seiNal.dts = matchingSample.dts;\n            lastMatchedSample = matchingSample;\n          } else {\n            // If a matching sample cannot be found, use the last\n            // sample's values as they should be as close as possible\n            seiNal.pts = lastMatchedSample.pts;\n            seiNal.dts = lastMatchedSample.dts;\n          }\n\n          result.push(seiNal);\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return result;\n  };\n  /**\n    * Parses sample information out of Track Run Boxes and calculates\n    * the absolute presentation and decode timestamps of each sample.\n    *\n    * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed\n    * @param {Number} baseMediaDecodeTime - base media decode time from tfdt\n        @see ISO-BMFF-12/2015, Section 8.8.12\n    * @param {Object} tfhd - The parsed Track Fragment Header\n    *   @see inspect.parseTfhd\n    * @return {Object[]} the parsed samples\n    *\n    * @see ISO-BMFF-12/2015, Section 8.8.8\n   **/\n\n\n  var parseSamples = function parseSamples(truns, baseMediaDecodeTime, tfhd) {\n    var currentDts = baseMediaDecodeTime;\n    var defaultSampleDuration = tfhd.defaultSampleDuration || 0;\n    var defaultSampleSize = tfhd.defaultSampleSize || 0;\n    var trackId = tfhd.trackId;\n    var allSamples = [];\n    truns.forEach(function (trun) {\n      // Note: We currently do not parse the sample table as well\n      // as the trun. It's possible some sources will require this.\n      // moov > trak > mdia > minf > stbl\n      var trackRun = mp4Inspector.parseTrun(trun);\n      var samples = trackRun.samples;\n      samples.forEach(function (sample) {\n        if (sample.duration === undefined) {\n          sample.duration = defaultSampleDuration;\n        }\n\n        if (sample.size === undefined) {\n          sample.size = defaultSampleSize;\n        }\n\n        sample.trackId = trackId;\n        sample.dts = currentDts;\n\n        if (sample.compositionTimeOffset === undefined) {\n          sample.compositionTimeOffset = 0;\n        }\n\n        sample.pts = currentDts + sample.compositionTimeOffset;\n        currentDts += sample.duration;\n      });\n      allSamples = allSamples.concat(samples);\n    });\n    return allSamples;\n  };\n  /**\n    * Parses out caption nals from an FMP4 segment's video tracks.\n    *\n    * @param {Uint8Array} segment - The bytes of a single segment\n    * @param {Number} videoTrackId - The trackId of a video track in the segment\n    * @return {Object.<Number, Object[]>} A mapping of video trackId to\n    *   a list of seiNals found in that track\n   **/\n\n\n  var parseCaptionNals = function parseCaptionNals(segment, videoTrackId) {\n    // To get the samples\n    var trafs = probe.findBox(segment, ['moof', 'traf']); // To get SEI NAL units\n\n    var mdats = probe.findBox(segment, ['mdat']);\n    var captionNals = {};\n    var mdatTrafPairs = []; // Pair up each traf with a mdat as moofs and mdats are in pairs\n\n    mdats.forEach(function (mdat, index) {\n      var matchingTraf = trafs[index];\n      mdatTrafPairs.push({\n        mdat: mdat,\n        traf: matchingTraf\n      });\n    });\n    mdatTrafPairs.forEach(function (pair) {\n      var mdat = pair.mdat;\n      var traf = pair.traf;\n      var tfhd = probe.findBox(traf, ['tfhd']); // Exactly 1 tfhd per traf\n\n      var headerInfo = mp4Inspector.parseTfhd(tfhd[0]);\n      var trackId = headerInfo.trackId;\n      var tfdt = probe.findBox(traf, ['tfdt']); // Either 0 or 1 tfdt per traf\n\n      var baseMediaDecodeTime = tfdt.length > 0 ? mp4Inspector.parseTfdt(tfdt[0]).baseMediaDecodeTime : 0;\n      var truns = probe.findBox(traf, ['trun']);\n      var samples;\n      var seiNals; // Only parse video data for the chosen video track\n\n      if (videoTrackId === trackId && truns.length > 0) {\n        samples = parseSamples(truns, baseMediaDecodeTime, headerInfo);\n        seiNals = findSeiNals(mdat, samples, trackId);\n\n        if (!captionNals[trackId]) {\n          captionNals[trackId] = [];\n        }\n\n        captionNals[trackId] = captionNals[trackId].concat(seiNals);\n      }\n    });\n    return captionNals;\n  };\n  /**\n    * Parses out inband captions from an MP4 container and returns\n    * caption objects that can be used by WebVTT and the TextTrack API.\n    * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue\n    * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\n    * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first\n    *\n    * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n    * @param {Number} trackId - The id of the video track to parse\n    * @param {Number} timescale - The timescale for the video track from the init segment\n    *\n    * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks\n    * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds\n    * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds\n    * @return {String} parsedCaptions[].text - The visible content of the caption\n   **/\n\n\n  var parseEmbeddedCaptions = function parseEmbeddedCaptions(segment, trackId, timescale) {\n    var seiNals;\n\n    if (!trackId) {\n      return null;\n    }\n\n    seiNals = parseCaptionNals(segment, trackId);\n    return {\n      seiNals: seiNals[trackId],\n      timescale: timescale\n    };\n  };\n  /**\n    * Converts SEI NALUs into captions that can be used by video.js\n   **/\n\n\n  var CaptionParser = function CaptionParser() {\n    var isInitialized = false;\n    var captionStream$$1; // Stores segments seen before trackId and timescale are set\n\n    var segmentCache; // Stores video track ID of the track being parsed\n\n    var trackId; // Stores the timescale of the track being parsed\n\n    var timescale; // Stores captions parsed so far\n\n    var parsedCaptions;\n    /**\n      * A method to indicate whether a CaptionParser has been initalized\n      * @returns {Boolean}\n     **/\n\n    this.isInitialized = function () {\n      return isInitialized;\n    };\n    /**\n      * Initializes the underlying CaptionStream, SEI NAL parsing\n      * and management, and caption collection\n     **/\n\n\n    this.init = function () {\n      captionStream$$1 = new CaptionStream$1();\n      isInitialized = true; // Collect dispatched captions\n\n      captionStream$$1.on('data', function (event) {\n        // Convert to seconds in the source's timescale\n        event.startTime = event.startPts / timescale;\n        event.endTime = event.endPts / timescale;\n        parsedCaptions.captions.push(event);\n        parsedCaptions.captionStreams[event.stream] = true;\n      });\n    };\n    /**\n      * Determines if a new video track will be selected\n      * or if the timescale changed\n      * @return {Boolean}\n     **/\n\n\n    this.isNewInit = function (videoTrackIds, timescales) {\n      if (videoTrackIds && videoTrackIds.length === 0 || timescales && typeof timescales === 'object' && Object.keys(timescales).length === 0) {\n        return false;\n      }\n\n      return trackId !== videoTrackIds[0] || timescale !== timescales[trackId];\n    };\n    /**\n      * Parses out SEI captions and interacts with underlying\n      * CaptionStream to return dispatched captions\n      *\n      * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n      * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment\n      * @param {Object.<Number, Number>} timescales - The timescales found in the init segment\n      * @see parseEmbeddedCaptions\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.parse = function (segment, videoTrackIds, timescales) {\n      var parsedData;\n\n      if (!this.isInitialized()) {\n        return null; // This is not likely to be a video segment\n      } else if (!videoTrackIds || !timescales) {\n        return null;\n      } else if (this.isNewInit(videoTrackIds, timescales)) {\n        // Use the first video track only as there is no\n        // mechanism to switch to other video tracks\n        trackId = videoTrackIds[0];\n        timescale = timescales[trackId]; // If an init segment has not been seen yet, hold onto segment\n        // data until we have one\n      } else if (!trackId || !timescale) {\n        segmentCache.push(segment);\n        return null;\n      } // Now that a timescale and trackId is set, parse cached segments\n\n\n      while (segmentCache.length > 0) {\n        var cachedSegment = segmentCache.shift();\n        this.parse(cachedSegment, videoTrackIds, timescales);\n      }\n\n      parsedData = parseEmbeddedCaptions(segment, trackId, timescale);\n\n      if (parsedData === null || !parsedData.seiNals) {\n        return null;\n      }\n\n      this.pushNals(parsedData.seiNals); // Force the parsed captions to be dispatched\n\n      this.flushStream();\n      return parsedCaptions;\n    };\n    /**\n      * Pushes SEI NALUs onto CaptionStream\n      * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`\n      * Assumes that `parseCaptionNals` has been called first\n      * @see m2ts/caption-stream.js\n      **/\n\n\n    this.pushNals = function (nals) {\n      if (!this.isInitialized() || !nals || nals.length === 0) {\n        return null;\n      }\n\n      nals.forEach(function (nal) {\n        captionStream$$1.push(nal);\n      });\n    };\n    /**\n      * Flushes underlying CaptionStream to dispatch processed, displayable captions\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.flushStream = function () {\n      if (!this.isInitialized()) {\n        return null;\n      }\n\n      captionStream$$1.flush();\n    };\n    /**\n      * Reset caption buckets for new data\n     **/\n\n\n    this.clearParsedCaptions = function () {\n      parsedCaptions.captions = [];\n      parsedCaptions.captionStreams = {};\n    };\n    /**\n      * Resets underlying CaptionStream\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.resetCaptionStream = function () {\n      if (!this.isInitialized()) {\n        return null;\n      }\n\n      captionStream$$1.reset();\n    };\n    /**\n      * Convenience method to clear all captions flushed from the\n      * CaptionStream and still being parsed\n      * @see m2ts/caption-stream.js\n     **/\n\n\n    this.clearAllCaptions = function () {\n      this.clearParsedCaptions();\n      this.resetCaptionStream();\n    };\n    /**\n      * Reset caption parser\n     **/\n\n\n    this.reset = function () {\n      segmentCache = [];\n      trackId = null;\n      timescale = null;\n\n      if (!parsedCaptions) {\n        parsedCaptions = {\n          captions: [],\n          // CC1, CC2, CC3, CC4\n          captionStreams: {}\n        };\n      } else {\n        this.clearParsedCaptions();\n      }\n\n      this.resetCaptionStream();\n    };\n\n    this.reset();\n  };\n\n  var captionParser = CaptionParser;\n\n  var mp4 = {\n    generator: mp4Generator,\n    probe: probe,\n    Transmuxer: transmuxer.Transmuxer,\n    AudioSegmentStream: transmuxer.AudioSegmentStream,\n    VideoSegmentStream: transmuxer.VideoSegmentStream,\n    CaptionParser: captionParser\n  };\n  var mp4_6 = mp4.CaptionParser;\n\n  var parsePid = function parsePid(packet) {\n    var pid = packet[1] & 0x1f;\n    pid <<= 8;\n    pid |= packet[2];\n    return pid;\n  };\n\n  var parsePayloadUnitStartIndicator = function parsePayloadUnitStartIndicator(packet) {\n    return !!(packet[1] & 0x40);\n  };\n\n  var parseAdaptionField = function parseAdaptionField(packet) {\n    var offset = 0; // if an adaption field is present, its length is specified by the\n    // fifth byte of the TS packet header. The adaptation field is\n    // used to add stuffing to PES packets that don't fill a complete\n    // TS packet, and to specify some forms of timing and control data\n    // that we do not currently use.\n\n    if ((packet[3] & 0x30) >>> 4 > 0x01) {\n      offset += packet[4] + 1;\n    }\n\n    return offset;\n  };\n\n  var parseType$3 = function parseType(packet, pmtPid) {\n    var pid = parsePid(packet);\n\n    if (pid === 0) {\n      return 'pat';\n    } else if (pid === pmtPid) {\n      return 'pmt';\n    } else if (pmtPid) {\n      return 'pes';\n    }\n\n    return null;\n  };\n\n  var parsePat = function parsePat(packet) {\n    var pusi = parsePayloadUnitStartIndicator(packet);\n    var offset = 4 + parseAdaptionField(packet);\n\n    if (pusi) {\n      offset += packet[offset] + 1;\n    }\n\n    return (packet[offset + 10] & 0x1f) << 8 | packet[offset + 11];\n  };\n\n  var parsePmt = function parsePmt(packet) {\n    var programMapTable = {};\n    var pusi = parsePayloadUnitStartIndicator(packet);\n    var payloadOffset = 4 + parseAdaptionField(packet);\n\n    if (pusi) {\n      payloadOffset += packet[payloadOffset] + 1;\n    } // PMTs can be sent ahead of the time when they should actually\n    // take effect. We don't believe this should ever be the case\n    // for HLS but we'll ignore \"forward\" PMT declarations if we see\n    // them. Future PMT declarations have the current_next_indicator\n    // set to zero.\n\n\n    if (!(packet[payloadOffset + 5] & 0x01)) {\n      return;\n    }\n\n    var sectionLength, tableEnd, programInfoLength; // the mapping table ends at the end of the current section\n\n    sectionLength = (packet[payloadOffset + 1] & 0x0f) << 8 | packet[payloadOffset + 2];\n    tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n    // long the program info descriptors are\n\n    programInfoLength = (packet[payloadOffset + 10] & 0x0f) << 8 | packet[payloadOffset + 11]; // advance the offset to the first entry in the mapping table\n\n    var offset = 12 + programInfoLength;\n\n    while (offset < tableEnd) {\n      var i = payloadOffset + offset; // add an entry that maps the elementary_pid to the stream_type\n\n      programMapTable[(packet[i + 1] & 0x1F) << 8 | packet[i + 2]] = packet[i]; // move to the next table entry\n      // skip past the elementary stream descriptors, if present\n\n      offset += ((packet[i + 3] & 0x0F) << 8 | packet[i + 4]) + 5;\n    }\n\n    return programMapTable;\n  };\n\n  var parsePesType = function parsePesType(packet, programMapTable) {\n    var pid = parsePid(packet);\n    var type = programMapTable[pid];\n\n    switch (type) {\n      case streamTypes.H264_STREAM_TYPE:\n        return 'video';\n\n      case streamTypes.ADTS_STREAM_TYPE:\n        return 'audio';\n\n      case streamTypes.METADATA_STREAM_TYPE:\n        return 'timed-metadata';\n\n      default:\n        return null;\n    }\n  };\n\n  var parsePesTime = function parsePesTime(packet) {\n    var pusi = parsePayloadUnitStartIndicator(packet);\n\n    if (!pusi) {\n      return null;\n    }\n\n    var offset = 4 + parseAdaptionField(packet);\n\n    if (offset >= packet.byteLength) {\n      // From the H 222.0 MPEG-TS spec\n      // \"For transport stream packets carrying PES packets, stuffing is needed when there\n      //  is insufficient PES packet data to completely fill the transport stream packet\n      //  payload bytes. Stuffing is accomplished by defining an adaptation field longer than\n      //  the sum of the lengths of the data elements in it, so that the payload bytes\n      //  remaining after the adaptation field exactly accommodates the available PES packet\n      //  data.\"\n      //\n      // If the offset is >= the length of the packet, then the packet contains no data\n      // and instead is just adaption field stuffing bytes\n      return null;\n    }\n\n    var pes = null;\n    var ptsDtsFlags; // PES packets may be annotated with a PTS value, or a PTS value\n    // and a DTS value. Determine what combination of values is\n    // available to work with.\n\n    ptsDtsFlags = packet[offset + 7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n    // performs all bitwise operations on 32-bit integers but javascript\n    // supports a much greater range (52-bits) of integer using standard\n    // mathematical operations.\n    // We construct a 31-bit value using bitwise operators over the 31\n    // most significant bits and then multiply by 4 (equal to a left-shift\n    // of 2) before we add the final 2 least significant bits of the\n    // timestamp (equal to an OR.)\n\n    if (ptsDtsFlags & 0xC0) {\n      pes = {}; // the PTS and DTS are not written out directly. For information\n      // on how they are encoded, see\n      // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n\n      pes.pts = (packet[offset + 9] & 0x0E) << 27 | (packet[offset + 10] & 0xFF) << 20 | (packet[offset + 11] & 0xFE) << 12 | (packet[offset + 12] & 0xFF) << 5 | (packet[offset + 13] & 0xFE) >>> 3;\n      pes.pts *= 4; // Left shift by 2\n\n      pes.pts += (packet[offset + 13] & 0x06) >>> 1; // OR by the two LSBs\n\n      pes.dts = pes.pts;\n\n      if (ptsDtsFlags & 0x40) {\n        pes.dts = (packet[offset + 14] & 0x0E) << 27 | (packet[offset + 15] & 0xFF) << 20 | (packet[offset + 16] & 0xFE) << 12 | (packet[offset + 17] & 0xFF) << 5 | (packet[offset + 18] & 0xFE) >>> 3;\n        pes.dts *= 4; // Left shift by 2\n\n        pes.dts += (packet[offset + 18] & 0x06) >>> 1; // OR by the two LSBs\n      }\n    }\n\n    return pes;\n  };\n\n  var parseNalUnitType = function parseNalUnitType(type) {\n    switch (type) {\n      case 0x05:\n        return 'slice_layer_without_partitioning_rbsp_idr';\n\n      case 0x06:\n        return 'sei_rbsp';\n\n      case 0x07:\n        return 'seq_parameter_set_rbsp';\n\n      case 0x08:\n        return 'pic_parameter_set_rbsp';\n\n      case 0x09:\n        return 'access_unit_delimiter_rbsp';\n\n      default:\n        return null;\n    }\n  };\n\n  var videoPacketContainsKeyFrame = function videoPacketContainsKeyFrame(packet) {\n    var offset = 4 + parseAdaptionField(packet);\n    var frameBuffer = packet.subarray(offset);\n    var frameI = 0;\n    var frameSyncPoint = 0;\n    var foundKeyFrame = false;\n    var nalType; // advance the sync point to a NAL start, if necessary\n\n    for (; frameSyncPoint < frameBuffer.byteLength - 3; frameSyncPoint++) {\n      if (frameBuffer[frameSyncPoint + 2] === 1) {\n        // the sync point is properly aligned\n        frameI = frameSyncPoint + 5;\n        break;\n      }\n    }\n\n    while (frameI < frameBuffer.byteLength) {\n      // look at the current byte to determine if we've hit the end of\n      // a NAL unit boundary\n      switch (frameBuffer[frameI]) {\n        case 0:\n          // skip past non-sync sequences\n          if (frameBuffer[frameI - 1] !== 0) {\n            frameI += 2;\n            break;\n          } else if (frameBuffer[frameI - 2] !== 0) {\n            frameI++;\n            break;\n          }\n\n          if (frameSyncPoint + 3 !== frameI - 2) {\n            nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n            if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n              foundKeyFrame = true;\n            }\n          } // drop trailing zeroes\n\n\n          do {\n            frameI++;\n          } while (frameBuffer[frameI] !== 1 && frameI < frameBuffer.length);\n\n          frameSyncPoint = frameI - 2;\n          frameI += 3;\n          break;\n\n        case 1:\n          // skip past non-sync sequences\n          if (frameBuffer[frameI - 1] !== 0 || frameBuffer[frameI - 2] !== 0) {\n            frameI += 3;\n            break;\n          }\n\n          nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n          if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n            foundKeyFrame = true;\n          }\n\n          frameSyncPoint = frameI - 2;\n          frameI += 3;\n          break;\n\n        default:\n          // the current byte isn't a one or zero, so it cannot be part\n          // of a sync sequence\n          frameI += 3;\n          break;\n      }\n    }\n\n    frameBuffer = frameBuffer.subarray(frameSyncPoint);\n    frameI -= frameSyncPoint;\n    frameSyncPoint = 0; // parse the final nal\n\n    if (frameBuffer && frameBuffer.byteLength > 3) {\n      nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n      if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n        foundKeyFrame = true;\n      }\n    }\n\n    return foundKeyFrame;\n  };\n\n  var probe$1 = {\n    parseType: parseType$3,\n    parsePat: parsePat,\n    parsePmt: parsePmt,\n    parsePayloadUnitStartIndicator: parsePayloadUnitStartIndicator,\n    parsePesType: parsePesType,\n    parsePesTime: parsePesTime,\n    videoPacketContainsKeyFrame: videoPacketContainsKeyFrame\n  };\n\n  var handleRollover$1 = timestampRolloverStream.handleRollover;\n  var probe$2 = {};\n  probe$2.ts = probe$1;\n  probe$2.aac = utils;\n  var PES_TIMESCALE = 90000,\n      MP2T_PACKET_LENGTH$1 = 188,\n      // bytes\n  SYNC_BYTE$1 = 0x47;\n  /**\n   * walks through segment data looking for pat and pmt packets to parse out\n   * program map table information\n   */\n\n  var parsePsi_ = function parsePsi_(bytes, pmt) {\n    var startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH$1,\n        packet,\n        type;\n\n    while (endIndex < bytes.byteLength) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE$1 && bytes[endIndex] === SYNC_BYTE$1) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pat':\n            if (!pmt.pid) {\n              pmt.pid = probe$2.ts.parsePat(packet);\n            }\n\n            break;\n\n          case 'pmt':\n            if (!pmt.table) {\n              pmt.table = probe$2.ts.parsePmt(packet);\n            }\n\n            break;\n\n          default:\n            break;\n        } // Found the pat and pmt, we can stop walking the segment\n\n\n        if (pmt.pid && pmt.table) {\n          return;\n        }\n\n        startIndex += MP2T_PACKET_LENGTH$1;\n        endIndex += MP2T_PACKET_LENGTH$1;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex++;\n      endIndex++;\n    }\n  };\n  /**\n   * walks through the segment data from the start and end to get timing information\n   * for the first and last audio pes packets\n   */\n\n\n  var parseAudioPes_ = function parseAudioPes_(bytes, pmt, result) {\n    var startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH$1,\n        packet,\n        type,\n        pesType,\n        pusi,\n        parsed;\n    var endLoop = false; // Start walking from start of segment to get first audio packet\n\n    while (endIndex <= bytes.byteLength) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE$1 && (bytes[endIndex] === SYNC_BYTE$1 || endIndex === bytes.byteLength)) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'audio' && pusi) {\n              parsed = probe$2.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'audio';\n                result.audio.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop) {\n          break;\n        }\n\n        startIndex += MP2T_PACKET_LENGTH$1;\n        endIndex += MP2T_PACKET_LENGTH$1;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex++;\n      endIndex++;\n    } // Start walking from end of segment to get last audio packet\n\n\n    endIndex = bytes.byteLength;\n    startIndex = endIndex - MP2T_PACKET_LENGTH$1;\n    endLoop = false;\n\n    while (startIndex >= 0) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE$1 && (bytes[endIndex] === SYNC_BYTE$1 || endIndex === bytes.byteLength)) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'audio' && pusi) {\n              parsed = probe$2.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'audio';\n                result.audio.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop) {\n          break;\n        }\n\n        startIndex -= MP2T_PACKET_LENGTH$1;\n        endIndex -= MP2T_PACKET_LENGTH$1;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex--;\n      endIndex--;\n    }\n  };\n  /**\n   * walks through the segment data from the start and end to get timing information\n   * for the first and last video pes packets as well as timing information for the first\n   * key frame.\n   */\n\n\n  var parseVideoPes_ = function parseVideoPes_(bytes, pmt, result) {\n    var startIndex = 0,\n        endIndex = MP2T_PACKET_LENGTH$1,\n        packet,\n        type,\n        pesType,\n        pusi,\n        parsed,\n        frame,\n        i,\n        pes;\n    var endLoop = false;\n    var currentFrame = {\n      data: [],\n      size: 0\n    }; // Start walking from start of segment to get first video packet\n\n    while (endIndex < bytes.byteLength) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE$1 && bytes[endIndex] === SYNC_BYTE$1) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'video') {\n              if (pusi && !endLoop) {\n                parsed = probe$2.ts.parsePesTime(packet);\n\n                if (parsed) {\n                  parsed.type = 'video';\n                  result.video.push(parsed);\n                  endLoop = true;\n                }\n              }\n\n              if (!result.firstKeyFrame) {\n                if (pusi) {\n                  if (currentFrame.size !== 0) {\n                    frame = new Uint8Array(currentFrame.size);\n                    i = 0;\n\n                    while (currentFrame.data.length) {\n                      pes = currentFrame.data.shift();\n                      frame.set(pes, i);\n                      i += pes.byteLength;\n                    }\n\n                    if (probe$2.ts.videoPacketContainsKeyFrame(frame)) {\n                      result.firstKeyFrame = probe$2.ts.parsePesTime(frame);\n                      result.firstKeyFrame.type = 'video';\n                    }\n\n                    currentFrame.size = 0;\n                  }\n                }\n\n                currentFrame.data.push(packet);\n                currentFrame.size += packet.byteLength;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop && result.firstKeyFrame) {\n          break;\n        }\n\n        startIndex += MP2T_PACKET_LENGTH$1;\n        endIndex += MP2T_PACKET_LENGTH$1;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex++;\n      endIndex++;\n    } // Start walking from end of segment to get last video packet\n\n\n    endIndex = bytes.byteLength;\n    startIndex = endIndex - MP2T_PACKET_LENGTH$1;\n    endLoop = false;\n\n    while (startIndex >= 0) {\n      // Look for a pair of start and end sync bytes in the data..\n      if (bytes[startIndex] === SYNC_BYTE$1 && bytes[endIndex] === SYNC_BYTE$1) {\n        // We found a packet\n        packet = bytes.subarray(startIndex, endIndex);\n        type = probe$2.ts.parseType(packet, pmt.pid);\n\n        switch (type) {\n          case 'pes':\n            pesType = probe$2.ts.parsePesType(packet, pmt.table);\n            pusi = probe$2.ts.parsePayloadUnitStartIndicator(packet);\n\n            if (pesType === 'video' && pusi) {\n              parsed = probe$2.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'video';\n                result.video.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n\n        if (endLoop) {\n          break;\n        }\n\n        startIndex -= MP2T_PACKET_LENGTH$1;\n        endIndex -= MP2T_PACKET_LENGTH$1;\n        continue;\n      } // If we get here, we have somehow become de-synchronized and we need to step\n      // forward one byte at a time until we find a pair of sync bytes that denote\n      // a packet\n\n\n      startIndex--;\n      endIndex--;\n    }\n  };\n  /**\n   * Adjusts the timestamp information for the segment to account for\n   * rollover and convert to seconds based on pes packet timescale (90khz clock)\n   */\n\n\n  var adjustTimestamp_ = function adjustTimestamp_(segmentInfo, baseTimestamp) {\n    if (segmentInfo.audio && segmentInfo.audio.length) {\n      var audioBaseTimestamp = baseTimestamp;\n\n      if (typeof audioBaseTimestamp === 'undefined') {\n        audioBaseTimestamp = segmentInfo.audio[0].dts;\n      }\n\n      segmentInfo.audio.forEach(function (info) {\n        info.dts = handleRollover$1(info.dts, audioBaseTimestamp);\n        info.pts = handleRollover$1(info.pts, audioBaseTimestamp); // time in seconds\n\n        info.dtsTime = info.dts / PES_TIMESCALE;\n        info.ptsTime = info.pts / PES_TIMESCALE;\n      });\n    }\n\n    if (segmentInfo.video && segmentInfo.video.length) {\n      var videoBaseTimestamp = baseTimestamp;\n\n      if (typeof videoBaseTimestamp === 'undefined') {\n        videoBaseTimestamp = segmentInfo.video[0].dts;\n      }\n\n      segmentInfo.video.forEach(function (info) {\n        info.dts = handleRollover$1(info.dts, videoBaseTimestamp);\n        info.pts = handleRollover$1(info.pts, videoBaseTimestamp); // time in seconds\n\n        info.dtsTime = info.dts / PES_TIMESCALE;\n        info.ptsTime = info.pts / PES_TIMESCALE;\n      });\n\n      if (segmentInfo.firstKeyFrame) {\n        var frame = segmentInfo.firstKeyFrame;\n        frame.dts = handleRollover$1(frame.dts, videoBaseTimestamp);\n        frame.pts = handleRollover$1(frame.pts, videoBaseTimestamp); // time in seconds\n\n        frame.dtsTime = frame.dts / PES_TIMESCALE;\n        frame.ptsTime = frame.dts / PES_TIMESCALE;\n      }\n    }\n  };\n  /**\n   * inspects the aac data stream for start and end time information\n   */\n\n\n  var inspectAac_ = function inspectAac_(bytes) {\n    var endLoop = false,\n        audioCount = 0,\n        sampleRate = null,\n        timestamp = null,\n        frameSize = 0,\n        byteIndex = 0,\n        packet;\n\n    while (bytes.length - byteIndex >= 3) {\n      var type = probe$2.aac.parseType(bytes, byteIndex);\n\n      switch (type) {\n        case 'timed-metadata':\n          // Exit early because we don't have enough to parse\n          // the ID3 tag header\n          if (bytes.length - byteIndex < 10) {\n            endLoop = true;\n            break;\n          }\n\n          frameSize = probe$2.aac.parseId3TagSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n\n          if (frameSize > bytes.length) {\n            endLoop = true;\n            break;\n          }\n\n          if (timestamp === null) {\n            packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n            timestamp = probe$2.aac.parseAacTimestamp(packet);\n          }\n\n          byteIndex += frameSize;\n          break;\n\n        case 'audio':\n          // Exit early because we don't have enough to parse\n          // the ADTS frame header\n          if (bytes.length - byteIndex < 7) {\n            endLoop = true;\n            break;\n          }\n\n          frameSize = probe$2.aac.parseAdtsSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n          // to emit a full packet\n\n          if (frameSize > bytes.length) {\n            endLoop = true;\n            break;\n          }\n\n          if (sampleRate === null) {\n            packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n            sampleRate = probe$2.aac.parseSampleRate(packet);\n          }\n\n          audioCount++;\n          byteIndex += frameSize;\n          break;\n\n        default:\n          byteIndex++;\n          break;\n      }\n\n      if (endLoop) {\n        return null;\n      }\n    }\n\n    if (sampleRate === null || timestamp === null) {\n      return null;\n    }\n\n    var audioTimescale = PES_TIMESCALE / sampleRate;\n    var result = {\n      audio: [{\n        type: 'audio',\n        dts: timestamp,\n        pts: timestamp\n      }, {\n        type: 'audio',\n        dts: timestamp + audioCount * 1024 * audioTimescale,\n        pts: timestamp + audioCount * 1024 * audioTimescale\n      }]\n    };\n    return result;\n  };\n  /**\n   * inspects the transport stream segment data for start and end time information\n   * of the audio and video tracks (when present) as well as the first key frame's\n   * start time.\n   */\n\n\n  var inspectTs_ = function inspectTs_(bytes) {\n    var pmt = {\n      pid: null,\n      table: null\n    };\n    var result = {};\n    parsePsi_(bytes, pmt);\n\n    for (var pid in pmt.table) {\n      if (pmt.table.hasOwnProperty(pid)) {\n        var type = pmt.table[pid];\n\n        switch (type) {\n          case streamTypes.H264_STREAM_TYPE:\n            result.video = [];\n            parseVideoPes_(bytes, pmt, result);\n\n            if (result.video.length === 0) {\n              delete result.video;\n            }\n\n            break;\n\n          case streamTypes.ADTS_STREAM_TYPE:\n            result.audio = [];\n            parseAudioPes_(bytes, pmt, result);\n\n            if (result.audio.length === 0) {\n              delete result.audio;\n            }\n\n            break;\n\n          default:\n            break;\n        }\n      }\n    }\n\n    return result;\n  };\n  /**\n   * Inspects segment byte data and returns an object with start and end timing information\n   *\n   * @param {Uint8Array} bytes The segment byte data\n   * @param {Number} baseTimestamp Relative reference timestamp used when adjusting frame\n   *  timestamps for rollover. This value must be in 90khz clock.\n   * @return {Object} Object containing start and end frame timing info of segment.\n   */\n\n\n  var inspect = function inspect(bytes, baseTimestamp) {\n    var isAacData = probe$2.aac.isLikelyAacData(bytes);\n    var result;\n\n    if (isAacData) {\n      result = inspectAac_(bytes);\n    } else {\n      result = inspectTs_(bytes);\n    }\n\n    if (!result || !result.audio && !result.video) {\n      return null;\n    }\n\n    adjustTimestamp_(result, baseTimestamp);\n    return result;\n  };\n\n  var tsInspector = {\n    inspect: inspect,\n    parseAudioPes_: parseAudioPes_\n  };\n\n  /*\n   * pkcs7.pad\n   * https://github.com/brightcove/pkcs7\n   *\n   * Copyright (c) 2014 Brightcove\n   * Licensed under the apache2 license.\n   */\n  /**\n   * Returns the subarray of a Uint8Array without PKCS#7 padding.\n   * @param padded {Uint8Array} unencrypted bytes that have been padded\n   * @return {Uint8Array} the unpadded bytes\n   * @see http://tools.ietf.org/html/rfc5652\n   */\n\n  function unpad(padded) {\n    return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n  }\n\n  var classCallCheck = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var inherits = function inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n  /**\n   * @file aes.js\n   *\n   * This file contains an adaptation of the AES decryption algorithm\n   * from the Standford Javascript Cryptography Library. That work is\n   * covered by the following copyright and permissions notice:\n   *\n   * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n   * All rights reserved.\n   *\n   * Redistribution and use in source and binary forms, with or without\n   * modification, are permitted provided that the following conditions are\n   * met:\n   *\n   * 1. Redistributions of source code must retain the above copyright\n   *    notice, this list of conditions and the following disclaimer.\n   *\n   * 2. Redistributions in binary form must reproduce the above\n   *    copyright notice, this list of conditions and the following\n   *    disclaimer in the documentation and/or other materials provided\n   *    with the distribution.\n   *\n   * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n   * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n   * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n   * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n   * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n   * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n   * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n   * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n   * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   *\n   * The views and conclusions contained in the software and documentation\n   * are those of the authors and should not be interpreted as representing\n   * official policies, either expressed or implied, of the authors.\n   */\n\n  /**\n   * Expand the S-box tables.\n   *\n   * @private\n   */\n\n\n  var precompute = function precompute() {\n    var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n    var encTable = tables[0];\n    var decTable = tables[1];\n    var sbox = encTable[4];\n    var sboxInv = decTable[4];\n    var i = void 0;\n    var x = void 0;\n    var xInv = void 0;\n    var d = [];\n    var th = [];\n    var x2 = void 0;\n    var x4 = void 0;\n    var x8 = void 0;\n    var s = void 0;\n    var tEnc = void 0;\n    var tDec = void 0; // Compute double and third tables\n\n    for (i = 0; i < 256; i++) {\n      th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n    }\n\n    for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n      // Compute sbox\n      s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n      s = s >> 8 ^ s & 255 ^ 99;\n      sbox[x] = s;\n      sboxInv[s] = x; // Compute MixColumns\n\n      x8 = d[x4 = d[x2 = d[x]]];\n      tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n      tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n      for (i = 0; i < 4; i++) {\n        encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n        decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n      }\n    } // Compactify. Considerable speedup on Firefox.\n\n\n    for (i = 0; i < 5; i++) {\n      encTable[i] = encTable[i].slice(0);\n      decTable[i] = decTable[i].slice(0);\n    }\n\n    return tables;\n  };\n\n  var aesTables = null;\n  /**\n   * Schedule out an AES key for both encryption and decryption. This\n   * is a low-level class. Use a cipher mode to do bulk encryption.\n   *\n   * @class AES\n   * @param key {Array} The key as an array of 4, 6 or 8 words.\n   */\n\n  var AES = function () {\n    function AES(key) {\n      classCallCheck(this, AES);\n      /**\n       * The expanded S-box and inverse S-box tables. These will be computed\n       * on the client so that we don't have to send them down the wire.\n       *\n       * There are two tables, _tables[0] is for encryption and\n       * _tables[1] is for decryption.\n       *\n       * The first 4 sub-tables are the expanded S-box with MixColumns. The\n       * last (_tables[01][4]) is the S-box itself.\n       *\n       * @private\n       */\n      // if we have yet to precompute the S-box tables\n      // do so now\n\n      if (!aesTables) {\n        aesTables = precompute();\n      } // then make a copy of that object for use\n\n\n      this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n      var i = void 0;\n      var j = void 0;\n      var tmp = void 0;\n      var encKey = void 0;\n      var decKey = void 0;\n      var sbox = this._tables[0][4];\n      var decTable = this._tables[1];\n      var keyLen = key.length;\n      var rcon = 1;\n\n      if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n        throw new Error('Invalid aes key size');\n      }\n\n      encKey = key.slice(0);\n      decKey = [];\n      this._key = [encKey, decKey]; // schedule encryption keys\n\n      for (i = keyLen; i < 4 * keyLen + 28; i++) {\n        tmp = encKey[i - 1]; // apply sbox\n\n        if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n          tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n          if (i % keyLen === 0) {\n            tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n            rcon = rcon << 1 ^ (rcon >> 7) * 283;\n          }\n        }\n\n        encKey[i] = encKey[i - keyLen] ^ tmp;\n      } // schedule decryption keys\n\n\n      for (j = 0; i; j++, i--) {\n        tmp = encKey[j & 3 ? i : i - 4];\n\n        if (i <= 4 || j < 4) {\n          decKey[j] = tmp;\n        } else {\n          decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n        }\n      }\n    }\n    /**\n     * Decrypt 16 bytes, specified as four 32-bit words.\n     *\n     * @param {Number} encrypted0 the first word to decrypt\n     * @param {Number} encrypted1 the second word to decrypt\n     * @param {Number} encrypted2 the third word to decrypt\n     * @param {Number} encrypted3 the fourth word to decrypt\n     * @param {Int32Array} out the array to write the decrypted words\n     * into\n     * @param {Number} offset the offset into the output array to start\n     * writing results\n     * @return {Array} The plaintext.\n     */\n\n\n    AES.prototype.decrypt = function decrypt(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n      var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n      var a = encrypted0 ^ key[0];\n      var b = encrypted3 ^ key[1];\n      var c = encrypted2 ^ key[2];\n      var d = encrypted1 ^ key[3];\n      var a2 = void 0;\n      var b2 = void 0;\n      var c2 = void 0; // key.length === 2 ?\n\n      var nInnerRounds = key.length / 4 - 2;\n      var i = void 0;\n      var kIndex = 4;\n      var table = this._tables[1]; // load up the tables\n\n      var table0 = table[0];\n      var table1 = table[1];\n      var table2 = table[2];\n      var table3 = table[3];\n      var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n      for (i = 0; i < nInnerRounds; i++) {\n        a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n        b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n        c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n        d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n        kIndex += 4;\n        a = a2;\n        b = b2;\n        c = c2;\n      } // Last round.\n\n\n      for (i = 0; i < 4; i++) {\n        out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n        a2 = a;\n        a = b;\n        b = c;\n        c = d;\n        d = a2;\n      }\n    };\n\n    return AES;\n  }();\n  /**\n   * @file stream.js\n   */\n\n  /**\n   * A lightweight readable stream implemention that handles event dispatching.\n   *\n   * @class Stream\n   */\n\n\n  var Stream$2 = function () {\n    function Stream() {\n      classCallCheck(this, Stream);\n      this.listeners = {};\n    }\n    /**\n     * Add a listener for a specified event type.\n     *\n     * @param {String} type the event name\n     * @param {Function} listener the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n\n    Stream.prototype.on = function on(type, listener) {\n      if (!this.listeners[type]) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push(listener);\n    };\n    /**\n     * Remove a listener for a specified event type.\n     *\n     * @param {String} type the event name\n     * @param {Function} listener  a function previously registered for this\n     * type of event through `on`\n     * @return {Boolean} if we could turn it off or not\n     */\n\n\n    Stream.prototype.off = function off(type, listener) {\n      if (!this.listeners[type]) {\n        return false;\n      }\n\n      var index = this.listeners[type].indexOf(listener);\n      this.listeners[type].splice(index, 1);\n      return index > -1;\n    };\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     *\n     * @param {String} type the event name\n     */\n\n\n    Stream.prototype.trigger = function trigger(type) {\n      var callbacks = this.listeners[type];\n\n      if (!callbacks) {\n        return;\n      } // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n\n\n      if (arguments.length === 2) {\n        var length = callbacks.length;\n\n        for (var i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var _length = callbacks.length;\n\n        for (var _i = 0; _i < _length; ++_i) {\n          callbacks[_i].apply(this, args);\n        }\n      }\n    };\n    /**\n     * Destroys the stream and cleans up.\n     */\n\n\n    Stream.prototype.dispose = function dispose() {\n      this.listeners = {};\n    };\n    /**\n     * Forwards all `data` events on this stream to the destination stream. The\n     * destination stream should provide a method `push` to receive the data\n     * events as they arrive.\n     *\n     * @param {Stream} destination the stream that will receive all `data` events\n     * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n     */\n\n\n    Stream.prototype.pipe = function pipe(destination) {\n      this.on('data', function (data) {\n        destination.push(data);\n      });\n    };\n\n    return Stream;\n  }();\n  /**\n   * @file async-stream.js\n   */\n\n  /**\n   * A wrapper around the Stream class to use setTiemout\n   * and run stream \"jobs\" Asynchronously\n   *\n   * @class AsyncStream\n   * @extends Stream\n   */\n\n\n  var AsyncStream = function (_Stream) {\n    inherits(AsyncStream, _Stream);\n\n    function AsyncStream() {\n      classCallCheck(this, AsyncStream);\n\n      var _this = possibleConstructorReturn(this, _Stream.call(this, Stream$2));\n\n      _this.jobs = [];\n      _this.delay = 1;\n      _this.timeout_ = null;\n      return _this;\n    }\n    /**\n     * process an async job\n     *\n     * @private\n     */\n\n\n    AsyncStream.prototype.processJob_ = function processJob_() {\n      this.jobs.shift()();\n\n      if (this.jobs.length) {\n        this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n      } else {\n        this.timeout_ = null;\n      }\n    };\n    /**\n     * push a job into the stream\n     *\n     * @param {Function} job the job to push into the stream\n     */\n\n\n    AsyncStream.prototype.push = function push(job) {\n      this.jobs.push(job);\n\n      if (!this.timeout_) {\n        this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n      }\n    };\n\n    return AsyncStream;\n  }(Stream$2);\n  /**\n   * @file decrypter.js\n   *\n   * An asynchronous implementation of AES-128 CBC decryption with\n   * PKCS#7 padding.\n   */\n\n  /**\n   * Convert network-order (big-endian) bytes into their little-endian\n   * representation.\n   */\n\n\n  var ntoh = function ntoh(word) {\n    return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n  };\n  /**\n   * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n   *\n   * @param {Uint8Array} encrypted the encrypted bytes\n   * @param {Uint32Array} key the bytes of the decryption key\n   * @param {Uint32Array} initVector the initialization vector (IV) to\n   * use for the first round of CBC.\n   * @return {Uint8Array} the decrypted bytes\n   *\n   * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n   * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n   * @see https://tools.ietf.org/html/rfc2315\n   */\n\n\n  var decrypt = function decrypt(encrypted, key, initVector) {\n    // word-level access to the encrypted bytes\n    var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n    var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n    var decrypted = new Uint8Array(encrypted.byteLength);\n    var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n    // decrypted data\n\n    var init0 = void 0;\n    var init1 = void 0;\n    var init2 = void 0;\n    var init3 = void 0;\n    var encrypted0 = void 0;\n    var encrypted1 = void 0;\n    var encrypted2 = void 0;\n    var encrypted3 = void 0; // iteration variable\n\n    var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n    // passed-in reference and easier access\n\n    init0 = initVector[0];\n    init1 = initVector[1];\n    init2 = initVector[2];\n    init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n    // to each decrypted block\n\n    for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n      // convert big-endian (network order) words into little-endian\n      // (javascript order)\n      encrypted0 = ntoh(encrypted32[wordIx]);\n      encrypted1 = ntoh(encrypted32[wordIx + 1]);\n      encrypted2 = ntoh(encrypted32[wordIx + 2]);\n      encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n      decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n      // plaintext\n\n      decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n      decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n      decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n      decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n      init0 = encrypted0;\n      init1 = encrypted1;\n      init2 = encrypted2;\n      init3 = encrypted3;\n    }\n\n    return decrypted;\n  };\n  /**\n   * The `Decrypter` class that manages decryption of AES\n   * data through `AsyncStream` objects and the `decrypt`\n   * function\n   *\n   * @param {Uint8Array} encrypted the encrypted bytes\n   * @param {Uint32Array} key the bytes of the decryption key\n   * @param {Uint32Array} initVector the initialization vector (IV) to\n   * @param {Function} done the function to run when done\n   * @class Decrypter\n   */\n\n\n  var Decrypter = function () {\n    function Decrypter(encrypted, key, initVector, done) {\n      classCallCheck(this, Decrypter);\n      var step = Decrypter.STEP;\n      var encrypted32 = new Int32Array(encrypted.buffer);\n      var decrypted = new Uint8Array(encrypted.byteLength);\n      var i = 0;\n      this.asyncStream_ = new AsyncStream(); // split up the encryption job and do the individual chunks asynchronously\n\n      this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n      for (i = step; i < encrypted32.length; i += step) {\n        initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n        this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n      } // invoke the done() callback when everything is finished\n\n\n      this.asyncStream_.push(function () {\n        // remove pkcs#7 padding from the decrypted bytes\n        done(null, unpad(decrypted));\n      });\n    }\n    /**\n     * a getter for step the maximum number of bytes to process at one time\n     *\n     * @return {Number} the value of step 32000\n     */\n\n    /**\n     * @private\n     */\n\n\n    Decrypter.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n      return function () {\n        var bytes = decrypt(encrypted, key, initVector);\n        decrypted.set(bytes, encrypted.byteOffset);\n      };\n    };\n\n    createClass(Decrypter, null, [{\n      key: 'STEP',\n      get: function get$$1() {\n        // 4 * 8000;\n        return 32000;\n      }\n    }]);\n    return Decrypter;\n  }();\n\n  /**\n   * @videojs/http-streaming\n   * @version 1.9.3\n   * @copyright 2019 Brightcove, Inc\n   * @license Apache-2.0\n   */\n  /**\n   * @file resolve-url.js - Handling how URLs are resolved and manipulated\n   */\n\n  var resolveUrl$1 = function resolveUrl(baseURL, relativeURL) {\n    // return early if we don't need to resolve\n    if (/^[a-z]+:/i.test(relativeURL)) {\n      return relativeURL;\n    } // if the base URL is relative then combine with the current location\n\n\n    if (!/\\/\\//i.test(baseURL)) {\n      baseURL = urlToolkit.buildAbsoluteURL(window$1.location.href, baseURL);\n    }\n\n    return urlToolkit.buildAbsoluteURL(baseURL, relativeURL);\n  };\n  /**\n   * Checks whether xhr request was redirected and returns correct url depending\n   * on `handleManifestRedirects` option\n   *\n   * @api private\n   *\n   * @param  {String} url - an url being requested\n   * @param  {XMLHttpRequest} req - xhr request result\n   *\n   * @return {String}\n   */\n\n\n  var resolveManifestRedirect = function resolveManifestRedirect(handleManifestRedirect, url, req) {\n    // To understand how the responseURL below is set and generated:\n    // - https://fetch.spec.whatwg.org/#concept-response-url\n    // - https://fetch.spec.whatwg.org/#atomic-http-redirect-handling\n    if (handleManifestRedirect && req.responseURL && url !== req.responseURL) {\n      return req.responseURL;\n    }\n\n    return url;\n  };\n\n  var classCallCheck$1 = function classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  };\n\n  var createClass$1 = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var get$1 = function get(object, property, receiver) {\n    if (object === null) object = Function.prototype;\n    var desc = Object.getOwnPropertyDescriptor(object, property);\n\n    if (desc === undefined) {\n      var parent = Object.getPrototypeOf(object);\n\n      if (parent === null) {\n        return undefined;\n      } else {\n        return get(parent, property, receiver);\n      }\n    } else if (\"value\" in desc) {\n      return desc.value;\n    } else {\n      var getter = desc.get;\n\n      if (getter === undefined) {\n        return undefined;\n      }\n\n      return getter.call(receiver);\n    }\n  };\n\n  var inherits$1 = function inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  };\n\n  var possibleConstructorReturn$1 = function possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  };\n\n  var slicedToArray = function () {\n    function sliceIterator(arr, i) {\n      var _arr = [];\n      var _n = true;\n      var _d = false;\n      var _e = undefined;\n\n      try {\n        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n          _arr.push(_s.value);\n\n          if (i && _arr.length === i) break;\n        }\n      } catch (err) {\n        _d = true;\n        _e = err;\n      } finally {\n        try {\n          if (!_n && _i[\"return\"]) _i[\"return\"]();\n        } finally {\n          if (_d) throw _e;\n        }\n      }\n\n      return _arr;\n    }\n\n    return function (arr, i) {\n      if (Array.isArray(arr)) {\n        return arr;\n      } else if (Symbol.iterator in Object(arr)) {\n        return sliceIterator(arr, i);\n      } else {\n        throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n      }\n    };\n  }();\n  /**\n   * @file playlist-loader.js\n   *\n   * A state machine that manages the loading, caching, and updating of\n   * M3U8 playlists.\n   *\n   */\n\n\n  var mergeOptions$1 = videojs$1.mergeOptions,\n      EventTarget$1 = videojs$1.EventTarget,\n      log$1 = videojs$1.log;\n  /**\n   * Loops through all supported media groups in master and calls the provided\n   * callback for each group\n   *\n   * @param {Object} master\n   *        The parsed master manifest object\n   * @param {Function} callback\n   *        Callback to call for each media group\n   */\n\n  var forEachMediaGroup = function forEachMediaGroup(master, callback) {\n    ['AUDIO', 'SUBTITLES'].forEach(function (mediaType) {\n      for (var groupKey in master.mediaGroups[mediaType]) {\n        for (var labelKey in master.mediaGroups[mediaType][groupKey]) {\n          var mediaProperties = master.mediaGroups[mediaType][groupKey][labelKey];\n          callback(mediaProperties, mediaType, groupKey, labelKey);\n        }\n      }\n    });\n  };\n  /**\n    * Returns a new array of segments that is the result of merging\n    * properties from an older list of segments onto an updated\n    * list. No properties on the updated playlist will be overridden.\n    *\n    * @param {Array} original the outdated list of segments\n    * @param {Array} update the updated list of segments\n    * @param {Number=} offset the index of the first update\n    * segment in the original segment list. For non-live playlists,\n    * this should always be zero and does not need to be\n    * specified. For live playlists, it should be the difference\n    * between the media sequence numbers in the original and updated\n    * playlists.\n    * @return a list of merged segment objects\n    */\n\n\n  var updateSegments = function updateSegments(original, update, offset) {\n    var result = update.slice();\n    offset = offset || 0;\n    var length = Math.min(original.length, update.length + offset);\n\n    for (var i = offset; i < length; i++) {\n      result[i - offset] = mergeOptions$1(original[i], result[i - offset]);\n    }\n\n    return result;\n  };\n\n  var resolveSegmentUris = function resolveSegmentUris(segment, baseUri) {\n    if (!segment.resolvedUri) {\n      segment.resolvedUri = resolveUrl$1(baseUri, segment.uri);\n    }\n\n    if (segment.key && !segment.key.resolvedUri) {\n      segment.key.resolvedUri = resolveUrl$1(baseUri, segment.key.uri);\n    }\n\n    if (segment.map && !segment.map.resolvedUri) {\n      segment.map.resolvedUri = resolveUrl$1(baseUri, segment.map.uri);\n    }\n  };\n  /**\n    * Returns a new master playlist that is the result of merging an\n    * updated media playlist into the original version. If the\n    * updated media playlist does not match any of the playlist\n    * entries in the original master playlist, null is returned.\n    *\n    * @param {Object} master a parsed master M3U8 object\n    * @param {Object} media a parsed media M3U8 object\n    * @return {Object} a new object that represents the original\n    * master playlist with the updated media playlist merged in, or\n    * null if the merge produced no change.\n    */\n\n\n  var updateMaster = function updateMaster(master, media) {\n    var result = mergeOptions$1(master, {});\n    var playlist = result.playlists[media.uri];\n\n    if (!playlist) {\n      return null;\n    } // consider the playlist unchanged if the number of segments is equal, the media\n    // sequence number is unchanged, and this playlist hasn't become the end of the playlist\n\n\n    if (playlist.segments && media.segments && playlist.segments.length === media.segments.length && playlist.endList === media.endList && playlist.mediaSequence === media.mediaSequence) {\n      return null;\n    }\n\n    var mergedPlaylist = mergeOptions$1(playlist, media); // if the update could overlap existing segment information, merge the two segment lists\n\n    if (playlist.segments) {\n      mergedPlaylist.segments = updateSegments(playlist.segments, media.segments, media.mediaSequence - playlist.mediaSequence);\n    } // resolve any segment URIs to prevent us from having to do it later\n\n\n    mergedPlaylist.segments.forEach(function (segment) {\n      resolveSegmentUris(segment, mergedPlaylist.resolvedUri);\n    }); // TODO Right now in the playlists array there are two references to each playlist, one\n    // that is referenced by index, and one by URI. The index reference may no longer be\n    // necessary.\n\n    for (var i = 0; i < result.playlists.length; i++) {\n      if (result.playlists[i].uri === media.uri) {\n        result.playlists[i] = mergedPlaylist;\n      }\n    }\n\n    result.playlists[media.uri] = mergedPlaylist;\n    return result;\n  };\n\n  var setupMediaPlaylists = function setupMediaPlaylists(master) {\n    // setup by-URI lookups and resolve media playlist URIs\n    var i = master.playlists.length;\n\n    while (i--) {\n      var playlist = master.playlists[i];\n      master.playlists[playlist.uri] = playlist;\n      playlist.resolvedUri = resolveUrl$1(master.uri, playlist.uri);\n      playlist.id = i;\n\n      if (!playlist.attributes) {\n        // Although the spec states an #EXT-X-STREAM-INF tag MUST have a\n        // BANDWIDTH attribute, we can play the stream without it. This means a poorly\n        // formatted master playlist may not have an attribute list. An attributes\n        // property is added here to prevent undefined references when we encounter\n        // this scenario.\n        playlist.attributes = {};\n        log$1.warn('Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.');\n      }\n    }\n  };\n\n  var resolveMediaGroupUris = function resolveMediaGroupUris(master) {\n    forEachMediaGroup(master, function (properties) {\n      if (properties.uri) {\n        properties.resolvedUri = resolveUrl$1(master.uri, properties.uri);\n      }\n    });\n  };\n  /**\n   * Calculates the time to wait before refreshing a live playlist\n   *\n   * @param {Object} media\n   *        The current media\n   * @param {Boolean} update\n   *        True if there were any updates from the last refresh, false otherwise\n   * @return {Number}\n   *         The time in ms to wait before refreshing the live playlist\n   */\n\n\n  var refreshDelay = function refreshDelay(media, update) {\n    var lastSegment = media.segments[media.segments.length - 1];\n    var delay = void 0;\n\n    if (update && lastSegment && lastSegment.duration) {\n      delay = lastSegment.duration * 1000;\n    } else {\n      // if the playlist is unchanged since the last reload or last segment duration\n      // cannot be determined, try again after half the target duration\n      delay = (media.targetDuration || 10) * 500;\n    }\n\n    return delay;\n  };\n  /**\n   * Load a playlist from a remote location\n   *\n   * @class PlaylistLoader\n   * @extends Stream\n   * @param {String} srcUrl the url to start with\n   * @param {Boolean} withCredentials the withCredentials xhr option\n   * @constructor\n   */\n\n\n  var PlaylistLoader = function (_EventTarget) {\n    inherits$1(PlaylistLoader, _EventTarget);\n\n    function PlaylistLoader(srcUrl, hls) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      classCallCheck$1(this, PlaylistLoader);\n\n      var _this = possibleConstructorReturn$1(this, (PlaylistLoader.__proto__ || Object.getPrototypeOf(PlaylistLoader)).call(this));\n\n      var _options$withCredenti = options.withCredentials,\n          withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n          _options$handleManife = options.handleManifestRedirects,\n          handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n      _this.srcUrl = srcUrl;\n      _this.hls_ = hls;\n      _this.withCredentials = withCredentials;\n      _this.handleManifestRedirects = handleManifestRedirects;\n      var hlsOptions = hls.options_;\n      _this.customTagParsers = hlsOptions && hlsOptions.customTagParsers || [];\n      _this.customTagMappers = hlsOptions && hlsOptions.customTagMappers || [];\n\n      if (!_this.srcUrl) {\n        throw new Error('A non-empty playlist URL is required');\n      } // initialize the loader state\n\n\n      _this.state = 'HAVE_NOTHING'; // live playlist staleness timeout\n\n      _this.on('mediaupdatetimeout', function () {\n        if (_this.state !== 'HAVE_METADATA') {\n          // only refresh the media playlist if no other activity is going on\n          return;\n        }\n\n        _this.state = 'HAVE_CURRENT_METADATA';\n        _this.request = _this.hls_.xhr({\n          uri: resolveUrl$1(_this.master.uri, _this.media().uri),\n          withCredentials: _this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this.request) {\n            return;\n          }\n\n          if (error) {\n            return _this.playlistRequestError(_this.request, _this.media().uri, 'HAVE_METADATA');\n          }\n\n          _this.haveMetadata(_this.request, _this.media().uri);\n        });\n      });\n\n      return _this;\n    }\n\n    createClass$1(PlaylistLoader, [{\n      key: 'playlistRequestError',\n      value: function playlistRequestError(xhr, url, startingState) {\n        // any in-flight request is now finished\n        this.request = null;\n\n        if (startingState) {\n          this.state = startingState;\n        }\n\n        this.error = {\n          playlist: this.master.playlists[url],\n          status: xhr.status,\n          message: 'HLS playlist request error at URL: ' + url,\n          responseText: xhr.responseText,\n          code: xhr.status >= 500 ? 4 : 2\n        };\n        this.trigger('error');\n      } // update the playlist loader's state in response to a new or\n      // updated playlist.\n\n    }, {\n      key: 'haveMetadata',\n      value: function haveMetadata(xhr, url) {\n        var _this2 = this; // any in-flight request is now finished\n\n\n        this.request = null;\n        this.state = 'HAVE_METADATA';\n        var parser = new Parser(); // adding custom tag parsers\n\n        this.customTagParsers.forEach(function (customParser) {\n          return parser.addParser(customParser);\n        }); // adding custom tag mappers\n\n        this.customTagMappers.forEach(function (mapper) {\n          return parser.addTagMapper(mapper);\n        });\n        parser.push(xhr.responseText);\n        parser.end();\n        parser.manifest.uri = url; // m3u8-parser does not attach an attributes property to media playlists so make\n        // sure that the property is attached to avoid undefined reference errors\n\n        parser.manifest.attributes = parser.manifest.attributes || {}; // merge this playlist into the master\n\n        var update = updateMaster(this.master, parser.manifest);\n        this.targetDuration = parser.manifest.targetDuration;\n\n        if (update) {\n          this.master = update;\n          this.media_ = this.master.playlists[parser.manifest.uri];\n        } else {\n          this.trigger('playlistunchanged');\n        } // refresh live playlists after a target duration passes\n\n\n        if (!this.media().endList) {\n          window$1.clearTimeout(this.mediaUpdateTimeout);\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            _this2.trigger('mediaupdatetimeout');\n          }, refreshDelay(this.media(), !!update));\n        }\n\n        this.trigger('loadedplaylist');\n      }\n      /**\n       * Abort any outstanding work and clean up.\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.stopRequest();\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n      }\n    }, {\n      key: 'stopRequest',\n      value: function stopRequest() {\n        if (this.request) {\n          var oldRequest = this.request;\n          this.request = null;\n          oldRequest.onreadystatechange = null;\n          oldRequest.abort();\n        }\n      }\n      /**\n       * When called without any arguments, returns the currently\n       * active media playlist. When called with a single argument,\n       * triggers the playlist loader to asynchronously switch to the\n       * specified media playlist. Calling this method while the\n       * loader is in the HAVE_NOTHING causes an error to be emitted\n       * but otherwise has no effect.\n       *\n       * @param {Object=} playlist the parsed media playlist\n       * object to switch to\n       * @return {Playlist} the current loaded media\n       */\n\n    }, {\n      key: 'media',\n      value: function media(playlist) {\n        var _this3 = this; // getter\n\n\n        if (!playlist) {\n          return this.media_;\n        } // setter\n\n\n        if (this.state === 'HAVE_NOTHING') {\n          throw new Error('Cannot switch media playlist from ' + this.state);\n        }\n\n        var startingState = this.state; // find the playlist object if the target playlist has been\n        // specified by URI\n\n        if (typeof playlist === 'string') {\n          if (!this.master.playlists[playlist]) {\n            throw new Error('Unknown playlist URI: ' + playlist);\n          }\n\n          playlist = this.master.playlists[playlist];\n        }\n\n        var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to fully loaded playlists immediately\n\n        if (this.master.playlists[playlist.uri].endList) {\n          // abort outstanding playlist requests\n          if (this.request) {\n            this.request.onreadystatechange = null;\n            this.request.abort();\n            this.request = null;\n          }\n\n          this.state = 'HAVE_METADATA';\n          this.media_ = playlist; // trigger media change if the active media has been updated\n\n          if (mediaChange) {\n            this.trigger('mediachanging');\n            this.trigger('mediachange');\n          }\n\n          return;\n        } // switching to the active playlist is a no-op\n\n\n        if (!mediaChange) {\n          return;\n        }\n\n        this.state = 'SWITCHING_MEDIA'; // there is already an outstanding playlist request\n\n        if (this.request) {\n          if (playlist.resolvedUri === this.request.url) {\n            // requesting to switch to the same playlist multiple times\n            // has no effect after the first\n            return;\n          }\n\n          this.request.onreadystatechange = null;\n          this.request.abort();\n          this.request = null;\n        } // request the new playlist\n\n\n        if (this.media_) {\n          this.trigger('mediachanging');\n        }\n\n        this.request = this.hls_.xhr({\n          uri: playlist.resolvedUri,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this3.request) {\n            return;\n          }\n\n          playlist.resolvedUri = resolveManifestRedirect(_this3.handleManifestRedirects, playlist.resolvedUri, req);\n\n          if (error) {\n            return _this3.playlistRequestError(_this3.request, playlist.uri, startingState);\n          }\n\n          _this3.haveMetadata(req, playlist.uri); // fire loadedmetadata the first time a media playlist is loaded\n\n\n          if (startingState === 'HAVE_MASTER') {\n            _this3.trigger('loadedmetadata');\n          } else {\n            _this3.trigger('mediachange');\n          }\n        });\n      }\n      /**\n       * pause loading of the playlist\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.stopRequest();\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n\n        if (this.state === 'HAVE_NOTHING') {\n          // If we pause the loader before any data has been retrieved, its as if we never\n          // started, so reset to an unstarted state.\n          this.started = false;\n        } // Need to restore state now that no activity is happening\n\n\n        if (this.state === 'SWITCHING_MEDIA') {\n          // if the loader was in the process of switching media, it should either return to\n          // HAVE_MASTER or HAVE_METADATA depending on if the loader has loaded a media\n          // playlist yet. This is determined by the existence of loader.media_\n          if (this.media_) {\n            this.state = 'HAVE_METADATA';\n          } else {\n            this.state = 'HAVE_MASTER';\n          }\n        } else if (this.state === 'HAVE_CURRENT_METADATA') {\n          this.state = 'HAVE_METADATA';\n        }\n      }\n      /**\n       * start loading of the playlist\n       */\n\n    }, {\n      key: 'load',\n      value: function load(isFinalRendition) {\n        var _this4 = this;\n\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        var media = this.media();\n\n        if (isFinalRendition) {\n          var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            return _this4.load();\n          }, delay);\n          return;\n        }\n\n        if (!this.started) {\n          this.start();\n          return;\n        }\n\n        if (media && !media.endList) {\n          this.trigger('mediaupdatetimeout');\n        } else {\n          this.trigger('loadedplaylist');\n        }\n      }\n      /**\n       * start loading of the playlist\n       */\n\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this5 = this;\n\n        this.started = true; // request the specified URL\n\n        this.request = this.hls_.xhr({\n          uri: this.srcUrl,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this5.request) {\n            return;\n          } // clear the loader's request reference\n\n\n          _this5.request = null;\n\n          if (error) {\n            _this5.error = {\n              status: req.status,\n              message: 'HLS playlist request error at URL: ' + _this5.srcUrl,\n              responseText: req.responseText,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n\n            if (_this5.state === 'HAVE_NOTHING') {\n              _this5.started = false;\n            }\n\n            return _this5.trigger('error');\n          }\n\n          var parser = new Parser(); // adding custom tag parsers\n\n          _this5.customTagParsers.forEach(function (customParser) {\n            return parser.addParser(customParser);\n          }); // adding custom tag mappers\n\n\n          _this5.customTagMappers.forEach(function (mapper) {\n            return parser.addTagMapper(mapper);\n          });\n\n          parser.push(req.responseText);\n          parser.end();\n          _this5.state = 'HAVE_MASTER';\n          _this5.srcUrl = resolveManifestRedirect(_this5.handleManifestRedirects, _this5.srcUrl, req);\n          parser.manifest.uri = _this5.srcUrl; // loaded a master playlist\n\n          if (parser.manifest.playlists) {\n            _this5.master = parser.manifest;\n            setupMediaPlaylists(_this5.master);\n            resolveMediaGroupUris(_this5.master);\n\n            _this5.trigger('loadedplaylist');\n\n            if (!_this5.request) {\n              // no media playlist was specifically selected so start\n              // from the first listed one\n              _this5.media(parser.manifest.playlists[0]);\n            }\n\n            return;\n          } // loaded a media playlist\n          // infer a master playlist if none was previously requested\n\n\n          _this5.master = {\n            mediaGroups: {\n              'AUDIO': {},\n              'VIDEO': {},\n              'CLOSED-CAPTIONS': {},\n              'SUBTITLES': {}\n            },\n            uri: window$1.location.href,\n            playlists: [{\n              uri: _this5.srcUrl,\n              id: 0,\n              resolvedUri: _this5.srcUrl,\n              // m3u8-parser does not attach an attributes property to media playlists so make\n              // sure that the property is attached to avoid undefined reference errors\n              attributes: {}\n            }]\n          };\n          _this5.master.playlists[_this5.srcUrl] = _this5.master.playlists[0];\n\n          _this5.haveMetadata(req, _this5.srcUrl);\n\n          return _this5.trigger('loadedmetadata');\n        });\n      }\n    }]);\n    return PlaylistLoader;\n  }(EventTarget$1);\n  /**\n   * @file playlist.js\n   *\n   * Playlist related utilities.\n   */\n\n\n  var createTimeRange = videojs$1.createTimeRange;\n  /**\n   * walk backward until we find a duration we can use\n   * or return a failure\n   *\n   * @param {Playlist} playlist the playlist to walk through\n   * @param {Number} endSequence the mediaSequence to stop walking on\n   */\n\n  var backwardDuration = function backwardDuration(playlist, endSequence) {\n    var result = 0;\n    var i = endSequence - playlist.mediaSequence; // if a start time is available for segment immediately following\n    // the interval, use it\n\n    var segment = playlist.segments[i]; // Walk backward until we find the latest segment with timeline\n    // information that is earlier than endSequence\n\n    if (segment) {\n      if (typeof segment.start !== 'undefined') {\n        return {\n          result: segment.start,\n          precise: true\n        };\n      }\n\n      if (typeof segment.end !== 'undefined') {\n        return {\n          result: segment.end - segment.duration,\n          precise: true\n        };\n      }\n    }\n\n    while (i--) {\n      segment = playlist.segments[i];\n\n      if (typeof segment.end !== 'undefined') {\n        return {\n          result: result + segment.end,\n          precise: true\n        };\n      }\n\n      result += segment.duration;\n\n      if (typeof segment.start !== 'undefined') {\n        return {\n          result: result + segment.start,\n          precise: true\n        };\n      }\n    }\n\n    return {\n      result: result,\n      precise: false\n    };\n  };\n  /**\n   * walk forward until we find a duration we can use\n   * or return a failure\n   *\n   * @param {Playlist} playlist the playlist to walk through\n   * @param {Number} endSequence the mediaSequence to stop walking on\n   */\n\n\n  var forwardDuration = function forwardDuration(playlist, endSequence) {\n    var result = 0;\n    var segment = void 0;\n    var i = endSequence - playlist.mediaSequence; // Walk forward until we find the earliest segment with timeline\n    // information\n\n    for (; i < playlist.segments.length; i++) {\n      segment = playlist.segments[i];\n\n      if (typeof segment.start !== 'undefined') {\n        return {\n          result: segment.start - result,\n          precise: true\n        };\n      }\n\n      result += segment.duration;\n\n      if (typeof segment.end !== 'undefined') {\n        return {\n          result: segment.end - result,\n          precise: true\n        };\n      }\n    } // indicate we didn't find a useful duration estimate\n\n\n    return {\n      result: -1,\n      precise: false\n    };\n  };\n  /**\n    * Calculate the media duration from the segments associated with a\n    * playlist. The duration of a subinterval of the available segments\n    * may be calculated by specifying an end index.\n    *\n    * @param {Object} playlist a media playlist object\n    * @param {Number=} endSequence an exclusive upper boundary\n    * for the playlist.  Defaults to playlist length.\n    * @param {Number} expired the amount of time that has dropped\n    * off the front of the playlist in a live scenario\n    * @return {Number} the duration between the first available segment\n    * and end index.\n    */\n\n\n  var intervalDuration = function intervalDuration(playlist, endSequence, expired) {\n    var backward = void 0;\n    var forward = void 0;\n\n    if (typeof endSequence === 'undefined') {\n      endSequence = playlist.mediaSequence + playlist.segments.length;\n    }\n\n    if (endSequence < playlist.mediaSequence) {\n      return 0;\n    } // do a backward walk to estimate the duration\n\n\n    backward = backwardDuration(playlist, endSequence);\n\n    if (backward.precise) {\n      // if we were able to base our duration estimate on timing\n      // information provided directly from the Media Source, return\n      // it\n      return backward.result;\n    } // walk forward to see if a precise duration estimate can be made\n    // that way\n\n\n    forward = forwardDuration(playlist, endSequence);\n\n    if (forward.precise) {\n      // we found a segment that has been buffered and so it's\n      // position is known precisely\n      return forward.result;\n    } // return the less-precise, playlist-based duration estimate\n\n\n    return backward.result + expired;\n  };\n  /**\n    * Calculates the duration of a playlist. If a start and end index\n    * are specified, the duration will be for the subset of the media\n    * timeline between those two indices. The total duration for live\n    * playlists is always Infinity.\n    *\n    * @param {Object} playlist a media playlist object\n    * @param {Number=} endSequence an exclusive upper\n    * boundary for the playlist. Defaults to the playlist media\n    * sequence number plus its length.\n    * @param {Number=} expired the amount of time that has\n    * dropped off the front of the playlist in a live scenario\n    * @return {Number} the duration between the start index and end\n    * index.\n    */\n\n\n  var duration = function duration(playlist, endSequence, expired) {\n    if (!playlist) {\n      return 0;\n    }\n\n    if (typeof expired !== 'number') {\n      expired = 0;\n    } // if a slice of the total duration is not requested, use\n    // playlist-level duration indicators when they're present\n\n\n    if (typeof endSequence === 'undefined') {\n      // if present, use the duration specified in the playlist\n      if (playlist.totalDuration) {\n        return playlist.totalDuration;\n      } // duration should be Infinity for live playlists\n\n\n      if (!playlist.endList) {\n        return window$1.Infinity;\n      }\n    } // calculate the total duration based on the segment durations\n\n\n    return intervalDuration(playlist, endSequence, expired);\n  };\n  /**\n    * Calculate the time between two indexes in the current playlist\n    * neight the start- nor the end-index need to be within the current\n    * playlist in which case, the targetDuration of the playlist is used\n    * to approximate the durations of the segments\n    *\n    * @param {Object} playlist a media playlist object\n    * @param {Number} startIndex\n    * @param {Number} endIndex\n    * @return {Number} the number of seconds between startIndex and endIndex\n    */\n\n\n  var sumDurations = function sumDurations(playlist, startIndex, endIndex) {\n    var durations = 0;\n\n    if (startIndex > endIndex) {\n      var _ref = [endIndex, startIndex];\n      startIndex = _ref[0];\n      endIndex = _ref[1];\n    }\n\n    if (startIndex < 0) {\n      for (var i = startIndex; i < Math.min(0, endIndex); i++) {\n        durations += playlist.targetDuration;\n      }\n\n      startIndex = 0;\n    }\n\n    for (var _i = startIndex; _i < endIndex; _i++) {\n      durations += playlist.segments[_i].duration;\n    }\n\n    return durations;\n  };\n  /**\n   * Determines the media index of the segment corresponding to the safe edge of the live\n   * window which is the duration of the last segment plus 2 target durations from the end\n   * of the playlist.\n   *\n   * @param {Object} playlist\n   *        a media playlist object\n   * @return {Number}\n   *         The media index of the segment at the safe live point. 0 if there is no \"safe\"\n   *         point.\n   * @function safeLiveIndex\n   */\n\n\n  var safeLiveIndex = function safeLiveIndex(playlist) {\n    if (!playlist.segments.length) {\n      return 0;\n    }\n\n    var i = playlist.segments.length - 1;\n    var distanceFromEnd = playlist.segments[i].duration || playlist.targetDuration;\n    var safeDistance = distanceFromEnd + playlist.targetDuration * 2;\n\n    while (i--) {\n      distanceFromEnd += playlist.segments[i].duration;\n\n      if (distanceFromEnd >= safeDistance) {\n        break;\n      }\n    }\n\n    return Math.max(0, i);\n  };\n  /**\n   * Calculates the playlist end time\n   *\n   * @param {Object} playlist a media playlist object\n   * @param {Number=} expired the amount of time that has\n   *                  dropped off the front of the playlist in a live scenario\n   * @param {Boolean|false} useSafeLiveEnd a boolean value indicating whether or not the\n   *                        playlist end calculation should consider the safe live end\n   *                        (truncate the playlist end by three segments). This is normally\n   *                        used for calculating the end of the playlist's seekable range.\n   * @returns {Number} the end time of playlist\n   * @function playlistEnd\n   */\n\n\n  var playlistEnd = function playlistEnd(playlist, expired, useSafeLiveEnd) {\n    if (!playlist || !playlist.segments) {\n      return null;\n    }\n\n    if (playlist.endList) {\n      return duration(playlist);\n    }\n\n    if (expired === null) {\n      return null;\n    }\n\n    expired = expired || 0;\n    var endSequence = useSafeLiveEnd ? safeLiveIndex(playlist) : playlist.segments.length;\n    return intervalDuration(playlist, playlist.mediaSequence + endSequence, expired);\n  };\n  /**\n    * Calculates the interval of time that is currently seekable in a\n    * playlist. The returned time ranges are relative to the earliest\n    * moment in the specified playlist that is still available. A full\n    * seekable implementation for live streams would need to offset\n    * these values by the duration of content that has expired from the\n    * stream.\n    *\n    * @param {Object} playlist a media playlist object\n    * dropped off the front of the playlist in a live scenario\n    * @param {Number=} expired the amount of time that has\n    * dropped off the front of the playlist in a live scenario\n    * @return {TimeRanges} the periods of time that are valid targets\n    * for seeking\n    */\n\n\n  var seekable = function seekable(playlist, expired) {\n    var useSafeLiveEnd = true;\n    var seekableStart = expired || 0;\n    var seekableEnd = playlistEnd(playlist, expired, useSafeLiveEnd);\n\n    if (seekableEnd === null) {\n      return createTimeRange();\n    }\n\n    return createTimeRange(seekableStart, seekableEnd);\n  };\n\n  var isWholeNumber = function isWholeNumber(num) {\n    return num - Math.floor(num) === 0;\n  };\n\n  var roundSignificantDigit = function roundSignificantDigit(increment, num) {\n    // If we have a whole number, just add 1 to it\n    if (isWholeNumber(num)) {\n      return num + increment * 0.1;\n    }\n\n    var numDecimalDigits = num.toString().split('.')[1].length;\n\n    for (var i = 1; i <= numDecimalDigits; i++) {\n      var scale = Math.pow(10, i);\n      var temp = num * scale;\n\n      if (isWholeNumber(temp) || i === numDecimalDigits) {\n        return (temp + increment) / scale;\n      }\n    }\n  };\n\n  var ceilLeastSignificantDigit = roundSignificantDigit.bind(null, 1);\n  var floorLeastSignificantDigit = roundSignificantDigit.bind(null, -1);\n  /**\n   * Determine the index and estimated starting time of the segment that\n   * contains a specified playback position in a media playlist.\n   *\n   * @param {Object} playlist the media playlist to query\n   * @param {Number} currentTime The number of seconds since the earliest\n   * possible position to determine the containing segment for\n   * @param {Number} startIndex\n   * @param {Number} startTime\n   * @return {Object}\n   */\n\n  var getMediaInfoForTime = function getMediaInfoForTime(playlist, currentTime, startIndex, startTime) {\n    var i = void 0;\n    var segment = void 0;\n    var numSegments = playlist.segments.length;\n    var time = currentTime - startTime;\n\n    if (time < 0) {\n      // Walk backward from startIndex in the playlist, adding durations\n      // until we find a segment that contains `time` and return it\n      if (startIndex > 0) {\n        for (i = startIndex - 1; i >= 0; i--) {\n          segment = playlist.segments[i];\n          time += floorLeastSignificantDigit(segment.duration);\n\n          if (time > 0) {\n            return {\n              mediaIndex: i,\n              startTime: startTime - sumDurations(playlist, startIndex, i)\n            };\n          }\n        }\n      } // We were unable to find a good segment within the playlist\n      // so select the first segment\n\n\n      return {\n        mediaIndex: 0,\n        startTime: currentTime\n      };\n    } // When startIndex is negative, we first walk forward to first segment\n    // adding target durations. If we \"run out of time\" before getting to\n    // the first segment, return the first segment\n\n\n    if (startIndex < 0) {\n      for (i = startIndex; i < 0; i++) {\n        time -= playlist.targetDuration;\n\n        if (time < 0) {\n          return {\n            mediaIndex: 0,\n            startTime: currentTime\n          };\n        }\n      }\n\n      startIndex = 0;\n    } // Walk forward from startIndex in the playlist, subtracting durations\n    // until we find a segment that contains `time` and return it\n\n\n    for (i = startIndex; i < numSegments; i++) {\n      segment = playlist.segments[i];\n      time -= ceilLeastSignificantDigit(segment.duration);\n\n      if (time < 0) {\n        return {\n          mediaIndex: i,\n          startTime: startTime + sumDurations(playlist, startIndex, i)\n        };\n      }\n    } // We are out of possible candidates so load the last one...\n\n\n    return {\n      mediaIndex: numSegments - 1,\n      startTime: currentTime\n    };\n  };\n  /**\n   * Check whether the playlist is blacklisted or not.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is blacklisted or not\n   * @function isBlacklisted\n   */\n\n\n  var isBlacklisted = function isBlacklisted(playlist) {\n    return playlist.excludeUntil && playlist.excludeUntil > Date.now();\n  };\n  /**\n   * Check whether the playlist is compatible with current playback configuration or has\n   * been blacklisted permanently for being incompatible.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is incompatible or not\n   * @function isIncompatible\n   */\n\n\n  var isIncompatible = function isIncompatible(playlist) {\n    return playlist.excludeUntil && playlist.excludeUntil === Infinity;\n  };\n  /**\n   * Check whether the playlist is enabled or not.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is enabled or not\n   * @function isEnabled\n   */\n\n\n  var isEnabled = function isEnabled(playlist) {\n    var blacklisted = isBlacklisted(playlist);\n    return !playlist.disabled && !blacklisted;\n  };\n  /**\n   * Check whether the playlist has been manually disabled through the representations api.\n   *\n   * @param {Object} playlist the media playlist object\n   * @return {boolean} whether the playlist is disabled manually or not\n   * @function isDisabled\n   */\n\n\n  var isDisabled = function isDisabled(playlist) {\n    return playlist.disabled;\n  };\n  /**\n   * Returns whether the current playlist is an AES encrypted HLS stream\n   *\n   * @return {Boolean} true if it's an AES encrypted HLS stream\n   */\n\n\n  var isAes = function isAes(media) {\n    for (var i = 0; i < media.segments.length; i++) {\n      if (media.segments[i].key) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Returns whether the current playlist contains fMP4\n   *\n   * @return {Boolean} true if the playlist contains fMP4\n   */\n\n\n  var isFmp4 = function isFmp4(media) {\n    for (var i = 0; i < media.segments.length; i++) {\n      if (media.segments[i].map) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n  /**\n   * Checks if the playlist has a value for the specified attribute\n   *\n   * @param {String} attr\n   *        Attribute to check for\n   * @param {Object} playlist\n   *        The media playlist object\n   * @return {Boolean}\n   *         Whether the playlist contains a value for the attribute or not\n   * @function hasAttribute\n   */\n\n\n  var hasAttribute = function hasAttribute(attr, playlist) {\n    return playlist.attributes && playlist.attributes[attr];\n  };\n  /**\n   * Estimates the time required to complete a segment download from the specified playlist\n   *\n   * @param {Number} segmentDuration\n   *        Duration of requested segment\n   * @param {Number} bandwidth\n   *        Current measured bandwidth of the player\n   * @param {Object} playlist\n   *        The media playlist object\n   * @param {Number=} bytesReceived\n   *        Number of bytes already received for the request. Defaults to 0\n   * @return {Number|NaN}\n   *         The estimated time to request the segment. NaN if bandwidth information for\n   *         the given playlist is unavailable\n   * @function estimateSegmentRequestTime\n   */\n\n\n  var estimateSegmentRequestTime = function estimateSegmentRequestTime(segmentDuration, bandwidth, playlist) {\n    var bytesReceived = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n    if (!hasAttribute('BANDWIDTH', playlist)) {\n      return NaN;\n    }\n\n    var size = segmentDuration * playlist.attributes.BANDWIDTH;\n    return (size - bytesReceived * 8) / bandwidth;\n  };\n  /*\n   * Returns whether the current playlist is the lowest rendition\n   *\n   * @return {Boolean} true if on lowest rendition\n   */\n\n\n  var isLowestEnabledRendition = function isLowestEnabledRendition(master, media) {\n    if (master.playlists.length === 1) {\n      return true;\n    }\n\n    var currentBandwidth = media.attributes.BANDWIDTH || Number.MAX_VALUE;\n    return master.playlists.filter(function (playlist) {\n      if (!isEnabled(playlist)) {\n        return false;\n      }\n\n      return (playlist.attributes.BANDWIDTH || 0) < currentBandwidth;\n    }).length === 0;\n  }; // exports\n\n\n  var Playlist = {\n    duration: duration,\n    seekable: seekable,\n    safeLiveIndex: safeLiveIndex,\n    getMediaInfoForTime: getMediaInfoForTime,\n    isEnabled: isEnabled,\n    isDisabled: isDisabled,\n    isBlacklisted: isBlacklisted,\n    isIncompatible: isIncompatible,\n    playlistEnd: playlistEnd,\n    isAes: isAes,\n    isFmp4: isFmp4,\n    hasAttribute: hasAttribute,\n    estimateSegmentRequestTime: estimateSegmentRequestTime,\n    isLowestEnabledRendition: isLowestEnabledRendition\n  };\n  /**\n   * @file xhr.js\n   */\n\n  var videojsXHR = videojs$1.xhr,\n      mergeOptions$1$1 = videojs$1.mergeOptions;\n\n  var xhrFactory = function xhrFactory() {\n    var xhr = function XhrFunction(options, callback) {\n      // Add a default timeout for all hls requests\n      options = mergeOptions$1$1({\n        timeout: 45e3\n      }, options); // Allow an optional user-specified function to modify the option\n      // object before we construct the xhr request\n\n      var beforeRequest = XhrFunction.beforeRequest || videojs$1.Hls.xhr.beforeRequest;\n\n      if (beforeRequest && typeof beforeRequest === 'function') {\n        var newOptions = beforeRequest(options);\n\n        if (newOptions) {\n          options = newOptions;\n        }\n      }\n\n      var request = videojsXHR(options, function (error, response) {\n        var reqResponse = request.response;\n\n        if (!error && reqResponse) {\n          request.responseTime = Date.now();\n          request.roundTripTime = request.responseTime - request.requestTime;\n          request.bytesReceived = reqResponse.byteLength || reqResponse.length;\n\n          if (!request.bandwidth) {\n            request.bandwidth = Math.floor(request.bytesReceived / request.roundTripTime * 8 * 1000);\n          }\n        }\n\n        if (response.headers) {\n          request.responseHeaders = response.headers;\n        } // videojs.xhr now uses a specific code on the error\n        // object to signal that a request has timed out instead\n        // of setting a boolean on the request object\n\n\n        if (error && error.code === 'ETIMEDOUT') {\n          request.timedout = true;\n        } // videojs.xhr no longer considers status codes outside of 200 and 0\n        // (for file uris) to be errors, but the old XHR did, so emulate that\n        // behavior. Status 206 may be used in response to byterange requests.\n\n\n        if (!error && !request.aborted && response.statusCode !== 200 && response.statusCode !== 206 && response.statusCode !== 0) {\n          error = new Error('XHR Failed with a response of: ' + (request && (reqResponse || request.responseText)));\n        }\n\n        callback(error, request);\n      });\n      var originalAbort = request.abort;\n\n      request.abort = function () {\n        request.aborted = true;\n        return originalAbort.apply(request, arguments);\n      };\n\n      request.uri = options.uri;\n      request.requestTime = Date.now();\n      return request;\n    };\n\n    return xhr;\n  };\n  /**\n   * @file bin-utils.js\n   */\n\n  /**\n   * convert a TimeRange to text\n   *\n   * @param {TimeRange} range the timerange to use for conversion\n   * @param {Number} i the iterator on the range to convert\n   */\n\n\n  var textRange = function textRange(range, i) {\n    return range.start(i) + '-' + range.end(i);\n  };\n  /**\n   * format a number as hex string\n   *\n   * @param {Number} e The number\n   * @param {Number} i the iterator\n   */\n\n\n  var formatHexString = function formatHexString(e, i) {\n    var value = e.toString(16);\n    return '00'.substring(0, 2 - value.length) + value + (i % 2 ? ' ' : '');\n  };\n\n  var formatAsciiString = function formatAsciiString(e) {\n    if (e >= 0x20 && e < 0x7e) {\n      return String.fromCharCode(e);\n    }\n\n    return '.';\n  };\n  /**\n   * Creates an object for sending to a web worker modifying properties that are TypedArrays\n   * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n   *\n   * @param {Object} message\n   *        Object of properties and values to send to the web worker\n   * @return {Object}\n   *         Modified message with TypedArray values expanded\n   * @function createTransferableMessage\n   */\n\n\n  var createTransferableMessage = function createTransferableMessage(message) {\n    var transferable = {};\n    Object.keys(message).forEach(function (key) {\n      var value = message[key];\n\n      if (ArrayBuffer.isView(value)) {\n        transferable[key] = {\n          bytes: value.buffer,\n          byteOffset: value.byteOffset,\n          byteLength: value.byteLength\n        };\n      } else {\n        transferable[key] = value;\n      }\n    });\n    return transferable;\n  };\n  /**\n   * Returns a unique string identifier for a media initialization\n   * segment.\n   */\n\n\n  var initSegmentId = function initSegmentId(initSegment) {\n    var byterange = initSegment.byterange || {\n      length: Infinity,\n      offset: 0\n    };\n    return [byterange.length, byterange.offset, initSegment.resolvedUri].join(',');\n  };\n  /**\n   * utils to help dump binary data to the console\n   */\n\n\n  var hexDump = function hexDump(data) {\n    var bytes = Array.prototype.slice.call(data);\n    var step = 16;\n    var result = '';\n    var hex = void 0;\n    var ascii = void 0;\n\n    for (var j = 0; j < bytes.length / step; j++) {\n      hex = bytes.slice(j * step, j * step + step).map(formatHexString).join('');\n      ascii = bytes.slice(j * step, j * step + step).map(formatAsciiString).join('');\n      result += hex + ' ' + ascii + '\\n';\n    }\n\n    return result;\n  };\n\n  var tagDump = function tagDump(_ref) {\n    var bytes = _ref.bytes;\n    return hexDump(bytes);\n  };\n\n  var textRanges = function textRanges(ranges) {\n    var result = '';\n    var i = void 0;\n\n    for (i = 0; i < ranges.length; i++) {\n      result += textRange(ranges, i) + ' ';\n    }\n\n    return result;\n  };\n\n  var utils$1 =\n  /*#__PURE__*/\n  Object.freeze({\n    createTransferableMessage: createTransferableMessage,\n    initSegmentId: initSegmentId,\n    hexDump: hexDump,\n    tagDump: tagDump,\n    textRanges: textRanges\n  }); // TODO handle fmp4 case where the timing info is accurate and doesn't involve transmux\n  // Add 25% to the segment duration to account for small discrepencies in segment timing.\n  // 25% was arbitrarily chosen, and may need to be refined over time.\n\n  var SEGMENT_END_FUDGE_PERCENT = 0.25;\n  /**\n   * Converts a player time (any time that can be gotten/set from player.currentTime(),\n   * e.g., any time within player.seekable().start(0) to player.seekable().end(0)) to a\n   * program time (any time referencing the real world (e.g., EXT-X-PROGRAM-DATE-TIME)).\n   *\n   * The containing segment is required as the EXT-X-PROGRAM-DATE-TIME serves as an \"anchor\n   * point\" (a point where we have a mapping from program time to player time, with player\n   * time being the post transmux start of the segment).\n   *\n   * For more details, see [this doc](../../docs/program-time-from-player-time.md).\n   *\n   * @param {Number} playerTime the player time\n   * @param {Object} segment the segment which contains the player time\n   * @return {Date} program time\n   */\n\n  var playerTimeToProgramTime = function playerTimeToProgramTime(playerTime, segment) {\n    if (!segment.dateTimeObject) {\n      // Can't convert without an \"anchor point\" for the program time (i.e., a time that can\n      // be used to map the start of a segment with a real world time).\n      return null;\n    }\n\n    var transmuxerPrependedSeconds = segment.videoTimingInfo.transmuxerPrependedSeconds;\n    var transmuxedStart = segment.videoTimingInfo.transmuxedPresentationStart; // get the start of the content from before old content is prepended\n\n    var startOfSegment = transmuxedStart + transmuxerPrependedSeconds;\n    var offsetFromSegmentStart = playerTime - startOfSegment;\n    return new Date(segment.dateTimeObject.getTime() + offsetFromSegmentStart * 1000);\n  };\n\n  var originalSegmentVideoDuration = function originalSegmentVideoDuration(videoTimingInfo) {\n    return videoTimingInfo.transmuxedPresentationEnd - videoTimingInfo.transmuxedPresentationStart - videoTimingInfo.transmuxerPrependedSeconds;\n  };\n  /**\n   * Finds a segment that contains the time requested given as an ISO-8601 string. The\n   * returned segment might be an estimate or an accurate match.\n   *\n   * @param {String} programTime The ISO-8601 programTime to find a match for\n   * @param {Object} playlist A playlist object to search within\n   */\n\n\n  var findSegmentForProgramTime = function findSegmentForProgramTime(programTime, playlist) {\n    // Assumptions:\n    //  - verifyProgramDateTimeTags has already been run\n    //  - live streams have been started\n    var dateTimeObject = void 0;\n\n    try {\n      dateTimeObject = new Date(programTime);\n    } catch (e) {\n      return null;\n    }\n\n    if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n      return null;\n    }\n\n    var segment = playlist.segments[0];\n\n    if (dateTimeObject < segment.dateTimeObject) {\n      // Requested time is before stream start.\n      return null;\n    }\n\n    for (var i = 0; i < playlist.segments.length - 1; i++) {\n      segment = playlist.segments[i];\n      var nextSegmentStart = playlist.segments[i + 1].dateTimeObject;\n\n      if (dateTimeObject < nextSegmentStart) {\n        break;\n      }\n    }\n\n    var lastSegment = playlist.segments[playlist.segments.length - 1];\n    var lastSegmentStart = lastSegment.dateTimeObject;\n    var lastSegmentDuration = lastSegment.videoTimingInfo ? originalSegmentVideoDuration(lastSegment.videoTimingInfo) : lastSegment.duration + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT;\n    var lastSegmentEnd = new Date(lastSegmentStart.getTime() + lastSegmentDuration * 1000);\n\n    if (dateTimeObject > lastSegmentEnd) {\n      // Beyond the end of the stream, or our best guess of the end of the stream.\n      return null;\n    }\n\n    if (dateTimeObject > lastSegmentStart) {\n      segment = lastSegment;\n    }\n\n    return {\n      segment: segment,\n      estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : Playlist.duration(playlist, playlist.mediaSequence + playlist.segments.indexOf(segment)),\n      // Although, given that all segments have accurate date time objects, the segment\n      // selected should be accurate, unless the video has been transmuxed at some point\n      // (determined by the presence of the videoTimingInfo object), the segment's \"player\n      // time\" (the start time in the player) can't be considered accurate.\n      type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n    };\n  };\n  /**\n   * Finds a segment that contains the given player time(in seconds).\n   *\n   * @param {Number} time The player time to find a match for\n   * @param {Object} playlist A playlist object to search within\n   */\n\n\n  var findSegmentForPlayerTime = function findSegmentForPlayerTime(time, playlist) {\n    // Assumptions:\n    // - there will always be a segment.duration\n    // - we can start from zero\n    // - segments are in time order\n    if (!playlist || !playlist.segments || playlist.segments.length === 0) {\n      return null;\n    }\n\n    var segmentEnd = 0;\n    var segment = void 0;\n\n    for (var i = 0; i < playlist.segments.length; i++) {\n      segment = playlist.segments[i]; // videoTimingInfo is set after the segment is downloaded and transmuxed, and\n      // should contain the most accurate values we have for the segment's player times.\n      //\n      // Use the accurate transmuxedPresentationEnd value if it is available, otherwise fall\n      // back to an estimate based on the manifest derived (inaccurate) segment.duration, to\n      // calculate an end value.\n\n      segmentEnd = segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationEnd : segmentEnd + segment.duration;\n\n      if (time <= segmentEnd) {\n        break;\n      }\n    }\n\n    var lastSegment = playlist.segments[playlist.segments.length - 1];\n\n    if (lastSegment.videoTimingInfo && lastSegment.videoTimingInfo.transmuxedPresentationEnd < time) {\n      // The time requested is beyond the stream end.\n      return null;\n    }\n\n    if (time > segmentEnd) {\n      // The time is within or beyond the last segment.\n      //\n      // Check to see if the time is beyond a reasonable guess of the end of the stream.\n      if (time > segmentEnd + lastSegment.duration * SEGMENT_END_FUDGE_PERCENT) {\n        // Technically, because the duration value is only an estimate, the time may still\n        // exist in the last segment, however, there isn't enough information to make even\n        // a reasonable estimate.\n        return null;\n      }\n\n      segment = lastSegment;\n    }\n\n    return {\n      segment: segment,\n      estimatedStart: segment.videoTimingInfo ? segment.videoTimingInfo.transmuxedPresentationStart : segmentEnd - segment.duration,\n      // Because videoTimingInfo is only set after transmux, it is the only way to get\n      // accurate timing values.\n      type: segment.videoTimingInfo ? 'accurate' : 'estimate'\n    };\n  };\n  /**\n   * Gives the offset of the comparisonTimestamp from the programTime timestamp in seconds.\n   * If the offset returned is positive, the programTime occurs after the\n   * comparisonTimestamp.\n   * If the offset is negative, the programTime occurs before the comparisonTimestamp.\n   *\n   * @param {String} comparisonTimeStamp An ISO-8601 timestamp to compare against\n   * @param {String} programTime The programTime as an ISO-8601 string\n   * @return {Number} offset\n   */\n\n\n  var getOffsetFromTimestamp = function getOffsetFromTimestamp(comparisonTimeStamp, programTime) {\n    var segmentDateTime = void 0;\n    var programDateTime = void 0;\n\n    try {\n      segmentDateTime = new Date(comparisonTimeStamp);\n      programDateTime = new Date(programTime);\n    } catch (e) {// TODO handle error\n    }\n\n    var segmentTimeEpoch = segmentDateTime.getTime();\n    var programTimeEpoch = programDateTime.getTime();\n    return (programTimeEpoch - segmentTimeEpoch) / 1000;\n  };\n  /**\n   * Checks that all segments in this playlist have programDateTime tags.\n   *\n   * @param {Object} playlist A playlist object\n   */\n\n\n  var verifyProgramDateTimeTags = function verifyProgramDateTimeTags(playlist) {\n    if (!playlist.segments || playlist.segments.length === 0) {\n      return false;\n    }\n\n    for (var i = 0; i < playlist.segments.length; i++) {\n      var segment = playlist.segments[i];\n\n      if (!segment.dateTimeObject) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\n   * Returns the programTime of the media given a playlist and a playerTime.\n   * The playlist must have programDateTime tags for a programDateTime tag to be returned.\n   * If the segments containing the time requested have not been buffered yet, an estimate\n   * may be returned to the callback.\n   *\n   * @param {Object} args\n   * @param {Object} args.playlist A playlist object to search within\n   * @param {Number} time A playerTime in seconds\n   * @param {Function} callback(err, programTime)\n   * @returns {String} err.message A detailed error message\n   * @returns {Object} programTime\n   * @returns {Number} programTime.mediaSeconds The streamTime in seconds\n   * @returns {String} programTime.programDateTime The programTime as an ISO-8601 String\n   */\n\n\n  var getProgramTime = function getProgramTime(_ref) {\n    var playlist = _ref.playlist,\n        _ref$time = _ref.time,\n        time = _ref$time === undefined ? undefined : _ref$time,\n        callback = _ref.callback;\n\n    if (!callback) {\n      throw new Error('getProgramTime: callback must be provided');\n    }\n\n    if (!playlist || time === undefined) {\n      return callback({\n        message: 'getProgramTime: playlist and time must be provided'\n      });\n    }\n\n    var matchedSegment = findSegmentForPlayerTime(time, playlist);\n\n    if (!matchedSegment) {\n      return callback({\n        message: 'valid programTime was not found'\n      });\n    }\n\n    if (matchedSegment.type === 'estimate') {\n      return callback({\n        message: 'Accurate programTime could not be determined.' + ' Please seek to e.seekTime and try again',\n        seekTime: matchedSegment.estimatedStart\n      });\n    }\n\n    var programTimeObject = {\n      mediaSeconds: time\n    };\n    var programTime = playerTimeToProgramTime(time, matchedSegment.segment);\n\n    if (programTime) {\n      programTimeObject.programDateTime = programTime.toISOString();\n    }\n\n    return callback(null, programTimeObject);\n  };\n  /**\n   * Seeks in the player to a time that matches the given programTime ISO-8601 string.\n   *\n   * @param {Object} args\n   * @param {String} args.programTime A programTime to seek to as an ISO-8601 String\n   * @param {Object} args.playlist A playlist to look within\n   * @param {Number} args.retryCount The number of times to try for an accurate seek. Default is 2.\n   * @param {Function} args.seekTo A method to perform a seek\n   * @param {Boolean} args.pauseAfterSeek Whether to end in a paused state after seeking. Default is true.\n   * @param {Object} args.tech The tech to seek on\n   * @param {Function} args.callback(err, newTime) A callback to return the new time to\n   * @returns {String} err.message A detailed error message\n   * @returns {Number} newTime The exact time that was seeked to in seconds\n   */\n\n\n  var seekToProgramTime = function seekToProgramTime(_ref2) {\n    var programTime = _ref2.programTime,\n        playlist = _ref2.playlist,\n        _ref2$retryCount = _ref2.retryCount,\n        retryCount = _ref2$retryCount === undefined ? 2 : _ref2$retryCount,\n        seekTo = _ref2.seekTo,\n        _ref2$pauseAfterSeek = _ref2.pauseAfterSeek,\n        pauseAfterSeek = _ref2$pauseAfterSeek === undefined ? true : _ref2$pauseAfterSeek,\n        tech = _ref2.tech,\n        callback = _ref2.callback;\n\n    if (!callback) {\n      throw new Error('seekToProgramTime: callback must be provided');\n    }\n\n    if (typeof programTime === 'undefined' || !playlist || !seekTo) {\n      return callback({\n        message: 'seekToProgramTime: programTime, seekTo and playlist must be provided'\n      });\n    }\n\n    if (!playlist.endList && !tech.hasStarted_) {\n      return callback({\n        message: 'player must be playing a live stream to start buffering'\n      });\n    }\n\n    if (!verifyProgramDateTimeTags(playlist)) {\n      return callback({\n        message: 'programDateTime tags must be provided in the manifest ' + playlist.resolvedUri\n      });\n    }\n\n    var matchedSegment = findSegmentForProgramTime(programTime, playlist); // no match\n\n    if (!matchedSegment) {\n      return callback({\n        message: programTime + ' was not found in the stream'\n      });\n    }\n\n    var segment = matchedSegment.segment;\n    var mediaOffset = getOffsetFromTimestamp(segment.dateTimeObject, programTime);\n\n    if (matchedSegment.type === 'estimate') {\n      // we've run out of retries\n      if (retryCount === 0) {\n        return callback({\n          message: programTime + ' is not buffered yet. Try again'\n        });\n      }\n\n      seekTo(matchedSegment.estimatedStart + mediaOffset);\n      tech.one('seeked', function () {\n        seekToProgramTime({\n          programTime: programTime,\n          playlist: playlist,\n          retryCount: retryCount - 1,\n          seekTo: seekTo,\n          pauseAfterSeek: pauseAfterSeek,\n          tech: tech,\n          callback: callback\n        });\n      });\n      return;\n    } // Since the segment.start value is determined from the buffered end or ending time\n    // of the prior segment, the seekToTime doesn't need to account for any transmuxer\n    // modifications.\n\n\n    var seekToTime = segment.start + mediaOffset;\n\n    var seekedCallback = function seekedCallback() {\n      return callback(null, tech.currentTime());\n    }; // listen for seeked event\n\n\n    tech.one('seeked', seekedCallback); // pause before seeking as video.js will restore this state\n\n    if (pauseAfterSeek) {\n      tech.pause();\n    }\n\n    seekTo(seekToTime);\n  };\n  /**\n   * ranges\n   *\n   * Utilities for working with TimeRanges.\n   *\n   */\n  // Fudge factor to account for TimeRanges rounding\n\n\n  var TIME_FUDGE_FACTOR = 1 / 30; // Comparisons between time values such as current time and the end of the buffered range\n  // can be misleading because of precision differences or when the current media has poorly\n  // aligned audio and video, which can cause values to be slightly off from what you would\n  // expect. This value is what we consider to be safe to use in such comparisons to account\n  // for these scenarios.\n\n  var SAFE_TIME_DELTA = TIME_FUDGE_FACTOR * 3;\n\n  var filterRanges = function filterRanges(timeRanges, predicate) {\n    var results = [];\n    var i = void 0;\n\n    if (timeRanges && timeRanges.length) {\n      // Search for ranges that match the predicate\n      for (i = 0; i < timeRanges.length; i++) {\n        if (predicate(timeRanges.start(i), timeRanges.end(i))) {\n          results.push([timeRanges.start(i), timeRanges.end(i)]);\n        }\n      }\n    }\n\n    return videojs$1.createTimeRanges(results);\n  };\n  /**\n   * Attempts to find the buffered TimeRange that contains the specified\n   * time.\n   * @param {TimeRanges} buffered - the TimeRanges object to query\n   * @param {number} time  - the time to filter on.\n   * @returns {TimeRanges} a new TimeRanges object\n   */\n\n\n  var findRange = function findRange(buffered, time) {\n    return filterRanges(buffered, function (start, end) {\n      return start - TIME_FUDGE_FACTOR <= time && end + TIME_FUDGE_FACTOR >= time;\n    });\n  };\n  /**\n   * Returns the TimeRanges that begin later than the specified time.\n   * @param {TimeRanges} timeRanges - the TimeRanges object to query\n   * @param {number} time - the time to filter on.\n   * @returns {TimeRanges} a new TimeRanges object.\n   */\n\n\n  var findNextRange = function findNextRange(timeRanges, time) {\n    return filterRanges(timeRanges, function (start) {\n      return start - TIME_FUDGE_FACTOR >= time;\n    });\n  };\n  /**\n   * Returns gaps within a list of TimeRanges\n   * @param {TimeRanges} buffered - the TimeRanges object\n   * @return {TimeRanges} a TimeRanges object of gaps\n   */\n\n\n  var findGaps = function findGaps(buffered) {\n    if (buffered.length < 2) {\n      return videojs$1.createTimeRanges();\n    }\n\n    var ranges = [];\n\n    for (var i = 1; i < buffered.length; i++) {\n      var start = buffered.end(i - 1);\n      var end = buffered.start(i);\n      ranges.push([start, end]);\n    }\n\n    return videojs$1.createTimeRanges(ranges);\n  };\n  /**\n   * Gets a human readable string for a TimeRange\n   *\n   * @param {TimeRange} range\n   * @returns {String} a human readable string\n   */\n\n\n  var printableRange = function printableRange(range) {\n    var strArr = [];\n\n    if (!range || !range.length) {\n      return '';\n    }\n\n    for (var i = 0; i < range.length; i++) {\n      strArr.push(range.start(i) + ' => ' + range.end(i));\n    }\n\n    return strArr.join(', ');\n  };\n  /**\n   * Calculates the amount of time left in seconds until the player hits the end of the\n   * buffer and causes a rebuffer\n   *\n   * @param {TimeRange} buffered\n   *        The state of the buffer\n   * @param {Numnber} currentTime\n   *        The current time of the player\n   * @param {Number} playbackRate\n   *        The current playback rate of the player. Defaults to 1.\n   * @return {Number}\n   *         Time until the player has to start rebuffering in seconds.\n   * @function timeUntilRebuffer\n   */\n\n\n  var timeUntilRebuffer = function timeUntilRebuffer(buffered, currentTime) {\n    var playbackRate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var bufferedEnd = buffered.length ? buffered.end(buffered.length - 1) : 0;\n    return (bufferedEnd - currentTime) / playbackRate;\n  };\n  /**\n   * Converts a TimeRanges object into an array representation\n   * @param {TimeRanges} timeRanges\n   * @returns {Array}\n   */\n\n\n  var timeRangesToArray = function timeRangesToArray(timeRanges) {\n    var timeRangesList = [];\n\n    for (var i = 0; i < timeRanges.length; i++) {\n      timeRangesList.push({\n        start: timeRanges.start(i),\n        end: timeRanges.end(i)\n      });\n    }\n\n    return timeRangesList;\n  };\n  /**\n   * @file create-text-tracks-if-necessary.js\n   */\n\n  /**\n   * Create text tracks on video.js if they exist on a segment.\n   *\n   * @param {Object} sourceBuffer the VSB or FSB\n   * @param {Object} mediaSource the HTML media source\n   * @param {Object} segment the segment that may contain the text track\n   * @private\n   */\n\n\n  var createTextTracksIfNecessary = function createTextTracksIfNecessary(sourceBuffer, mediaSource, segment) {\n    var player = mediaSource.player_; // create an in-band caption track if one is present in the segment\n\n    if (segment.captions && segment.captions.length) {\n      if (!sourceBuffer.inbandTextTracks_) {\n        sourceBuffer.inbandTextTracks_ = {};\n      }\n\n      for (var trackId in segment.captionStreams) {\n        if (!sourceBuffer.inbandTextTracks_[trackId]) {\n          player.tech_.trigger({\n            type: 'usage',\n            name: 'hls-608'\n          });\n          var track = player.textTracks().getTrackById(trackId);\n\n          if (track) {\n            // Resuse an existing track with a CC# id because this was\n            // very likely created by videojs-contrib-hls from information\n            // in the m3u8 for us to use\n            sourceBuffer.inbandTextTracks_[trackId] = track;\n          } else {\n            // Otherwise, create a track with the default `CC#` label and\n            // without a language\n            sourceBuffer.inbandTextTracks_[trackId] = player.addRemoteTextTrack({\n              kind: 'captions',\n              id: trackId,\n              label: trackId\n            }, false).track;\n          }\n        }\n      }\n    }\n\n    if (segment.metadata && segment.metadata.length && !sourceBuffer.metadataTrack_) {\n      sourceBuffer.metadataTrack_ = player.addRemoteTextTrack({\n        kind: 'metadata',\n        label: 'Timed Metadata'\n      }, false).track;\n      sourceBuffer.metadataTrack_.inBandMetadataTrackDispatchType = segment.metadata.dispatchType;\n    }\n  };\n  /**\n   * @file remove-cues-from-track.js\n   */\n\n  /**\n   * Remove cues from a track on video.js.\n   *\n   * @param {Double} start start of where we should remove the cue\n   * @param {Double} end end of where the we should remove the cue\n   * @param {Object} track the text track to remove the cues from\n   * @private\n   */\n\n\n  var removeCuesFromTrack = function removeCuesFromTrack(start, end, track) {\n    var i = void 0;\n    var cue = void 0;\n\n    if (!track) {\n      return;\n    }\n\n    if (!track.cues) {\n      return;\n    }\n\n    i = track.cues.length;\n\n    while (i--) {\n      cue = track.cues[i]; // Remove any overlapping cue\n\n      if (cue.startTime <= end && cue.endTime >= start) {\n        track.removeCue(cue);\n      }\n    }\n  };\n  /**\n   * @file add-text-track-data.js\n   */\n\n  /**\n   * Define properties on a cue for backwards compatability,\n   * but warn the user that the way that they are using it\n   * is depricated and will be removed at a later date.\n   *\n   * @param {Cue} cue the cue to add the properties on\n   * @private\n   */\n\n\n  var deprecateOldCue = function deprecateOldCue(cue) {\n    Object.defineProperties(cue.frame, {\n      id: {\n        get: function get() {\n          videojs$1.log.warn('cue.frame.id is deprecated. Use cue.value.key instead.');\n          return cue.value.key;\n        }\n      },\n      value: {\n        get: function get() {\n          videojs$1.log.warn('cue.frame.value is deprecated. Use cue.value.data instead.');\n          return cue.value.data;\n        }\n      },\n      privateData: {\n        get: function get() {\n          videojs$1.log.warn('cue.frame.privateData is deprecated. Use cue.value.data instead.');\n          return cue.value.data;\n        }\n      }\n    });\n  };\n\n  var durationOfVideo = function durationOfVideo(duration) {\n    var dur = void 0;\n\n    if (isNaN(duration) || Math.abs(duration) === Infinity) {\n      dur = Number.MAX_VALUE;\n    } else {\n      dur = duration;\n    }\n\n    return dur;\n  };\n  /**\n   * Add text track data to a source handler given the captions and\n   * metadata from the buffer.\n   *\n   * @param {Object} sourceHandler the virtual source buffer\n   * @param {Array} captionArray an array of caption data\n   * @param {Array} metadataArray an array of meta data\n   * @private\n   */\n\n\n  var addTextTrackData = function addTextTrackData(sourceHandler, captionArray, metadataArray) {\n    var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n\n    if (captionArray) {\n      captionArray.forEach(function (caption) {\n        var track = caption.stream;\n        this.inbandTextTracks_[track].addCue(new Cue(caption.startTime + this.timestampOffset, caption.endTime + this.timestampOffset, caption.text));\n      }, sourceHandler);\n    }\n\n    if (metadataArray) {\n      var videoDuration = durationOfVideo(sourceHandler.mediaSource_.duration);\n      metadataArray.forEach(function (metadata) {\n        var time = metadata.cueTime + this.timestampOffset; // if time isn't a finite number between 0 and Infinity, like NaN,\n        // ignore this bit of metadata.\n        // This likely occurs when you have an non-timed ID3 tag like TIT2,\n        // which is the \"Title/Songname/Content description\" frame\n\n        if (typeof time !== 'number' || window$1.isNaN(time) || time < 0 || !(time < Infinity)) {\n          return;\n        }\n\n        metadata.frames.forEach(function (frame) {\n          var cue = new Cue(time, time, frame.value || frame.url || frame.data || '');\n          cue.frame = frame;\n          cue.value = frame;\n          deprecateOldCue(cue);\n          this.metadataTrack_.addCue(cue);\n        }, this);\n      }, sourceHandler); // Updating the metadeta cues so that\n      // the endTime of each cue is the startTime of the next cue\n      // the endTime of last cue is the duration of the video\n\n      if (sourceHandler.metadataTrack_ && sourceHandler.metadataTrack_.cues && sourceHandler.metadataTrack_.cues.length) {\n        var cues = sourceHandler.metadataTrack_.cues;\n        var cuesArray = []; // Create a copy of the TextTrackCueList...\n        // ...disregarding cues with a falsey value\n\n        for (var i = 0; i < cues.length; i++) {\n          if (cues[i]) {\n            cuesArray.push(cues[i]);\n          }\n        } // Group cues by their startTime value\n\n\n        var cuesGroupedByStartTime = cuesArray.reduce(function (obj, cue) {\n          var timeSlot = obj[cue.startTime] || [];\n          timeSlot.push(cue);\n          obj[cue.startTime] = timeSlot;\n          return obj;\n        }, {}); // Sort startTimes by ascending order\n\n        var sortedStartTimes = Object.keys(cuesGroupedByStartTime).sort(function (a, b) {\n          return Number(a) - Number(b);\n        }); // Map each cue group's endTime to the next group's startTime\n\n        sortedStartTimes.forEach(function (startTime, idx) {\n          var cueGroup = cuesGroupedByStartTime[startTime];\n          var nextTime = Number(sortedStartTimes[idx + 1]) || videoDuration; // Map each cue's endTime the next group's startTime\n\n          cueGroup.forEach(function (cue) {\n            cue.endTime = nextTime;\n          });\n        });\n      }\n    }\n  };\n\n  var win = typeof window !== 'undefined' ? window : {},\n      TARGET = typeof Symbol === 'undefined' ? '__target' : Symbol(),\n      SCRIPT_TYPE = 'application/javascript',\n      BlobBuilder = win.BlobBuilder || win.WebKitBlobBuilder || win.MozBlobBuilder || win.MSBlobBuilder,\n      URL = win.URL || win.webkitURL || URL && URL.msURL,\n      Worker = win.Worker;\n  /**\n   * Returns a wrapper around Web Worker code that is constructible.\n   *\n   * @function shimWorker\n   *\n   * @param { String }    filename    The name of the file\n   * @param { Function }  fn          Function wrapping the code of the worker\n   */\n\n  function shimWorker(filename, fn) {\n    return function ShimWorker(forceFallback) {\n      var o = this;\n\n      if (!fn) {\n        return new Worker(filename);\n      } else if (Worker && !forceFallback) {\n        // Convert the function's inner code to a string to construct the worker\n        var source = fn.toString().replace(/^function.+?{/, '').slice(0, -1),\n            objURL = createSourceObject(source);\n        this[TARGET] = new Worker(objURL);\n        wrapTerminate(this[TARGET], objURL);\n        return this[TARGET];\n      } else {\n        var selfShim = {\n          postMessage: function postMessage(m) {\n            if (o.onmessage) {\n              setTimeout(function () {\n                o.onmessage({\n                  data: m,\n                  target: selfShim\n                });\n              });\n            }\n          }\n        };\n        fn.call(selfShim);\n\n        this.postMessage = function (m) {\n          setTimeout(function () {\n            selfShim.onmessage({\n              data: m,\n              target: o\n            });\n          });\n        };\n\n        this.isThisThread = true;\n      }\n    };\n  } // Test Worker capabilities\n\n\n  if (Worker) {\n    var testWorker,\n        objURL = createSourceObject('self.onmessage = function () {}'),\n        testArray = new Uint8Array(1);\n\n    try {\n      testWorker = new Worker(objURL); // Native browser on some Samsung devices throws for transferables, let's detect it\n\n      testWorker.postMessage(testArray, [testArray.buffer]);\n    } catch (e) {\n      Worker = null;\n    } finally {\n      URL.revokeObjectURL(objURL);\n\n      if (testWorker) {\n        testWorker.terminate();\n      }\n    }\n  }\n\n  function createSourceObject(str) {\n    try {\n      return URL.createObjectURL(new Blob([str], {\n        type: SCRIPT_TYPE\n      }));\n    } catch (e) {\n      var blob = new BlobBuilder();\n      blob.append(str);\n      return URL.createObjectURL(blob.getBlob(type));\n    }\n  }\n\n  function wrapTerminate(worker, objURL) {\n    if (!worker || !objURL) return;\n    var term = worker.terminate;\n    worker.objURL = objURL;\n\n    worker.terminate = function () {\n      if (worker.objURL) URL.revokeObjectURL(worker.objURL);\n      term.call(worker);\n    };\n  }\n\n  var TransmuxWorker = new shimWorker(\"./transmuxer-worker.worker.js\", function (window, document$$1) {\n    var self = this;\n\n    var transmuxerWorker = function () {\n      /**\n       * mux.js\n       *\n       * Copyright (c) 2015 Brightcove\n       * All rights reserved.\n       *\n       * Functions that generate fragmented MP4s suitable for use with Media\n       * Source Extensions.\n       */\n      var UINT32_MAX = Math.pow(2, 32) - 1;\n      var box, dinf, esds, ftyp, mdat, mfhd, minf, moof, moov, mvex, mvhd, trak, tkhd, mdia, mdhd, hdlr, sdtp, stbl, stsd, traf, trex, trun, types, MAJOR_BRAND, MINOR_VERSION, AVC1_BRAND, VIDEO_HDLR, AUDIO_HDLR, HDLR_TYPES, VMHD, SMHD, DREF, STCO, STSC, STSZ, STTS; // pre-calculate constants\n\n      (function () {\n        var i;\n        types = {\n          avc1: [],\n          // codingname\n          avcC: [],\n          btrt: [],\n          dinf: [],\n          dref: [],\n          esds: [],\n          ftyp: [],\n          hdlr: [],\n          mdat: [],\n          mdhd: [],\n          mdia: [],\n          mfhd: [],\n          minf: [],\n          moof: [],\n          moov: [],\n          mp4a: [],\n          // codingname\n          mvex: [],\n          mvhd: [],\n          sdtp: [],\n          smhd: [],\n          stbl: [],\n          stco: [],\n          stsc: [],\n          stsd: [],\n          stsz: [],\n          stts: [],\n          styp: [],\n          tfdt: [],\n          tfhd: [],\n          traf: [],\n          trak: [],\n          trun: [],\n          trex: [],\n          tkhd: [],\n          vmhd: []\n        }; // In environments where Uint8Array is undefined (e.g., IE8), skip set up so that we\n        // don't throw an error\n\n        if (typeof Uint8Array === 'undefined') {\n          return;\n        }\n\n        for (i in types) {\n          if (types.hasOwnProperty(i)) {\n            types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];\n          }\n        }\n\n        MAJOR_BRAND = new Uint8Array(['i'.charCodeAt(0), 's'.charCodeAt(0), 'o'.charCodeAt(0), 'm'.charCodeAt(0)]);\n        AVC1_BRAND = new Uint8Array(['a'.charCodeAt(0), 'v'.charCodeAt(0), 'c'.charCodeAt(0), '1'.charCodeAt(0)]);\n        MINOR_VERSION = new Uint8Array([0, 0, 0, 1]);\n        VIDEO_HDLR = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00, // pre_defined\n        0x76, 0x69, 0x64, 0x65, // handler_type: 'vide'\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'VideoHandler'\n        ]);\n        AUDIO_HDLR = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00, // pre_defined\n        0x73, 0x6f, 0x75, 0x6e, // handler_type: 'soun'\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00 // name: 'SoundHandler'\n        ]);\n        HDLR_TYPES = {\n          video: VIDEO_HDLR,\n          audio: AUDIO_HDLR\n        };\n        DREF = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01, // entry_count\n        0x00, 0x00, 0x00, 0x0c, // entry_size\n        0x75, 0x72, 0x6c, 0x20, // 'url' type\n        0x00, // version 0\n        0x00, 0x00, 0x01 // entry_flags\n        ]);\n        SMHD = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, // balance, 0 means centered\n        0x00, 0x00 // reserved\n        ]);\n        STCO = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00 // entry_count\n        ]);\n        STSC = STCO;\n        STSZ = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x00, // sample_size\n        0x00, 0x00, 0x00, 0x00 // sample_count\n        ]);\n        STTS = STCO;\n        VMHD = new Uint8Array([0x00, // version\n        0x00, 0x00, 0x01, // flags\n        0x00, 0x00, // graphicsmode\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00 // opcolor\n        ]);\n      })();\n\n      box = function box(type) {\n        var payload = [],\n            size = 0,\n            i,\n            result,\n            view;\n\n        for (i = 1; i < arguments.length; i++) {\n          payload.push(arguments[i]);\n        }\n\n        i = payload.length; // calculate the total size we need to allocate\n\n        while (i--) {\n          size += payload[i].byteLength;\n        }\n\n        result = new Uint8Array(size + 8);\n        view = new DataView(result.buffer, result.byteOffset, result.byteLength);\n        view.setUint32(0, result.byteLength);\n        result.set(type, 4); // copy the payload into the result\n\n        for (i = 0, size = 8; i < payload.length; i++) {\n          result.set(payload[i], size);\n          size += payload[i].byteLength;\n        }\n\n        return result;\n      };\n\n      dinf = function dinf() {\n        return box(types.dinf, box(types.dref, DREF));\n      };\n\n      esds = function esds(track) {\n        return box(types.esds, new Uint8Array([0x00, // version\n        0x00, 0x00, 0x00, // flags\n        // ES_Descriptor\n        0x03, // tag, ES_DescrTag\n        0x19, // length\n        0x00, 0x00, // ES_ID\n        0x00, // streamDependenceFlag, URL_flag, reserved, streamPriority\n        // DecoderConfigDescriptor\n        0x04, // tag, DecoderConfigDescrTag\n        0x11, // length\n        0x40, // object type\n        0x15, // streamType\n        0x00, 0x06, 0x00, // bufferSizeDB\n        0x00, 0x00, 0xda, 0xc0, // maxBitrate\n        0x00, 0x00, 0xda, 0xc0, // avgBitrate\n        // DecoderSpecificInfo\n        0x05, // tag, DecoderSpecificInfoTag\n        0x02, // length\n        // ISO/IEC 14496-3, AudioSpecificConfig\n        // for samplingFrequencyIndex see ISO/IEC 13818-7:2006, 8.1.3.2.2, Table 35\n        track.audioobjecttype << 3 | track.samplingfrequencyindex >>> 1, track.samplingfrequencyindex << 7 | track.channelcount << 3, 0x06, 0x01, 0x02 // GASpecificConfig\n        ]));\n      };\n\n      ftyp = function ftyp() {\n        return box(types.ftyp, MAJOR_BRAND, MINOR_VERSION, MAJOR_BRAND, AVC1_BRAND);\n      };\n\n      hdlr = function hdlr(type) {\n        return box(types.hdlr, HDLR_TYPES[type]);\n      };\n\n      mdat = function mdat(data) {\n        return box(types.mdat, data);\n      };\n\n      mdhd = function mdhd(track) {\n        var result = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x02, // creation_time\n        0x00, 0x00, 0x00, 0x03, // modification_time\n        0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n        track.duration >>> 24 & 0xFF, track.duration >>> 16 & 0xFF, track.duration >>> 8 & 0xFF, track.duration & 0xFF, // duration\n        0x55, 0xc4, // 'und' language (undetermined)\n        0x00, 0x00]); // Use the sample rate from the track metadata, when it is\n        // defined. The sample rate can be parsed out of an ADTS header, for\n        // instance.\n\n        if (track.samplerate) {\n          result[12] = track.samplerate >>> 24 & 0xFF;\n          result[13] = track.samplerate >>> 16 & 0xFF;\n          result[14] = track.samplerate >>> 8 & 0xFF;\n          result[15] = track.samplerate & 0xFF;\n        }\n\n        return box(types.mdhd, result);\n      };\n\n      mdia = function mdia(track) {\n        return box(types.mdia, mdhd(track), hdlr(track.type), minf(track));\n      };\n\n      mfhd = function mfhd(sequenceNumber) {\n        return box(types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, // flags\n        (sequenceNumber & 0xFF000000) >> 24, (sequenceNumber & 0xFF0000) >> 16, (sequenceNumber & 0xFF00) >> 8, sequenceNumber & 0xFF // sequence_number\n        ]));\n      };\n\n      minf = function minf(track) {\n        return box(types.minf, track.type === 'video' ? box(types.vmhd, VMHD) : box(types.smhd, SMHD), dinf(), stbl(track));\n      };\n\n      moof = function moof(sequenceNumber, tracks) {\n        var trackFragments = [],\n            i = tracks.length; // build traf boxes for each track fragment\n\n        while (i--) {\n          trackFragments[i] = traf(tracks[i]);\n        }\n\n        return box.apply(null, [types.moof, mfhd(sequenceNumber)].concat(trackFragments));\n      };\n      /**\n       * Returns a movie box.\n       * @param tracks {array} the tracks associated with this movie\n       * @see ISO/IEC 14496-12:2012(E), section 8.2.1\n       */\n\n\n      moov = function moov(tracks) {\n        var i = tracks.length,\n            boxes = [];\n\n        while (i--) {\n          boxes[i] = trak(tracks[i]);\n        }\n\n        return box.apply(null, [types.moov, mvhd(0xffffffff)].concat(boxes).concat(mvex(tracks)));\n      };\n\n      mvex = function mvex(tracks) {\n        var i = tracks.length,\n            boxes = [];\n\n        while (i--) {\n          boxes[i] = trex(tracks[i]);\n        }\n\n        return box.apply(null, [types.mvex].concat(boxes));\n      };\n\n      mvhd = function mvhd(duration) {\n        var bytes = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        0x00, 0x00, 0x00, 0x01, // creation_time\n        0x00, 0x00, 0x00, 0x02, // modification_time\n        0x00, 0x01, 0x5f, 0x90, // timescale, 90,000 \"ticks\" per second\n        (duration & 0xFF000000) >> 24, (duration & 0xFF0000) >> 16, (duration & 0xFF00) >> 8, duration & 0xFF, // duration\n        0x00, 0x01, 0x00, 0x00, // 1.0 rate\n        0x01, 0x00, // 1.0 volume\n        0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n        0xff, 0xff, 0xff, 0xff // next_track_ID\n        ]);\n        return box(types.mvhd, bytes);\n      };\n\n      sdtp = function sdtp(track) {\n        var samples = track.samples || [],\n            bytes = new Uint8Array(4 + samples.length),\n            flags,\n            i; // leave the full box header (4 bytes) all zero\n        // write the sample table\n\n        for (i = 0; i < samples.length; i++) {\n          flags = samples[i].flags;\n          bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;\n        }\n\n        return box(types.sdtp, bytes);\n      };\n\n      stbl = function stbl(track) {\n        return box(types.stbl, stsd(track), box(types.stts, STTS), box(types.stsc, STSC), box(types.stsz, STSZ), box(types.stco, STCO));\n      };\n\n      (function () {\n        var videoSample, audioSample;\n\n        stsd = function stsd(track) {\n          return box(types.stsd, new Uint8Array([0x00, // version 0\n          0x00, 0x00, 0x00, // flags\n          0x00, 0x00, 0x00, 0x01]), track.type === 'video' ? videoSample(track) : audioSample(track));\n        };\n\n        videoSample = function videoSample(track) {\n          var sps = track.sps || [],\n              pps = track.pps || [],\n              sequenceParameterSets = [],\n              pictureParameterSets = [],\n              i; // assemble the SPSs\n\n          for (i = 0; i < sps.length; i++) {\n            sequenceParameterSets.push((sps[i].byteLength & 0xFF00) >>> 8);\n            sequenceParameterSets.push(sps[i].byteLength & 0xFF); // sequenceParameterSetLength\n\n            sequenceParameterSets = sequenceParameterSets.concat(Array.prototype.slice.call(sps[i])); // SPS\n          } // assemble the PPSs\n\n\n          for (i = 0; i < pps.length; i++) {\n            pictureParameterSets.push((pps[i].byteLength & 0xFF00) >>> 8);\n            pictureParameterSets.push(pps[i].byteLength & 0xFF);\n            pictureParameterSets = pictureParameterSets.concat(Array.prototype.slice.call(pps[i]));\n          }\n\n          return box(types.avc1, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // data_reference_index\n          0x00, 0x00, // pre_defined\n          0x00, 0x00, // reserved\n          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // pre_defined\n          (track.width & 0xff00) >> 8, track.width & 0xff, // width\n          (track.height & 0xff00) >> 8, track.height & 0xff, // height\n          0x00, 0x48, 0x00, 0x00, // horizresolution\n          0x00, 0x48, 0x00, 0x00, // vertresolution\n          0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // frame_count\n          0x13, 0x76, 0x69, 0x64, 0x65, 0x6f, 0x6a, 0x73, 0x2d, 0x63, 0x6f, 0x6e, 0x74, 0x72, 0x69, 0x62, 0x2d, 0x68, 0x6c, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // compressorname\n          0x00, 0x18, // depth = 24\n          0x11, 0x11 // pre_defined = -1\n          ]), box(types.avcC, new Uint8Array([0x01, // configurationVersion\n          track.profileIdc, // AVCProfileIndication\n          track.profileCompatibility, // profile_compatibility\n          track.levelIdc, // AVCLevelIndication\n          0xff // lengthSizeMinusOne, hard-coded to 4 bytes\n          ].concat([sps.length // numOfSequenceParameterSets\n          ]).concat(sequenceParameterSets).concat([pps.length // numOfPictureParameterSets\n          ]).concat(pictureParameterSets))), // \"PPS\"\n          box(types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, // bufferSizeDB\n          0x00, 0x2d, 0xc6, 0xc0, // maxBitrate\n          0x00, 0x2d, 0xc6, 0xc0])) // avgBitrate\n          );\n        };\n\n        audioSample = function audioSample(track) {\n          return box(types.mp4a, new Uint8Array([// SampleEntry, ISO/IEC 14496-12\n          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x01, // data_reference_index\n          // AudioSampleEntry, ISO/IEC 14496-12\n          0x00, 0x00, 0x00, 0x00, // reserved\n          0x00, 0x00, 0x00, 0x00, // reserved\n          (track.channelcount & 0xff00) >> 8, track.channelcount & 0xff, // channelcount\n          (track.samplesize & 0xff00) >> 8, track.samplesize & 0xff, // samplesize\n          0x00, 0x00, // pre_defined\n          0x00, 0x00, // reserved\n          (track.samplerate & 0xff00) >> 8, track.samplerate & 0xff, 0x00, 0x00 // samplerate, 16.16\n          // MP4AudioSampleEntry, ISO/IEC 14496-14\n          ]), esds(track));\n        };\n      })();\n\n      tkhd = function tkhd(track) {\n        var result = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x07, // flags\n        0x00, 0x00, 0x00, 0x00, // creation_time\n        0x00, 0x00, 0x00, 0x00, // modification_time\n        (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n        0x00, 0x00, 0x00, 0x00, // reserved\n        (track.duration & 0xFF000000) >> 24, (track.duration & 0xFF0000) >> 16, (track.duration & 0xFF00) >> 8, track.duration & 0xFF, // duration\n        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // reserved\n        0x00, 0x00, // layer\n        0x00, 0x00, // alternate_group\n        0x01, 0x00, // non-audio track volume\n        0x00, 0x00, // reserved\n        0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, // transformation: unity matrix\n        (track.width & 0xFF00) >> 8, track.width & 0xFF, 0x00, 0x00, // width\n        (track.height & 0xFF00) >> 8, track.height & 0xFF, 0x00, 0x00 // height\n        ]);\n        return box(types.tkhd, result);\n      };\n      /**\n       * Generate a track fragment (traf) box. A traf box collects metadata\n       * about tracks in a movie fragment (moof) box.\n       */\n\n\n      traf = function traf(track) {\n        var trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable, dataOffset, upperWordBaseMediaDecodeTime, lowerWordBaseMediaDecodeTime;\n        trackFragmentHeader = box(types.tfhd, new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x3a, // flags\n        (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n        0x00, 0x00, 0x00, 0x01, // sample_description_index\n        0x00, 0x00, 0x00, 0x00, // default_sample_duration\n        0x00, 0x00, 0x00, 0x00, // default_sample_size\n        0x00, 0x00, 0x00, 0x00 // default_sample_flags\n        ]));\n        upperWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime / (UINT32_MAX + 1));\n        lowerWordBaseMediaDecodeTime = Math.floor(track.baseMediaDecodeTime % (UINT32_MAX + 1));\n        trackFragmentDecodeTime = box(types.tfdt, new Uint8Array([0x01, // version 1\n        0x00, 0x00, 0x00, // flags\n        // baseMediaDecodeTime\n        upperWordBaseMediaDecodeTime >>> 24 & 0xFF, upperWordBaseMediaDecodeTime >>> 16 & 0xFF, upperWordBaseMediaDecodeTime >>> 8 & 0xFF, upperWordBaseMediaDecodeTime & 0xFF, lowerWordBaseMediaDecodeTime >>> 24 & 0xFF, lowerWordBaseMediaDecodeTime >>> 16 & 0xFF, lowerWordBaseMediaDecodeTime >>> 8 & 0xFF, lowerWordBaseMediaDecodeTime & 0xFF])); // the data offset specifies the number of bytes from the start of\n        // the containing moof to the first payload byte of the associated\n        // mdat\n\n        dataOffset = 32 + // tfhd\n        20 + // tfdt\n        8 + // traf header\n        16 + // mfhd\n        8 + // moof header\n        8; // mdat header\n        // audio tracks require less metadata\n\n        if (track.type === 'audio') {\n          trackFragmentRun = trun(track, dataOffset);\n          return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun);\n        } // video tracks should contain an independent and disposable samples\n        // box (sdtp)\n        // generate one and adjust offsets to match\n\n\n        sampleDependencyTable = sdtp(track);\n        trackFragmentRun = trun(track, sampleDependencyTable.length + dataOffset);\n        return box(types.traf, trackFragmentHeader, trackFragmentDecodeTime, trackFragmentRun, sampleDependencyTable);\n      };\n      /**\n       * Generate a track box.\n       * @param track {object} a track definition\n       * @return {Uint8Array} the track box\n       */\n\n\n      trak = function trak(track) {\n        track.duration = track.duration || 0xffffffff;\n        return box(types.trak, tkhd(track), mdia(track));\n      };\n\n      trex = function trex(track) {\n        var result = new Uint8Array([0x00, // version 0\n        0x00, 0x00, 0x00, // flags\n        (track.id & 0xFF000000) >> 24, (track.id & 0xFF0000) >> 16, (track.id & 0xFF00) >> 8, track.id & 0xFF, // track_ID\n        0x00, 0x00, 0x00, 0x01, // default_sample_description_index\n        0x00, 0x00, 0x00, 0x00, // default_sample_duration\n        0x00, 0x00, 0x00, 0x00, // default_sample_size\n        0x00, 0x01, 0x00, 0x01 // default_sample_flags\n        ]); // the last two bytes of default_sample_flags is the sample\n        // degradation priority, a hint about the importance of this sample\n        // relative to others. Lower the degradation priority for all sample\n        // types other than video.\n\n        if (track.type !== 'video') {\n          result[result.length - 1] = 0x00;\n        }\n\n        return box(types.trex, result);\n      };\n\n      (function () {\n        var audioTrun, videoTrun, trunHeader; // This method assumes all samples are uniform. That is, if a\n        // duration is present for the first sample, it will be present for\n        // all subsequent samples.\n        // see ISO/IEC 14496-12:2012, Section 8.8.8.1\n\n        trunHeader = function trunHeader(samples, offset) {\n          var durationPresent = 0,\n              sizePresent = 0,\n              flagsPresent = 0,\n              compositionTimeOffset = 0; // trun flag constants\n\n          if (samples.length) {\n            if (samples[0].duration !== undefined) {\n              durationPresent = 0x1;\n            }\n\n            if (samples[0].size !== undefined) {\n              sizePresent = 0x2;\n            }\n\n            if (samples[0].flags !== undefined) {\n              flagsPresent = 0x4;\n            }\n\n            if (samples[0].compositionTimeOffset !== undefined) {\n              compositionTimeOffset = 0x8;\n            }\n          }\n\n          return [0x00, // version 0\n          0x00, durationPresent | sizePresent | flagsPresent | compositionTimeOffset, 0x01, // flags\n          (samples.length & 0xFF000000) >>> 24, (samples.length & 0xFF0000) >>> 16, (samples.length & 0xFF00) >>> 8, samples.length & 0xFF, // sample_count\n          (offset & 0xFF000000) >>> 24, (offset & 0xFF0000) >>> 16, (offset & 0xFF00) >>> 8, offset & 0xFF // data_offset\n          ];\n        };\n\n        videoTrun = function videoTrun(track, offset) {\n          var bytes, samples, sample, i;\n          samples = track.samples || [];\n          offset += 8 + 12 + 16 * samples.length;\n          bytes = trunHeader(samples, offset);\n\n          for (i = 0; i < samples.length; i++) {\n            sample = samples[i];\n            bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n            (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF, // sample_size\n            sample.flags.isLeading << 2 | sample.flags.dependsOn, sample.flags.isDependedOn << 6 | sample.flags.hasRedundancy << 4 | sample.flags.paddingValue << 1 | sample.flags.isNonSyncSample, sample.flags.degradationPriority & 0xF0 << 8, sample.flags.degradationPriority & 0x0F, // sample_flags\n            (sample.compositionTimeOffset & 0xFF000000) >>> 24, (sample.compositionTimeOffset & 0xFF0000) >>> 16, (sample.compositionTimeOffset & 0xFF00) >>> 8, sample.compositionTimeOffset & 0xFF // sample_composition_time_offset\n            ]);\n          }\n\n          return box(types.trun, new Uint8Array(bytes));\n        };\n\n        audioTrun = function audioTrun(track, offset) {\n          var bytes, samples, sample, i;\n          samples = track.samples || [];\n          offset += 8 + 12 + 8 * samples.length;\n          bytes = trunHeader(samples, offset);\n\n          for (i = 0; i < samples.length; i++) {\n            sample = samples[i];\n            bytes = bytes.concat([(sample.duration & 0xFF000000) >>> 24, (sample.duration & 0xFF0000) >>> 16, (sample.duration & 0xFF00) >>> 8, sample.duration & 0xFF, // sample_duration\n            (sample.size & 0xFF000000) >>> 24, (sample.size & 0xFF0000) >>> 16, (sample.size & 0xFF00) >>> 8, sample.size & 0xFF]); // sample_size\n          }\n\n          return box(types.trun, new Uint8Array(bytes));\n        };\n\n        trun = function trun(track, offset) {\n          if (track.type === 'audio') {\n            return audioTrun(track, offset);\n          }\n\n          return videoTrun(track, offset);\n        };\n      })();\n\n      var mp4Generator = {\n        ftyp: ftyp,\n        mdat: mdat,\n        moof: moof,\n        moov: moov,\n        initSegment: function initSegment(tracks) {\n          var fileType = ftyp(),\n              movie = moov(tracks),\n              result;\n          result = new Uint8Array(fileType.byteLength + movie.byteLength);\n          result.set(fileType);\n          result.set(movie, fileType.byteLength);\n          return result;\n        }\n      };\n\n      var toUnsigned = function toUnsigned(value) {\n        return value >>> 0;\n      };\n\n      var bin = {\n        toUnsigned: toUnsigned\n      };\n      var toUnsigned$1 = bin.toUnsigned;\n\n      var _findBox, parseType, timescale, startTime, getVideoTrackIds; // Find the data for a box specified by its path\n\n\n      _findBox = function findBox(data, path) {\n        var results = [],\n            i,\n            size,\n            type,\n            end,\n            subresults;\n\n        if (!path.length) {\n          // short-circuit the search for empty paths\n          return null;\n        }\n\n        for (i = 0; i < data.byteLength;) {\n          size = toUnsigned$1(data[i] << 24 | data[i + 1] << 16 | data[i + 2] << 8 | data[i + 3]);\n          type = parseType(data.subarray(i + 4, i + 8));\n          end = size > 1 ? i + size : data.byteLength;\n\n          if (type === path[0]) {\n            if (path.length === 1) {\n              // this is the end of the path and we've found the box we were\n              // looking for\n              results.push(data.subarray(i + 8, end));\n            } else {\n              // recursively search for the next box along the path\n              subresults = _findBox(data.subarray(i + 8, end), path.slice(1));\n\n              if (subresults.length) {\n                results = results.concat(subresults);\n              }\n            }\n          }\n\n          i = end;\n        } // we've finished searching all of data\n\n\n        return results;\n      };\n      /**\n       * Returns the string representation of an ASCII encoded four byte buffer.\n       * @param buffer {Uint8Array} a four-byte buffer to translate\n       * @return {string} the corresponding string\n       */\n\n\n      parseType = function parseType(buffer) {\n        var result = '';\n        result += String.fromCharCode(buffer[0]);\n        result += String.fromCharCode(buffer[1]);\n        result += String.fromCharCode(buffer[2]);\n        result += String.fromCharCode(buffer[3]);\n        return result;\n      };\n      /**\n       * Parses an MP4 initialization segment and extracts the timescale\n       * values for any declared tracks. Timescale values indicate the\n       * number of clock ticks per second to assume for time-based values\n       * elsewhere in the MP4.\n       *\n       * To determine the start time of an MP4, you need two pieces of\n       * information: the timescale unit and the earliest base media decode\n       * time. Multiple timescales can be specified within an MP4 but the\n       * base media decode time is always expressed in the timescale from\n       * the media header box for the track:\n       * ```\n       * moov > trak > mdia > mdhd.timescale\n       * ```\n       * @param init {Uint8Array} the bytes of the init segment\n       * @return {object} a hash of track ids to timescale values or null if\n       * the init segment is malformed.\n       */\n\n\n      timescale = function timescale(init) {\n        var result = {},\n            traks = _findBox(init, ['moov', 'trak']); // mdhd timescale\n\n\n        return traks.reduce(function (result, trak) {\n          var tkhd, version, index, id, mdhd;\n          tkhd = _findBox(trak, ['tkhd'])[0];\n\n          if (!tkhd) {\n            return null;\n          }\n\n          version = tkhd[0];\n          index = version === 0 ? 12 : 20;\n          id = toUnsigned$1(tkhd[index] << 24 | tkhd[index + 1] << 16 | tkhd[index + 2] << 8 | tkhd[index + 3]);\n          mdhd = _findBox(trak, ['mdia', 'mdhd'])[0];\n\n          if (!mdhd) {\n            return null;\n          }\n\n          version = mdhd[0];\n          index = version === 0 ? 12 : 20;\n          result[id] = toUnsigned$1(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n          return result;\n        }, result);\n      };\n      /**\n       * Determine the base media decode start time, in seconds, for an MP4\n       * fragment. If multiple fragments are specified, the earliest time is\n       * returned.\n       *\n       * The base media decode time can be parsed from track fragment\n       * metadata:\n       * ```\n       * moof > traf > tfdt.baseMediaDecodeTime\n       * ```\n       * It requires the timescale value from the mdhd to interpret.\n       *\n       * @param timescale {object} a hash of track ids to timescale values.\n       * @return {number} the earliest base media decode start time for the\n       * fragment, in seconds\n       */\n\n\n      startTime = function startTime(timescale, fragment) {\n        var trafs, baseTimes, result; // we need info from two childrend of each track fragment box\n\n        trafs = _findBox(fragment, ['moof', 'traf']); // determine the start times for each track\n\n        baseTimes = [].concat.apply([], trafs.map(function (traf) {\n          return _findBox(traf, ['tfhd']).map(function (tfhd) {\n            var id, scale, baseTime; // get the track id from the tfhd\n\n            id = toUnsigned$1(tfhd[4] << 24 | tfhd[5] << 16 | tfhd[6] << 8 | tfhd[7]); // assume a 90kHz clock if no timescale was specified\n\n            scale = timescale[id] || 90e3; // get the base media decode time from the tfdt\n\n            baseTime = _findBox(traf, ['tfdt']).map(function (tfdt) {\n              var version, result;\n              version = tfdt[0];\n              result = toUnsigned$1(tfdt[4] << 24 | tfdt[5] << 16 | tfdt[6] << 8 | tfdt[7]);\n\n              if (version === 1) {\n                result *= Math.pow(2, 32);\n                result += toUnsigned$1(tfdt[8] << 24 | tfdt[9] << 16 | tfdt[10] << 8 | tfdt[11]);\n              }\n\n              return result;\n            })[0];\n            baseTime = baseTime || Infinity; // convert base time to seconds\n\n            return baseTime / scale;\n          });\n        })); // return the minimum\n\n        result = Math.min.apply(null, baseTimes);\n        return isFinite(result) ? result : 0;\n      };\n      /**\n        * Find the trackIds of the video tracks in this source.\n        * Found by parsing the Handler Reference and Track Header Boxes:\n        *   moov > trak > mdia > hdlr\n        *   moov > trak > tkhd\n        *\n        * @param {Uint8Array} init - The bytes of the init segment for this source\n        * @return {Number[]} A list of trackIds\n        *\n        * @see ISO-BMFF-12/2015, Section 8.4.3\n       **/\n\n\n      getVideoTrackIds = function getVideoTrackIds(init) {\n        var traks = _findBox(init, ['moov', 'trak']);\n\n        var videoTrackIds = [];\n        traks.forEach(function (trak) {\n          var hdlrs = _findBox(trak, ['mdia', 'hdlr']);\n\n          var tkhds = _findBox(trak, ['tkhd']);\n\n          hdlrs.forEach(function (hdlr, index) {\n            var handlerType = parseType(hdlr.subarray(8, 12));\n            var tkhd = tkhds[index];\n            var view;\n            var version;\n            var trackId;\n\n            if (handlerType === 'vide') {\n              view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n              version = view.getUint8(0);\n              trackId = version === 0 ? view.getUint32(12) : view.getUint32(20);\n              videoTrackIds.push(trackId);\n            }\n          });\n        });\n        return videoTrackIds;\n      };\n\n      var probe$$1 = {\n        findBox: _findBox,\n        parseType: parseType,\n        timescale: timescale,\n        startTime: startTime,\n        videoTrackIds: getVideoTrackIds\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) 2014 Brightcove\n       * All rights reserved.\n       *\n       * A lightweight readable stream implemention that handles event dispatching.\n       * Objects that inherit from streams should call init in their constructors.\n       */\n\n      var Stream = function Stream() {\n        this.init = function () {\n          var listeners = {};\n          /**\n           * Add a listener for a specified event type.\n           * @param type {string} the event name\n           * @param listener {function} the callback to be invoked when an event of\n           * the specified type occurs\n           */\n\n          this.on = function (type, listener) {\n            if (!listeners[type]) {\n              listeners[type] = [];\n            }\n\n            listeners[type] = listeners[type].concat(listener);\n          };\n          /**\n           * Remove a listener for a specified event type.\n           * @param type {string} the event name\n           * @param listener {function} a function previously registered for this\n           * type of event through `on`\n           */\n\n\n          this.off = function (type, listener) {\n            var index;\n\n            if (!listeners[type]) {\n              return false;\n            }\n\n            index = listeners[type].indexOf(listener);\n            listeners[type] = listeners[type].slice();\n            listeners[type].splice(index, 1);\n            return index > -1;\n          };\n          /**\n           * Trigger an event of the specified type on this stream. Any additional\n           * arguments to this function are passed as parameters to event listeners.\n           * @param type {string} the event name\n           */\n\n\n          this.trigger = function (type) {\n            var callbacks, i, length, args;\n            callbacks = listeners[type];\n\n            if (!callbacks) {\n              return;\n            } // Slicing the arguments on every invocation of this method\n            // can add a significant amount of overhead. Avoid the\n            // intermediate object creation for the common case of a\n            // single callback argument\n\n\n            if (arguments.length === 2) {\n              length = callbacks.length;\n\n              for (i = 0; i < length; ++i) {\n                callbacks[i].call(this, arguments[1]);\n              }\n            } else {\n              args = [];\n              i = arguments.length;\n\n              for (i = 1; i < arguments.length; ++i) {\n                args.push(arguments[i]);\n              }\n\n              length = callbacks.length;\n\n              for (i = 0; i < length; ++i) {\n                callbacks[i].apply(this, args);\n              }\n            }\n          };\n          /**\n           * Destroys the stream and cleans up.\n           */\n\n\n          this.dispose = function () {\n            listeners = {};\n          };\n        };\n      };\n      /**\n       * Forwards all `data` events on this stream to the destination stream. The\n       * destination stream should provide a method `push` to receive the data\n       * events as they arrive.\n       * @param destination {stream} the stream that will receive all `data` events\n       * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n       *                            when the current stream emits a 'done' event\n       * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n       */\n\n\n      Stream.prototype.pipe = function (destination) {\n        this.on('data', function (data) {\n          destination.push(data);\n        });\n        this.on('done', function (flushSource) {\n          destination.flush(flushSource);\n        });\n        return destination;\n      }; // Default stream functions that are expected to be overridden to perform\n      // actual work. These are provided by the prototype as a sort of no-op\n      // implementation so that we don't have to check for their existence in the\n      // `pipe` function above.\n\n\n      Stream.prototype.push = function (data) {\n        this.trigger('data', data);\n      };\n\n      Stream.prototype.flush = function (flushSource) {\n        this.trigger('done', flushSource);\n      };\n\n      var stream = Stream; // Convert an array of nal units into an array of frames with each frame being\n      // composed of the nal units that make up that frame\n      // Also keep track of cummulative data about the frame from the nal units such\n      // as the frame duration, starting pts, etc.\n\n      var groupNalsIntoFrames = function groupNalsIntoFrames(nalUnits) {\n        var i,\n            currentNal,\n            currentFrame = [],\n            frames = [];\n        currentFrame.byteLength = 0;\n\n        for (i = 0; i < nalUnits.length; i++) {\n          currentNal = nalUnits[i]; // Split on 'aud'-type nal units\n\n          if (currentNal.nalUnitType === 'access_unit_delimiter_rbsp') {\n            // Since the very first nal unit is expected to be an AUD\n            // only push to the frames array when currentFrame is not empty\n            if (currentFrame.length) {\n              currentFrame.duration = currentNal.dts - currentFrame.dts;\n              frames.push(currentFrame);\n            }\n\n            currentFrame = [currentNal];\n            currentFrame.byteLength = currentNal.data.byteLength;\n            currentFrame.pts = currentNal.pts;\n            currentFrame.dts = currentNal.dts;\n          } else {\n            // Specifically flag key frames for ease of use later\n            if (currentNal.nalUnitType === 'slice_layer_without_partitioning_rbsp_idr') {\n              currentFrame.keyFrame = true;\n            }\n\n            currentFrame.duration = currentNal.dts - currentFrame.dts;\n            currentFrame.byteLength += currentNal.data.byteLength;\n            currentFrame.push(currentNal);\n          }\n        } // For the last frame, use the duration of the previous frame if we\n        // have nothing better to go on\n\n\n        if (frames.length && (!currentFrame.duration || currentFrame.duration <= 0)) {\n          currentFrame.duration = frames[frames.length - 1].duration;\n        } // Push the final frame\n\n\n        frames.push(currentFrame);\n        return frames;\n      }; // Convert an array of frames into an array of Gop with each Gop being composed\n      // of the frames that make up that Gop\n      // Also keep track of cummulative data about the Gop from the frames such as the\n      // Gop duration, starting pts, etc.\n\n\n      var groupFramesIntoGops = function groupFramesIntoGops(frames) {\n        var i,\n            currentFrame,\n            currentGop = [],\n            gops = []; // We must pre-set some of the values on the Gop since we\n        // keep running totals of these values\n\n        currentGop.byteLength = 0;\n        currentGop.nalCount = 0;\n        currentGop.duration = 0;\n        currentGop.pts = frames[0].pts;\n        currentGop.dts = frames[0].dts; // store some metadata about all the Gops\n\n        gops.byteLength = 0;\n        gops.nalCount = 0;\n        gops.duration = 0;\n        gops.pts = frames[0].pts;\n        gops.dts = frames[0].dts;\n\n        for (i = 0; i < frames.length; i++) {\n          currentFrame = frames[i];\n\n          if (currentFrame.keyFrame) {\n            // Since the very first frame is expected to be an keyframe\n            // only push to the gops array when currentGop is not empty\n            if (currentGop.length) {\n              gops.push(currentGop);\n              gops.byteLength += currentGop.byteLength;\n              gops.nalCount += currentGop.nalCount;\n              gops.duration += currentGop.duration;\n            }\n\n            currentGop = [currentFrame];\n            currentGop.nalCount = currentFrame.length;\n            currentGop.byteLength = currentFrame.byteLength;\n            currentGop.pts = currentFrame.pts;\n            currentGop.dts = currentFrame.dts;\n            currentGop.duration = currentFrame.duration;\n          } else {\n            currentGop.duration += currentFrame.duration;\n            currentGop.nalCount += currentFrame.length;\n            currentGop.byteLength += currentFrame.byteLength;\n            currentGop.push(currentFrame);\n          }\n        }\n\n        if (gops.length && currentGop.duration <= 0) {\n          currentGop.duration = gops[gops.length - 1].duration;\n        }\n\n        gops.byteLength += currentGop.byteLength;\n        gops.nalCount += currentGop.nalCount;\n        gops.duration += currentGop.duration; // push the final Gop\n\n        gops.push(currentGop);\n        return gops;\n      };\n      /*\n       * Search for the first keyframe in the GOPs and throw away all frames\n       * until that keyframe. Then extend the duration of the pulled keyframe\n       * and pull the PTS and DTS of the keyframe so that it covers the time\n       * range of the frames that were disposed.\n       *\n       * @param {Array} gops video GOPs\n       * @returns {Array} modified video GOPs\n       */\n\n\n      var extendFirstKeyFrame = function extendFirstKeyFrame(gops) {\n        var currentGop;\n\n        if (!gops[0][0].keyFrame && gops.length > 1) {\n          // Remove the first GOP\n          currentGop = gops.shift();\n          gops.byteLength -= currentGop.byteLength;\n          gops.nalCount -= currentGop.nalCount; // Extend the first frame of what is now the\n          // first gop to cover the time period of the\n          // frames we just removed\n\n          gops[0][0].dts = currentGop.dts;\n          gops[0][0].pts = currentGop.pts;\n          gops[0][0].duration += currentGop.duration;\n        }\n\n        return gops;\n      };\n      /**\n       * Default sample object\n       * see ISO/IEC 14496-12:2012, section 8.6.4.3\n       */\n\n\n      var createDefaultSample = function createDefaultSample() {\n        return {\n          size: 0,\n          flags: {\n            isLeading: 0,\n            dependsOn: 1,\n            isDependedOn: 0,\n            hasRedundancy: 0,\n            degradationPriority: 0,\n            isNonSyncSample: 1\n          }\n        };\n      };\n      /*\n       * Collates information from a video frame into an object for eventual\n       * entry into an MP4 sample table.\n       *\n       * @param {Object} frame the video frame\n       * @param {Number} dataOffset the byte offset to position the sample\n       * @return {Object} object containing sample table info for a frame\n       */\n\n\n      var sampleForFrame = function sampleForFrame(frame, dataOffset) {\n        var sample = createDefaultSample();\n        sample.dataOffset = dataOffset;\n        sample.compositionTimeOffset = frame.pts - frame.dts;\n        sample.duration = frame.duration;\n        sample.size = 4 * frame.length; // Space for nal unit size\n\n        sample.size += frame.byteLength;\n\n        if (frame.keyFrame) {\n          sample.flags.dependsOn = 2;\n          sample.flags.isNonSyncSample = 0;\n        }\n\n        return sample;\n      }; // generate the track's sample table from an array of gops\n\n\n      var generateSampleTable = function generateSampleTable(gops, baseDataOffset) {\n        var h,\n            i,\n            sample,\n            currentGop,\n            currentFrame,\n            dataOffset = baseDataOffset || 0,\n            samples = [];\n\n        for (h = 0; h < gops.length; h++) {\n          currentGop = gops[h];\n\n          for (i = 0; i < currentGop.length; i++) {\n            currentFrame = currentGop[i];\n            sample = sampleForFrame(currentFrame, dataOffset);\n            dataOffset += sample.size;\n            samples.push(sample);\n          }\n        }\n\n        return samples;\n      }; // generate the track's raw mdat data from an array of gops\n\n\n      var concatenateNalData = function concatenateNalData(gops) {\n        var h,\n            i,\n            j,\n            currentGop,\n            currentFrame,\n            currentNal,\n            dataOffset = 0,\n            nalsByteLength = gops.byteLength,\n            numberOfNals = gops.nalCount,\n            totalByteLength = nalsByteLength + 4 * numberOfNals,\n            data = new Uint8Array(totalByteLength),\n            view = new DataView(data.buffer); // For each Gop..\n\n        for (h = 0; h < gops.length; h++) {\n          currentGop = gops[h]; // For each Frame..\n\n          for (i = 0; i < currentGop.length; i++) {\n            currentFrame = currentGop[i]; // For each NAL..\n\n            for (j = 0; j < currentFrame.length; j++) {\n              currentNal = currentFrame[j];\n              view.setUint32(dataOffset, currentNal.data.byteLength);\n              dataOffset += 4;\n              data.set(currentNal.data, dataOffset);\n              dataOffset += currentNal.data.byteLength;\n            }\n          }\n        }\n\n        return data;\n      };\n\n      var frameUtils = {\n        groupNalsIntoFrames: groupNalsIntoFrames,\n        groupFramesIntoGops: groupFramesIntoGops,\n        extendFirstKeyFrame: extendFirstKeyFrame,\n        generateSampleTable: generateSampleTable,\n        concatenateNalData: concatenateNalData\n      };\n      var highPrefix = [33, 16, 5, 32, 164, 27];\n      var lowPrefix = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252];\n\n      var zeroFill = function zeroFill(count) {\n        var a = [];\n\n        while (count--) {\n          a.push(0);\n        }\n\n        return a;\n      };\n\n      var makeTable = function makeTable(metaTable) {\n        return Object.keys(metaTable).reduce(function (obj, key) {\n          obj[key] = new Uint8Array(metaTable[key].reduce(function (arr, part) {\n            return arr.concat(part);\n          }, []));\n          return obj;\n        }, {});\n      }; // Frames-of-silence to use for filling in missing AAC frames\n\n\n      var coneOfSilence = {\n        96000: [highPrefix, [227, 64], zeroFill(154), [56]],\n        88200: [highPrefix, [231], zeroFill(170), [56]],\n        64000: [highPrefix, [248, 192], zeroFill(240), [56]],\n        48000: [highPrefix, [255, 192], zeroFill(268), [55, 148, 128], zeroFill(54), [112]],\n        44100: [highPrefix, [255, 192], zeroFill(268), [55, 163, 128], zeroFill(84), [112]],\n        32000: [highPrefix, [255, 192], zeroFill(268), [55, 234], zeroFill(226), [112]],\n        24000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 112], zeroFill(126), [224]],\n        16000: [highPrefix, [255, 192], zeroFill(268), [55, 255, 128], zeroFill(268), [111, 255], zeroFill(269), [223, 108], zeroFill(195), [1, 192]],\n        12000: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 253, 128], zeroFill(259), [56]],\n        11025: [lowPrefix, zeroFill(268), [3, 127, 248], zeroFill(268), [6, 255, 240], zeroFill(268), [13, 255, 224], zeroFill(268), [27, 255, 192], zeroFill(268), [55, 175, 128], zeroFill(108), [112]],\n        8000: [lowPrefix, zeroFill(268), [3, 121, 16], zeroFill(47), [7]]\n      };\n      var silence = makeTable(coneOfSilence);\n      var ONE_SECOND_IN_TS = 90000,\n          // 90kHz clock\n      secondsToVideoTs,\n          secondsToAudioTs,\n          videoTsToSeconds,\n          audioTsToSeconds,\n          audioTsToVideoTs,\n          videoTsToAudioTs;\n\n      secondsToVideoTs = function secondsToVideoTs(seconds) {\n        return seconds * ONE_SECOND_IN_TS;\n      };\n\n      secondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n        return seconds * sampleRate;\n      };\n\n      videoTsToSeconds = function videoTsToSeconds(timestamp) {\n        return timestamp / ONE_SECOND_IN_TS;\n      };\n\n      audioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n        return timestamp / sampleRate;\n      };\n\n      audioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n        return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n      };\n\n      videoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n        return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n      };\n\n      var clock = {\n        secondsToVideoTs: secondsToVideoTs,\n        secondsToAudioTs: secondsToAudioTs,\n        videoTsToSeconds: videoTsToSeconds,\n        audioTsToSeconds: audioTsToSeconds,\n        audioTsToVideoTs: audioTsToVideoTs,\n        videoTsToAudioTs: videoTsToAudioTs\n      };\n      var ONE_SECOND_IN_TS$1 = 90000; // 90kHz clock\n\n      /**\n       * Sum the `byteLength` properties of the data in each AAC frame\n       */\n\n      var sumFrameByteLengths = function sumFrameByteLengths(array) {\n        var i,\n            currentObj,\n            sum = 0; // sum the byteLength's all each nal unit in the frame\n\n        for (i = 0; i < array.length; i++) {\n          currentObj = array[i];\n          sum += currentObj.data.byteLength;\n        }\n\n        return sum;\n      }; // Possibly pad (prefix) the audio track with silence if appending this track\n      // would lead to the introduction of a gap in the audio buffer\n\n\n      var prefixWithSilence = function prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime) {\n        var baseMediaDecodeTimeTs,\n            frameDuration = 0,\n            audioGapDuration = 0,\n            audioFillFrameCount = 0,\n            audioFillDuration = 0,\n            silentFrame,\n            i;\n\n        if (!frames.length) {\n          return;\n        }\n\n        baseMediaDecodeTimeTs = clock.audioTsToVideoTs(track.baseMediaDecodeTime, track.samplerate); // determine frame clock duration based on sample rate, round up to avoid overfills\n\n        frameDuration = Math.ceil(ONE_SECOND_IN_TS$1 / (track.samplerate / 1024));\n\n        if (audioAppendStartTs && videoBaseMediaDecodeTime) {\n          // insert the shortest possible amount (audio gap or audio to video gap)\n          audioGapDuration = baseMediaDecodeTimeTs - Math.max(audioAppendStartTs, videoBaseMediaDecodeTime); // number of full frames in the audio gap\n\n          audioFillFrameCount = Math.floor(audioGapDuration / frameDuration);\n          audioFillDuration = audioFillFrameCount * frameDuration;\n        } // don't attempt to fill gaps smaller than a single frame or larger\n        // than a half second\n\n\n        if (audioFillFrameCount < 1 || audioFillDuration > ONE_SECOND_IN_TS$1 / 2) {\n          return;\n        }\n\n        silentFrame = silence[track.samplerate];\n\n        if (!silentFrame) {\n          // we don't have a silent frame pregenerated for the sample rate, so use a frame\n          // from the content instead\n          silentFrame = frames[0].data;\n        }\n\n        for (i = 0; i < audioFillFrameCount; i++) {\n          frames.splice(i, 0, {\n            data: silentFrame\n          });\n        }\n\n        track.baseMediaDecodeTime -= Math.floor(clock.videoTsToAudioTs(audioFillDuration, track.samplerate));\n      }; // If the audio segment extends before the earliest allowed dts\n      // value, remove AAC frames until starts at or after the earliest\n      // allowed DTS so that we don't end up with a negative baseMedia-\n      // DecodeTime for the audio track\n\n\n      var trimAdtsFramesByEarliestDts = function trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts) {\n        if (track.minSegmentDts >= earliestAllowedDts) {\n          return adtsFrames;\n        } // We will need to recalculate the earliest segment Dts\n\n\n        track.minSegmentDts = Infinity;\n        return adtsFrames.filter(function (currentFrame) {\n          // If this is an allowed frame, keep it and record it's Dts\n          if (currentFrame.dts >= earliestAllowedDts) {\n            track.minSegmentDts = Math.min(track.minSegmentDts, currentFrame.dts);\n            track.minSegmentPts = track.minSegmentDts;\n            return true;\n          } // Otherwise, discard it\n\n\n          return false;\n        });\n      }; // generate the track's raw mdat data from an array of frames\n\n\n      var generateSampleTable$1 = function generateSampleTable(frames) {\n        var i,\n            currentFrame,\n            samples = [];\n\n        for (i = 0; i < frames.length; i++) {\n          currentFrame = frames[i];\n          samples.push({\n            size: currentFrame.data.byteLength,\n            duration: 1024 // For AAC audio, all samples contain 1024 samples\n\n          });\n        }\n\n        return samples;\n      }; // generate the track's sample table from an array of frames\n\n\n      var concatenateFrameData = function concatenateFrameData(frames) {\n        var i,\n            currentFrame,\n            dataOffset = 0,\n            data = new Uint8Array(sumFrameByteLengths(frames));\n\n        for (i = 0; i < frames.length; i++) {\n          currentFrame = frames[i];\n          data.set(currentFrame.data, dataOffset);\n          dataOffset += currentFrame.data.byteLength;\n        }\n\n        return data;\n      };\n\n      var audioFrameUtils = {\n        prefixWithSilence: prefixWithSilence,\n        trimAdtsFramesByEarliestDts: trimAdtsFramesByEarliestDts,\n        generateSampleTable: generateSampleTable$1,\n        concatenateFrameData: concatenateFrameData\n      };\n      var ONE_SECOND_IN_TS$2 = 90000; // 90kHz clock\n\n      /**\n       * Store information about the start and end of the track and the\n       * duration for each frame/sample we process in order to calculate\n       * the baseMediaDecodeTime\n       */\n\n      var collectDtsInfo = function collectDtsInfo(track, data) {\n        if (typeof data.pts === 'number') {\n          if (track.timelineStartInfo.pts === undefined) {\n            track.timelineStartInfo.pts = data.pts;\n          }\n\n          if (track.minSegmentPts === undefined) {\n            track.minSegmentPts = data.pts;\n          } else {\n            track.minSegmentPts = Math.min(track.minSegmentPts, data.pts);\n          }\n\n          if (track.maxSegmentPts === undefined) {\n            track.maxSegmentPts = data.pts;\n          } else {\n            track.maxSegmentPts = Math.max(track.maxSegmentPts, data.pts);\n          }\n        }\n\n        if (typeof data.dts === 'number') {\n          if (track.timelineStartInfo.dts === undefined) {\n            track.timelineStartInfo.dts = data.dts;\n          }\n\n          if (track.minSegmentDts === undefined) {\n            track.minSegmentDts = data.dts;\n          } else {\n            track.minSegmentDts = Math.min(track.minSegmentDts, data.dts);\n          }\n\n          if (track.maxSegmentDts === undefined) {\n            track.maxSegmentDts = data.dts;\n          } else {\n            track.maxSegmentDts = Math.max(track.maxSegmentDts, data.dts);\n          }\n        }\n      };\n      /**\n       * Clear values used to calculate the baseMediaDecodeTime between\n       * tracks\n       */\n\n\n      var clearDtsInfo = function clearDtsInfo(track) {\n        delete track.minSegmentDts;\n        delete track.maxSegmentDts;\n        delete track.minSegmentPts;\n        delete track.maxSegmentPts;\n      };\n      /**\n       * Calculate the track's baseMediaDecodeTime based on the earliest\n       * DTS the transmuxer has ever seen and the minimum DTS for the\n       * current track\n       * @param track {object} track metadata configuration\n       * @param keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at 0.\n       */\n\n\n      var calculateTrackBaseMediaDecodeTime = function calculateTrackBaseMediaDecodeTime(track, keepOriginalTimestamps) {\n        var baseMediaDecodeTime,\n            scale,\n            minSegmentDts = track.minSegmentDts; // Optionally adjust the time so the first segment starts at zero.\n\n        if (!keepOriginalTimestamps) {\n          minSegmentDts -= track.timelineStartInfo.dts;\n        } // track.timelineStartInfo.baseMediaDecodeTime is the location, in time, where\n        // we want the start of the first segment to be placed\n\n\n        baseMediaDecodeTime = track.timelineStartInfo.baseMediaDecodeTime; // Add to that the distance this segment is from the very first\n\n        baseMediaDecodeTime += minSegmentDts; // baseMediaDecodeTime must not become negative\n\n        baseMediaDecodeTime = Math.max(0, baseMediaDecodeTime);\n\n        if (track.type === 'audio') {\n          // Audio has a different clock equal to the sampling_rate so we need to\n          // scale the PTS values into the clock rate of the track\n          scale = track.samplerate / ONE_SECOND_IN_TS$2;\n          baseMediaDecodeTime *= scale;\n          baseMediaDecodeTime = Math.floor(baseMediaDecodeTime);\n        }\n\n        return baseMediaDecodeTime;\n      };\n\n      var trackDecodeInfo = {\n        clearDtsInfo: clearDtsInfo,\n        calculateTrackBaseMediaDecodeTime: calculateTrackBaseMediaDecodeTime,\n        collectDtsInfo: collectDtsInfo\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) 2015 Brightcove\n       * All rights reserved.\n       *\n       * Reads in-band caption information from a video elementary\n       * stream. Captions must follow the CEA-708 standard for injection\n       * into an MPEG-2 transport streams.\n       * @see https://en.wikipedia.org/wiki/CEA-708\n       * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n       */\n      // Supplemental enhancement information (SEI) NAL units have a\n      // payload type field to indicate how they are to be\n      // interpreted. CEAS-708 caption content is always transmitted with\n      // payload type 0x04.\n\n      var USER_DATA_REGISTERED_ITU_T_T35 = 4,\n          RBSP_TRAILING_BITS = 128;\n      /**\n        * Parse a supplemental enhancement information (SEI) NAL unit.\n        * Stops parsing once a message of type ITU T T35 has been found.\n        *\n        * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n        * @return {object} the parsed SEI payload\n        * @see Rec. ITU-T H.264, 7.3.2.3.1\n        */\n\n      var parseSei = function parseSei(bytes) {\n        var i = 0,\n            result = {\n          payloadType: -1,\n          payloadSize: 0\n        },\n            payloadType = 0,\n            payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n        while (i < bytes.byteLength) {\n          // stop once we have hit the end of the sei_rbsp\n          if (bytes[i] === RBSP_TRAILING_BITS) {\n            break;\n          } // Parse payload type\n\n\n          while (bytes[i] === 0xFF) {\n            payloadType += 255;\n            i++;\n          }\n\n          payloadType += bytes[i++]; // Parse payload size\n\n          while (bytes[i] === 0xFF) {\n            payloadSize += 255;\n            i++;\n          }\n\n          payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n          // there can only ever be one caption message in a frame's sei\n\n          if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n            result.payloadType = payloadType;\n            result.payloadSize = payloadSize;\n            result.payload = bytes.subarray(i, i + payloadSize);\n            break;\n          } // skip the payload and parse the next message\n\n\n          i += payloadSize;\n          payloadType = 0;\n          payloadSize = 0;\n        }\n\n        return result;\n      }; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\n      var parseUserData = function parseUserData(sei) {\n        // itu_t_t35_contry_code must be 181 (United States) for\n        // captions\n        if (sei.payload[0] !== 181) {\n          return null;\n        } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n        if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n          return null;\n        } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n        if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n          return null;\n        } // finally, user_data_type_code should be 0x03 for caption data\n\n\n        if (sei.payload[7] !== 0x03) {\n          return null;\n        } // return the user_data_type_structure and strip the trailing\n        // marker bits\n\n\n        return sei.payload.subarray(8, sei.payload.length - 1);\n      }; // see CEA-708-D, section 4.4\n\n\n      var parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n        var results = [],\n            i,\n            count,\n            offset,\n            data; // if this is just filler, return immediately\n\n        if (!(userData[0] & 0x40)) {\n          return results;\n        } // parse out the cc_data_1 and cc_data_2 fields\n\n\n        count = userData[0] & 0x1f;\n\n        for (i = 0; i < count; i++) {\n          offset = i * 3;\n          data = {\n            type: userData[offset + 2] & 0x03,\n            pts: pts\n          }; // capture cc data when cc_valid is 1\n\n          if (userData[offset + 2] & 0x04) {\n            data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n            results.push(data);\n          }\n        }\n\n        return results;\n      };\n\n      var discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n        var length = data.byteLength,\n            emulationPreventionBytesPositions = [],\n            i = 1,\n            newLength,\n            newData; // Find all `Emulation Prevention Bytes`\n\n        while (i < length - 2) {\n          if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n            emulationPreventionBytesPositions.push(i + 2);\n            i += 2;\n          } else {\n            i++;\n          }\n        } // If no Emulation Prevention Bytes were found just return the original\n        // array\n\n\n        if (emulationPreventionBytesPositions.length === 0) {\n          return data;\n        } // Create a new array to hold the NAL unit data\n\n\n        newLength = length - emulationPreventionBytesPositions.length;\n        newData = new Uint8Array(newLength);\n        var sourceIndex = 0;\n\n        for (i = 0; i < newLength; sourceIndex++, i++) {\n          if (sourceIndex === emulationPreventionBytesPositions[0]) {\n            // Skip this byte\n            sourceIndex++; // Remove this position index\n\n            emulationPreventionBytesPositions.shift();\n          }\n\n          newData[i] = data[sourceIndex];\n        }\n\n        return newData;\n      }; // exports\n\n\n      var captionPacketParser = {\n        parseSei: parseSei,\n        parseUserData: parseUserData,\n        parseCaptionPackets: parseCaptionPackets,\n        discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n        USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n      }; // -----------------\n      // Link To Transport\n      // -----------------\n\n      var CaptionStream = function CaptionStream() {\n        CaptionStream.prototype.init.call(this);\n        this.captionPackets_ = [];\n        this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n        new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n        new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n        new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n        ];\n        this.reset(); // forward data and done events from CCs to this CaptionStream\n\n        this.ccStreams_.forEach(function (cc) {\n          cc.on('data', this.trigger.bind(this, 'data'));\n          cc.on('done', this.trigger.bind(this, 'done'));\n        }, this);\n      };\n\n      CaptionStream.prototype = new stream();\n\n      CaptionStream.prototype.push = function (event) {\n        var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n        if (event.nalUnitType !== 'sei_rbsp') {\n          return;\n        } // parse the sei\n\n\n        sei = captionPacketParser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n        if (sei.payloadType !== captionPacketParser.USER_DATA_REGISTERED_ITU_T_T35) {\n          return;\n        } // parse out the user data payload\n\n\n        userData = captionPacketParser.parseUserData(sei); // ignore unrecognized userData\n\n        if (!userData) {\n          return;\n        } // Sometimes, the same segment # will be downloaded twice. To stop the\n        // caption data from being processed twice, we track the latest dts we've\n        // received and ignore everything with a dts before that. However, since\n        // data for a specific dts can be split across packets on either side of\n        // a segment boundary, we need to make sure we *don't* ignore the packets\n        // from the *next* segment that have dts === this.latestDts_. By constantly\n        // tracking the number of packets received with dts === this.latestDts_, we\n        // know how many should be ignored once we start receiving duplicates.\n\n\n        if (event.dts < this.latestDts_) {\n          // We've started getting older data, so set the flag.\n          this.ignoreNextEqualDts_ = true;\n          return;\n        } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n          this.numSameDts_--;\n\n          if (!this.numSameDts_) {\n            // We've received the last duplicate packet, time to start processing again\n            this.ignoreNextEqualDts_ = false;\n          }\n\n          return;\n        } // parse out CC data packets and save them for later\n\n\n        newCaptionPackets = captionPacketParser.parseCaptionPackets(event.pts, userData);\n        this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n        if (this.latestDts_ !== event.dts) {\n          this.numSameDts_ = 0;\n        }\n\n        this.numSameDts_++;\n        this.latestDts_ = event.dts;\n      };\n\n      CaptionStream.prototype.flush = function () {\n        // make sure we actually parsed captions before proceeding\n        if (!this.captionPackets_.length) {\n          this.ccStreams_.forEach(function (cc) {\n            cc.flush();\n          }, this);\n          return;\n        } // In Chrome, the Array#sort function is not stable so add a\n        // presortIndex that we can use to ensure we get a stable-sort\n\n\n        this.captionPackets_.forEach(function (elem, idx) {\n          elem.presortIndex = idx;\n        }); // sort caption byte-pairs based on their PTS values\n\n        this.captionPackets_.sort(function (a, b) {\n          if (a.pts === b.pts) {\n            return a.presortIndex - b.presortIndex;\n          }\n\n          return a.pts - b.pts;\n        });\n        this.captionPackets_.forEach(function (packet) {\n          if (packet.type < 2) {\n            // Dispatch packet to the right Cea608Stream\n            this.dispatchCea608Packet(packet);\n          } // this is where an 'else' would go for a dispatching packets\n          // to a theoretical Cea708Stream that handles SERVICEn data\n\n        }, this);\n        this.captionPackets_.length = 0;\n        this.ccStreams_.forEach(function (cc) {\n          cc.flush();\n        }, this);\n        return;\n      };\n\n      CaptionStream.prototype.reset = function () {\n        this.latestDts_ = null;\n        this.ignoreNextEqualDts_ = false;\n        this.numSameDts_ = 0;\n        this.activeCea608Channel_ = [null, null];\n        this.ccStreams_.forEach(function (ccStream) {\n          ccStream.reset();\n        });\n      };\n\n      CaptionStream.prototype.dispatchCea608Packet = function (packet) {\n        // NOTE: packet.type is the CEA608 field\n        if (this.setsChannel1Active(packet)) {\n          this.activeCea608Channel_[packet.type] = 0;\n        } else if (this.setsChannel2Active(packet)) {\n          this.activeCea608Channel_[packet.type] = 1;\n        }\n\n        if (this.activeCea608Channel_[packet.type] === null) {\n          // If we haven't received anything to set the active channel, discard the\n          // data; we don't want jumbled captions\n          return;\n        }\n\n        this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n      };\n\n      CaptionStream.prototype.setsChannel1Active = function (packet) {\n        return (packet.ccData & 0x7800) === 0x1000;\n      };\n\n      CaptionStream.prototype.setsChannel2Active = function (packet) {\n        return (packet.ccData & 0x7800) === 0x1800;\n      }; // ----------------------\n      // Session to Application\n      // ----------------------\n      // This hash maps non-ASCII, special, and extended character codes to their\n      // proper Unicode equivalent. The first keys that are only a single byte\n      // are the non-standard ASCII characters, which simply map the CEA608 byte\n      // to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n      // character codes, but have their MSB bitmasked with 0x03 so that a lookup\n      // can be performed regardless of the field and data channel on which the\n      // character code was received.\n\n\n      var CHARACTER_TRANSLATION = {\n        0x2a: 0xe1,\n        // á\n        0x5c: 0xe9,\n        // é\n        0x5e: 0xed,\n        // í\n        0x5f: 0xf3,\n        // ó\n        0x60: 0xfa,\n        // ú\n        0x7b: 0xe7,\n        // ç\n        0x7c: 0xf7,\n        // ÷\n        0x7d: 0xd1,\n        // Ñ\n        0x7e: 0xf1,\n        // ñ\n        0x7f: 0x2588,\n        // █\n        0x0130: 0xae,\n        // ®\n        0x0131: 0xb0,\n        // °\n        0x0132: 0xbd,\n        // ½\n        0x0133: 0xbf,\n        // ¿\n        0x0134: 0x2122,\n        // ™\n        0x0135: 0xa2,\n        // ¢\n        0x0136: 0xa3,\n        // £\n        0x0137: 0x266a,\n        // ♪\n        0x0138: 0xe0,\n        // à\n        0x0139: 0xa0,\n        //\n        0x013a: 0xe8,\n        // è\n        0x013b: 0xe2,\n        // â\n        0x013c: 0xea,\n        // ê\n        0x013d: 0xee,\n        // î\n        0x013e: 0xf4,\n        // ô\n        0x013f: 0xfb,\n        // û\n        0x0220: 0xc1,\n        // Á\n        0x0221: 0xc9,\n        // É\n        0x0222: 0xd3,\n        // Ó\n        0x0223: 0xda,\n        // Ú\n        0x0224: 0xdc,\n        // Ü\n        0x0225: 0xfc,\n        // ü\n        0x0226: 0x2018,\n        // ‘\n        0x0227: 0xa1,\n        // ¡\n        0x0228: 0x2a,\n        // *\n        0x0229: 0x27,\n        // '\n        0x022a: 0x2014,\n        // —\n        0x022b: 0xa9,\n        // ©\n        0x022c: 0x2120,\n        // ℠\n        0x022d: 0x2022,\n        // •\n        0x022e: 0x201c,\n        // “\n        0x022f: 0x201d,\n        // ”\n        0x0230: 0xc0,\n        // À\n        0x0231: 0xc2,\n        // Â\n        0x0232: 0xc7,\n        // Ç\n        0x0233: 0xc8,\n        // È\n        0x0234: 0xca,\n        // Ê\n        0x0235: 0xcb,\n        // Ë\n        0x0236: 0xeb,\n        // ë\n        0x0237: 0xce,\n        // Î\n        0x0238: 0xcf,\n        // Ï\n        0x0239: 0xef,\n        // ï\n        0x023a: 0xd4,\n        // Ô\n        0x023b: 0xd9,\n        // Ù\n        0x023c: 0xf9,\n        // ù\n        0x023d: 0xdb,\n        // Û\n        0x023e: 0xab,\n        // «\n        0x023f: 0xbb,\n        // »\n        0x0320: 0xc3,\n        // Ã\n        0x0321: 0xe3,\n        // ã\n        0x0322: 0xcd,\n        // Í\n        0x0323: 0xcc,\n        // Ì\n        0x0324: 0xec,\n        // ì\n        0x0325: 0xd2,\n        // Ò\n        0x0326: 0xf2,\n        // ò\n        0x0327: 0xd5,\n        // Õ\n        0x0328: 0xf5,\n        // õ\n        0x0329: 0x7b,\n        // {\n        0x032a: 0x7d,\n        // }\n        0x032b: 0x5c,\n        // \\\n        0x032c: 0x5e,\n        // ^\n        0x032d: 0x5f,\n        // _\n        0x032e: 0x7c,\n        // |\n        0x032f: 0x7e,\n        // ~\n        0x0330: 0xc4,\n        // Ä\n        0x0331: 0xe4,\n        // ä\n        0x0332: 0xd6,\n        // Ö\n        0x0333: 0xf6,\n        // ö\n        0x0334: 0xdf,\n        // ß\n        0x0335: 0xa5,\n        // ¥\n        0x0336: 0xa4,\n        // ¤\n        0x0337: 0x2502,\n        // │\n        0x0338: 0xc5,\n        // Å\n        0x0339: 0xe5,\n        // å\n        0x033a: 0xd8,\n        // Ø\n        0x033b: 0xf8,\n        // ø\n        0x033c: 0x250c,\n        // ┌\n        0x033d: 0x2510,\n        // ┐\n        0x033e: 0x2514,\n        // └\n        0x033f: 0x2518 // ┘\n\n      };\n\n      var getCharFromCode = function getCharFromCode(code) {\n        if (code === null) {\n          return '';\n        }\n\n        code = CHARACTER_TRANSLATION[code] || code;\n        return String.fromCharCode(code);\n      }; // the index of the last row in a CEA-608 display buffer\n\n\n      var BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n      // getting it through bit logic.\n\n      var ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n      // cells. The \"bottom\" row is the last element in the outer array.\n\n      var createDisplayBuffer = function createDisplayBuffer() {\n        var result = [],\n            i = BOTTOM_ROW + 1;\n\n        while (i--) {\n          result.push('');\n        }\n\n        return result;\n      };\n\n      var Cea608Stream = function Cea608Stream(field, dataChannel) {\n        Cea608Stream.prototype.init.call(this);\n        this.field_ = field || 0;\n        this.dataChannel_ = dataChannel || 0;\n        this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n        this.setConstants();\n        this.reset();\n\n        this.push = function (packet) {\n          var data, swap, char0, char1, text; // remove the parity bits\n\n          data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n          if (data === this.lastControlCode_) {\n            this.lastControlCode_ = null;\n            return;\n          } // Store control codes\n\n\n          if ((data & 0xf000) === 0x1000) {\n            this.lastControlCode_ = data;\n          } else if (data !== this.PADDING_) {\n            this.lastControlCode_ = null;\n          }\n\n          char0 = data >>> 8;\n          char1 = data & 0xff;\n\n          if (data === this.PADDING_) {\n            return;\n          } else if (data === this.RESUME_CAPTION_LOADING_) {\n            this.mode_ = 'popOn';\n          } else if (data === this.END_OF_CAPTION_) {\n            // If an EOC is received while in paint-on mode, the displayed caption\n            // text should be swapped to non-displayed memory as if it was a pop-on\n            // caption. Because of that, we should explicitly switch back to pop-on\n            // mode\n            this.mode_ = 'popOn';\n            this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n            this.flushDisplayed(packet.pts); // flip memory\n\n            swap = this.displayed_;\n            this.displayed_ = this.nonDisplayed_;\n            this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n            this.startPts_ = packet.pts;\n          } else if (data === this.ROLL_UP_2_ROWS_) {\n            this.rollUpRows_ = 2;\n            this.setRollUp(packet.pts);\n          } else if (data === this.ROLL_UP_3_ROWS_) {\n            this.rollUpRows_ = 3;\n            this.setRollUp(packet.pts);\n          } else if (data === this.ROLL_UP_4_ROWS_) {\n            this.rollUpRows_ = 4;\n            this.setRollUp(packet.pts);\n          } else if (data === this.CARRIAGE_RETURN_) {\n            this.clearFormatting(packet.pts);\n            this.flushDisplayed(packet.pts);\n            this.shiftRowsUp_();\n            this.startPts_ = packet.pts;\n          } else if (data === this.BACKSPACE_) {\n            if (this.mode_ === 'popOn') {\n              this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n            } else {\n              this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n            }\n          } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n            this.flushDisplayed(packet.pts);\n            this.displayed_ = createDisplayBuffer();\n          } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n            this.nonDisplayed_ = createDisplayBuffer();\n          } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n            if (this.mode_ !== 'paintOn') {\n              // NOTE: This should be removed when proper caption positioning is\n              // implemented\n              this.flushDisplayed(packet.pts);\n              this.displayed_ = createDisplayBuffer();\n            }\n\n            this.mode_ = 'paintOn';\n            this.startPts_ = packet.pts; // Append special characters to caption text\n          } else if (this.isSpecialCharacter(char0, char1)) {\n            // Bitmask char0 so that we can apply character transformations\n            // regardless of field and data channel.\n            // Then byte-shift to the left and OR with char1 so we can pass the\n            // entire character code to `getCharFromCode`.\n            char0 = (char0 & 0x03) << 8;\n            text = getCharFromCode(char0 | char1);\n            this[this.mode_](packet.pts, text);\n            this.column_++; // Append extended characters to caption text\n          } else if (this.isExtCharacter(char0, char1)) {\n            // Extended characters always follow their \"non-extended\" equivalents.\n            // IE if a \"è\" is desired, you'll always receive \"eè\"; non-compliant\n            // decoders are supposed to drop the \"è\", while compliant decoders\n            // backspace the \"e\" and insert \"è\".\n            // Delete the previous character\n            if (this.mode_ === 'popOn') {\n              this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n            } else {\n              this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n            } // Bitmask char0 so that we can apply character transformations\n            // regardless of field and data channel.\n            // Then byte-shift to the left and OR with char1 so we can pass the\n            // entire character code to `getCharFromCode`.\n\n\n            char0 = (char0 & 0x03) << 8;\n            text = getCharFromCode(char0 | char1);\n            this[this.mode_](packet.pts, text);\n            this.column_++; // Process mid-row codes\n          } else if (this.isMidRowCode(char0, char1)) {\n            // Attributes are not additive, so clear all formatting\n            this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n            // should be replaced with spaces, so add one now\n\n            this[this.mode_](packet.pts, ' ');\n            this.column_++;\n\n            if ((char1 & 0xe) === 0xe) {\n              this.addFormatting(packet.pts, ['i']);\n            }\n\n            if ((char1 & 0x1) === 0x1) {\n              this.addFormatting(packet.pts, ['u']);\n            } // Detect offset control codes and adjust cursor\n\n          } else if (this.isOffsetControlCode(char0, char1)) {\n            // Cursor position is set by indent PAC (see below) in 4-column\n            // increments, with an additional offset code of 1-3 to reach any\n            // of the 32 columns specified by CEA-608. So all we need to do\n            // here is increment the column cursor by the given offset.\n            this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n          } else if (this.isPAC(char0, char1)) {\n            // There's no logic for PAC -> row mapping, so we have to just\n            // find the row code in an array and use its index :(\n            var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n            if (this.mode_ === 'rollUp') {\n              // This implies that the base row is incorrectly set.\n              // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n              // of roll-up rows set.\n              if (row - this.rollUpRows_ + 1 < 0) {\n                row = this.rollUpRows_ - 1;\n              }\n\n              this.setRollUp(packet.pts, row);\n            }\n\n            if (row !== this.row_) {\n              // formatting is only persistent for current row\n              this.clearFormatting(packet.pts);\n              this.row_ = row;\n            } // All PACs can apply underline, so detect and apply\n            // (All odd-numbered second bytes set underline)\n\n\n            if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n              this.addFormatting(packet.pts, ['u']);\n            }\n\n            if ((data & 0x10) === 0x10) {\n              // We've got an indent level code. Each successive even number\n              // increments the column cursor by 4, so we can get the desired\n              // column position by bit-shifting to the right (to get n/2)\n              // and multiplying by 4.\n              this.column_ = ((data & 0xe) >> 1) * 4;\n            }\n\n            if (this.isColorPAC(char1)) {\n              // it's a color code, though we only support white, which\n              // can be either normal or italicized. white italics can be\n              // either 0x4e or 0x6e depending on the row, so we just\n              // bitwise-and with 0xe to see if italics should be turned on\n              if ((char1 & 0xe) === 0xe) {\n                this.addFormatting(packet.pts, ['i']);\n              }\n            } // We have a normal character in char0, and possibly one in char1\n\n          } else if (this.isNormalChar(char0)) {\n            if (char1 === 0x00) {\n              char1 = null;\n            }\n\n            text = getCharFromCode(char0);\n            text += getCharFromCode(char1);\n            this[this.mode_](packet.pts, text);\n            this.column_ += text.length;\n          } // finish data processing\n\n        };\n      };\n\n      Cea608Stream.prototype = new stream(); // Trigger a cue point that captures the current state of the\n      // display buffer\n\n      Cea608Stream.prototype.flushDisplayed = function (pts) {\n        var content = this.displayed_ // remove spaces from the start and end of the string\n        .map(function (row) {\n          try {\n            return row.trim();\n          } catch (e) {\n            // Ordinarily, this shouldn't happen. However, caption\n            // parsing errors should not throw exceptions and\n            // break playback.\n            // eslint-disable-next-line no-console\n            console.error('Skipping malformed caption.');\n            return '';\n          }\n        }) // combine all text rows to display in one cue\n        .join('\\n') // and remove blank rows from the start and end, but not the middle\n        .replace(/^\\n+|\\n+$/g, '');\n\n        if (content.length) {\n          this.trigger('data', {\n            startPts: this.startPts_,\n            endPts: pts,\n            text: content,\n            stream: this.name_\n          });\n        }\n      };\n      /**\n       * Zero out the data, used for startup and on seek\n       */\n\n\n      Cea608Stream.prototype.reset = function () {\n        this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n        // actually display captions. If a caption is shifted to a row\n        // with a lower index than this, it is cleared from the display\n        // buffer\n\n        this.topRow_ = 0;\n        this.startPts_ = 0;\n        this.displayed_ = createDisplayBuffer();\n        this.nonDisplayed_ = createDisplayBuffer();\n        this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n        this.column_ = 0;\n        this.row_ = BOTTOM_ROW;\n        this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n        this.formatting_ = [];\n      };\n      /**\n       * Sets up control code and related constants for this instance\n       */\n\n\n      Cea608Stream.prototype.setConstants = function () {\n        // The following attributes have these uses:\n        // ext_ :    char0 for mid-row codes, and the base for extended\n        //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n        //           extended codes)\n        // control_: char0 for control codes, except byte-shifted to the\n        //           left so that we can do this.control_ | CONTROL_CODE\n        // offset_:  char0 for tab offset codes\n        //\n        // It's also worth noting that control codes, and _only_ control codes,\n        // differ between field 1 and field2. Field 2 control codes are always\n        // their field 1 value plus 1. That's why there's the \"| field\" on the\n        // control value.\n        if (this.dataChannel_ === 0) {\n          this.BASE_ = 0x10;\n          this.EXT_ = 0x11;\n          this.CONTROL_ = (0x14 | this.field_) << 8;\n          this.OFFSET_ = 0x17;\n        } else if (this.dataChannel_ === 1) {\n          this.BASE_ = 0x18;\n          this.EXT_ = 0x19;\n          this.CONTROL_ = (0x1c | this.field_) << 8;\n          this.OFFSET_ = 0x1f;\n        } // Constants for the LSByte command codes recognized by Cea608Stream. This\n        // list is not exhaustive. For a more comprehensive listing and semantics see\n        // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n        // Padding\n\n\n        this.PADDING_ = 0x0000; // Pop-on Mode\n\n        this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n        this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n        this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n        this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n        this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n        this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n        this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n        this.BACKSPACE_ = this.CONTROL_ | 0x21;\n        this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n        this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n      };\n      /**\n       * Detects if the 2-byte packet data is a special character\n       *\n       * Special characters have a second byte in the range 0x30 to 0x3f,\n       * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n       * data channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are an special character\n       */\n\n\n      Cea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n        return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n      };\n      /**\n       * Detects if the 2-byte packet data is an extended character\n       *\n       * Extended characters have a second byte in the range 0x20 to 0x3f,\n       * with the first byte being 0x12 or 0x13 (for data channel 1) or\n       * 0x1a or 0x1b (for data channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are an extended character\n       */\n\n\n      Cea608Stream.prototype.isExtCharacter = function (char0, char1) {\n        return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n      };\n      /**\n       * Detects if the 2-byte packet is a mid-row code\n       *\n       * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n       * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n       * channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are a mid-row code\n       */\n\n\n      Cea608Stream.prototype.isMidRowCode = function (char0, char1) {\n        return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n      };\n      /**\n       * Detects if the 2-byte packet is an offset control code\n       *\n       * Offset control codes have a second byte in the range 0x21 to 0x23,\n       * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n       * data channel 2).\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are an offset control code\n       */\n\n\n      Cea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n        return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n      };\n      /**\n       * Detects if the 2-byte packet is a Preamble Address Code\n       *\n       * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n       * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n       * range 0x40 to 0x7f.\n       *\n       * @param  {Integer} char0 The first byte\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the 2 bytes are a PAC\n       */\n\n\n      Cea608Stream.prototype.isPAC = function (char0, char1) {\n        return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n      };\n      /**\n       * Detects if a packet's second byte is in the range of a PAC color code\n       *\n       * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n       * 0x60 to 0x6f.\n       *\n       * @param  {Integer} char1 The second byte\n       * @return {Boolean}       Whether the byte is a color PAC\n       */\n\n\n      Cea608Stream.prototype.isColorPAC = function (char1) {\n        return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n      };\n      /**\n       * Detects if a single byte is in the range of a normal character\n       *\n       * Normal text bytes are in the range 0x20 to 0x7f.\n       *\n       * @param  {Integer} char  The byte\n       * @return {Boolean}       Whether the byte is a normal character\n       */\n\n\n      Cea608Stream.prototype.isNormalChar = function (char) {\n        return char >= 0x20 && char <= 0x7f;\n      };\n      /**\n       * Configures roll-up\n       *\n       * @param  {Integer} pts         Current PTS\n       * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n       *                               a new position\n       */\n\n\n      Cea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n        // Reset the base row to the bottom row when switching modes\n        if (this.mode_ !== 'rollUp') {\n          this.row_ = BOTTOM_ROW;\n          this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n          this.flushDisplayed(pts);\n          this.nonDisplayed_ = createDisplayBuffer();\n          this.displayed_ = createDisplayBuffer();\n        }\n\n        if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n          // move currently displayed captions (up or down) to the new base row\n          for (var i = 0; i < this.rollUpRows_; i++) {\n            this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n            this.displayed_[this.row_ - i] = '';\n          }\n        }\n\n        if (newBaseRow === undefined) {\n          newBaseRow = this.row_;\n        }\n\n        this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n      }; // Adds the opening HTML tag for the passed character to the caption text,\n      // and keeps track of it for later closing\n\n\n      Cea608Stream.prototype.addFormatting = function (pts, format) {\n        this.formatting_ = this.formatting_.concat(format);\n        var text = format.reduce(function (text, format) {\n          return text + '<' + format + '>';\n        }, '');\n        this[this.mode_](pts, text);\n      }; // Adds HTML closing tags for current formatting to caption text and\n      // clears remembered formatting\n\n\n      Cea608Stream.prototype.clearFormatting = function (pts) {\n        if (!this.formatting_.length) {\n          return;\n        }\n\n        var text = this.formatting_.reverse().reduce(function (text, format) {\n          return text + '</' + format + '>';\n        }, '');\n        this.formatting_ = [];\n        this[this.mode_](pts, text);\n      }; // Mode Implementations\n\n\n      Cea608Stream.prototype.popOn = function (pts, text) {\n        var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n        baseRow += text;\n        this.nonDisplayed_[this.row_] = baseRow;\n      };\n\n      Cea608Stream.prototype.rollUp = function (pts, text) {\n        var baseRow = this.displayed_[this.row_];\n        baseRow += text;\n        this.displayed_[this.row_] = baseRow;\n      };\n\n      Cea608Stream.prototype.shiftRowsUp_ = function () {\n        var i; // clear out inactive rows\n\n        for (i = 0; i < this.topRow_; i++) {\n          this.displayed_[i] = '';\n        }\n\n        for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n          this.displayed_[i] = '';\n        } // shift displayed rows up\n\n\n        for (i = this.topRow_; i < this.row_; i++) {\n          this.displayed_[i] = this.displayed_[i + 1];\n        } // clear out the bottom row\n\n\n        this.displayed_[this.row_] = '';\n      };\n\n      Cea608Stream.prototype.paintOn = function (pts, text) {\n        var baseRow = this.displayed_[this.row_];\n        baseRow += text;\n        this.displayed_[this.row_] = baseRow;\n      }; // exports\n\n\n      var captionStream = {\n        CaptionStream: CaptionStream,\n        Cea608Stream: Cea608Stream\n      };\n      var streamTypes = {\n        H264_STREAM_TYPE: 0x1B,\n        ADTS_STREAM_TYPE: 0x0F,\n        METADATA_STREAM_TYPE: 0x15\n      };\n      var MAX_TS = 8589934592;\n      var RO_THRESH = 4294967296;\n\n      var handleRollover = function handleRollover(value, reference) {\n        var direction = 1;\n\n        if (value > reference) {\n          // If the current timestamp value is greater than our reference timestamp and we detect a\n          // timestamp rollover, this means the roll over is happening in the opposite direction.\n          // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n          // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n          // rollover point. In loading this segment, the timestamp values will be very large,\n          // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n          // the time stamp to be `value - 2^33`.\n          direction = -1;\n        } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n        // cause an incorrect adjustment.\n\n\n        while (Math.abs(reference - value) > RO_THRESH) {\n          value += direction * MAX_TS;\n        }\n\n        return value;\n      };\n\n      var TimestampRolloverStream = function TimestampRolloverStream(type) {\n        var lastDTS, referenceDTS;\n        TimestampRolloverStream.prototype.init.call(this);\n        this.type_ = type;\n\n        this.push = function (data) {\n          if (data.type !== this.type_) {\n            return;\n          }\n\n          if (referenceDTS === undefined) {\n            referenceDTS = data.dts;\n          }\n\n          data.dts = handleRollover(data.dts, referenceDTS);\n          data.pts = handleRollover(data.pts, referenceDTS);\n          lastDTS = data.dts;\n          this.trigger('data', data);\n        };\n\n        this.flush = function () {\n          referenceDTS = lastDTS;\n          this.trigger('done');\n        };\n\n        this.discontinuity = function () {\n          referenceDTS = void 0;\n          lastDTS = void 0;\n        };\n      };\n\n      TimestampRolloverStream.prototype = new stream();\n      var timestampRolloverStream = {\n        TimestampRolloverStream: TimestampRolloverStream,\n        handleRollover: handleRollover\n      };\n\n      var percentEncode = function percentEncode(bytes, start, end) {\n        var i,\n            result = '';\n\n        for (i = start; i < end; i++) {\n          result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n        }\n\n        return result;\n      },\n          // return the string representation of the specified byte range,\n      // interpreted as UTf-8.\n      parseUtf8 = function parseUtf8(bytes, start, end) {\n        return decodeURIComponent(percentEncode(bytes, start, end));\n      },\n          // return the string representation of the specified byte range,\n      // interpreted as ISO-8859-1.\n      parseIso88591 = function parseIso88591(bytes, start, end) {\n        return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n      },\n          parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n        return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n      },\n          tagParsers = {\n        TXXX: function TXXX(tag) {\n          var i;\n\n          if (tag.data[0] !== 3) {\n            // ignore frames with unrecognized character encodings\n            return;\n          }\n\n          for (i = 1; i < tag.data.length; i++) {\n            if (tag.data[i] === 0) {\n              // parse the text fields\n              tag.description = parseUtf8(tag.data, 1, i); // do not include the null terminator in the tag value\n\n              tag.value = parseUtf8(tag.data, i + 1, tag.data.length).replace(/\\0*$/, '');\n              break;\n            }\n          }\n\n          tag.data = tag.value;\n        },\n        WXXX: function WXXX(tag) {\n          var i;\n\n          if (tag.data[0] !== 3) {\n            // ignore frames with unrecognized character encodings\n            return;\n          }\n\n          for (i = 1; i < tag.data.length; i++) {\n            if (tag.data[i] === 0) {\n              // parse the description and URL fields\n              tag.description = parseUtf8(tag.data, 1, i);\n              tag.url = parseUtf8(tag.data, i + 1, tag.data.length);\n              break;\n            }\n          }\n        },\n        PRIV: function PRIV(tag) {\n          var i;\n\n          for (i = 0; i < tag.data.length; i++) {\n            if (tag.data[i] === 0) {\n              // parse the description and URL fields\n              tag.owner = parseIso88591(tag.data, 0, i);\n              break;\n            }\n          }\n\n          tag.privateData = tag.data.subarray(i + 1);\n          tag.data = tag.privateData;\n        }\n      },\n          _MetadataStream;\n\n      _MetadataStream = function MetadataStream(options) {\n        var settings = {\n          debug: !!(options && options.debug),\n          // the bytes of the program-level descriptor field in MP2T\n          // see ISO/IEC 13818-1:2013 (E), section 2.6 \"Program and\n          // program element descriptors\"\n          descriptor: options && options.descriptor\n        },\n            // the total size in bytes of the ID3 tag being parsed\n        tagSize = 0,\n            // tag data that is not complete enough to be parsed\n        buffer = [],\n            // the total number of bytes currently in the buffer\n        bufferSize = 0,\n            i;\n\n        _MetadataStream.prototype.init.call(this); // calculate the text track in-band metadata track dispatch type\n        // https://html.spec.whatwg.org/multipage/embedded-content.html#steps-to-expose-a-media-resource-specific-text-track\n\n\n        this.dispatchType = streamTypes.METADATA_STREAM_TYPE.toString(16);\n\n        if (settings.descriptor) {\n          for (i = 0; i < settings.descriptor.length; i++) {\n            this.dispatchType += ('00' + settings.descriptor[i].toString(16)).slice(-2);\n          }\n        }\n\n        this.push = function (chunk) {\n          var tag, frameStart, frameSize, frame, i, frameHeader;\n\n          if (chunk.type !== 'timed-metadata') {\n            return;\n          } // if data_alignment_indicator is set in the PES header,\n          // we must have the start of a new ID3 tag. Assume anything\n          // remaining in the buffer was malformed and throw it out\n\n\n          if (chunk.dataAlignmentIndicator) {\n            bufferSize = 0;\n            buffer.length = 0;\n          } // ignore events that don't look like ID3 data\n\n\n          if (buffer.length === 0 && (chunk.data.length < 10 || chunk.data[0] !== 'I'.charCodeAt(0) || chunk.data[1] !== 'D'.charCodeAt(0) || chunk.data[2] !== '3'.charCodeAt(0))) {\n            if (settings.debug) {\n              // eslint-disable-next-line no-console\n              console.log('Skipping unrecognized metadata packet');\n            }\n\n            return;\n          } // add this chunk to the data we've collected so far\n\n\n          buffer.push(chunk);\n          bufferSize += chunk.data.byteLength; // grab the size of the entire frame from the ID3 header\n\n          if (buffer.length === 1) {\n            // the frame size is transmitted as a 28-bit integer in the\n            // last four bytes of the ID3 header.\n            // The most significant bit of each byte is dropped and the\n            // results concatenated to recover the actual value.\n            tagSize = parseSyncSafeInteger(chunk.data.subarray(6, 10)); // ID3 reports the tag size excluding the header but it's more\n            // convenient for our comparisons to include it\n\n            tagSize += 10;\n          } // if the entire frame has not arrived, wait for more data\n\n\n          if (bufferSize < tagSize) {\n            return;\n          } // collect the entire frame so it can be parsed\n\n\n          tag = {\n            data: new Uint8Array(tagSize),\n            frames: [],\n            pts: buffer[0].pts,\n            dts: buffer[0].dts\n          };\n\n          for (i = 0; i < tagSize;) {\n            tag.data.set(buffer[0].data.subarray(0, tagSize - i), i);\n            i += buffer[0].data.byteLength;\n            bufferSize -= buffer[0].data.byteLength;\n            buffer.shift();\n          } // find the start of the first frame and the end of the tag\n\n\n          frameStart = 10;\n\n          if (tag.data[5] & 0x40) {\n            // advance the frame start past the extended header\n            frameStart += 4; // header size field\n\n            frameStart += parseSyncSafeInteger(tag.data.subarray(10, 14)); // clip any padding off the end\n\n            tagSize -= parseSyncSafeInteger(tag.data.subarray(16, 20));\n          } // parse one or more ID3 frames\n          // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n          do {\n            // determine the number of bytes in this frame\n            frameSize = parseSyncSafeInteger(tag.data.subarray(frameStart + 4, frameStart + 8));\n\n            if (frameSize < 1) {\n              // eslint-disable-next-line no-console\n              return console.log('Malformed ID3 frame encountered. Skipping metadata parsing.');\n            }\n\n            frameHeader = String.fromCharCode(tag.data[frameStart], tag.data[frameStart + 1], tag.data[frameStart + 2], tag.data[frameStart + 3]);\n            frame = {\n              id: frameHeader,\n              data: tag.data.subarray(frameStart + 10, frameStart + frameSize + 10)\n            };\n            frame.key = frame.id;\n\n            if (tagParsers[frame.id]) {\n              tagParsers[frame.id](frame); // handle the special PRIV frame used to indicate the start\n              // time for raw AAC data\n\n              if (frame.owner === 'com.apple.streaming.transportStreamTimestamp') {\n                var d = frame.data,\n                    size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n                size *= 4;\n                size += d[7] & 0x03;\n                frame.timeStamp = size; // in raw AAC, all subsequent data will be timestamped based\n                // on the value of this frame\n                // we couldn't have known the appropriate pts and dts before\n                // parsing this ID3 tag so set those values now\n\n                if (tag.pts === undefined && tag.dts === undefined) {\n                  tag.pts = frame.timeStamp;\n                  tag.dts = frame.timeStamp;\n                }\n\n                this.trigger('timestamp', frame);\n              }\n            }\n\n            tag.frames.push(frame);\n            frameStart += 10; // advance past the frame header\n\n            frameStart += frameSize; // advance past the frame body\n          } while (frameStart < tagSize);\n\n          this.trigger('data', tag);\n        };\n      };\n\n      _MetadataStream.prototype = new stream();\n      var metadataStream = _MetadataStream;\n      var TimestampRolloverStream$1 = timestampRolloverStream.TimestampRolloverStream; // object types\n\n      var _TransportPacketStream, _TransportParseStream, _ElementaryStream; // constants\n\n\n      var MP2T_PACKET_LENGTH = 188,\n          // bytes\n      SYNC_BYTE = 0x47;\n      /**\n       * Splits an incoming stream of binary data into MPEG-2 Transport\n       * Stream packets.\n       */\n\n      _TransportPacketStream = function TransportPacketStream() {\n        var buffer = new Uint8Array(MP2T_PACKET_LENGTH),\n            bytesInBuffer = 0;\n\n        _TransportPacketStream.prototype.init.call(this); // Deliver new bytes to the stream.\n\n        /**\n         * Split a stream of data into M2TS packets\n        **/\n\n\n        this.push = function (bytes) {\n          var startIndex = 0,\n              endIndex = MP2T_PACKET_LENGTH,\n              everything; // If there are bytes remaining from the last segment, prepend them to the\n          // bytes that were pushed in\n\n          if (bytesInBuffer) {\n            everything = new Uint8Array(bytes.byteLength + bytesInBuffer);\n            everything.set(buffer.subarray(0, bytesInBuffer));\n            everything.set(bytes, bytesInBuffer);\n            bytesInBuffer = 0;\n          } else {\n            everything = bytes;\n          } // While we have enough data for a packet\n\n\n          while (endIndex < everything.byteLength) {\n            // Look for a pair of start and end sync bytes in the data..\n            if (everything[startIndex] === SYNC_BYTE && everything[endIndex] === SYNC_BYTE) {\n              // We found a packet so emit it and jump one whole packet forward in\n              // the stream\n              this.trigger('data', everything.subarray(startIndex, endIndex));\n              startIndex += MP2T_PACKET_LENGTH;\n              endIndex += MP2T_PACKET_LENGTH;\n              continue;\n            } // If we get here, we have somehow become de-synchronized and we need to step\n            // forward one byte at a time until we find a pair of sync bytes that denote\n            // a packet\n\n\n            startIndex++;\n            endIndex++;\n          } // If there was some data left over at the end of the segment that couldn't\n          // possibly be a whole packet, keep it because it might be the start of a packet\n          // that continues in the next segment\n\n\n          if (startIndex < everything.byteLength) {\n            buffer.set(everything.subarray(startIndex), 0);\n            bytesInBuffer = everything.byteLength - startIndex;\n          }\n        };\n        /**\n         * Passes identified M2TS packets to the TransportParseStream to be parsed\n        **/\n\n\n        this.flush = function () {\n          // If the buffer contains a whole packet when we are being flushed, emit it\n          // and empty the buffer. Otherwise hold onto the data because it may be\n          // important for decoding the next segment\n          if (bytesInBuffer === MP2T_PACKET_LENGTH && buffer[0] === SYNC_BYTE) {\n            this.trigger('data', buffer);\n            bytesInBuffer = 0;\n          }\n\n          this.trigger('done');\n        };\n      };\n\n      _TransportPacketStream.prototype = new stream();\n      /**\n       * Accepts an MP2T TransportPacketStream and emits data events with parsed\n       * forms of the individual transport stream packets.\n       */\n\n      _TransportParseStream = function TransportParseStream() {\n        var parsePsi, parsePat, parsePmt, self;\n\n        _TransportParseStream.prototype.init.call(this);\n\n        self = this;\n        this.packetsWaitingForPmt = [];\n        this.programMapTable = undefined;\n\n        parsePsi = function parsePsi(payload, psi) {\n          var offset = 0; // PSI packets may be split into multiple sections and those\n          // sections may be split into multiple packets. If a PSI\n          // section starts in this packet, the payload_unit_start_indicator\n          // will be true and the first byte of the payload will indicate\n          // the offset from the current position to the start of the\n          // section.\n\n          if (psi.payloadUnitStartIndicator) {\n            offset += payload[offset] + 1;\n          }\n\n          if (psi.type === 'pat') {\n            parsePat(payload.subarray(offset), psi);\n          } else {\n            parsePmt(payload.subarray(offset), psi);\n          }\n        };\n\n        parsePat = function parsePat(payload, pat) {\n          pat.section_number = payload[7]; // eslint-disable-line camelcase\n\n          pat.last_section_number = payload[8]; // eslint-disable-line camelcase\n          // skip the PSI header and parse the first PMT entry\n\n          self.pmtPid = (payload[10] & 0x1F) << 8 | payload[11];\n          pat.pmtPid = self.pmtPid;\n        };\n        /**\n         * Parse out the relevant fields of a Program Map Table (PMT).\n         * @param payload {Uint8Array} the PMT-specific portion of an MP2T\n         * packet. The first byte in this array should be the table_id\n         * field.\n         * @param pmt {object} the object that should be decorated with\n         * fields parsed from the PMT.\n         */\n\n\n        parsePmt = function parsePmt(payload, pmt) {\n          var sectionLength, tableEnd, programInfoLength, offset; // PMTs can be sent ahead of the time when they should actually\n          // take effect. We don't believe this should ever be the case\n          // for HLS but we'll ignore \"forward\" PMT declarations if we see\n          // them. Future PMT declarations have the current_next_indicator\n          // set to zero.\n\n          if (!(payload[5] & 0x01)) {\n            return;\n          } // overwrite any existing program map table\n\n\n          self.programMapTable = {\n            video: null,\n            audio: null,\n            'timed-metadata': {}\n          }; // the mapping table ends at the end of the current section\n\n          sectionLength = (payload[1] & 0x0f) << 8 | payload[2];\n          tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n          // long the program info descriptors are\n\n          programInfoLength = (payload[10] & 0x0f) << 8 | payload[11]; // advance the offset to the first entry in the mapping table\n\n          offset = 12 + programInfoLength;\n\n          while (offset < tableEnd) {\n            var streamType = payload[offset];\n            var pid = (payload[offset + 1] & 0x1F) << 8 | payload[offset + 2]; // only map a single elementary_pid for audio and video stream types\n            // TODO: should this be done for metadata too? for now maintain behavior of\n            //       multiple metadata streams\n\n            if (streamType === streamTypes.H264_STREAM_TYPE && self.programMapTable.video === null) {\n              self.programMapTable.video = pid;\n            } else if (streamType === streamTypes.ADTS_STREAM_TYPE && self.programMapTable.audio === null) {\n              self.programMapTable.audio = pid;\n            } else if (streamType === streamTypes.METADATA_STREAM_TYPE) {\n              // map pid to stream type for metadata streams\n              self.programMapTable['timed-metadata'][pid] = streamType;\n            } // move to the next table entry\n            // skip past the elementary stream descriptors, if present\n\n\n            offset += ((payload[offset + 3] & 0x0F) << 8 | payload[offset + 4]) + 5;\n          } // record the map on the packet as well\n\n\n          pmt.programMapTable = self.programMapTable;\n        };\n        /**\n         * Deliver a new MP2T packet to the next stream in the pipeline.\n         */\n\n\n        this.push = function (packet) {\n          var result = {},\n              offset = 4;\n          result.payloadUnitStartIndicator = !!(packet[1] & 0x40); // pid is a 13-bit field starting at the last bit of packet[1]\n\n          result.pid = packet[1] & 0x1f;\n          result.pid <<= 8;\n          result.pid |= packet[2]; // if an adaption field is present, its length is specified by the\n          // fifth byte of the TS packet header. The adaptation field is\n          // used to add stuffing to PES packets that don't fill a complete\n          // TS packet, and to specify some forms of timing and control data\n          // that we do not currently use.\n\n          if ((packet[3] & 0x30) >>> 4 > 0x01) {\n            offset += packet[offset] + 1;\n          } // parse the rest of the packet based on the type\n\n\n          if (result.pid === 0) {\n            result.type = 'pat';\n            parsePsi(packet.subarray(offset), result);\n            this.trigger('data', result);\n          } else if (result.pid === this.pmtPid) {\n            result.type = 'pmt';\n            parsePsi(packet.subarray(offset), result);\n            this.trigger('data', result); // if there are any packets waiting for a PMT to be found, process them now\n\n            while (this.packetsWaitingForPmt.length) {\n              this.processPes_.apply(this, this.packetsWaitingForPmt.shift());\n            }\n          } else if (this.programMapTable === undefined) {\n            // When we have not seen a PMT yet, defer further processing of\n            // PES packets until one has been parsed\n            this.packetsWaitingForPmt.push([packet, offset, result]);\n          } else {\n            this.processPes_(packet, offset, result);\n          }\n        };\n\n        this.processPes_ = function (packet, offset, result) {\n          // set the appropriate stream type\n          if (result.pid === this.programMapTable.video) {\n            result.streamType = streamTypes.H264_STREAM_TYPE;\n          } else if (result.pid === this.programMapTable.audio) {\n            result.streamType = streamTypes.ADTS_STREAM_TYPE;\n          } else {\n            // if not video or audio, it is timed-metadata or unknown\n            // if unknown, streamType will be undefined\n            result.streamType = this.programMapTable['timed-metadata'][result.pid];\n          }\n\n          result.type = 'pes';\n          result.data = packet.subarray(offset);\n          this.trigger('data', result);\n        };\n      };\n\n      _TransportParseStream.prototype = new stream();\n      _TransportParseStream.STREAM_TYPES = {\n        h264: 0x1b,\n        adts: 0x0f\n      };\n      /**\n       * Reconsistutes program elementary stream (PES) packets from parsed\n       * transport stream packets. That is, if you pipe an\n       * mp2t.TransportParseStream into a mp2t.ElementaryStream, the output\n       * events will be events which capture the bytes for individual PES\n       * packets plus relevant metadata that has been extracted from the\n       * container.\n       */\n\n      _ElementaryStream = function ElementaryStream() {\n        var self = this,\n            // PES packet fragments\n        video = {\n          data: [],\n          size: 0\n        },\n            audio = {\n          data: [],\n          size: 0\n        },\n            timedMetadata = {\n          data: [],\n          size: 0\n        },\n            parsePes = function parsePes(payload, pes) {\n          var ptsDtsFlags; // get the packet length, this will be 0 for video\n\n          pes.packetLength = 6 + (payload[4] << 8 | payload[5]); // find out if this packets starts a new keyframe\n\n          pes.dataAlignmentIndicator = (payload[6] & 0x04) !== 0; // PES packets may be annotated with a PTS value, or a PTS value\n          // and a DTS value. Determine what combination of values is\n          // available to work with.\n\n          ptsDtsFlags = payload[7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n          // performs all bitwise operations on 32-bit integers but javascript\n          // supports a much greater range (52-bits) of integer using standard\n          // mathematical operations.\n          // We construct a 31-bit value using bitwise operators over the 31\n          // most significant bits and then multiply by 4 (equal to a left-shift\n          // of 2) before we add the final 2 least significant bits of the\n          // timestamp (equal to an OR.)\n\n          if (ptsDtsFlags & 0xC0) {\n            // the PTS and DTS are not written out directly. For information\n            // on how they are encoded, see\n            // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n            pes.pts = (payload[9] & 0x0E) << 27 | (payload[10] & 0xFF) << 20 | (payload[11] & 0xFE) << 12 | (payload[12] & 0xFF) << 5 | (payload[13] & 0xFE) >>> 3;\n            pes.pts *= 4; // Left shift by 2\n\n            pes.pts += (payload[13] & 0x06) >>> 1; // OR by the two LSBs\n\n            pes.dts = pes.pts;\n\n            if (ptsDtsFlags & 0x40) {\n              pes.dts = (payload[14] & 0x0E) << 27 | (payload[15] & 0xFF) << 20 | (payload[16] & 0xFE) << 12 | (payload[17] & 0xFF) << 5 | (payload[18] & 0xFE) >>> 3;\n              pes.dts *= 4; // Left shift by 2\n\n              pes.dts += (payload[18] & 0x06) >>> 1; // OR by the two LSBs\n            }\n          } // the data section starts immediately after the PES header.\n          // pes_header_data_length specifies the number of header bytes\n          // that follow the last byte of the field.\n\n\n          pes.data = payload.subarray(9 + payload[8]);\n        },\n\n        /**\n          * Pass completely parsed PES packets to the next stream in the pipeline\n         **/\n        flushStream = function flushStream(stream$$1, type, forceFlush) {\n          var packetData = new Uint8Array(stream$$1.size),\n              event = {\n            type: type\n          },\n              i = 0,\n              offset = 0,\n              packetFlushable = false,\n              fragment; // do nothing if there is not enough buffered data for a complete\n          // PES header\n\n          if (!stream$$1.data.length || stream$$1.size < 9) {\n            return;\n          }\n\n          event.trackId = stream$$1.data[0].pid; // reassemble the packet\n\n          for (i = 0; i < stream$$1.data.length; i++) {\n            fragment = stream$$1.data[i];\n            packetData.set(fragment.data, offset);\n            offset += fragment.data.byteLength;\n          } // parse assembled packet's PES header\n\n\n          parsePes(packetData, event); // non-video PES packets MUST have a non-zero PES_packet_length\n          // check that there is enough stream data to fill the packet\n\n          packetFlushable = type === 'video' || event.packetLength <= stream$$1.size; // flush pending packets if the conditions are right\n\n          if (forceFlush || packetFlushable) {\n            stream$$1.size = 0;\n            stream$$1.data.length = 0;\n          } // only emit packets that are complete. this is to avoid assembling\n          // incomplete PES packets due to poor segmentation\n\n\n          if (packetFlushable) {\n            self.trigger('data', event);\n          }\n        };\n\n        _ElementaryStream.prototype.init.call(this);\n        /**\n         * Identifies M2TS packet types and parses PES packets using metadata\n         * parsed from the PMT\n         **/\n\n\n        this.push = function (data) {\n          ({\n            pat: function pat() {// we have to wait for the PMT to arrive as well before we\n              // have any meaningful metadata\n            },\n            pes: function pes() {\n              var stream$$1, streamType;\n\n              switch (data.streamType) {\n                case streamTypes.H264_STREAM_TYPE:\n                case streamTypes.H264_STREAM_TYPE:\n                  stream$$1 = video;\n                  streamType = 'video';\n                  break;\n\n                case streamTypes.ADTS_STREAM_TYPE:\n                  stream$$1 = audio;\n                  streamType = 'audio';\n                  break;\n\n                case streamTypes.METADATA_STREAM_TYPE:\n                  stream$$1 = timedMetadata;\n                  streamType = 'timed-metadata';\n                  break;\n\n                default:\n                  // ignore unknown stream types\n                  return;\n              } // if a new packet is starting, we can flush the completed\n              // packet\n\n\n              if (data.payloadUnitStartIndicator) {\n                flushStream(stream$$1, streamType, true);\n              } // buffer this fragment until we are sure we've received the\n              // complete payload\n\n\n              stream$$1.data.push(data);\n              stream$$1.size += data.data.byteLength;\n            },\n            pmt: function pmt() {\n              var event = {\n                type: 'metadata',\n                tracks: []\n              },\n                  programMapTable = data.programMapTable; // translate audio and video streams to tracks\n\n              if (programMapTable.video !== null) {\n                event.tracks.push({\n                  timelineStartInfo: {\n                    baseMediaDecodeTime: 0\n                  },\n                  id: +programMapTable.video,\n                  codec: 'avc',\n                  type: 'video'\n                });\n              }\n\n              if (programMapTable.audio !== null) {\n                event.tracks.push({\n                  timelineStartInfo: {\n                    baseMediaDecodeTime: 0\n                  },\n                  id: +programMapTable.audio,\n                  codec: 'adts',\n                  type: 'audio'\n                });\n              }\n\n              self.trigger('data', event);\n            }\n          })[data.type]();\n        };\n        /**\n         * Flush any remaining input. Video PES packets may be of variable\n         * length. Normally, the start of a new video packet can trigger the\n         * finalization of the previous packet. That is not possible if no\n         * more video is forthcoming, however. In that case, some other\n         * mechanism (like the end of the file) has to be employed. When it is\n         * clear that no additional data is forthcoming, calling this method\n         * will flush the buffered packets.\n         */\n\n\n        this.flush = function () {\n          // !!THIS ORDER IS IMPORTANT!!\n          // video first then audio\n          flushStream(video, 'video');\n          flushStream(audio, 'audio');\n          flushStream(timedMetadata, 'timed-metadata');\n          this.trigger('done');\n        };\n      };\n\n      _ElementaryStream.prototype = new stream();\n      var m2ts = {\n        PAT_PID: 0x0000,\n        MP2T_PACKET_LENGTH: MP2T_PACKET_LENGTH,\n        TransportPacketStream: _TransportPacketStream,\n        TransportParseStream: _TransportParseStream,\n        ElementaryStream: _ElementaryStream,\n        TimestampRolloverStream: TimestampRolloverStream$1,\n        CaptionStream: captionStream.CaptionStream,\n        Cea608Stream: captionStream.Cea608Stream,\n        MetadataStream: metadataStream\n      };\n\n      for (var type in streamTypes) {\n        if (streamTypes.hasOwnProperty(type)) {\n          m2ts[type] = streamTypes[type];\n        }\n      }\n\n      var m2ts_1 = m2ts;\n\n      var _AdtsStream;\n\n      var ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n      /*\n       * Accepts a ElementaryStream and emits data events with parsed\n       * AAC Audio Frames of the individual packets. Input audio in ADTS\n       * format is unpacked and re-emitted as AAC frames.\n       *\n       * @see http://wiki.multimedia.cx/index.php?title=ADTS\n       * @see http://wiki.multimedia.cx/?title=Understanding_AAC\n       */\n\n      _AdtsStream = function AdtsStream() {\n        var buffer;\n\n        _AdtsStream.prototype.init.call(this);\n\n        this.push = function (packet) {\n          var i = 0,\n              frameNum = 0,\n              frameLength,\n              protectionSkipBytes,\n              frameEnd,\n              oldBuffer,\n              sampleCount,\n              adtsFrameDuration;\n\n          if (packet.type !== 'audio') {\n            // ignore non-audio data\n            return;\n          } // Prepend any data in the buffer to the input data so that we can parse\n          // aac frames the cross a PES packet boundary\n\n\n          if (buffer) {\n            oldBuffer = buffer;\n            buffer = new Uint8Array(oldBuffer.byteLength + packet.data.byteLength);\n            buffer.set(oldBuffer);\n            buffer.set(packet.data, oldBuffer.byteLength);\n          } else {\n            buffer = packet.data;\n          } // unpack any ADTS frames which have been fully received\n          // for details on the ADTS header, see http://wiki.multimedia.cx/index.php?title=ADTS\n\n\n          while (i + 5 < buffer.length) {\n            // Loook for the start of an ADTS header..\n            if (buffer[i] !== 0xFF || (buffer[i + 1] & 0xF6) !== 0xF0) {\n              // If a valid header was not found,  jump one forward and attempt to\n              // find a valid ADTS header starting at the next byte\n              i++;\n              continue;\n            } // The protection skip bit tells us if we have 2 bytes of CRC data at the\n            // end of the ADTS header\n\n\n            protectionSkipBytes = (~buffer[i + 1] & 0x01) * 2; // Frame length is a 13 bit integer starting 16 bits from the\n            // end of the sync sequence\n\n            frameLength = (buffer[i + 3] & 0x03) << 11 | buffer[i + 4] << 3 | (buffer[i + 5] & 0xe0) >> 5;\n            sampleCount = ((buffer[i + 6] & 0x03) + 1) * 1024;\n            adtsFrameDuration = sampleCount * 90000 / ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2];\n            frameEnd = i + frameLength; // If we don't have enough data to actually finish this ADTS frame, return\n            // and wait for more data\n\n            if (buffer.byteLength < frameEnd) {\n              return;\n            } // Otherwise, deliver the complete AAC frame\n\n\n            this.trigger('data', {\n              pts: packet.pts + frameNum * adtsFrameDuration,\n              dts: packet.dts + frameNum * adtsFrameDuration,\n              sampleCount: sampleCount,\n              audioobjecttype: (buffer[i + 2] >>> 6 & 0x03) + 1,\n              channelcount: (buffer[i + 2] & 1) << 2 | (buffer[i + 3] & 0xc0) >>> 6,\n              samplerate: ADTS_SAMPLING_FREQUENCIES[(buffer[i + 2] & 0x3c) >>> 2],\n              samplingfrequencyindex: (buffer[i + 2] & 0x3c) >>> 2,\n              // assume ISO/IEC 14496-12 AudioSampleEntry default of 16\n              samplesize: 16,\n              data: buffer.subarray(i + 7 + protectionSkipBytes, frameEnd)\n            }); // If the buffer is empty, clear it and return\n\n            if (buffer.byteLength === frameEnd) {\n              buffer = undefined;\n              return;\n            }\n\n            frameNum++; // Remove the finished frame from the buffer and start the process again\n\n            buffer = buffer.subarray(frameEnd);\n          }\n        };\n\n        this.flush = function () {\n          this.trigger('done');\n        };\n      };\n\n      _AdtsStream.prototype = new stream();\n      var adts = _AdtsStream;\n      var ExpGolomb;\n      /**\n       * Parser for exponential Golomb codes, a variable-bitwidth number encoding\n       * scheme used by h264.\n       */\n\n      ExpGolomb = function ExpGolomb(workingData) {\n        var // the number of bytes left to examine in workingData\n        workingBytesAvailable = workingData.byteLength,\n            // the current word being examined\n        workingWord = 0,\n            // :uint\n        // the number of bits left to examine in the current word\n        workingBitsAvailable = 0; // :uint;\n        // ():uint\n\n        this.length = function () {\n          return 8 * workingBytesAvailable;\n        }; // ():uint\n\n\n        this.bitsAvailable = function () {\n          return 8 * workingBytesAvailable + workingBitsAvailable;\n        }; // ():void\n\n\n        this.loadWord = function () {\n          var position = workingData.byteLength - workingBytesAvailable,\n              workingBytes = new Uint8Array(4),\n              availableBytes = Math.min(4, workingBytesAvailable);\n\n          if (availableBytes === 0) {\n            throw new Error('no bytes available');\n          }\n\n          workingBytes.set(workingData.subarray(position, position + availableBytes));\n          workingWord = new DataView(workingBytes.buffer).getUint32(0); // track the amount of workingData that has been processed\n\n          workingBitsAvailable = availableBytes * 8;\n          workingBytesAvailable -= availableBytes;\n        }; // (count:int):void\n\n\n        this.skipBits = function (count) {\n          var skipBytes; // :int\n\n          if (workingBitsAvailable > count) {\n            workingWord <<= count;\n            workingBitsAvailable -= count;\n          } else {\n            count -= workingBitsAvailable;\n            skipBytes = Math.floor(count / 8);\n            count -= skipBytes * 8;\n            workingBytesAvailable -= skipBytes;\n            this.loadWord();\n            workingWord <<= count;\n            workingBitsAvailable -= count;\n          }\n        }; // (size:int):uint\n\n\n        this.readBits = function (size) {\n          var bits = Math.min(workingBitsAvailable, size),\n              // :uint\n          valu = workingWord >>> 32 - bits; // :uint\n          // if size > 31, handle error\n\n          workingBitsAvailable -= bits;\n\n          if (workingBitsAvailable > 0) {\n            workingWord <<= bits;\n          } else if (workingBytesAvailable > 0) {\n            this.loadWord();\n          }\n\n          bits = size - bits;\n\n          if (bits > 0) {\n            return valu << bits | this.readBits(bits);\n          }\n\n          return valu;\n        }; // ():uint\n\n\n        this.skipLeadingZeros = function () {\n          var leadingZeroCount; // :uint\n\n          for (leadingZeroCount = 0; leadingZeroCount < workingBitsAvailable; ++leadingZeroCount) {\n            if ((workingWord & 0x80000000 >>> leadingZeroCount) !== 0) {\n              // the first bit of working word is 1\n              workingWord <<= leadingZeroCount;\n              workingBitsAvailable -= leadingZeroCount;\n              return leadingZeroCount;\n            }\n          } // we exhausted workingWord and still have not found a 1\n\n\n          this.loadWord();\n          return leadingZeroCount + this.skipLeadingZeros();\n        }; // ():void\n\n\n        this.skipUnsignedExpGolomb = function () {\n          this.skipBits(1 + this.skipLeadingZeros());\n        }; // ():void\n\n\n        this.skipExpGolomb = function () {\n          this.skipBits(1 + this.skipLeadingZeros());\n        }; // ():uint\n\n\n        this.readUnsignedExpGolomb = function () {\n          var clz = this.skipLeadingZeros(); // :uint\n\n          return this.readBits(clz + 1) - 1;\n        }; // ():int\n\n\n        this.readExpGolomb = function () {\n          var valu = this.readUnsignedExpGolomb(); // :int\n\n          if (0x01 & valu) {\n            // the number is odd if the low order bit is set\n            return 1 + valu >>> 1; // add 1 to make it even, and divide by 2\n          }\n\n          return -1 * (valu >>> 1); // divide by two then make it negative\n        }; // Some convenience functions\n        // :Boolean\n\n\n        this.readBoolean = function () {\n          return this.readBits(1) === 1;\n        }; // ():int\n\n\n        this.readUnsignedByte = function () {\n          return this.readBits(8);\n        };\n\n        this.loadWord();\n      };\n\n      var expGolomb = ExpGolomb;\n\n      var _H264Stream, _NalByteStream;\n\n      var PROFILES_WITH_OPTIONAL_SPS_DATA;\n      /**\n       * Accepts a NAL unit byte stream and unpacks the embedded NAL units.\n       */\n\n      _NalByteStream = function NalByteStream() {\n        var syncPoint = 0,\n            i,\n            buffer;\n\n        _NalByteStream.prototype.init.call(this);\n        /*\n         * Scans a byte stream and triggers a data event with the NAL units found.\n         * @param {Object} data Event received from H264Stream\n         * @param {Uint8Array} data.data The h264 byte stream to be scanned\n         *\n         * @see H264Stream.push\n         */\n\n\n        this.push = function (data) {\n          var swapBuffer;\n\n          if (!buffer) {\n            buffer = data.data;\n          } else {\n            swapBuffer = new Uint8Array(buffer.byteLength + data.data.byteLength);\n            swapBuffer.set(buffer);\n            swapBuffer.set(data.data, buffer.byteLength);\n            buffer = swapBuffer;\n          } // Rec. ITU-T H.264, Annex B\n          // scan for NAL unit boundaries\n          // a match looks like this:\n          // 0 0 1 .. NAL .. 0 0 1\n          // ^ sync point        ^ i\n          // or this:\n          // 0 0 1 .. NAL .. 0 0 0\n          // ^ sync point        ^ i\n          // advance the sync point to a NAL start, if necessary\n\n\n          for (; syncPoint < buffer.byteLength - 3; syncPoint++) {\n            if (buffer[syncPoint + 2] === 1) {\n              // the sync point is properly aligned\n              i = syncPoint + 5;\n              break;\n            }\n          }\n\n          while (i < buffer.byteLength) {\n            // look at the current byte to determine if we've hit the end of\n            // a NAL unit boundary\n            switch (buffer[i]) {\n              case 0:\n                // skip past non-sync sequences\n                if (buffer[i - 1] !== 0) {\n                  i += 2;\n                  break;\n                } else if (buffer[i - 2] !== 0) {\n                  i++;\n                  break;\n                } // deliver the NAL unit if it isn't empty\n\n\n                if (syncPoint + 3 !== i - 2) {\n                  this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n                } // drop trailing zeroes\n\n\n                do {\n                  i++;\n                } while (buffer[i] !== 1 && i < buffer.length);\n\n                syncPoint = i - 2;\n                i += 3;\n                break;\n\n              case 1:\n                // skip past non-sync sequences\n                if (buffer[i - 1] !== 0 || buffer[i - 2] !== 0) {\n                  i += 3;\n                  break;\n                } // deliver the NAL unit\n\n\n                this.trigger('data', buffer.subarray(syncPoint + 3, i - 2));\n                syncPoint = i - 2;\n                i += 3;\n                break;\n\n              default:\n                // the current byte isn't a one or zero, so it cannot be part\n                // of a sync sequence\n                i += 3;\n                break;\n            }\n          } // filter out the NAL units that were delivered\n\n\n          buffer = buffer.subarray(syncPoint);\n          i -= syncPoint;\n          syncPoint = 0;\n        };\n\n        this.flush = function () {\n          // deliver the last buffered NAL unit\n          if (buffer && buffer.byteLength > 3) {\n            this.trigger('data', buffer.subarray(syncPoint + 3));\n          } // reset the stream state\n\n\n          buffer = null;\n          syncPoint = 0;\n          this.trigger('done');\n        };\n      };\n\n      _NalByteStream.prototype = new stream(); // values of profile_idc that indicate additional fields are included in the SPS\n      // see Recommendation ITU-T H.264 (4/2013),\n      // 7.3.2.1.1 Sequence parameter set data syntax\n\n      PROFILES_WITH_OPTIONAL_SPS_DATA = {\n        100: true,\n        110: true,\n        122: true,\n        244: true,\n        44: true,\n        83: true,\n        86: true,\n        118: true,\n        128: true,\n        138: true,\n        139: true,\n        134: true\n      };\n      /**\n       * Accepts input from a ElementaryStream and produces H.264 NAL unit data\n       * events.\n       */\n\n      _H264Stream = function H264Stream() {\n        var nalByteStream = new _NalByteStream(),\n            self,\n            trackId,\n            currentPts,\n            currentDts,\n            discardEmulationPreventionBytes,\n            readSequenceParameterSet,\n            skipScalingList;\n\n        _H264Stream.prototype.init.call(this);\n\n        self = this;\n        /*\n         * Pushes a packet from a stream onto the NalByteStream\n         *\n         * @param {Object} packet - A packet received from a stream\n         * @param {Uint8Array} packet.data - The raw bytes of the packet\n         * @param {Number} packet.dts - Decode timestamp of the packet\n         * @param {Number} packet.pts - Presentation timestamp of the packet\n         * @param {Number} packet.trackId - The id of the h264 track this packet came from\n         * @param {('video'|'audio')} packet.type - The type of packet\n         *\n         */\n\n        this.push = function (packet) {\n          if (packet.type !== 'video') {\n            return;\n          }\n\n          trackId = packet.trackId;\n          currentPts = packet.pts;\n          currentDts = packet.dts;\n          nalByteStream.push(packet);\n        };\n        /*\n         * Identify NAL unit types and pass on the NALU, trackId, presentation and decode timestamps\n         * for the NALUs to the next stream component.\n         * Also, preprocess caption and sequence parameter NALUs.\n         *\n         * @param {Uint8Array} data - A NAL unit identified by `NalByteStream.push`\n         * @see NalByteStream.push\n         */\n\n\n        nalByteStream.on('data', function (data) {\n          var event = {\n            trackId: trackId,\n            pts: currentPts,\n            dts: currentDts,\n            data: data\n          };\n\n          switch (data[0] & 0x1f) {\n            case 0x05:\n              event.nalUnitType = 'slice_layer_without_partitioning_rbsp_idr';\n              break;\n\n            case 0x06:\n              event.nalUnitType = 'sei_rbsp';\n              event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n              break;\n\n            case 0x07:\n              event.nalUnitType = 'seq_parameter_set_rbsp';\n              event.escapedRBSP = discardEmulationPreventionBytes(data.subarray(1));\n              event.config = readSequenceParameterSet(event.escapedRBSP);\n              break;\n\n            case 0x08:\n              event.nalUnitType = 'pic_parameter_set_rbsp';\n              break;\n\n            case 0x09:\n              event.nalUnitType = 'access_unit_delimiter_rbsp';\n              break;\n\n            default:\n              break;\n          } // This triggers data on the H264Stream\n\n\n          self.trigger('data', event);\n        });\n        nalByteStream.on('done', function () {\n          self.trigger('done');\n        });\n\n        this.flush = function () {\n          nalByteStream.flush();\n        };\n        /**\n         * Advance the ExpGolomb decoder past a scaling list. The scaling\n         * list is optionally transmitted as part of a sequence parameter\n         * set and is not relevant to transmuxing.\n         * @param count {number} the number of entries in this scaling list\n         * @param expGolombDecoder {object} an ExpGolomb pointed to the\n         * start of a scaling list\n         * @see Recommendation ITU-T H.264, Section 7.3.2.1.1.1\n         */\n\n\n        skipScalingList = function skipScalingList(count, expGolombDecoder) {\n          var lastScale = 8,\n              nextScale = 8,\n              j,\n              deltaScale;\n\n          for (j = 0; j < count; j++) {\n            if (nextScale !== 0) {\n              deltaScale = expGolombDecoder.readExpGolomb();\n              nextScale = (lastScale + deltaScale + 256) % 256;\n            }\n\n            lastScale = nextScale === 0 ? lastScale : nextScale;\n          }\n        };\n        /**\n         * Expunge any \"Emulation Prevention\" bytes from a \"Raw Byte\n         * Sequence Payload\"\n         * @param data {Uint8Array} the bytes of a RBSP from a NAL\n         * unit\n         * @return {Uint8Array} the RBSP without any Emulation\n         * Prevention Bytes\n         */\n\n\n        discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n          var length = data.byteLength,\n              emulationPreventionBytesPositions = [],\n              i = 1,\n              newLength,\n              newData; // Find all `Emulation Prevention Bytes`\n\n          while (i < length - 2) {\n            if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n              emulationPreventionBytesPositions.push(i + 2);\n              i += 2;\n            } else {\n              i++;\n            }\n          } // If no Emulation Prevention Bytes were found just return the original\n          // array\n\n\n          if (emulationPreventionBytesPositions.length === 0) {\n            return data;\n          } // Create a new array to hold the NAL unit data\n\n\n          newLength = length - emulationPreventionBytesPositions.length;\n          newData = new Uint8Array(newLength);\n          var sourceIndex = 0;\n\n          for (i = 0; i < newLength; sourceIndex++, i++) {\n            if (sourceIndex === emulationPreventionBytesPositions[0]) {\n              // Skip this byte\n              sourceIndex++; // Remove this position index\n\n              emulationPreventionBytesPositions.shift();\n            }\n\n            newData[i] = data[sourceIndex];\n          }\n\n          return newData;\n        };\n        /**\n         * Read a sequence parameter set and return some interesting video\n         * properties. A sequence parameter set is the H264 metadata that\n         * describes the properties of upcoming video frames.\n         * @param data {Uint8Array} the bytes of a sequence parameter set\n         * @return {object} an object with configuration parsed from the\n         * sequence parameter set, including the dimensions of the\n         * associated video frames.\n         */\n\n\n        readSequenceParameterSet = function readSequenceParameterSet(data) {\n          var frameCropLeftOffset = 0,\n              frameCropRightOffset = 0,\n              frameCropTopOffset = 0,\n              frameCropBottomOffset = 0,\n              sarScale = 1,\n              expGolombDecoder,\n              profileIdc,\n              levelIdc,\n              profileCompatibility,\n              chromaFormatIdc,\n              picOrderCntType,\n              numRefFramesInPicOrderCntCycle,\n              picWidthInMbsMinus1,\n              picHeightInMapUnitsMinus1,\n              frameMbsOnlyFlag,\n              scalingListCount,\n              sarRatio,\n              aspectRatioIdc,\n              i;\n          expGolombDecoder = new expGolomb(data);\n          profileIdc = expGolombDecoder.readUnsignedByte(); // profile_idc\n\n          profileCompatibility = expGolombDecoder.readUnsignedByte(); // constraint_set[0-5]_flag\n\n          levelIdc = expGolombDecoder.readUnsignedByte(); // level_idc u(8)\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // seq_parameter_set_id\n          // some profiles have more optional data we don't need\n\n          if (PROFILES_WITH_OPTIONAL_SPS_DATA[profileIdc]) {\n            chromaFormatIdc = expGolombDecoder.readUnsignedExpGolomb();\n\n            if (chromaFormatIdc === 3) {\n              expGolombDecoder.skipBits(1); // separate_colour_plane_flag\n            }\n\n            expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_luma_minus8\n\n            expGolombDecoder.skipUnsignedExpGolomb(); // bit_depth_chroma_minus8\n\n            expGolombDecoder.skipBits(1); // qpprime_y_zero_transform_bypass_flag\n\n            if (expGolombDecoder.readBoolean()) {\n              // seq_scaling_matrix_present_flag\n              scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;\n\n              for (i = 0; i < scalingListCount; i++) {\n                if (expGolombDecoder.readBoolean()) {\n                  // seq_scaling_list_present_flag[ i ]\n                  if (i < 6) {\n                    skipScalingList(16, expGolombDecoder);\n                  } else {\n                    skipScalingList(64, expGolombDecoder);\n                  }\n                }\n              }\n            }\n          }\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // log2_max_frame_num_minus4\n\n          picOrderCntType = expGolombDecoder.readUnsignedExpGolomb();\n\n          if (picOrderCntType === 0) {\n            expGolombDecoder.readUnsignedExpGolomb(); // log2_max_pic_order_cnt_lsb_minus4\n          } else if (picOrderCntType === 1) {\n            expGolombDecoder.skipBits(1); // delta_pic_order_always_zero_flag\n\n            expGolombDecoder.skipExpGolomb(); // offset_for_non_ref_pic\n\n            expGolombDecoder.skipExpGolomb(); // offset_for_top_to_bottom_field\n\n            numRefFramesInPicOrderCntCycle = expGolombDecoder.readUnsignedExpGolomb();\n\n            for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {\n              expGolombDecoder.skipExpGolomb(); // offset_for_ref_frame[ i ]\n            }\n          }\n\n          expGolombDecoder.skipUnsignedExpGolomb(); // max_num_ref_frames\n\n          expGolombDecoder.skipBits(1); // gaps_in_frame_num_value_allowed_flag\n\n          picWidthInMbsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n          picHeightInMapUnitsMinus1 = expGolombDecoder.readUnsignedExpGolomb();\n          frameMbsOnlyFlag = expGolombDecoder.readBits(1);\n\n          if (frameMbsOnlyFlag === 0) {\n            expGolombDecoder.skipBits(1); // mb_adaptive_frame_field_flag\n          }\n\n          expGolombDecoder.skipBits(1); // direct_8x8_inference_flag\n\n          if (expGolombDecoder.readBoolean()) {\n            // frame_cropping_flag\n            frameCropLeftOffset = expGolombDecoder.readUnsignedExpGolomb();\n            frameCropRightOffset = expGolombDecoder.readUnsignedExpGolomb();\n            frameCropTopOffset = expGolombDecoder.readUnsignedExpGolomb();\n            frameCropBottomOffset = expGolombDecoder.readUnsignedExpGolomb();\n          }\n\n          if (expGolombDecoder.readBoolean()) {\n            // vui_parameters_present_flag\n            if (expGolombDecoder.readBoolean()) {\n              // aspect_ratio_info_present_flag\n              aspectRatioIdc = expGolombDecoder.readUnsignedByte();\n\n              switch (aspectRatioIdc) {\n                case 1:\n                  sarRatio = [1, 1];\n                  break;\n\n                case 2:\n                  sarRatio = [12, 11];\n                  break;\n\n                case 3:\n                  sarRatio = [10, 11];\n                  break;\n\n                case 4:\n                  sarRatio = [16, 11];\n                  break;\n\n                case 5:\n                  sarRatio = [40, 33];\n                  break;\n\n                case 6:\n                  sarRatio = [24, 11];\n                  break;\n\n                case 7:\n                  sarRatio = [20, 11];\n                  break;\n\n                case 8:\n                  sarRatio = [32, 11];\n                  break;\n\n                case 9:\n                  sarRatio = [80, 33];\n                  break;\n\n                case 10:\n                  sarRatio = [18, 11];\n                  break;\n\n                case 11:\n                  sarRatio = [15, 11];\n                  break;\n\n                case 12:\n                  sarRatio = [64, 33];\n                  break;\n\n                case 13:\n                  sarRatio = [160, 99];\n                  break;\n\n                case 14:\n                  sarRatio = [4, 3];\n                  break;\n\n                case 15:\n                  sarRatio = [3, 2];\n                  break;\n\n                case 16:\n                  sarRatio = [2, 1];\n                  break;\n\n                case 255:\n                  {\n                    sarRatio = [expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte(), expGolombDecoder.readUnsignedByte() << 8 | expGolombDecoder.readUnsignedByte()];\n                    break;\n                  }\n              }\n\n              if (sarRatio) {\n                sarScale = sarRatio[0] / sarRatio[1];\n              }\n            }\n          }\n\n          return {\n            profileIdc: profileIdc,\n            levelIdc: levelIdc,\n            profileCompatibility: profileCompatibility,\n            width: Math.ceil(((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2) * sarScale),\n            height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - frameCropTopOffset * 2 - frameCropBottomOffset * 2\n          };\n        };\n      };\n\n      _H264Stream.prototype = new stream();\n      var h264 = {\n        H264Stream: _H264Stream,\n        NalByteStream: _NalByteStream\n      };\n      /**\n       * mux.js\n       *\n       * Copyright (c) 2016 Brightcove\n       * All rights reserved.\n       *\n       * Utilities to detect basic properties and metadata about Aac data.\n       */\n\n      var ADTS_SAMPLING_FREQUENCIES$1 = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\n      var isLikelyAacData = function isLikelyAacData(data) {\n        if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n          return true;\n        }\n\n        return false;\n      };\n\n      var parseSyncSafeInteger$1 = function parseSyncSafeInteger(data) {\n        return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n      }; // return a percent-encoded representation of the specified byte range\n      // @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\n      var percentEncode$1 = function percentEncode(bytes, start, end) {\n        var i,\n            result = '';\n\n        for (i = start; i < end; i++) {\n          result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n        }\n\n        return result;\n      }; // return the string representation of the specified byte range,\n      // interpreted as ISO-8859-1.\n\n\n      var parseIso88591$1 = function parseIso88591(bytes, start, end) {\n        return unescape(percentEncode$1(bytes, start, end)); // jshint ignore:line\n      };\n\n      var parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n        var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n            flags = header[byteIndex + 5],\n            footerPresent = (flags & 16) >> 4;\n\n        if (footerPresent) {\n          return returnSize + 20;\n        }\n\n        return returnSize + 10;\n      };\n\n      var parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n        var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n            middle = header[byteIndex + 4] << 3,\n            highTwo = header[byteIndex + 3] & 0x3 << 11;\n        return highTwo | middle | lowThree;\n      };\n\n      var parseType$1 = function parseType(header, byteIndex) {\n        if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n          return 'timed-metadata';\n        } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n          return 'audio';\n        }\n\n        return null;\n      };\n\n      var parseSampleRate = function parseSampleRate(packet) {\n        var i = 0;\n\n        while (i + 5 < packet.length) {\n          if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n            // If a valid header was not found,  jump one forward and attempt to\n            // find a valid ADTS header starting at the next byte\n            i++;\n            continue;\n          }\n\n          return ADTS_SAMPLING_FREQUENCIES$1[(packet[i + 2] & 0x3c) >>> 2];\n        }\n\n        return null;\n      };\n\n      var parseAacTimestamp = function parseAacTimestamp(packet) {\n        var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n        frameStart = 10;\n\n        if (packet[5] & 0x40) {\n          // advance the frame start past the extended header\n          frameStart += 4; // header size field\n\n          frameStart += parseSyncSafeInteger$1(packet.subarray(10, 14));\n        } // parse one or more ID3 frames\n        // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n        do {\n          // determine the number of bytes in this frame\n          frameSize = parseSyncSafeInteger$1(packet.subarray(frameStart + 4, frameStart + 8));\n\n          if (frameSize < 1) {\n            return null;\n          }\n\n          frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n          if (frameHeader === 'PRIV') {\n            frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n            for (var i = 0; i < frame.byteLength; i++) {\n              if (frame[i] === 0) {\n                var owner = parseIso88591$1(frame, 0, i);\n\n                if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n                  var d = frame.subarray(i + 1);\n                  var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n                  size *= 4;\n                  size += d[7] & 0x03;\n                  return size;\n                }\n\n                break;\n              }\n            }\n          }\n\n          frameStart += 10; // advance past the frame header\n\n          frameStart += frameSize; // advance past the frame body\n        } while (frameStart < packet.byteLength);\n\n        return null;\n      };\n\n      var utils = {\n        isLikelyAacData: isLikelyAacData,\n        parseId3TagSize: parseId3TagSize,\n        parseAdtsSize: parseAdtsSize,\n        parseType: parseType$1,\n        parseSampleRate: parseSampleRate,\n        parseAacTimestamp: parseAacTimestamp\n      }; // Constants\n\n      var _AacStream;\n      /**\n       * Splits an incoming stream of binary data into ADTS and ID3 Frames.\n       */\n\n\n      _AacStream = function AacStream() {\n        var everything = new Uint8Array(),\n            timeStamp = 0;\n\n        _AacStream.prototype.init.call(this);\n\n        this.setTimestamp = function (timestamp) {\n          timeStamp = timestamp;\n        };\n\n        this.push = function (bytes) {\n          var frameSize = 0,\n              byteIndex = 0,\n              bytesLeft,\n              chunk,\n              packet,\n              tempLength; // If there are bytes remaining from the last segment, prepend them to the\n          // bytes that were pushed in\n\n          if (everything.length) {\n            tempLength = everything.length;\n            everything = new Uint8Array(bytes.byteLength + tempLength);\n            everything.set(everything.subarray(0, tempLength));\n            everything.set(bytes, tempLength);\n          } else {\n            everything = bytes;\n          }\n\n          while (everything.length - byteIndex >= 3) {\n            if (everything[byteIndex] === 'I'.charCodeAt(0) && everything[byteIndex + 1] === 'D'.charCodeAt(0) && everything[byteIndex + 2] === '3'.charCodeAt(0)) {\n              // Exit early because we don't have enough to parse\n              // the ID3 tag header\n              if (everything.length - byteIndex < 10) {\n                break;\n              } // check framesize\n\n\n              frameSize = utils.parseId3TagSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n              // to emit a full packet\n              // Add to byteIndex to support multiple ID3 tags in sequence\n\n              if (byteIndex + frameSize > everything.length) {\n                break;\n              }\n\n              chunk = {\n                type: 'timed-metadata',\n                data: everything.subarray(byteIndex, byteIndex + frameSize)\n              };\n              this.trigger('data', chunk);\n              byteIndex += frameSize;\n              continue;\n            } else if ((everything[byteIndex] & 0xff) === 0xff && (everything[byteIndex + 1] & 0xf0) === 0xf0) {\n              // Exit early because we don't have enough to parse\n              // the ADTS frame header\n              if (everything.length - byteIndex < 7) {\n                break;\n              }\n\n              frameSize = utils.parseAdtsSize(everything, byteIndex); // Exit early if we don't have enough in the buffer\n              // to emit a full packet\n\n              if (byteIndex + frameSize > everything.length) {\n                break;\n              }\n\n              packet = {\n                type: 'audio',\n                data: everything.subarray(byteIndex, byteIndex + frameSize),\n                pts: timeStamp,\n                dts: timeStamp\n              };\n              this.trigger('data', packet);\n              byteIndex += frameSize;\n              continue;\n            }\n\n            byteIndex++;\n          }\n\n          bytesLeft = everything.length - byteIndex;\n\n          if (bytesLeft > 0) {\n            everything = everything.subarray(byteIndex);\n          } else {\n            everything = new Uint8Array();\n          }\n        };\n      };\n\n      _AacStream.prototype = new stream();\n      var aac = _AacStream;\n      var H264Stream = h264.H264Stream;\n      var isLikelyAacData$1 = utils.isLikelyAacData; // constants\n\n      var AUDIO_PROPERTIES = ['audioobjecttype', 'channelcount', 'samplerate', 'samplingfrequencyindex', 'samplesize'];\n      var VIDEO_PROPERTIES = ['width', 'height', 'profileIdc', 'levelIdc', 'profileCompatibility']; // object types\n\n      var _VideoSegmentStream, _AudioSegmentStream, _Transmuxer, _CoalesceStream;\n      /**\n       * Compare two arrays (even typed) for same-ness\n       */\n\n\n      var arrayEquals = function arrayEquals(a, b) {\n        var i;\n\n        if (a.length !== b.length) {\n          return false;\n        } // compare the value of each element in the array\n\n\n        for (i = 0; i < a.length; i++) {\n          if (a[i] !== b[i]) {\n            return false;\n          }\n        }\n\n        return true;\n      };\n\n      var generateVideoSegmentTimingInfo = function generateVideoSegmentTimingInfo(baseMediaDecodeTime, startDts, startPts, endDts, endPts, prependedContentDuration) {\n        var ptsOffsetFromDts = startPts - startDts,\n            decodeDuration = endDts - startDts,\n            presentationDuration = endPts - startPts; // The PTS and DTS values are based on the actual stream times from the segment,\n        // however, the player time values will reflect a start from the baseMediaDecodeTime.\n        // In order to provide relevant values for the player times, base timing info on the\n        // baseMediaDecodeTime and the DTS and PTS durations of the segment.\n\n        return {\n          start: {\n            dts: baseMediaDecodeTime,\n            pts: baseMediaDecodeTime + ptsOffsetFromDts\n          },\n          end: {\n            dts: baseMediaDecodeTime + decodeDuration,\n            pts: baseMediaDecodeTime + presentationDuration\n          },\n          prependedContentDuration: prependedContentDuration,\n          baseMediaDecodeTime: baseMediaDecodeTime\n        };\n      };\n      /**\n       * Constructs a single-track, ISO BMFF media segment from AAC data\n       * events. The output of this stream can be fed to a SourceBuffer\n       * configured with a suitable initialization segment.\n       * @param track {object} track metadata configuration\n       * @param options {object} transmuxer options object\n       * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at 0.\n       */\n\n\n      _AudioSegmentStream = function AudioSegmentStream(track, options) {\n        var adtsFrames = [],\n            sequenceNumber = 0,\n            earliestAllowedDts = 0,\n            audioAppendStartTs = 0,\n            videoBaseMediaDecodeTime = Infinity;\n        options = options || {};\n\n        _AudioSegmentStream.prototype.init.call(this);\n\n        this.push = function (data) {\n          trackDecodeInfo.collectDtsInfo(track, data);\n\n          if (track) {\n            AUDIO_PROPERTIES.forEach(function (prop) {\n              track[prop] = data[prop];\n            });\n          } // buffer audio data until end() is called\n\n\n          adtsFrames.push(data);\n        };\n\n        this.setEarliestDts = function (earliestDts) {\n          earliestAllowedDts = earliestDts - track.timelineStartInfo.baseMediaDecodeTime;\n        };\n\n        this.setVideoBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n          videoBaseMediaDecodeTime = baseMediaDecodeTime;\n        };\n\n        this.setAudioAppendStart = function (timestamp) {\n          audioAppendStartTs = timestamp;\n        };\n\n        this.flush = function () {\n          var frames, moof, mdat, boxes; // return early if no audio data has been observed\n\n          if (adtsFrames.length === 0) {\n            this.trigger('done', 'AudioSegmentStream');\n            return;\n          }\n\n          frames = audioFrameUtils.trimAdtsFramesByEarliestDts(adtsFrames, track, earliestAllowedDts);\n          track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n          audioFrameUtils.prefixWithSilence(track, frames, audioAppendStartTs, videoBaseMediaDecodeTime); // we have to build the index from byte locations to\n          // samples (that is, adts frames) in the audio data\n\n          track.samples = audioFrameUtils.generateSampleTable(frames); // concatenate the audio data to constuct the mdat\n\n          mdat = mp4Generator.mdat(audioFrameUtils.concatenateFrameData(frames));\n          adtsFrames = [];\n          moof = mp4Generator.moof(sequenceNumber, [track]);\n          boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // bump the sequence number for next time\n\n          sequenceNumber++;\n          boxes.set(moof);\n          boxes.set(mdat, moof.byteLength);\n          trackDecodeInfo.clearDtsInfo(track);\n          this.trigger('data', {\n            track: track,\n            boxes: boxes\n          });\n          this.trigger('done', 'AudioSegmentStream');\n        };\n      };\n\n      _AudioSegmentStream.prototype = new stream();\n      /**\n       * Constructs a single-track, ISO BMFF media segment from H264 data\n       * events. The output of this stream can be fed to a SourceBuffer\n       * configured with a suitable initialization segment.\n       * @param track {object} track metadata configuration\n       * @param options {object} transmuxer options object\n       * @param options.alignGopsAtEnd {boolean} If true, start from the end of the\n       *        gopsToAlignWith list when attempting to align gop pts\n       * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at 0.\n       */\n\n      _VideoSegmentStream = function VideoSegmentStream(track, options) {\n        var sequenceNumber = 0,\n            nalUnits = [],\n            gopsToAlignWith = [],\n            config,\n            pps;\n        options = options || {};\n\n        _VideoSegmentStream.prototype.init.call(this);\n\n        delete track.minPTS;\n        this.gopCache_ = [];\n        /**\n          * Constructs a ISO BMFF segment given H264 nalUnits\n          * @param {Object} nalUnit A data event representing a nalUnit\n          * @param {String} nalUnit.nalUnitType\n          * @param {Object} nalUnit.config Properties for a mp4 track\n          * @param {Uint8Array} nalUnit.data The nalUnit bytes\n          * @see lib/codecs/h264.js\n         **/\n\n        this.push = function (nalUnit) {\n          trackDecodeInfo.collectDtsInfo(track, nalUnit); // record the track config\n\n          if (nalUnit.nalUnitType === 'seq_parameter_set_rbsp' && !config) {\n            config = nalUnit.config;\n            track.sps = [nalUnit.data];\n            VIDEO_PROPERTIES.forEach(function (prop) {\n              track[prop] = config[prop];\n            }, this);\n          }\n\n          if (nalUnit.nalUnitType === 'pic_parameter_set_rbsp' && !pps) {\n            pps = nalUnit.data;\n            track.pps = [nalUnit.data];\n          } // buffer video until flush() is called\n\n\n          nalUnits.push(nalUnit);\n        };\n        /**\n          * Pass constructed ISO BMFF track and boxes on to the\n          * next stream in the pipeline\n         **/\n\n\n        this.flush = function () {\n          var frames,\n              gopForFusion,\n              gops,\n              moof,\n              mdat,\n              boxes,\n              prependedContentDuration = 0,\n              firstGop,\n              lastGop; // Throw away nalUnits at the start of the byte stream until\n          // we find the first AUD\n\n          while (nalUnits.length) {\n            if (nalUnits[0].nalUnitType === 'access_unit_delimiter_rbsp') {\n              break;\n            }\n\n            nalUnits.shift();\n          } // Return early if no video data has been observed\n\n\n          if (nalUnits.length === 0) {\n            this.resetStream_();\n            this.trigger('done', 'VideoSegmentStream');\n            return;\n          } // Organize the raw nal-units into arrays that represent\n          // higher-level constructs such as frames and gops\n          // (group-of-pictures)\n\n\n          frames = frameUtils.groupNalsIntoFrames(nalUnits);\n          gops = frameUtils.groupFramesIntoGops(frames); // If the first frame of this fragment is not a keyframe we have\n          // a problem since MSE (on Chrome) requires a leading keyframe.\n          //\n          // We have two approaches to repairing this situation:\n          // 1) GOP-FUSION:\n          //    This is where we keep track of the GOPS (group-of-pictures)\n          //    from previous fragments and attempt to find one that we can\n          //    prepend to the current fragment in order to create a valid\n          //    fragment.\n          // 2) KEYFRAME-PULLING:\n          //    Here we search for the first keyframe in the fragment and\n          //    throw away all the frames between the start of the fragment\n          //    and that keyframe. We then extend the duration and pull the\n          //    PTS of the keyframe forward so that it covers the time range\n          //    of the frames that were disposed of.\n          //\n          // #1 is far prefereable over #2 which can cause \"stuttering\" but\n          // requires more things to be just right.\n\n          if (!gops[0][0].keyFrame) {\n            // Search for a gop for fusion from our gopCache\n            gopForFusion = this.getGopForFusion_(nalUnits[0], track);\n\n            if (gopForFusion) {\n              // in order to provide more accurate timing information about the segment, save\n              // the number of seconds prepended to the original segment due to GOP fusion\n              prependedContentDuration = gopForFusion.duration;\n              gops.unshift(gopForFusion); // Adjust Gops' metadata to account for the inclusion of the\n              // new gop at the beginning\n\n              gops.byteLength += gopForFusion.byteLength;\n              gops.nalCount += gopForFusion.nalCount;\n              gops.pts = gopForFusion.pts;\n              gops.dts = gopForFusion.dts;\n              gops.duration += gopForFusion.duration;\n            } else {\n              // If we didn't find a candidate gop fall back to keyframe-pulling\n              gops = frameUtils.extendFirstKeyFrame(gops);\n            }\n          } // Trim gops to align with gopsToAlignWith\n\n\n          if (gopsToAlignWith.length) {\n            var alignedGops;\n\n            if (options.alignGopsAtEnd) {\n              alignedGops = this.alignGopsAtEnd_(gops);\n            } else {\n              alignedGops = this.alignGopsAtStart_(gops);\n            }\n\n            if (!alignedGops) {\n              // save all the nals in the last GOP into the gop cache\n              this.gopCache_.unshift({\n                gop: gops.pop(),\n                pps: track.pps,\n                sps: track.sps\n              }); // Keep a maximum of 6 GOPs in the cache\n\n              this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n              nalUnits = []; // return early no gops can be aligned with desired gopsToAlignWith\n\n              this.resetStream_();\n              this.trigger('done', 'VideoSegmentStream');\n              return;\n            } // Some gops were trimmed. clear dts info so minSegmentDts and pts are correct\n            // when recalculated before sending off to CoalesceStream\n\n\n            trackDecodeInfo.clearDtsInfo(track);\n            gops = alignedGops;\n          }\n\n          trackDecodeInfo.collectDtsInfo(track, gops); // First, we have to build the index from byte locations to\n          // samples (that is, frames) in the video data\n\n          track.samples = frameUtils.generateSampleTable(gops); // Concatenate the video data and construct the mdat\n\n          mdat = mp4Generator.mdat(frameUtils.concatenateNalData(gops));\n          track.baseMediaDecodeTime = trackDecodeInfo.calculateTrackBaseMediaDecodeTime(track, options.keepOriginalTimestamps);\n          this.trigger('processedGopsInfo', gops.map(function (gop) {\n            return {\n              pts: gop.pts,\n              dts: gop.dts,\n              byteLength: gop.byteLength\n            };\n          }));\n          firstGop = gops[0];\n          lastGop = gops[gops.length - 1];\n          this.trigger('segmentTimingInfo', generateVideoSegmentTimingInfo(track.baseMediaDecodeTime, firstGop.dts, firstGop.pts, lastGop.dts + lastGop.duration, lastGop.pts + lastGop.duration, prependedContentDuration)); // save all the nals in the last GOP into the gop cache\n\n          this.gopCache_.unshift({\n            gop: gops.pop(),\n            pps: track.pps,\n            sps: track.sps\n          }); // Keep a maximum of 6 GOPs in the cache\n\n          this.gopCache_.length = Math.min(6, this.gopCache_.length); // Clear nalUnits\n\n          nalUnits = [];\n          this.trigger('baseMediaDecodeTime', track.baseMediaDecodeTime);\n          this.trigger('timelineStartInfo', track.timelineStartInfo);\n          moof = mp4Generator.moof(sequenceNumber, [track]); // it would be great to allocate this array up front instead of\n          // throwing away hundreds of media segment fragments\n\n          boxes = new Uint8Array(moof.byteLength + mdat.byteLength); // Bump the sequence number for next time\n\n          sequenceNumber++;\n          boxes.set(moof);\n          boxes.set(mdat, moof.byteLength);\n          this.trigger('data', {\n            track: track,\n            boxes: boxes\n          });\n          this.resetStream_(); // Continue with the flush process now\n\n          this.trigger('done', 'VideoSegmentStream');\n        };\n\n        this.resetStream_ = function () {\n          trackDecodeInfo.clearDtsInfo(track); // reset config and pps because they may differ across segments\n          // for instance, when we are rendition switching\n\n          config = undefined;\n          pps = undefined;\n        }; // Search for a candidate Gop for gop-fusion from the gop cache and\n        // return it or return null if no good candidate was found\n\n\n        this.getGopForFusion_ = function (nalUnit) {\n          var halfSecond = 45000,\n              // Half-a-second in a 90khz clock\n          allowableOverlap = 10000,\n              // About 3 frames @ 30fps\n          nearestDistance = Infinity,\n              dtsDistance,\n              nearestGopObj,\n              currentGop,\n              currentGopObj,\n              i; // Search for the GOP nearest to the beginning of this nal unit\n\n          for (i = 0; i < this.gopCache_.length; i++) {\n            currentGopObj = this.gopCache_[i];\n            currentGop = currentGopObj.gop; // Reject Gops with different SPS or PPS\n\n            if (!(track.pps && arrayEquals(track.pps[0], currentGopObj.pps[0])) || !(track.sps && arrayEquals(track.sps[0], currentGopObj.sps[0]))) {\n              continue;\n            } // Reject Gops that would require a negative baseMediaDecodeTime\n\n\n            if (currentGop.dts < track.timelineStartInfo.dts) {\n              continue;\n            } // The distance between the end of the gop and the start of the nalUnit\n\n\n            dtsDistance = nalUnit.dts - currentGop.dts - currentGop.duration; // Only consider GOPS that start before the nal unit and end within\n            // a half-second of the nal unit\n\n            if (dtsDistance >= -allowableOverlap && dtsDistance <= halfSecond) {\n              // Always use the closest GOP we found if there is more than\n              // one candidate\n              if (!nearestGopObj || nearestDistance > dtsDistance) {\n                nearestGopObj = currentGopObj;\n                nearestDistance = dtsDistance;\n              }\n            }\n          }\n\n          if (nearestGopObj) {\n            return nearestGopObj.gop;\n          }\n\n          return null;\n        }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n        // of gopsToAlignWith starting from the START of the list\n\n\n        this.alignGopsAtStart_ = function (gops) {\n          var alignIndex, gopIndex, align, gop, byteLength, nalCount, duration, alignedGops;\n          byteLength = gops.byteLength;\n          nalCount = gops.nalCount;\n          duration = gops.duration;\n          alignIndex = gopIndex = 0;\n\n          while (alignIndex < gopsToAlignWith.length && gopIndex < gops.length) {\n            align = gopsToAlignWith[alignIndex];\n            gop = gops[gopIndex];\n\n            if (align.pts === gop.pts) {\n              break;\n            }\n\n            if (gop.pts > align.pts) {\n              // this current gop starts after the current gop we want to align on, so increment\n              // align index\n              alignIndex++;\n              continue;\n            } // current gop starts before the current gop we want to align on. so increment gop\n            // index\n\n\n            gopIndex++;\n            byteLength -= gop.byteLength;\n            nalCount -= gop.nalCount;\n            duration -= gop.duration;\n          }\n\n          if (gopIndex === 0) {\n            // no gops to trim\n            return gops;\n          }\n\n          if (gopIndex === gops.length) {\n            // all gops trimmed, skip appending all gops\n            return null;\n          }\n\n          alignedGops = gops.slice(gopIndex);\n          alignedGops.byteLength = byteLength;\n          alignedGops.duration = duration;\n          alignedGops.nalCount = nalCount;\n          alignedGops.pts = alignedGops[0].pts;\n          alignedGops.dts = alignedGops[0].dts;\n          return alignedGops;\n        }; // trim gop list to the first gop found that has a matching pts with a gop in the list\n        // of gopsToAlignWith starting from the END of the list\n\n\n        this.alignGopsAtEnd_ = function (gops) {\n          var alignIndex, gopIndex, align, gop, alignEndIndex, matchFound;\n          alignIndex = gopsToAlignWith.length - 1;\n          gopIndex = gops.length - 1;\n          alignEndIndex = null;\n          matchFound = false;\n\n          while (alignIndex >= 0 && gopIndex >= 0) {\n            align = gopsToAlignWith[alignIndex];\n            gop = gops[gopIndex];\n\n            if (align.pts === gop.pts) {\n              matchFound = true;\n              break;\n            }\n\n            if (align.pts > gop.pts) {\n              alignIndex--;\n              continue;\n            }\n\n            if (alignIndex === gopsToAlignWith.length - 1) {\n              // gop.pts is greater than the last alignment candidate. If no match is found\n              // by the end of this loop, we still want to append gops that come after this\n              // point\n              alignEndIndex = gopIndex;\n            }\n\n            gopIndex--;\n          }\n\n          if (!matchFound && alignEndIndex === null) {\n            return null;\n          }\n\n          var trimIndex;\n\n          if (matchFound) {\n            trimIndex = gopIndex;\n          } else {\n            trimIndex = alignEndIndex;\n          }\n\n          if (trimIndex === 0) {\n            return gops;\n          }\n\n          var alignedGops = gops.slice(trimIndex);\n          var metadata = alignedGops.reduce(function (total, gop) {\n            total.byteLength += gop.byteLength;\n            total.duration += gop.duration;\n            total.nalCount += gop.nalCount;\n            return total;\n          }, {\n            byteLength: 0,\n            duration: 0,\n            nalCount: 0\n          });\n          alignedGops.byteLength = metadata.byteLength;\n          alignedGops.duration = metadata.duration;\n          alignedGops.nalCount = metadata.nalCount;\n          alignedGops.pts = alignedGops[0].pts;\n          alignedGops.dts = alignedGops[0].dts;\n          return alignedGops;\n        };\n\n        this.alignGopsWith = function (newGopsToAlignWith) {\n          gopsToAlignWith = newGopsToAlignWith;\n        };\n      };\n\n      _VideoSegmentStream.prototype = new stream();\n      /**\n       * A Stream that can combine multiple streams (ie. audio & video)\n       * into a single output segment for MSE. Also supports audio-only\n       * and video-only streams.\n       * @param options {object} transmuxer options object\n       * @param options.keepOriginalTimestamps {boolean} If true, keep the timestamps\n       *        in the source; false to adjust the first segment to start at media timeline start.\n       */\n\n      _CoalesceStream = function CoalesceStream(options, metadataStream) {\n        // Number of Tracks per output segment\n        // If greater than 1, we combine multiple\n        // tracks into a single segment\n        this.numberOfTracks = 0;\n        this.metadataStream = metadataStream;\n        options = options || {};\n\n        if (typeof options.remux !== 'undefined') {\n          this.remuxTracks = !!options.remux;\n        } else {\n          this.remuxTracks = true;\n        }\n\n        if (typeof options.keepOriginalTimestamps === 'boolean') {\n          this.keepOriginalTimestamps = options.keepOriginalTimestamps;\n        }\n\n        this.pendingTracks = [];\n        this.videoTrack = null;\n        this.pendingBoxes = [];\n        this.pendingCaptions = [];\n        this.pendingMetadata = [];\n        this.pendingBytes = 0;\n        this.emittedTracks = 0;\n\n        _CoalesceStream.prototype.init.call(this); // Take output from multiple\n\n\n        this.push = function (output) {\n          // buffer incoming captions until the associated video segment\n          // finishes\n          if (output.text) {\n            return this.pendingCaptions.push(output);\n          } // buffer incoming id3 tags until the final flush\n\n\n          if (output.frames) {\n            return this.pendingMetadata.push(output);\n          } // Add this track to the list of pending tracks and store\n          // important information required for the construction of\n          // the final segment\n\n\n          this.pendingTracks.push(output.track);\n          this.pendingBoxes.push(output.boxes);\n          this.pendingBytes += output.boxes.byteLength;\n\n          if (output.track.type === 'video') {\n            this.videoTrack = output.track;\n          }\n\n          if (output.track.type === 'audio') {\n            this.audioTrack = output.track;\n          }\n        };\n      };\n\n      _CoalesceStream.prototype = new stream();\n\n      _CoalesceStream.prototype.flush = function (flushSource) {\n        var offset = 0,\n            event = {\n          captions: [],\n          captionStreams: {},\n          metadata: [],\n          info: {}\n        },\n            caption,\n            id3,\n            initSegment,\n            timelineStartPts = 0,\n            i;\n\n        if (this.pendingTracks.length < this.numberOfTracks) {\n          if (flushSource !== 'VideoSegmentStream' && flushSource !== 'AudioSegmentStream') {\n            // Return because we haven't received a flush from a data-generating\n            // portion of the segment (meaning that we have only recieved meta-data\n            // or captions.)\n            return;\n          } else if (this.remuxTracks) {\n            // Return until we have enough tracks from the pipeline to remux (if we\n            // are remuxing audio and video into a single MP4)\n            return;\n          } else if (this.pendingTracks.length === 0) {\n            // In the case where we receive a flush without any data having been\n            // received we consider it an emitted track for the purposes of coalescing\n            // `done` events.\n            // We do this for the case where there is an audio and video track in the\n            // segment but no audio data. (seen in several playlists with alternate\n            // audio tracks and no audio present in the main TS segments.)\n            this.emittedTracks++;\n\n            if (this.emittedTracks >= this.numberOfTracks) {\n              this.trigger('done');\n              this.emittedTracks = 0;\n            }\n\n            return;\n          }\n        }\n\n        if (this.videoTrack) {\n          timelineStartPts = this.videoTrack.timelineStartInfo.pts;\n          VIDEO_PROPERTIES.forEach(function (prop) {\n            event.info[prop] = this.videoTrack[prop];\n          }, this);\n        } else if (this.audioTrack) {\n          timelineStartPts = this.audioTrack.timelineStartInfo.pts;\n          AUDIO_PROPERTIES.forEach(function (prop) {\n            event.info[prop] = this.audioTrack[prop];\n          }, this);\n        }\n\n        if (this.pendingTracks.length === 1) {\n          event.type = this.pendingTracks[0].type;\n        } else {\n          event.type = 'combined';\n        }\n\n        this.emittedTracks += this.pendingTracks.length;\n        initSegment = mp4Generator.initSegment(this.pendingTracks); // Create a new typed array to hold the init segment\n\n        event.initSegment = new Uint8Array(initSegment.byteLength); // Create an init segment containing a moov\n        // and track definitions\n\n        event.initSegment.set(initSegment); // Create a new typed array to hold the moof+mdats\n\n        event.data = new Uint8Array(this.pendingBytes); // Append each moof+mdat (one per track) together\n\n        for (i = 0; i < this.pendingBoxes.length; i++) {\n          event.data.set(this.pendingBoxes[i], offset);\n          offset += this.pendingBoxes[i].byteLength;\n        } // Translate caption PTS times into second offsets to match the\n        // video timeline for the segment, and add track info\n\n\n        for (i = 0; i < this.pendingCaptions.length; i++) {\n          caption = this.pendingCaptions[i];\n          caption.startTime = caption.startPts;\n\n          if (!this.keepOriginalTimestamps) {\n            caption.startTime -= timelineStartPts;\n          }\n\n          caption.startTime /= 90e3;\n          caption.endTime = caption.endPts;\n\n          if (!this.keepOriginalTimestamps) {\n            caption.endTime -= timelineStartPts;\n          }\n\n          caption.endTime /= 90e3;\n          event.captionStreams[caption.stream] = true;\n          event.captions.push(caption);\n        } // Translate ID3 frame PTS times into second offsets to match the\n        // video timeline for the segment\n\n\n        for (i = 0; i < this.pendingMetadata.length; i++) {\n          id3 = this.pendingMetadata[i];\n          id3.cueTime = id3.pts;\n\n          if (!this.keepOriginalTimestamps) {\n            id3.cueTime -= timelineStartPts;\n          }\n\n          id3.cueTime /= 90e3;\n          event.metadata.push(id3);\n        } // We add this to every single emitted segment even though we only need\n        // it for the first\n\n\n        event.metadata.dispatchType = this.metadataStream.dispatchType; // Reset stream state\n\n        this.pendingTracks.length = 0;\n        this.videoTrack = null;\n        this.pendingBoxes.length = 0;\n        this.pendingCaptions.length = 0;\n        this.pendingBytes = 0;\n        this.pendingMetadata.length = 0; // Emit the built segment\n\n        this.trigger('data', event); // Only emit `done` if all tracks have been flushed and emitted\n\n        if (this.emittedTracks >= this.numberOfTracks) {\n          this.trigger('done');\n          this.emittedTracks = 0;\n        }\n      };\n      /**\n       * A Stream that expects MP2T binary data as input and produces\n       * corresponding media segments, suitable for use with Media Source\n       * Extension (MSE) implementations that support the ISO BMFF byte\n       * stream format, like Chrome.\n       */\n\n\n      _Transmuxer = function Transmuxer(options) {\n        var self = this,\n            hasFlushed = true,\n            videoTrack,\n            audioTrack;\n\n        _Transmuxer.prototype.init.call(this);\n\n        options = options || {};\n        this.baseMediaDecodeTime = options.baseMediaDecodeTime || 0;\n        this.transmuxPipeline_ = {};\n\n        this.setupAacPipeline = function () {\n          var pipeline = {};\n          this.transmuxPipeline_ = pipeline;\n          pipeline.type = 'aac';\n          pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n          pipeline.aacStream = new aac();\n          pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n          pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n          pipeline.adtsStream = new adts();\n          pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n          pipeline.headOfPipeline = pipeline.aacStream;\n          pipeline.aacStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n          pipeline.aacStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream);\n          pipeline.metadataStream.on('timestamp', function (frame) {\n            pipeline.aacStream.setTimestamp(frame.timeStamp);\n          });\n          pipeline.aacStream.on('data', function (data) {\n            if (data.type === 'timed-metadata' && !pipeline.audioSegmentStream) {\n              audioTrack = audioTrack || {\n                timelineStartInfo: {\n                  baseMediaDecodeTime: self.baseMediaDecodeTime\n                },\n                codec: 'adts',\n                type: 'audio'\n              }; // hook up the audio segment stream to the first track with aac data\n\n              pipeline.coalesceStream.numberOfTracks++;\n              pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n              pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n            }\n          }); // Re-emit any data coming from the coalesce stream to the outside world\n\n          pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n          pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n        };\n\n        this.setupTsPipeline = function () {\n          var pipeline = {};\n          this.transmuxPipeline_ = pipeline;\n          pipeline.type = 'ts';\n          pipeline.metadataStream = new m2ts_1.MetadataStream(); // set up the parsing pipeline\n\n          pipeline.packetStream = new m2ts_1.TransportPacketStream();\n          pipeline.parseStream = new m2ts_1.TransportParseStream();\n          pipeline.elementaryStream = new m2ts_1.ElementaryStream();\n          pipeline.videoTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('video');\n          pipeline.audioTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('audio');\n          pipeline.timedMetadataTimestampRolloverStream = new m2ts_1.TimestampRolloverStream('timed-metadata');\n          pipeline.adtsStream = new adts();\n          pipeline.h264Stream = new H264Stream();\n          pipeline.captionStream = new m2ts_1.CaptionStream();\n          pipeline.coalesceStream = new _CoalesceStream(options, pipeline.metadataStream);\n          pipeline.headOfPipeline = pipeline.packetStream; // disassemble MPEG2-TS packets into elementary streams\n\n          pipeline.packetStream.pipe(pipeline.parseStream).pipe(pipeline.elementaryStream); // !!THIS ORDER IS IMPORTANT!!\n          // demux the streams\n\n          pipeline.elementaryStream.pipe(pipeline.videoTimestampRolloverStream).pipe(pipeline.h264Stream);\n          pipeline.elementaryStream.pipe(pipeline.audioTimestampRolloverStream).pipe(pipeline.adtsStream);\n          pipeline.elementaryStream.pipe(pipeline.timedMetadataTimestampRolloverStream).pipe(pipeline.metadataStream).pipe(pipeline.coalesceStream); // Hook up CEA-608/708 caption stream\n\n          pipeline.h264Stream.pipe(pipeline.captionStream).pipe(pipeline.coalesceStream);\n          pipeline.elementaryStream.on('data', function (data) {\n            var i;\n\n            if (data.type === 'metadata') {\n              i = data.tracks.length; // scan the tracks listed in the metadata\n\n              while (i--) {\n                if (!videoTrack && data.tracks[i].type === 'video') {\n                  videoTrack = data.tracks[i];\n                  videoTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n                } else if (!audioTrack && data.tracks[i].type === 'audio') {\n                  audioTrack = data.tracks[i];\n                  audioTrack.timelineStartInfo.baseMediaDecodeTime = self.baseMediaDecodeTime;\n                }\n              } // hook up the video segment stream to the first track with h264 data\n\n\n              if (videoTrack && !pipeline.videoSegmentStream) {\n                pipeline.coalesceStream.numberOfTracks++;\n                pipeline.videoSegmentStream = new _VideoSegmentStream(videoTrack, options);\n                pipeline.videoSegmentStream.on('timelineStartInfo', function (timelineStartInfo) {\n                  // When video emits timelineStartInfo data after a flush, we forward that\n                  // info to the AudioSegmentStream, if it exists, because video timeline\n                  // data takes precedence.\n                  if (audioTrack) {\n                    audioTrack.timelineStartInfo = timelineStartInfo; // On the first segment we trim AAC frames that exist before the\n                    // very earliest DTS we have seen in video because Chrome will\n                    // interpret any video track with a baseMediaDecodeTime that is\n                    // non-zero as a gap.\n\n                    pipeline.audioSegmentStream.setEarliestDts(timelineStartInfo.dts);\n                  }\n                });\n                pipeline.videoSegmentStream.on('processedGopsInfo', self.trigger.bind(self, 'gopInfo'));\n                pipeline.videoSegmentStream.on('segmentTimingInfo', self.trigger.bind(self, 'videoSegmentTimingInfo'));\n                pipeline.videoSegmentStream.on('baseMediaDecodeTime', function (baseMediaDecodeTime) {\n                  if (audioTrack) {\n                    pipeline.audioSegmentStream.setVideoBaseMediaDecodeTime(baseMediaDecodeTime);\n                  }\n                }); // Set up the final part of the video pipeline\n\n                pipeline.h264Stream.pipe(pipeline.videoSegmentStream).pipe(pipeline.coalesceStream);\n              }\n\n              if (audioTrack && !pipeline.audioSegmentStream) {\n                // hook up the audio segment stream to the first track with aac data\n                pipeline.coalesceStream.numberOfTracks++;\n                pipeline.audioSegmentStream = new _AudioSegmentStream(audioTrack, options); // Set up the final part of the audio pipeline\n\n                pipeline.adtsStream.pipe(pipeline.audioSegmentStream).pipe(pipeline.coalesceStream);\n              }\n            }\n          }); // Re-emit any data coming from the coalesce stream to the outside world\n\n          pipeline.coalesceStream.on('data', this.trigger.bind(this, 'data')); // Let the consumer know we have finished flushing the entire pipeline\n\n          pipeline.coalesceStream.on('done', this.trigger.bind(this, 'done'));\n        }; // hook up the segment streams once track metadata is delivered\n\n\n        this.setBaseMediaDecodeTime = function (baseMediaDecodeTime) {\n          var pipeline = this.transmuxPipeline_;\n\n          if (!options.keepOriginalTimestamps) {\n            this.baseMediaDecodeTime = baseMediaDecodeTime;\n          }\n\n          if (audioTrack) {\n            audioTrack.timelineStartInfo.dts = undefined;\n            audioTrack.timelineStartInfo.pts = undefined;\n            trackDecodeInfo.clearDtsInfo(audioTrack);\n\n            if (!options.keepOriginalTimestamps) {\n              audioTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n            }\n\n            if (pipeline.audioTimestampRolloverStream) {\n              pipeline.audioTimestampRolloverStream.discontinuity();\n            }\n          }\n\n          if (videoTrack) {\n            if (pipeline.videoSegmentStream) {\n              pipeline.videoSegmentStream.gopCache_ = [];\n              pipeline.videoTimestampRolloverStream.discontinuity();\n            }\n\n            videoTrack.timelineStartInfo.dts = undefined;\n            videoTrack.timelineStartInfo.pts = undefined;\n            trackDecodeInfo.clearDtsInfo(videoTrack);\n            pipeline.captionStream.reset();\n\n            if (!options.keepOriginalTimestamps) {\n              videoTrack.timelineStartInfo.baseMediaDecodeTime = baseMediaDecodeTime;\n            }\n          }\n\n          if (pipeline.timedMetadataTimestampRolloverStream) {\n            pipeline.timedMetadataTimestampRolloverStream.discontinuity();\n          }\n        };\n\n        this.setAudioAppendStart = function (timestamp) {\n          if (audioTrack) {\n            this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(timestamp);\n          }\n        };\n\n        this.alignGopsWith = function (gopsToAlignWith) {\n          if (videoTrack && this.transmuxPipeline_.videoSegmentStream) {\n            this.transmuxPipeline_.videoSegmentStream.alignGopsWith(gopsToAlignWith);\n          }\n        }; // feed incoming data to the front of the parsing pipeline\n\n\n        this.push = function (data) {\n          if (hasFlushed) {\n            var isAac = isLikelyAacData$1(data);\n\n            if (isAac && this.transmuxPipeline_.type !== 'aac') {\n              this.setupAacPipeline();\n            } else if (!isAac && this.transmuxPipeline_.type !== 'ts') {\n              this.setupTsPipeline();\n            }\n\n            hasFlushed = false;\n          }\n\n          this.transmuxPipeline_.headOfPipeline.push(data);\n        }; // flush any buffered data\n\n\n        this.flush = function () {\n          hasFlushed = true; // Start at the top of the pipeline and flush all pending work\n\n          this.transmuxPipeline_.headOfPipeline.flush();\n        }; // Caption data has to be reset when seeking outside buffered range\n\n\n        this.resetCaptions = function () {\n          if (this.transmuxPipeline_.captionStream) {\n            this.transmuxPipeline_.captionStream.reset();\n          }\n        };\n      };\n\n      _Transmuxer.prototype = new stream();\n      var transmuxer = {\n        Transmuxer: _Transmuxer,\n        VideoSegmentStream: _VideoSegmentStream,\n        AudioSegmentStream: _AudioSegmentStream,\n        AUDIO_PROPERTIES: AUDIO_PROPERTIES,\n        VIDEO_PROPERTIES: VIDEO_PROPERTIES,\n        // exported for testing\n        generateVideoSegmentTimingInfo: generateVideoSegmentTimingInfo\n      };\n\n      var inspectMp4,\n          _textifyMp,\n          parseType$2 = probe$$1.parseType,\n          parseMp4Date = function parseMp4Date(seconds) {\n        return new Date(seconds * 1000 - 2082844800000);\n      },\n          parseSampleFlags = function parseSampleFlags(flags) {\n        return {\n          isLeading: (flags[0] & 0x0c) >>> 2,\n          dependsOn: flags[0] & 0x03,\n          isDependedOn: (flags[1] & 0xc0) >>> 6,\n          hasRedundancy: (flags[1] & 0x30) >>> 4,\n          paddingValue: (flags[1] & 0x0e) >>> 1,\n          isNonSyncSample: flags[1] & 0x01,\n          degradationPriority: flags[2] << 8 | flags[3]\n        };\n      },\n          nalParse = function nalParse(avcStream) {\n        var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n            result = [],\n            i,\n            length;\n\n        for (i = 0; i + 4 < avcStream.length; i += length) {\n          length = avcView.getUint32(i);\n          i += 4; // bail if this doesn't appear to be an H264 stream\n\n          if (length <= 0) {\n            result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\n            continue;\n          }\n\n          switch (avcStream[i] & 0x1F) {\n            case 0x01:\n              result.push('slice_layer_without_partitioning_rbsp');\n              break;\n\n            case 0x05:\n              result.push('slice_layer_without_partitioning_rbsp_idr');\n              break;\n\n            case 0x06:\n              result.push('sei_rbsp');\n              break;\n\n            case 0x07:\n              result.push('seq_parameter_set_rbsp');\n              break;\n\n            case 0x08:\n              result.push('pic_parameter_set_rbsp');\n              break;\n\n            case 0x09:\n              result.push('access_unit_delimiter_rbsp');\n              break;\n\n            default:\n              result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\n              break;\n          }\n        }\n\n        return result;\n      },\n          // registry of handlers for individual mp4 box types\n      parse$$1 = {\n        // codingname, not a first-class box type. stsd entries share the\n        // same format as real boxes so the parsing infrastructure can be\n        // shared\n        avc1: function avc1(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n          return {\n            dataReferenceIndex: view.getUint16(6),\n            width: view.getUint16(24),\n            height: view.getUint16(26),\n            horizresolution: view.getUint16(28) + view.getUint16(30) / 16,\n            vertresolution: view.getUint16(32) + view.getUint16(34) / 16,\n            frameCount: view.getUint16(40),\n            depth: view.getUint16(74),\n            config: inspectMp4(data.subarray(78, data.byteLength))\n          };\n        },\n        avcC: function avcC(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            configurationVersion: data[0],\n            avcProfileIndication: data[1],\n            profileCompatibility: data[2],\n            avcLevelIndication: data[3],\n            lengthSizeMinusOne: data[4] & 0x03,\n            sps: [],\n            pps: []\n          },\n              numOfSequenceParameterSets = data[5] & 0x1f,\n              numOfPictureParameterSets,\n              nalSize,\n              offset,\n              i; // iterate past any SPSs\n\n          offset = 6;\n\n          for (i = 0; i < numOfSequenceParameterSets; i++) {\n            nalSize = view.getUint16(offset);\n            offset += 2;\n            result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n            offset += nalSize;\n          } // iterate past any PPSs\n\n\n          numOfPictureParameterSets = data[offset];\n          offset++;\n\n          for (i = 0; i < numOfPictureParameterSets; i++) {\n            nalSize = view.getUint16(offset);\n            offset += 2;\n            result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n            offset += nalSize;\n          }\n\n          return result;\n        },\n        btrt: function btrt(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n          return {\n            bufferSizeDB: view.getUint32(0),\n            maxBitrate: view.getUint32(4),\n            avgBitrate: view.getUint32(8)\n          };\n        },\n        esds: function esds(data) {\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            esId: data[6] << 8 | data[7],\n            streamPriority: data[8] & 0x1f,\n            decoderConfig: {\n              objectProfileIndication: data[11],\n              streamType: data[12] >>> 2 & 0x3f,\n              bufferSize: data[13] << 16 | data[14] << 8 | data[15],\n              maxBitrate: data[16] << 24 | data[17] << 16 | data[18] << 8 | data[19],\n              avgBitrate: data[20] << 24 | data[21] << 16 | data[22] << 8 | data[23],\n              decoderConfigDescriptor: {\n                tag: data[24],\n                length: data[25],\n                audioObjectType: data[26] >>> 3 & 0x1f,\n                samplingFrequencyIndex: (data[26] & 0x07) << 1 | data[27] >>> 7 & 0x01,\n                channelConfiguration: data[27] >>> 3 & 0x0f\n              }\n            }\n          };\n        },\n        ftyp: function ftyp(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            majorBrand: parseType$2(data.subarray(0, 4)),\n            minorVersion: view.getUint32(4),\n            compatibleBrands: []\n          },\n              i = 8;\n\n          while (i < data.byteLength) {\n            result.compatibleBrands.push(parseType$2(data.subarray(i, i + 4)));\n            i += 4;\n          }\n\n          return result;\n        },\n        dinf: function dinf(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        dref: function dref(data) {\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            dataReferences: inspectMp4(data.subarray(8))\n          };\n        },\n        hdlr: function hdlr(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            version: view.getUint8(0),\n            flags: new Uint8Array(data.subarray(1, 4)),\n            handlerType: parseType$2(data.subarray(8, 12)),\n            name: ''\n          },\n              i = 8; // parse out the name field\n\n          for (i = 24; i < data.byteLength; i++) {\n            if (data[i] === 0x00) {\n              // the name field is null-terminated\n              i++;\n              break;\n            }\n\n            result.name += String.fromCharCode(data[i]);\n          } // decode UTF-8 to javascript's internal representation\n          // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\n\n          result.name = decodeURIComponent(escape(result.name));\n          return result;\n        },\n        mdat: function mdat(data) {\n          return {\n            byteLength: data.byteLength,\n            nals: nalParse(data)\n          };\n        },\n        mdhd: function mdhd(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              i = 4,\n              language,\n              result = {\n            version: view.getUint8(0),\n            flags: new Uint8Array(data.subarray(1, 4)),\n            language: ''\n          };\n\n          if (result.version === 1) {\n            i += 4;\n            result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n            i += 8;\n            result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n            i += 4;\n            result.timescale = view.getUint32(i);\n            i += 8;\n            result.duration = view.getUint32(i); // truncating top 4 bytes\n          } else {\n            result.creationTime = parseMp4Date(view.getUint32(i));\n            i += 4;\n            result.modificationTime = parseMp4Date(view.getUint32(i));\n            i += 4;\n            result.timescale = view.getUint32(i);\n            i += 4;\n            result.duration = view.getUint32(i);\n          }\n\n          i += 4; // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n          // each field is the packed difference between its ASCII value and 0x60\n\n          language = view.getUint16(i);\n          result.language += String.fromCharCode((language >> 10) + 0x60);\n          result.language += String.fromCharCode(((language & 0x03e0) >> 5) + 0x60);\n          result.language += String.fromCharCode((language & 0x1f) + 0x60);\n          return result;\n        },\n        mdia: function mdia(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        mfhd: function mfhd(data) {\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            sequenceNumber: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n          };\n        },\n        minf: function minf(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        // codingname, not a first-class box type. stsd entries share the\n        // same format as real boxes so the parsing infrastructure can be\n        // shared\n        mp4a: function mp4a(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            // 6 bytes reserved\n            dataReferenceIndex: view.getUint16(6),\n            // 4 + 4 bytes reserved\n            channelcount: view.getUint16(16),\n            samplesize: view.getUint16(18),\n            // 2 bytes pre_defined\n            // 2 bytes reserved\n            samplerate: view.getUint16(24) + view.getUint16(26) / 65536\n          }; // if there are more bytes to process, assume this is an ISO/IEC\n          // 14496-14 MP4AudioSampleEntry and parse the ESDBox\n\n          if (data.byteLength > 28) {\n            result.streamDescriptor = inspectMp4(data.subarray(28))[0];\n          }\n\n          return result;\n        },\n        moof: function moof(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        moov: function moov(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        mvex: function mvex(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        mvhd: function mvhd(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              i = 4,\n              result = {\n            version: view.getUint8(0),\n            flags: new Uint8Array(data.subarray(1, 4))\n          };\n\n          if (result.version === 1) {\n            i += 4;\n            result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n            i += 8;\n            result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n            i += 4;\n            result.timescale = view.getUint32(i);\n            i += 8;\n            result.duration = view.getUint32(i); // truncating top 4 bytes\n          } else {\n            result.creationTime = parseMp4Date(view.getUint32(i));\n            i += 4;\n            result.modificationTime = parseMp4Date(view.getUint32(i));\n            i += 4;\n            result.timescale = view.getUint32(i);\n            i += 4;\n            result.duration = view.getUint32(i);\n          }\n\n          i += 4; // convert fixed-point, base 16 back to a number\n\n          result.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\n          i += 4;\n          result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n          i += 2;\n          i += 2;\n          i += 2 * 4;\n          result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n          i += 9 * 4;\n          i += 6 * 4;\n          result.nextTrackId = view.getUint32(i);\n          return result;\n        },\n        pdin: function pdin(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n          return {\n            version: view.getUint8(0),\n            flags: new Uint8Array(data.subarray(1, 4)),\n            rate: view.getUint32(4),\n            initialDelay: view.getUint32(8)\n          };\n        },\n        sdtp: function sdtp(data) {\n          var result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            samples: []\n          },\n              i;\n\n          for (i = 4; i < data.byteLength; i++) {\n            result.samples.push({\n              dependsOn: (data[i] & 0x30) >> 4,\n              isDependedOn: (data[i] & 0x0c) >> 2,\n              hasRedundancy: data[i] & 0x03\n            });\n          }\n\n          return result;\n        },\n        sidx: function sidx(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            references: [],\n            referenceId: view.getUint32(4),\n            timescale: view.getUint32(8),\n            earliestPresentationTime: view.getUint32(12),\n            firstOffset: view.getUint32(16)\n          },\n              referenceCount = view.getUint16(22),\n              i;\n\n          for (i = 24; referenceCount; i += 12, referenceCount--) {\n            result.references.push({\n              referenceType: (data[i] & 0x80) >>> 7,\n              referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n              subsegmentDuration: view.getUint32(i + 4),\n              startsWithSap: !!(data[i + 8] & 0x80),\n              sapType: (data[i + 8] & 0x70) >>> 4,\n              sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n            });\n          }\n\n          return result;\n        },\n        smhd: function smhd(data) {\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            balance: data[4] + data[5] / 256\n          };\n        },\n        stbl: function stbl(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        stco: function stco(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            chunkOffsets: []\n          },\n              entryCount = view.getUint32(4),\n              i;\n\n          for (i = 8; entryCount; i += 4, entryCount--) {\n            result.chunkOffsets.push(view.getUint32(i));\n          }\n\n          return result;\n        },\n        stsc: function stsc(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              entryCount = view.getUint32(4),\n              result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            sampleToChunks: []\n          },\n              i;\n\n          for (i = 8; entryCount; i += 12, entryCount--) {\n            result.sampleToChunks.push({\n              firstChunk: view.getUint32(i),\n              samplesPerChunk: view.getUint32(i + 4),\n              sampleDescriptionIndex: view.getUint32(i + 8)\n            });\n          }\n\n          return result;\n        },\n        stsd: function stsd(data) {\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            sampleDescriptions: inspectMp4(data.subarray(8))\n          };\n        },\n        stsz: function stsz(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            sampleSize: view.getUint32(4),\n            entries: []\n          },\n              i;\n\n          for (i = 12; i < data.byteLength; i += 4) {\n            result.entries.push(view.getUint32(i));\n          }\n\n          return result;\n        },\n        stts: function stts(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            timeToSamples: []\n          },\n              entryCount = view.getUint32(4),\n              i;\n\n          for (i = 8; entryCount; i += 8, entryCount--) {\n            result.timeToSamples.push({\n              sampleCount: view.getUint32(i),\n              sampleDelta: view.getUint32(i + 4)\n            });\n          }\n\n          return result;\n        },\n        styp: function styp(data) {\n          return parse$$1.ftyp(data);\n        },\n        tfdt: function tfdt(data) {\n          var result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            baseMediaDecodeTime: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n          };\n\n          if (result.version === 1) {\n            result.baseMediaDecodeTime *= Math.pow(2, 32);\n            result.baseMediaDecodeTime += data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11];\n          }\n\n          return result;\n        },\n        tfhd: function tfhd(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            trackId: view.getUint32(4)\n          },\n              baseDataOffsetPresent = result.flags[2] & 0x01,\n              sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n              defaultSampleDurationPresent = result.flags[2] & 0x08,\n              defaultSampleSizePresent = result.flags[2] & 0x10,\n              defaultSampleFlagsPresent = result.flags[2] & 0x20,\n              durationIsEmpty = result.flags[0] & 0x010000,\n              defaultBaseIsMoof = result.flags[0] & 0x020000,\n              i;\n          i = 8;\n\n          if (baseDataOffsetPresent) {\n            i += 4; // truncate top 4 bytes\n            // FIXME: should we read the full 64 bits?\n\n            result.baseDataOffset = view.getUint32(12);\n            i += 4;\n          }\n\n          if (sampleDescriptionIndexPresent) {\n            result.sampleDescriptionIndex = view.getUint32(i);\n            i += 4;\n          }\n\n          if (defaultSampleDurationPresent) {\n            result.defaultSampleDuration = view.getUint32(i);\n            i += 4;\n          }\n\n          if (defaultSampleSizePresent) {\n            result.defaultSampleSize = view.getUint32(i);\n            i += 4;\n          }\n\n          if (defaultSampleFlagsPresent) {\n            result.defaultSampleFlags = view.getUint32(i);\n          }\n\n          if (durationIsEmpty) {\n            result.durationIsEmpty = true;\n          }\n\n          if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n            result.baseDataOffsetIsMoof = true;\n          }\n\n          return result;\n        },\n        tkhd: function tkhd(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              i = 4,\n              result = {\n            version: view.getUint8(0),\n            flags: new Uint8Array(data.subarray(1, 4))\n          };\n\n          if (result.version === 1) {\n            i += 4;\n            result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n            i += 8;\n            result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n            i += 4;\n            result.trackId = view.getUint32(i);\n            i += 4;\n            i += 8;\n            result.duration = view.getUint32(i); // truncating top 4 bytes\n          } else {\n            result.creationTime = parseMp4Date(view.getUint32(i));\n            i += 4;\n            result.modificationTime = parseMp4Date(view.getUint32(i));\n            i += 4;\n            result.trackId = view.getUint32(i);\n            i += 4;\n            i += 4;\n            result.duration = view.getUint32(i);\n          }\n\n          i += 4;\n          i += 2 * 4;\n          result.layer = view.getUint16(i);\n          i += 2;\n          result.alternateGroup = view.getUint16(i);\n          i += 2; // convert fixed-point, base 16 back to a number\n\n          result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n          i += 2;\n          i += 2;\n          result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n          i += 9 * 4;\n          result.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\n          i += 4;\n          result.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\n          return result;\n        },\n        traf: function traf(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        trak: function trak(data) {\n          return {\n            boxes: inspectMp4(data)\n          };\n        },\n        trex: function trex(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            trackId: view.getUint32(4),\n            defaultSampleDescriptionIndex: view.getUint32(8),\n            defaultSampleDuration: view.getUint32(12),\n            defaultSampleSize: view.getUint32(16),\n            sampleDependsOn: data[20] & 0x03,\n            sampleIsDependedOn: (data[21] & 0xc0) >> 6,\n            sampleHasRedundancy: (data[21] & 0x30) >> 4,\n            samplePaddingValue: (data[21] & 0x0e) >> 1,\n            sampleIsDifferenceSample: !!(data[21] & 0x01),\n            sampleDegradationPriority: view.getUint16(22)\n          };\n        },\n        trun: function trun(data) {\n          var result = {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            samples: []\n          },\n              view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n              // Flag interpretation\n          dataOffsetPresent = result.flags[2] & 0x01,\n              // compare with 2nd byte of 0x1\n          firstSampleFlagsPresent = result.flags[2] & 0x04,\n              // compare with 2nd byte of 0x4\n          sampleDurationPresent = result.flags[1] & 0x01,\n              // compare with 2nd byte of 0x100\n          sampleSizePresent = result.flags[1] & 0x02,\n              // compare with 2nd byte of 0x200\n          sampleFlagsPresent = result.flags[1] & 0x04,\n              // compare with 2nd byte of 0x400\n          sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n              // compare with 2nd byte of 0x800\n          sampleCount = view.getUint32(4),\n              offset = 8,\n              sample;\n\n          if (dataOffsetPresent) {\n            // 32 bit signed integer\n            result.dataOffset = view.getInt32(offset);\n            offset += 4;\n          } // Overrides the flags for the first sample only. The order of\n          // optional values will be: duration, size, compositionTimeOffset\n\n\n          if (firstSampleFlagsPresent && sampleCount) {\n            sample = {\n              flags: parseSampleFlags(data.subarray(offset, offset + 4))\n            };\n            offset += 4;\n\n            if (sampleDurationPresent) {\n              sample.duration = view.getUint32(offset);\n              offset += 4;\n            }\n\n            if (sampleSizePresent) {\n              sample.size = view.getUint32(offset);\n              offset += 4;\n            }\n\n            if (sampleCompositionTimeOffsetPresent) {\n              // Note: this should be a signed int if version is 1\n              sample.compositionTimeOffset = view.getUint32(offset);\n              offset += 4;\n            }\n\n            result.samples.push(sample);\n            sampleCount--;\n          }\n\n          while (sampleCount--) {\n            sample = {};\n\n            if (sampleDurationPresent) {\n              sample.duration = view.getUint32(offset);\n              offset += 4;\n            }\n\n            if (sampleSizePresent) {\n              sample.size = view.getUint32(offset);\n              offset += 4;\n            }\n\n            if (sampleFlagsPresent) {\n              sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n              offset += 4;\n            }\n\n            if (sampleCompositionTimeOffsetPresent) {\n              // Note: this should be a signed int if version is 1\n              sample.compositionTimeOffset = view.getUint32(offset);\n              offset += 4;\n            }\n\n            result.samples.push(sample);\n          }\n\n          return result;\n        },\n        'url ': function url(data) {\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4))\n          };\n        },\n        vmhd: function vmhd(data) {\n          var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n          return {\n            version: data[0],\n            flags: new Uint8Array(data.subarray(1, 4)),\n            graphicsmode: view.getUint16(4),\n            opcolor: new Uint16Array([view.getUint16(6), view.getUint16(8), view.getUint16(10)])\n          };\n        }\n      };\n      /**\n       * Return a javascript array of box objects parsed from an ISO base\n       * media file.\n       * @param data {Uint8Array} the binary data of the media to be inspected\n       * @return {array} a javascript array of potentially nested box objects\n       */\n\n\n      inspectMp4 = function inspectMp4(data) {\n        var i = 0,\n            result = [],\n            view,\n            size,\n            type,\n            end,\n            box; // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\n\n        var ab = new ArrayBuffer(data.length);\n        var v = new Uint8Array(ab);\n\n        for (var z = 0; z < data.length; ++z) {\n          v[z] = data[z];\n        }\n\n        view = new DataView(ab);\n\n        while (i < data.byteLength) {\n          // parse box data\n          size = view.getUint32(i);\n          type = parseType$2(data.subarray(i + 4, i + 8));\n          end = size > 1 ? i + size : data.byteLength; // parse type-specific data\n\n          box = (parse$$1[type] || function (data) {\n            return {\n              data: data\n            };\n          })(data.subarray(i + 8, end));\n\n          box.size = size;\n          box.type = type; // store this box and move to the next\n\n          result.push(box);\n          i = end;\n        }\n\n        return result;\n      };\n      /**\n       * Returns a textual representation of the javascript represtentation\n       * of an MP4 file. You can use it as an alternative to\n       * JSON.stringify() to compare inspected MP4s.\n       * @param inspectedMp4 {array} the parsed array of boxes in an MP4\n       * file\n       * @param depth {number} (optional) the number of ancestor boxes of\n       * the elements of inspectedMp4. Assumed to be zero if unspecified.\n       * @return {string} a text representation of the parsed MP4\n       */\n\n\n      _textifyMp = function textifyMp4(inspectedMp4, depth) {\n        var indent;\n        depth = depth || 0;\n        indent = new Array(depth * 2 + 1).join(' '); // iterate over all the boxes\n\n        return inspectedMp4.map(function (box, index) {\n          // list the box type first at the current indentation level\n          return indent + box.type + '\\n' + // the type is already included and handle child boxes separately\n          Object.keys(box).filter(function (key) {\n            return key !== 'type' && key !== 'boxes'; // output all the box properties\n          }).map(function (key) {\n            var prefix = indent + '  ' + key + ': ',\n                value = box[key]; // print out raw bytes as hexademical\n\n            if (value instanceof Uint8Array || value instanceof Uint32Array) {\n              var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength)).map(function (byte) {\n                return ' ' + ('00' + byte.toString(16)).slice(-2);\n              }).join('').match(/.{1,24}/g);\n\n              if (!bytes) {\n                return prefix + '<>';\n              }\n\n              if (bytes.length === 1) {\n                return prefix + '<' + bytes.join('').slice(1) + '>';\n              }\n\n              return prefix + '<\\n' + bytes.map(function (line) {\n                return indent + '  ' + line;\n              }).join('\\n') + '\\n' + indent + '  >';\n            } // stringify generic objects\n\n\n            return prefix + JSON.stringify(value, null, 2).split('\\n').map(function (line, index) {\n              if (index === 0) {\n                return line;\n              }\n\n              return indent + '  ' + line;\n            }).join('\\n');\n          }).join('\\n') + ( // recursively textify the child boxes\n          box.boxes ? '\\n' + _textifyMp(box.boxes, depth + 1) : '');\n        }).join('\\n');\n      };\n\n      var mp4Inspector = {\n        inspect: inspectMp4,\n        textify: _textifyMp,\n        parseTfdt: parse$$1.tfdt,\n        parseHdlr: parse$$1.hdlr,\n        parseTfhd: parse$$1.tfhd,\n        parseTrun: parse$$1.trun,\n        parseSidx: parse$$1.sidx\n      };\n      var discardEmulationPreventionBytes$1 = captionPacketParser.discardEmulationPreventionBytes;\n      var CaptionStream$1 = captionStream.CaptionStream;\n      /**\n        * Maps an offset in the mdat to a sample based on the the size of the samples.\n        * Assumes that `parseSamples` has been called first.\n        *\n        * @param {Number} offset - The offset into the mdat\n        * @param {Object[]} samples - An array of samples, parsed using `parseSamples`\n        * @return {?Object} The matching sample, or null if no match was found.\n        *\n        * @see ISO-BMFF-12/2015, Section 8.8.8\n       **/\n\n      var mapToSample = function mapToSample(offset, samples) {\n        var approximateOffset = offset;\n\n        for (var i = 0; i < samples.length; i++) {\n          var sample = samples[i];\n\n          if (approximateOffset < sample.size) {\n            return sample;\n          }\n\n          approximateOffset -= sample.size;\n        }\n\n        return null;\n      };\n      /**\n        * Finds SEI nal units contained in a Media Data Box.\n        * Assumes that `parseSamples` has been called first.\n        *\n        * @param {Uint8Array} avcStream - The bytes of the mdat\n        * @param {Object[]} samples - The samples parsed out by `parseSamples`\n        * @param {Number} trackId - The trackId of this video track\n        * @return {Object[]} seiNals - the parsed SEI NALUs found.\n        *   The contents of the seiNal should match what is expected by\n        *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)\n        *\n        * @see ISO-BMFF-12/2015, Section 8.1.1\n        * @see Rec. ITU-T H.264, 7.3.2.3.1\n       **/\n\n\n      var findSeiNals = function findSeiNals(avcStream, samples, trackId) {\n        var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n            result = [],\n            seiNal,\n            i,\n            length,\n            lastMatchedSample;\n\n        for (i = 0; i + 4 < avcStream.length; i += length) {\n          length = avcView.getUint32(i);\n          i += 4; // Bail if this doesn't appear to be an H264 stream\n\n          if (length <= 0) {\n            continue;\n          }\n\n          switch (avcStream[i] & 0x1F) {\n            case 0x06:\n              var data = avcStream.subarray(i + 1, i + 1 + length);\n              var matchingSample = mapToSample(i, samples);\n              seiNal = {\n                nalUnitType: 'sei_rbsp',\n                size: length,\n                data: data,\n                escapedRBSP: discardEmulationPreventionBytes$1(data),\n                trackId: trackId\n              };\n\n              if (matchingSample) {\n                seiNal.pts = matchingSample.pts;\n                seiNal.dts = matchingSample.dts;\n                lastMatchedSample = matchingSample;\n              } else {\n                // If a matching sample cannot be found, use the last\n                // sample's values as they should be as close as possible\n                seiNal.pts = lastMatchedSample.pts;\n                seiNal.dts = lastMatchedSample.dts;\n              }\n\n              result.push(seiNal);\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        return result;\n      };\n      /**\n        * Parses sample information out of Track Run Boxes and calculates\n        * the absolute presentation and decode timestamps of each sample.\n        *\n        * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed\n        * @param {Number} baseMediaDecodeTime - base media decode time from tfdt\n            @see ISO-BMFF-12/2015, Section 8.8.12\n        * @param {Object} tfhd - The parsed Track Fragment Header\n        *   @see inspect.parseTfhd\n        * @return {Object[]} the parsed samples\n        *\n        * @see ISO-BMFF-12/2015, Section 8.8.8\n       **/\n\n\n      var parseSamples = function parseSamples(truns, baseMediaDecodeTime, tfhd) {\n        var currentDts = baseMediaDecodeTime;\n        var defaultSampleDuration = tfhd.defaultSampleDuration || 0;\n        var defaultSampleSize = tfhd.defaultSampleSize || 0;\n        var trackId = tfhd.trackId;\n        var allSamples = [];\n        truns.forEach(function (trun) {\n          // Note: We currently do not parse the sample table as well\n          // as the trun. It's possible some sources will require this.\n          // moov > trak > mdia > minf > stbl\n          var trackRun = mp4Inspector.parseTrun(trun);\n          var samples = trackRun.samples;\n          samples.forEach(function (sample) {\n            if (sample.duration === undefined) {\n              sample.duration = defaultSampleDuration;\n            }\n\n            if (sample.size === undefined) {\n              sample.size = defaultSampleSize;\n            }\n\n            sample.trackId = trackId;\n            sample.dts = currentDts;\n\n            if (sample.compositionTimeOffset === undefined) {\n              sample.compositionTimeOffset = 0;\n            }\n\n            sample.pts = currentDts + sample.compositionTimeOffset;\n            currentDts += sample.duration;\n          });\n          allSamples = allSamples.concat(samples);\n        });\n        return allSamples;\n      };\n      /**\n        * Parses out caption nals from an FMP4 segment's video tracks.\n        *\n        * @param {Uint8Array} segment - The bytes of a single segment\n        * @param {Number} videoTrackId - The trackId of a video track in the segment\n        * @return {Object.<Number, Object[]>} A mapping of video trackId to\n        *   a list of seiNals found in that track\n       **/\n\n\n      var parseCaptionNals = function parseCaptionNals(segment, videoTrackId) {\n        // To get the samples\n        var trafs = probe$$1.findBox(segment, ['moof', 'traf']); // To get SEI NAL units\n\n        var mdats = probe$$1.findBox(segment, ['mdat']);\n        var captionNals = {};\n        var mdatTrafPairs = []; // Pair up each traf with a mdat as moofs and mdats are in pairs\n\n        mdats.forEach(function (mdat, index) {\n          var matchingTraf = trafs[index];\n          mdatTrafPairs.push({\n            mdat: mdat,\n            traf: matchingTraf\n          });\n        });\n        mdatTrafPairs.forEach(function (pair) {\n          var mdat = pair.mdat;\n          var traf = pair.traf;\n          var tfhd = probe$$1.findBox(traf, ['tfhd']); // Exactly 1 tfhd per traf\n\n          var headerInfo = mp4Inspector.parseTfhd(tfhd[0]);\n          var trackId = headerInfo.trackId;\n          var tfdt = probe$$1.findBox(traf, ['tfdt']); // Either 0 or 1 tfdt per traf\n\n          var baseMediaDecodeTime = tfdt.length > 0 ? mp4Inspector.parseTfdt(tfdt[0]).baseMediaDecodeTime : 0;\n          var truns = probe$$1.findBox(traf, ['trun']);\n          var samples;\n          var seiNals; // Only parse video data for the chosen video track\n\n          if (videoTrackId === trackId && truns.length > 0) {\n            samples = parseSamples(truns, baseMediaDecodeTime, headerInfo);\n            seiNals = findSeiNals(mdat, samples, trackId);\n\n            if (!captionNals[trackId]) {\n              captionNals[trackId] = [];\n            }\n\n            captionNals[trackId] = captionNals[trackId].concat(seiNals);\n          }\n        });\n        return captionNals;\n      };\n      /**\n        * Parses out inband captions from an MP4 container and returns\n        * caption objects that can be used by WebVTT and the TextTrack API.\n        * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue\n        * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\n        * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first\n        *\n        * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n        * @param {Number} trackId - The id of the video track to parse\n        * @param {Number} timescale - The timescale for the video track from the init segment\n        *\n        * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks\n        * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds\n        * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds\n        * @return {String} parsedCaptions[].text - The visible content of the caption\n       **/\n\n\n      var parseEmbeddedCaptions = function parseEmbeddedCaptions(segment, trackId, timescale) {\n        var seiNals;\n\n        if (!trackId) {\n          return null;\n        }\n\n        seiNals = parseCaptionNals(segment, trackId);\n        return {\n          seiNals: seiNals[trackId],\n          timescale: timescale\n        };\n      };\n      /**\n        * Converts SEI NALUs into captions that can be used by video.js\n       **/\n\n\n      var CaptionParser$$1 = function CaptionParser$$1() {\n        var isInitialized = false;\n        var captionStream$$1; // Stores segments seen before trackId and timescale are set\n\n        var segmentCache; // Stores video track ID of the track being parsed\n\n        var trackId; // Stores the timescale of the track being parsed\n\n        var timescale; // Stores captions parsed so far\n\n        var parsedCaptions;\n        /**\n          * A method to indicate whether a CaptionParser has been initalized\n          * @returns {Boolean}\n         **/\n\n        this.isInitialized = function () {\n          return isInitialized;\n        };\n        /**\n          * Initializes the underlying CaptionStream, SEI NAL parsing\n          * and management, and caption collection\n         **/\n\n\n        this.init = function () {\n          captionStream$$1 = new CaptionStream$1();\n          isInitialized = true; // Collect dispatched captions\n\n          captionStream$$1.on('data', function (event) {\n            // Convert to seconds in the source's timescale\n            event.startTime = event.startPts / timescale;\n            event.endTime = event.endPts / timescale;\n            parsedCaptions.captions.push(event);\n            parsedCaptions.captionStreams[event.stream] = true;\n          });\n        };\n        /**\n          * Determines if a new video track will be selected\n          * or if the timescale changed\n          * @return {Boolean}\n         **/\n\n\n        this.isNewInit = function (videoTrackIds, timescales) {\n          if (videoTrackIds && videoTrackIds.length === 0 || timescales && typeof timescales === 'object' && Object.keys(timescales).length === 0) {\n            return false;\n          }\n\n          return trackId !== videoTrackIds[0] || timescale !== timescales[trackId];\n        };\n        /**\n          * Parses out SEI captions and interacts with underlying\n          * CaptionStream to return dispatched captions\n          *\n          * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n          * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment\n          * @param {Object.<Number, Number>} timescales - The timescales found in the init segment\n          * @see parseEmbeddedCaptions\n          * @see m2ts/caption-stream.js\n         **/\n\n\n        this.parse = function (segment, videoTrackIds, timescales) {\n          var parsedData;\n\n          if (!this.isInitialized()) {\n            return null; // This is not likely to be a video segment\n          } else if (!videoTrackIds || !timescales) {\n            return null;\n          } else if (this.isNewInit(videoTrackIds, timescales)) {\n            // Use the first video track only as there is no\n            // mechanism to switch to other video tracks\n            trackId = videoTrackIds[0];\n            timescale = timescales[trackId]; // If an init segment has not been seen yet, hold onto segment\n            // data until we have one\n          } else if (!trackId || !timescale) {\n            segmentCache.push(segment);\n            return null;\n          } // Now that a timescale and trackId is set, parse cached segments\n\n\n          while (segmentCache.length > 0) {\n            var cachedSegment = segmentCache.shift();\n            this.parse(cachedSegment, videoTrackIds, timescales);\n          }\n\n          parsedData = parseEmbeddedCaptions(segment, trackId, timescale);\n\n          if (parsedData === null || !parsedData.seiNals) {\n            return null;\n          }\n\n          this.pushNals(parsedData.seiNals); // Force the parsed captions to be dispatched\n\n          this.flushStream();\n          return parsedCaptions;\n        };\n        /**\n          * Pushes SEI NALUs onto CaptionStream\n          * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`\n          * Assumes that `parseCaptionNals` has been called first\n          * @see m2ts/caption-stream.js\n          **/\n\n\n        this.pushNals = function (nals) {\n          if (!this.isInitialized() || !nals || nals.length === 0) {\n            return null;\n          }\n\n          nals.forEach(function (nal) {\n            captionStream$$1.push(nal);\n          });\n        };\n        /**\n          * Flushes underlying CaptionStream to dispatch processed, displayable captions\n          * @see m2ts/caption-stream.js\n         **/\n\n\n        this.flushStream = function () {\n          if (!this.isInitialized()) {\n            return null;\n          }\n\n          captionStream$$1.flush();\n        };\n        /**\n          * Reset caption buckets for new data\n         **/\n\n\n        this.clearParsedCaptions = function () {\n          parsedCaptions.captions = [];\n          parsedCaptions.captionStreams = {};\n        };\n        /**\n          * Resets underlying CaptionStream\n          * @see m2ts/caption-stream.js\n         **/\n\n\n        this.resetCaptionStream = function () {\n          if (!this.isInitialized()) {\n            return null;\n          }\n\n          captionStream$$1.reset();\n        };\n        /**\n          * Convenience method to clear all captions flushed from the\n          * CaptionStream and still being parsed\n          * @see m2ts/caption-stream.js\n         **/\n\n\n        this.clearAllCaptions = function () {\n          this.clearParsedCaptions();\n          this.resetCaptionStream();\n        };\n        /**\n          * Reset caption parser\n         **/\n\n\n        this.reset = function () {\n          segmentCache = [];\n          trackId = null;\n          timescale = null;\n\n          if (!parsedCaptions) {\n            parsedCaptions = {\n              captions: [],\n              // CC1, CC2, CC3, CC4\n              captionStreams: {}\n            };\n          } else {\n            this.clearParsedCaptions();\n          }\n\n          this.resetCaptionStream();\n        };\n\n        this.reset();\n      };\n\n      var captionParser = CaptionParser$$1;\n      var mp4$$1 = {\n        generator: mp4Generator,\n        probe: probe$$1,\n        Transmuxer: transmuxer.Transmuxer,\n        AudioSegmentStream: transmuxer.AudioSegmentStream,\n        VideoSegmentStream: transmuxer.VideoSegmentStream,\n        CaptionParser: captionParser\n      };\n\n      var classCallCheck = function classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      };\n\n      var createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n      /**\n       * @file transmuxer-worker.js\n       */\n\n      /**\n       * Re-emits transmuxer events by converting them into messages to the\n       * world outside the worker.\n       *\n       * @param {Object} transmuxer the transmuxer to wire events on\n       * @private\n       */\n\n\n      var wireTransmuxerEvents = function wireTransmuxerEvents(self, transmuxer) {\n        transmuxer.on('data', function (segment) {\n          // transfer ownership of the underlying ArrayBuffer\n          // instead of doing a copy to save memory\n          // ArrayBuffers are transferable but generic TypedArrays are not\n          // @link https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers#Passing_data_by_transferring_ownership_(transferable_objects)\n          var initArray = segment.initSegment;\n          segment.initSegment = {\n            data: initArray.buffer,\n            byteOffset: initArray.byteOffset,\n            byteLength: initArray.byteLength\n          };\n          var typedArray = segment.data;\n          segment.data = typedArray.buffer;\n          self.postMessage({\n            action: 'data',\n            segment: segment,\n            byteOffset: typedArray.byteOffset,\n            byteLength: typedArray.byteLength\n          }, [segment.data]);\n        });\n\n        if (transmuxer.captionStream) {\n          transmuxer.captionStream.on('data', function (caption) {\n            self.postMessage({\n              action: 'caption',\n              data: caption\n            });\n          });\n        }\n\n        transmuxer.on('done', function (data) {\n          self.postMessage({\n            action: 'done'\n          });\n        });\n        transmuxer.on('gopInfo', function (gopInfo) {\n          self.postMessage({\n            action: 'gopInfo',\n            gopInfo: gopInfo\n          });\n        });\n        transmuxer.on('videoSegmentTimingInfo', function (videoSegmentTimingInfo) {\n          self.postMessage({\n            action: 'videoSegmentTimingInfo',\n            videoSegmentTimingInfo: videoSegmentTimingInfo\n          });\n        });\n      };\n      /**\n       * All incoming messages route through this hash. If no function exists\n       * to handle an incoming message, then we ignore the message.\n       *\n       * @class MessageHandlers\n       * @param {Object} options the options to initialize with\n       */\n\n\n      var MessageHandlers = function () {\n        function MessageHandlers(self, options) {\n          classCallCheck(this, MessageHandlers);\n          this.options = options || {};\n          this.self = self;\n          this.init();\n        }\n        /**\n         * initialize our web worker and wire all the events.\n         */\n\n\n        createClass(MessageHandlers, [{\n          key: 'init',\n          value: function init() {\n            if (this.transmuxer) {\n              this.transmuxer.dispose();\n            }\n\n            this.transmuxer = new mp4$$1.Transmuxer(this.options);\n            wireTransmuxerEvents(this.self, this.transmuxer);\n          }\n          /**\n           * Adds data (a ts segment) to the start of the transmuxer pipeline for\n           * processing.\n           *\n           * @param {ArrayBuffer} data data to push into the muxer\n           */\n\n        }, {\n          key: 'push',\n          value: function push(data) {\n            // Cast array buffer to correct type for transmuxer\n            var segment = new Uint8Array(data.data, data.byteOffset, data.byteLength);\n            this.transmuxer.push(segment);\n          }\n          /**\n           * Recreate the transmuxer so that the next segment added via `push`\n           * start with a fresh transmuxer.\n           */\n\n        }, {\n          key: 'reset',\n          value: function reset() {\n            this.init();\n          }\n          /**\n           * Set the value that will be used as the `baseMediaDecodeTime` time for the\n           * next segment pushed in. Subsequent segments will have their `baseMediaDecodeTime`\n           * set relative to the first based on the PTS values.\n           *\n           * @param {Object} data used to set the timestamp offset in the muxer\n           */\n\n        }, {\n          key: 'setTimestampOffset',\n          value: function setTimestampOffset(data) {\n            var timestampOffset = data.timestampOffset || 0;\n            this.transmuxer.setBaseMediaDecodeTime(Math.round(timestampOffset * 90000));\n          }\n        }, {\n          key: 'setAudioAppendStart',\n          value: function setAudioAppendStart(data) {\n            this.transmuxer.setAudioAppendStart(Math.ceil(data.appendStart * 90000));\n          }\n          /**\n           * Forces the pipeline to finish processing the last segment and emit it's\n           * results.\n           *\n           * @param {Object} data event data, not really used\n           */\n\n        }, {\n          key: 'flush',\n          value: function flush(data) {\n            this.transmuxer.flush();\n          }\n        }, {\n          key: 'resetCaptions',\n          value: function resetCaptions() {\n            this.transmuxer.resetCaptions();\n          }\n        }, {\n          key: 'alignGopsWith',\n          value: function alignGopsWith(data) {\n            this.transmuxer.alignGopsWith(data.gopsToAlignWith.slice());\n          }\n        }]);\n        return MessageHandlers;\n      }();\n      /**\n       * Our web wroker interface so that things can talk to mux.js\n       * that will be running in a web worker. the scope is passed to this by\n       * webworkify.\n       *\n       * @param {Object} self the scope for the web worker\n       */\n\n\n      var TransmuxerWorker = function TransmuxerWorker(self) {\n        self.onmessage = function (event) {\n          if (event.data.action === 'init' && event.data.options) {\n            this.messageHandlers = new MessageHandlers(self, event.data.options);\n            return;\n          }\n\n          if (!this.messageHandlers) {\n            this.messageHandlers = new MessageHandlers(self);\n          }\n\n          if (event.data && event.data.action && event.data.action !== 'init') {\n            if (this.messageHandlers[event.data.action]) {\n              this.messageHandlers[event.data.action](event.data);\n            }\n          }\n        };\n      };\n\n      var transmuxerWorker = new TransmuxerWorker(self);\n      return transmuxerWorker;\n    }();\n  });\n  /**\n   * @file - codecs.js - Handles tasks regarding codec strings such as translating them to\n   * codec strings, or translating codec strings into objects that can be examined.\n   */\n  // Default codec parameters if none were provided for video and/or audio\n\n  var defaultCodecs = {\n    videoCodec: 'avc1',\n    videoObjectTypeIndicator: '.4d400d',\n    // AAC-LC\n    audioProfile: '2'\n  };\n  /**\n   * Replace the old apple-style `avc1.<dd>.<dd>` codec string with the standard\n   * `avc1.<hhhhhh>`\n   *\n   * @param {Array} codecs an array of codec strings to fix\n   * @return {Array} the translated codec array\n   * @private\n   */\n\n  var translateLegacyCodecs = function translateLegacyCodecs(codecs) {\n    return codecs.map(function (codec) {\n      return codec.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (orig, profile, avcLevel) {\n        var profileHex = ('00' + Number(profile).toString(16)).slice(-2);\n        var avcLevelHex = ('00' + Number(avcLevel).toString(16)).slice(-2);\n        return 'avc1.' + profileHex + '00' + avcLevelHex;\n      });\n    });\n  };\n  /**\n   * Parses a codec string to retrieve the number of codecs specified,\n   * the video codec and object type indicator, and the audio profile.\n   */\n\n\n  var parseCodecs = function parseCodecs() {\n    var codecs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    var result = {\n      codecCount: 0\n    };\n    var parsed = void 0;\n    result.codecCount = codecs.split(',').length;\n    result.codecCount = result.codecCount || 2; // parse the video codec\n\n    parsed = /(^|\\s|,)+(avc[13])([^ ,]*)/i.exec(codecs);\n\n    if (parsed) {\n      result.videoCodec = parsed[2];\n      result.videoObjectTypeIndicator = parsed[3];\n    } // parse the last field of the audio codec\n\n\n    result.audioProfile = /(^|\\s|,)+mp4a.[0-9A-Fa-f]+\\.([0-9A-Fa-f]+)/i.exec(codecs);\n    result.audioProfile = result.audioProfile && result.audioProfile[2];\n    return result;\n  };\n  /**\n   * Replace codecs in the codec string with the old apple-style `avc1.<dd>.<dd>` to the\n   * standard `avc1.<hhhhhh>`.\n   *\n   * @param codecString {String} the codec string\n   * @return {String} the codec string with old apple-style codecs replaced\n   *\n   * @private\n   */\n\n\n  var mapLegacyAvcCodecs = function mapLegacyAvcCodecs(codecString) {\n    return codecString.replace(/avc1\\.(\\d+)\\.(\\d+)/i, function (match) {\n      return translateLegacyCodecs([match])[0];\n    });\n  };\n  /**\n   * Build a media mime-type string from a set of parameters\n   * @param {String} type either 'audio' or 'video'\n   * @param {String} container either 'mp2t' or 'mp4'\n   * @param {Array} codecs an array of codec strings to add\n   * @return {String} a valid media mime-type\n   */\n\n\n  var makeMimeTypeString = function makeMimeTypeString(type, container, codecs) {\n    // The codecs array is filtered so that falsey values are\n    // dropped and don't cause Array#join to create spurious\n    // commas\n    return type + '/' + container + '; codecs=\"' + codecs.filter(function (c) {\n      return !!c;\n    }).join(', ') + '\"';\n  };\n  /**\n   * Returns the type container based on information in the playlist\n   * @param {Playlist} media the current media playlist\n   * @return {String} a valid media container type\n   */\n\n\n  var getContainerType = function getContainerType(media) {\n    // An initialization segment means the media playlist is an iframe\n    // playlist or is using the mp4 container. We don't currently\n    // support iframe playlists, so assume this is signalling mp4\n    // fragments.\n    if (media.segments && media.segments.length && media.segments[0].map) {\n      return 'mp4';\n    }\n\n    return 'mp2t';\n  };\n  /**\n   * Returns a set of codec strings parsed from the playlist or the default\n   * codec strings if no codecs were specified in the playlist\n   * @param {Playlist} media the current media playlist\n   * @return {Object} an object with the video and audio codecs\n   */\n\n\n  var getCodecs = function getCodecs(media) {\n    // if the codecs were explicitly specified, use them instead of the\n    // defaults\n    var mediaAttributes = media.attributes || {};\n\n    if (mediaAttributes.CODECS) {\n      return parseCodecs(mediaAttributes.CODECS);\n    }\n\n    return defaultCodecs;\n  };\n\n  var audioProfileFromDefault = function audioProfileFromDefault(master, audioGroupId) {\n    if (!master.mediaGroups.AUDIO || !audioGroupId) {\n      return null;\n    }\n\n    var audioGroup = master.mediaGroups.AUDIO[audioGroupId];\n\n    if (!audioGroup) {\n      return null;\n    }\n\n    for (var name in audioGroup) {\n      var audioType = audioGroup[name];\n\n      if (audioType.default && audioType.playlists) {\n        // codec should be the same for all playlists within the audio type\n        return parseCodecs(audioType.playlists[0].attributes.CODECS).audioProfile;\n      }\n    }\n\n    return null;\n  };\n  /**\n   * Calculates the MIME type strings for a working configuration of\n   * SourceBuffers to play variant streams in a master playlist. If\n   * there is no possible working configuration, an empty array will be\n   * returned.\n   *\n   * @param master {Object} the m3u8 object for the master playlist\n   * @param media {Object} the m3u8 object for the variant playlist\n   * @return {Array} the MIME type strings. If the array has more than\n   * one entry, the first element should be applied to the video\n   * SourceBuffer and the second to the audio SourceBuffer.\n   *\n   * @private\n   */\n\n\n  var mimeTypesForPlaylist = function mimeTypesForPlaylist(master, media) {\n    var containerType = getContainerType(media);\n    var codecInfo = getCodecs(media);\n    var mediaAttributes = media.attributes || {}; // Default condition for a traditional HLS (no demuxed audio/video)\n\n    var isMuxed = true;\n    var isMaat = false;\n\n    if (!media) {\n      // Not enough information\n      return [];\n    }\n\n    if (master.mediaGroups.AUDIO && mediaAttributes.AUDIO) {\n      var audioGroup = master.mediaGroups.AUDIO[mediaAttributes.AUDIO]; // Handle the case where we are in a multiple-audio track scenario\n\n      if (audioGroup) {\n        isMaat = true; // Start with the everything demuxed then...\n\n        isMuxed = false; // ...check to see if any audio group tracks are muxed (ie. lacking a uri)\n\n        for (var groupId in audioGroup) {\n          // either a uri is present (if the case of HLS and an external playlist), or\n          // playlists is present (in the case of DASH where we don't have external audio\n          // playlists)\n          if (!audioGroup[groupId].uri && !audioGroup[groupId].playlists) {\n            isMuxed = true;\n            break;\n          }\n        }\n      }\n    } // HLS with multiple-audio tracks must always get an audio codec.\n    // Put another way, there is no way to have a video-only multiple-audio HLS!\n\n\n    if (isMaat && !codecInfo.audioProfile) {\n      if (!isMuxed) {\n        // It is possible for codecs to be specified on the audio media group playlist but\n        // not on the rendition playlist. This is mostly the case for DASH, where audio and\n        // video are always separate (and separately specified).\n        codecInfo.audioProfile = audioProfileFromDefault(master, mediaAttributes.AUDIO);\n      }\n\n      if (!codecInfo.audioProfile) {\n        videojs$1.log.warn('Multiple audio tracks present but no audio codec string is specified. ' + 'Attempting to use the default audio codec (mp4a.40.2)');\n        codecInfo.audioProfile = defaultCodecs.audioProfile;\n      }\n    } // Generate the final codec strings from the codec object generated above\n\n\n    var codecStrings = {};\n\n    if (codecInfo.videoCodec) {\n      codecStrings.video = '' + codecInfo.videoCodec + codecInfo.videoObjectTypeIndicator;\n    }\n\n    if (codecInfo.audioProfile) {\n      codecStrings.audio = 'mp4a.40.' + codecInfo.audioProfile;\n    } // Finally, make and return an array with proper mime-types depending on\n    // the configuration\n\n\n    var justAudio = makeMimeTypeString('audio', containerType, [codecStrings.audio]);\n    var justVideo = makeMimeTypeString('video', containerType, [codecStrings.video]);\n    var bothVideoAudio = makeMimeTypeString('video', containerType, [codecStrings.video, codecStrings.audio]);\n\n    if (isMaat) {\n      if (!isMuxed && codecStrings.video) {\n        return [justVideo, justAudio];\n      }\n\n      if (!isMuxed && !codecStrings.video) {\n        // There is no muxed content and no video codec string, so this is an audio only\n        // stream with alternate audio.\n        return [justAudio, justAudio];\n      } // There exists the possiblity that this will return a `video/container`\n      // mime-type for the first entry in the array even when there is only audio.\n      // This doesn't appear to be a problem and simplifies the code.\n\n\n      return [bothVideoAudio, justAudio];\n    } // If there is no video codec at all, always just return a single\n    // audio/<container> mime-type\n\n\n    if (!codecStrings.video) {\n      return [justAudio];\n    } // When not using separate audio media groups, audio and video is\n    // *always* muxed\n\n\n    return [bothVideoAudio];\n  };\n  /**\n   * Parse a content type header into a type and parameters\n   * object\n   *\n   * @param {String} type the content type header\n   * @return {Object} the parsed content-type\n   * @private\n   */\n\n\n  var parseContentType = function parseContentType(type) {\n    var object = {\n      type: '',\n      parameters: {}\n    };\n    var parameters = type.trim().split(';'); // first parameter should always be content-type\n\n    object.type = parameters.shift().trim();\n    parameters.forEach(function (parameter) {\n      var pair = parameter.trim().split('=');\n\n      if (pair.length > 1) {\n        var name = pair[0].replace(/\"/g, '').trim();\n        var value = pair[1].replace(/\"/g, '').trim();\n        object.parameters[name] = value;\n      }\n    });\n    return object;\n  };\n  /**\n   * Check if a codec string refers to an audio codec.\n   *\n   * @param {String} codec codec string to check\n   * @return {Boolean} if this is an audio codec\n   * @private\n   */\n\n\n  var isAudioCodec = function isAudioCodec(codec) {\n    return /mp4a\\.\\d+.\\d+/i.test(codec);\n  };\n  /**\n   * Check if a codec string refers to a video codec.\n   *\n   * @param {String} codec codec string to check\n   * @return {Boolean} if this is a video codec\n   * @private\n   */\n\n\n  var isVideoCodec = function isVideoCodec(codec) {\n    return /avc1\\.[\\da-f]+/i.test(codec);\n  };\n  /**\n   * Returns a list of gops in the buffer that have a pts value of 3 seconds or more in\n   * front of current time.\n   *\n   * @param {Array} buffer\n   *        The current buffer of gop information\n   * @param {Number} currentTime\n   *        The current time\n   * @param {Double} mapping\n   *        Offset to map display time to stream presentation time\n   * @return {Array}\n   *         List of gops considered safe to append over\n   */\n\n\n  var gopsSafeToAlignWith = function gopsSafeToAlignWith(buffer, currentTime, mapping) {\n    if (typeof currentTime === 'undefined' || currentTime === null || !buffer.length) {\n      return [];\n    } // pts value for current time + 3 seconds to give a bit more wiggle room\n\n\n    var currentTimePts = Math.ceil((currentTime - mapping + 3) * 90000);\n    var i = void 0;\n\n    for (i = 0; i < buffer.length; i++) {\n      if (buffer[i].pts > currentTimePts) {\n        break;\n      }\n    }\n\n    return buffer.slice(i);\n  };\n  /**\n   * Appends gop information (timing and byteLength) received by the transmuxer for the\n   * gops appended in the last call to appendBuffer\n   *\n   * @param {Array} buffer\n   *        The current buffer of gop information\n   * @param {Array} gops\n   *        List of new gop information\n   * @param {boolean} replace\n   *        If true, replace the buffer with the new gop information. If false, append the\n   *        new gop information to the buffer in the right location of time.\n   * @return {Array}\n   *         Updated list of gop information\n   */\n\n\n  var updateGopBuffer = function updateGopBuffer(buffer, gops, replace) {\n    if (!gops.length) {\n      return buffer;\n    }\n\n    if (replace) {\n      // If we are in safe append mode, then completely overwrite the gop buffer\n      // with the most recent appeneded data. This will make sure that when appending\n      // future segments, we only try to align with gops that are both ahead of current\n      // time and in the last segment appended.\n      return gops.slice();\n    }\n\n    var start = gops[0].pts;\n    var i = 0;\n\n    for (i; i < buffer.length; i++) {\n      if (buffer[i].pts >= start) {\n        break;\n      }\n    }\n\n    return buffer.slice(0, i).concat(gops);\n  };\n  /**\n   * Removes gop information in buffer that overlaps with provided start and end\n   *\n   * @param {Array} buffer\n   *        The current buffer of gop information\n   * @param {Double} start\n   *        position to start the remove at\n   * @param {Double} end\n   *        position to end the remove at\n   * @param {Double} mapping\n   *        Offset to map display time to stream presentation time\n   */\n\n\n  var removeGopBuffer = function removeGopBuffer(buffer, start, end, mapping) {\n    var startPts = Math.ceil((start - mapping) * 90000);\n    var endPts = Math.ceil((end - mapping) * 90000);\n    var updatedBuffer = buffer.slice();\n    var i = buffer.length;\n\n    while (i--) {\n      if (buffer[i].pts <= endPts) {\n        break;\n      }\n    }\n\n    if (i === -1) {\n      // no removal because end of remove range is before start of buffer\n      return updatedBuffer;\n    }\n\n    var j = i + 1;\n\n    while (j--) {\n      if (buffer[j].pts <= startPts) {\n        break;\n      }\n    } // clamp remove range start to 0 index\n\n\n    j = Math.max(j, 0);\n    updatedBuffer.splice(j, i - j + 1);\n    return updatedBuffer;\n  };\n\n  var buffered = function buffered(videoBuffer, audioBuffer, audioDisabled) {\n    var start = null;\n    var end = null;\n    var arity = 0;\n    var extents = [];\n    var ranges = []; // neither buffer has been created yet\n\n    if (!videoBuffer && !audioBuffer) {\n      return videojs$1.createTimeRange();\n    } // only one buffer is configured\n\n\n    if (!videoBuffer) {\n      return audioBuffer.buffered;\n    }\n\n    if (!audioBuffer) {\n      return videoBuffer.buffered;\n    } // both buffers are configured\n\n\n    if (audioDisabled) {\n      return videoBuffer.buffered;\n    } // both buffers are empty\n\n\n    if (videoBuffer.buffered.length === 0 && audioBuffer.buffered.length === 0) {\n      return videojs$1.createTimeRange();\n    } // Handle the case where we have both buffers and create an\n    // intersection of the two\n\n\n    var videoBuffered = videoBuffer.buffered;\n    var audioBuffered = audioBuffer.buffered;\n    var count = videoBuffered.length; // A) Gather up all start and end times\n\n    while (count--) {\n      extents.push({\n        time: videoBuffered.start(count),\n        type: 'start'\n      });\n      extents.push({\n        time: videoBuffered.end(count),\n        type: 'end'\n      });\n    }\n\n    count = audioBuffered.length;\n\n    while (count--) {\n      extents.push({\n        time: audioBuffered.start(count),\n        type: 'start'\n      });\n      extents.push({\n        time: audioBuffered.end(count),\n        type: 'end'\n      });\n    } // B) Sort them by time\n\n\n    extents.sort(function (a, b) {\n      return a.time - b.time;\n    }); // C) Go along one by one incrementing arity for start and decrementing\n    //    arity for ends\n\n    for (count = 0; count < extents.length; count++) {\n      if (extents[count].type === 'start') {\n        arity++; // D) If arity is ever incremented to 2 we are entering an\n        //    overlapping range\n\n        if (arity === 2) {\n          start = extents[count].time;\n        }\n      } else if (extents[count].type === 'end') {\n        arity--; // E) If arity is ever decremented to 1 we leaving an\n        //    overlapping range\n\n        if (arity === 1) {\n          end = extents[count].time;\n        }\n      } // F) Record overlapping ranges\n\n\n      if (start !== null && end !== null) {\n        ranges.push([start, end]);\n        start = null;\n        end = null;\n      }\n    }\n\n    return videojs$1.createTimeRanges(ranges);\n  };\n  /**\n   * @file virtual-source-buffer.js\n   */\n\n\n  var ONE_SECOND_IN_TS$3 = 90000; // We create a wrapper around the SourceBuffer so that we can manage the\n  // state of the `updating` property manually. We have to do this because\n  // Firefox changes `updating` to false long before triggering `updateend`\n  // events and that was causing strange problems in videojs-contrib-hls\n\n  var makeWrappedSourceBuffer = function makeWrappedSourceBuffer(mediaSource, mimeType) {\n    var sourceBuffer = mediaSource.addSourceBuffer(mimeType);\n    var wrapper = Object.create(null);\n    wrapper.updating = false;\n    wrapper.realBuffer_ = sourceBuffer;\n\n    var _loop = function _loop(key) {\n      if (typeof sourceBuffer[key] === 'function') {\n        wrapper[key] = function () {\n          return sourceBuffer[key].apply(sourceBuffer, arguments);\n        };\n      } else if (typeof wrapper[key] === 'undefined') {\n        Object.defineProperty(wrapper, key, {\n          get: function get$$1() {\n            return sourceBuffer[key];\n          },\n          set: function set$$1(v) {\n            return sourceBuffer[key] = v;\n          }\n        });\n      }\n    };\n\n    for (var key in sourceBuffer) {\n      _loop(key);\n    }\n\n    return wrapper;\n  };\n  /**\n   * VirtualSourceBuffers exist so that we can transmux non native formats\n   * into a native format, but keep the same api as a native source buffer.\n   * It creates a transmuxer, that works in its own thread (a web worker) and\n   * that transmuxer muxes the data into a native format. VirtualSourceBuffer will\n   * then send all of that data to the naive sourcebuffer so that it is\n   * indestinguishable from a natively supported format.\n   *\n   * @param {HtmlMediaSource} mediaSource the parent mediaSource\n   * @param {Array} codecs array of codecs that we will be dealing with\n   * @class VirtualSourceBuffer\n   * @extends video.js.EventTarget\n   */\n\n\n  var VirtualSourceBuffer = function (_videojs$EventTarget) {\n    inherits$1(VirtualSourceBuffer, _videojs$EventTarget);\n\n    function VirtualSourceBuffer(mediaSource, codecs) {\n      classCallCheck$1(this, VirtualSourceBuffer);\n\n      var _this = possibleConstructorReturn$1(this, (VirtualSourceBuffer.__proto__ || Object.getPrototypeOf(VirtualSourceBuffer)).call(this, videojs$1.EventTarget));\n\n      _this.timestampOffset_ = 0;\n      _this.pendingBuffers_ = [];\n      _this.bufferUpdating_ = false;\n      _this.mediaSource_ = mediaSource;\n      _this.codecs_ = codecs;\n      _this.audioCodec_ = null;\n      _this.videoCodec_ = null;\n      _this.audioDisabled_ = false;\n      _this.appendAudioInitSegment_ = true;\n      _this.gopBuffer_ = [];\n      _this.timeMapping_ = 0;\n      _this.safeAppend_ = videojs$1.browser.IE_VERSION >= 11;\n      var options = {\n        remux: false,\n        alignGopsAtEnd: _this.safeAppend_\n      };\n\n      _this.codecs_.forEach(function (codec) {\n        if (isAudioCodec(codec)) {\n          _this.audioCodec_ = codec;\n        } else if (isVideoCodec(codec)) {\n          _this.videoCodec_ = codec;\n        }\n      }); // append muxed segments to their respective native buffers as\n      // soon as they are available\n\n\n      _this.transmuxer_ = new TransmuxWorker();\n\n      _this.transmuxer_.postMessage({\n        action: 'init',\n        options: options\n      });\n\n      _this.transmuxer_.onmessage = function (event) {\n        if (event.data.action === 'data') {\n          return _this.data_(event);\n        }\n\n        if (event.data.action === 'done') {\n          return _this.done_(event);\n        }\n\n        if (event.data.action === 'gopInfo') {\n          return _this.appendGopInfo_(event);\n        }\n\n        if (event.data.action === 'videoSegmentTimingInfo') {\n          return _this.videoSegmentTimingInfo_(event.data.videoSegmentTimingInfo);\n        }\n      }; // this timestampOffset is a property with the side-effect of resetting\n      // baseMediaDecodeTime in the transmuxer on the setter\n\n\n      Object.defineProperty(_this, 'timestampOffset', {\n        get: function get$$1() {\n          return this.timestampOffset_;\n        },\n        set: function set$$1(val) {\n          if (typeof val === 'number' && val >= 0) {\n            this.timestampOffset_ = val;\n            this.appendAudioInitSegment_ = true; // reset gop buffer on timestampoffset as this signals a change in timeline\n\n            this.gopBuffer_.length = 0;\n            this.timeMapping_ = 0; // We have to tell the transmuxer to set the baseMediaDecodeTime to\n            // the desired timestampOffset for the next segment\n\n            this.transmuxer_.postMessage({\n              action: 'setTimestampOffset',\n              timestampOffset: val\n            });\n          }\n        }\n      }); // setting the append window affects both source buffers\n\n      Object.defineProperty(_this, 'appendWindowStart', {\n        get: function get$$1() {\n          return (this.videoBuffer_ || this.audioBuffer_).appendWindowStart;\n        },\n        set: function set$$1(start) {\n          if (this.videoBuffer_) {\n            this.videoBuffer_.appendWindowStart = start;\n          }\n\n          if (this.audioBuffer_) {\n            this.audioBuffer_.appendWindowStart = start;\n          }\n        }\n      }); // this buffer is \"updating\" if either of its native buffers are\n\n      Object.defineProperty(_this, 'updating', {\n        get: function get$$1() {\n          return !!(this.bufferUpdating_ || !this.audioDisabled_ && this.audioBuffer_ && this.audioBuffer_.updating || this.videoBuffer_ && this.videoBuffer_.updating);\n        }\n      }); // the buffered property is the intersection of the buffered\n      // ranges of the native source buffers\n\n      Object.defineProperty(_this, 'buffered', {\n        get: function get$$1() {\n          return buffered(this.videoBuffer_, this.audioBuffer_, this.audioDisabled_);\n        }\n      });\n      return _this;\n    }\n    /**\n     * When we get a data event from the transmuxer\n     * we call this function and handle the data that\n     * was sent to us\n     *\n     * @private\n     * @param {Event} event the data event from the transmuxer\n     */\n\n\n    createClass$1(VirtualSourceBuffer, [{\n      key: 'data_',\n      value: function data_(event) {\n        var segment = event.data.segment; // Cast ArrayBuffer to TypedArray\n\n        segment.data = new Uint8Array(segment.data, event.data.byteOffset, event.data.byteLength);\n        segment.initSegment = new Uint8Array(segment.initSegment.data, segment.initSegment.byteOffset, segment.initSegment.byteLength);\n        createTextTracksIfNecessary(this, this.mediaSource_, segment); // Add the segments to the pendingBuffers array\n\n        this.pendingBuffers_.push(segment);\n        return;\n      }\n      /**\n       * When we get a done event from the transmuxer\n       * we call this function and we process all\n       * of the pending data that we have been saving in the\n       * data_ function\n       *\n       * @private\n       * @param {Event} event the done event from the transmuxer\n       */\n\n    }, {\n      key: 'done_',\n      value: function done_(event) {\n        // Don't process and append data if the mediaSource is closed\n        if (this.mediaSource_.readyState === 'closed') {\n          this.pendingBuffers_.length = 0;\n          return;\n        } // All buffers should have been flushed from the muxer\n        // start processing anything we have received\n\n\n        this.processPendingSegments_();\n        return;\n      }\n    }, {\n      key: 'videoSegmentTimingInfo_',\n      value: function videoSegmentTimingInfo_(timingInfo) {\n        var timingInfoInSeconds = {\n          start: {\n            decode: timingInfo.start.dts / ONE_SECOND_IN_TS$3,\n            presentation: timingInfo.start.pts / ONE_SECOND_IN_TS$3\n          },\n          end: {\n            decode: timingInfo.end.dts / ONE_SECOND_IN_TS$3,\n            presentation: timingInfo.end.pts / ONE_SECOND_IN_TS$3\n          },\n          baseMediaDecodeTime: timingInfo.baseMediaDecodeTime / ONE_SECOND_IN_TS$3\n        };\n\n        if (timingInfo.prependedContentDuration) {\n          timingInfoInSeconds.prependedContentDuration = timingInfo.prependedContentDuration / ONE_SECOND_IN_TS$3;\n        }\n\n        this.trigger({\n          type: 'videoSegmentTimingInfo',\n          videoSegmentTimingInfo: timingInfoInSeconds\n        });\n      }\n      /**\n       * Create our internal native audio/video source buffers and add\n       * event handlers to them with the following conditions:\n       * 1. they do not already exist on the mediaSource\n       * 2. this VSB has a codec for them\n       *\n       * @private\n       */\n\n    }, {\n      key: 'createRealSourceBuffers_',\n      value: function createRealSourceBuffers_() {\n        var _this2 = this;\n\n        var types = ['audio', 'video'];\n        types.forEach(function (type) {\n          // Don't create a SourceBuffer of this type if we don't have a\n          // codec for it\n          if (!_this2[type + 'Codec_']) {\n            return;\n          } // Do nothing if a SourceBuffer of this type already exists\n\n\n          if (_this2[type + 'Buffer_']) {\n            return;\n          }\n\n          var buffer = null; // If the mediasource already has a SourceBuffer for the codec\n          // use that\n\n          if (_this2.mediaSource_[type + 'Buffer_']) {\n            buffer = _this2.mediaSource_[type + 'Buffer_']; // In multiple audio track cases, the audio source buffer is disabled\n            // on the main VirtualSourceBuffer by the HTMLMediaSource much earlier\n            // than createRealSourceBuffers_ is called to create the second\n            // VirtualSourceBuffer because that happens as a side-effect of\n            // videojs-contrib-hls starting the audioSegmentLoader. As a result,\n            // the audioBuffer is essentially \"ownerless\" and no one will toggle\n            // the `updating` state back to false once the `updateend` event is received\n            //\n            // Setting `updating` to false manually will work around this\n            // situation and allow work to continue\n\n            buffer.updating = false;\n          } else {\n            var codecProperty = type + 'Codec_';\n            var mimeType = type + '/mp4;codecs=\"' + _this2[codecProperty] + '\"';\n            buffer = makeWrappedSourceBuffer(_this2.mediaSource_.nativeMediaSource_, mimeType);\n            _this2.mediaSource_[type + 'Buffer_'] = buffer;\n          }\n\n          _this2[type + 'Buffer_'] = buffer; // Wire up the events to the SourceBuffer\n\n          ['update', 'updatestart', 'updateend'].forEach(function (event) {\n            buffer.addEventListener(event, function () {\n              // if audio is disabled\n              if (type === 'audio' && _this2.audioDisabled_) {\n                return;\n              }\n\n              if (event === 'updateend') {\n                _this2[type + 'Buffer_'].updating = false;\n              }\n\n              var shouldTrigger = types.every(function (t) {\n                // skip checking audio's updating status if audio\n                // is not enabled\n                if (t === 'audio' && _this2.audioDisabled_) {\n                  return true;\n                } // if the other type if updating we don't trigger\n\n\n                if (type !== t && _this2[t + 'Buffer_'] && _this2[t + 'Buffer_'].updating) {\n                  return false;\n                }\n\n                return true;\n              });\n\n              if (shouldTrigger) {\n                return _this2.trigger(event);\n              }\n            });\n          });\n        });\n      }\n      /**\n       * Emulate the native mediasource function, but our function will\n       * send all of the proposed segments to the transmuxer so that we\n       * can transmux them before we append them to our internal\n       * native source buffers in the correct format.\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/appendBuffer\n       * @param {Uint8Array} segment the segment to append to the buffer\n       */\n\n    }, {\n      key: 'appendBuffer',\n      value: function appendBuffer(segment) {\n        // Start the internal \"updating\" state\n        this.bufferUpdating_ = true;\n\n        if (this.audioBuffer_ && this.audioBuffer_.buffered.length) {\n          var audioBuffered = this.audioBuffer_.buffered;\n          this.transmuxer_.postMessage({\n            action: 'setAudioAppendStart',\n            appendStart: audioBuffered.end(audioBuffered.length - 1)\n          });\n        }\n\n        if (this.videoBuffer_) {\n          this.transmuxer_.postMessage({\n            action: 'alignGopsWith',\n            gopsToAlignWith: gopsSafeToAlignWith(this.gopBuffer_, this.mediaSource_.player_ ? this.mediaSource_.player_.currentTime() : null, this.timeMapping_)\n          });\n        }\n\n        this.transmuxer_.postMessage({\n          action: 'push',\n          // Send the typed-array of data as an ArrayBuffer so that\n          // it can be sent as a \"Transferable\" and avoid the costly\n          // memory copy\n          data: segment.buffer,\n          // To recreate the original typed-array, we need information\n          // about what portion of the ArrayBuffer it was a view into\n          byteOffset: segment.byteOffset,\n          byteLength: segment.byteLength\n        }, [segment.buffer]);\n        this.transmuxer_.postMessage({\n          action: 'flush'\n        });\n      }\n      /**\n       * Appends gop information (timing and byteLength) received by the transmuxer for the\n       * gops appended in the last call to appendBuffer\n       *\n       * @param {Event} event\n       *        The gopInfo event from the transmuxer\n       * @param {Array} event.data.gopInfo\n       *        List of gop info to append\n       */\n\n    }, {\n      key: 'appendGopInfo_',\n      value: function appendGopInfo_(event) {\n        this.gopBuffer_ = updateGopBuffer(this.gopBuffer_, event.data.gopInfo, this.safeAppend_);\n      }\n      /**\n       * Emulate the native mediasource function and remove parts\n       * of the buffer from any of our internal buffers that exist\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/remove\n       * @param {Double} start position to start the remove at\n       * @param {Double} end position to end the remove at\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end) {\n        if (this.videoBuffer_) {\n          this.videoBuffer_.updating = true;\n          this.videoBuffer_.remove(start, end);\n          this.gopBuffer_ = removeGopBuffer(this.gopBuffer_, start, end, this.timeMapping_);\n        }\n\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          this.audioBuffer_.updating = true;\n          this.audioBuffer_.remove(start, end);\n        } // Remove Metadata Cues (id3)\n\n\n        removeCuesFromTrack(start, end, this.metadataTrack_); // Remove Any Captions\n\n        if (this.inbandTextTracks_) {\n          for (var track in this.inbandTextTracks_) {\n            removeCuesFromTrack(start, end, this.inbandTextTracks_[track]);\n          }\n        }\n      }\n      /**\n       * Process any segments that the muxer has output\n       * Concatenate segments together based on type and append them into\n       * their respective sourceBuffers\n       *\n       * @private\n       */\n\n    }, {\n      key: 'processPendingSegments_',\n      value: function processPendingSegments_() {\n        var sortedSegments = {\n          video: {\n            segments: [],\n            bytes: 0\n          },\n          audio: {\n            segments: [],\n            bytes: 0\n          },\n          captions: [],\n          metadata: []\n        }; // Sort segments into separate video/audio arrays and\n        // keep track of their total byte lengths\n\n        sortedSegments = this.pendingBuffers_.reduce(function (segmentObj, segment) {\n          var type = segment.type;\n          var data = segment.data;\n          var initSegment = segment.initSegment;\n          segmentObj[type].segments.push(data);\n          segmentObj[type].bytes += data.byteLength;\n          segmentObj[type].initSegment = initSegment; // Gather any captions into a single array\n\n          if (segment.captions) {\n            segmentObj.captions = segmentObj.captions.concat(segment.captions);\n          }\n\n          if (segment.info) {\n            segmentObj[type].info = segment.info;\n          } // Gather any metadata into a single array\n\n\n          if (segment.metadata) {\n            segmentObj.metadata = segmentObj.metadata.concat(segment.metadata);\n          }\n\n          return segmentObj;\n        }, sortedSegments); // Create the real source buffers if they don't exist by now since we\n        // finally are sure what tracks are contained in the source\n\n        if (!this.videoBuffer_ && !this.audioBuffer_) {\n          // Remove any codecs that may have been specified by default but\n          // are no longer applicable now\n          if (sortedSegments.video.bytes === 0) {\n            this.videoCodec_ = null;\n          }\n\n          if (sortedSegments.audio.bytes === 0) {\n            this.audioCodec_ = null;\n          }\n\n          this.createRealSourceBuffers_();\n        }\n\n        if (sortedSegments.audio.info) {\n          this.mediaSource_.trigger({\n            type: 'audioinfo',\n            info: sortedSegments.audio.info\n          });\n        }\n\n        if (sortedSegments.video.info) {\n          this.mediaSource_.trigger({\n            type: 'videoinfo',\n            info: sortedSegments.video.info\n          });\n        }\n\n        if (this.appendAudioInitSegment_) {\n          if (!this.audioDisabled_ && this.audioBuffer_) {\n            sortedSegments.audio.segments.unshift(sortedSegments.audio.initSegment);\n            sortedSegments.audio.bytes += sortedSegments.audio.initSegment.byteLength;\n          }\n\n          this.appendAudioInitSegment_ = false;\n        }\n\n        var triggerUpdateend = false; // Merge multiple video and audio segments into one and append\n\n        if (this.videoBuffer_ && sortedSegments.video.bytes) {\n          sortedSegments.video.segments.unshift(sortedSegments.video.initSegment);\n          sortedSegments.video.bytes += sortedSegments.video.initSegment.byteLength;\n          this.concatAndAppendSegments_(sortedSegments.video, this.videoBuffer_);\n        } else if (this.videoBuffer_ && (this.audioDisabled_ || !this.audioBuffer_)) {\n          // The transmuxer did not return any bytes of video, meaning it was all trimmed\n          // for gop alignment. Since we have a video buffer and audio is disabled, updateend\n          // will never be triggered by this source buffer, which will cause contrib-hls\n          // to be stuck forever waiting for updateend. If audio is not disabled, updateend\n          // will be triggered by the audio buffer, which will be sent upwards since the video\n          // buffer will not be in an updating state.\n          triggerUpdateend = true;\n        } // Add text-track data for all\n\n\n        addTextTrackData(this, sortedSegments.captions, sortedSegments.metadata);\n\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          this.concatAndAppendSegments_(sortedSegments.audio, this.audioBuffer_);\n        }\n\n        this.pendingBuffers_.length = 0;\n\n        if (triggerUpdateend) {\n          this.trigger('updateend');\n        } // We are no longer in the internal \"updating\" state\n\n\n        this.bufferUpdating_ = false;\n      }\n      /**\n       * Combine all segments into a single Uint8Array and then append them\n       * to the destination buffer\n       *\n       * @param {Object} segmentObj\n       * @param {SourceBuffer} destinationBuffer native source buffer to append data to\n       * @private\n       */\n\n    }, {\n      key: 'concatAndAppendSegments_',\n      value: function concatAndAppendSegments_(segmentObj, destinationBuffer) {\n        var offset = 0;\n        var tempBuffer = void 0;\n\n        if (segmentObj.bytes) {\n          tempBuffer = new Uint8Array(segmentObj.bytes); // Combine the individual segments into one large typed-array\n\n          segmentObj.segments.forEach(function (segment) {\n            tempBuffer.set(segment, offset);\n            offset += segment.byteLength;\n          });\n\n          try {\n            destinationBuffer.updating = true;\n            destinationBuffer.appendBuffer(tempBuffer);\n          } catch (error) {\n            if (this.mediaSource_.player_) {\n              this.mediaSource_.player_.error({\n                code: -3,\n                type: 'APPEND_BUFFER_ERR',\n                message: error.message,\n                originalError: error\n              });\n            }\n          }\n        }\n      }\n      /**\n       * Emulate the native mediasource function. abort any soureBuffer\n       * actions and throw out any un-appended data.\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/SourceBuffer/abort\n       */\n\n    }, {\n      key: 'abort',\n      value: function abort() {\n        if (this.videoBuffer_) {\n          this.videoBuffer_.abort();\n        }\n\n        if (!this.audioDisabled_ && this.audioBuffer_) {\n          this.audioBuffer_.abort();\n        }\n\n        if (this.transmuxer_) {\n          this.transmuxer_.postMessage({\n            action: 'reset'\n          });\n        }\n\n        this.pendingBuffers_.length = 0;\n        this.bufferUpdating_ = false;\n      }\n    }]);\n    return VirtualSourceBuffer;\n  }(videojs$1.EventTarget);\n  /**\n   * @file html-media-source.js\n   */\n\n  /**\n   * Our MediaSource implementation in HTML, mimics native\n   * MediaSource where/if possible.\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource\n   * @class HtmlMediaSource\n   * @extends videojs.EventTarget\n   */\n\n\n  var HtmlMediaSource = function (_videojs$EventTarget) {\n    inherits$1(HtmlMediaSource, _videojs$EventTarget);\n\n    function HtmlMediaSource() {\n      classCallCheck$1(this, HtmlMediaSource);\n\n      var _this = possibleConstructorReturn$1(this, (HtmlMediaSource.__proto__ || Object.getPrototypeOf(HtmlMediaSource)).call(this));\n\n      var property = void 0;\n      _this.nativeMediaSource_ = new window$1.MediaSource(); // delegate to the native MediaSource's methods by default\n\n      for (property in _this.nativeMediaSource_) {\n        if (!(property in HtmlMediaSource.prototype) && typeof _this.nativeMediaSource_[property] === 'function') {\n          _this[property] = _this.nativeMediaSource_[property].bind(_this.nativeMediaSource_);\n        }\n      } // emulate `duration` and `seekable` until seeking can be\n      // handled uniformly for live streams\n      // see https://github.com/w3c/media-source/issues/5\n\n\n      _this.duration_ = NaN;\n      Object.defineProperty(_this, 'duration', {\n        get: function get$$1() {\n          if (this.duration_ === Infinity) {\n            return this.duration_;\n          }\n\n          return this.nativeMediaSource_.duration;\n        },\n        set: function set$$1(duration) {\n          this.duration_ = duration;\n\n          if (duration !== Infinity) {\n            this.nativeMediaSource_.duration = duration;\n            return;\n          }\n        }\n      });\n      Object.defineProperty(_this, 'seekable', {\n        get: function get$$1() {\n          if (this.duration_ === Infinity) {\n            return videojs$1.createTimeRanges([[0, this.nativeMediaSource_.duration]]);\n          }\n\n          return this.nativeMediaSource_.seekable;\n        }\n      });\n      Object.defineProperty(_this, 'readyState', {\n        get: function get$$1() {\n          return this.nativeMediaSource_.readyState;\n        }\n      });\n      Object.defineProperty(_this, 'activeSourceBuffers', {\n        get: function get$$1() {\n          return this.activeSourceBuffers_;\n        }\n      }); // the list of virtual and native SourceBuffers created by this\n      // MediaSource\n\n      _this.sourceBuffers = [];\n      _this.activeSourceBuffers_ = [];\n      /**\n       * update the list of active source buffers based upon various\n       * imformation from HLS and video.js\n       *\n       * @private\n       */\n\n      _this.updateActiveSourceBuffers_ = function () {\n        // Retain the reference but empty the array\n        _this.activeSourceBuffers_.length = 0; // If there is only one source buffer, then it will always be active and audio will\n        // be disabled based on the codec of the source buffer\n\n        if (_this.sourceBuffers.length === 1) {\n          var sourceBuffer = _this.sourceBuffers[0];\n          sourceBuffer.appendAudioInitSegment_ = true;\n          sourceBuffer.audioDisabled_ = !sourceBuffer.audioCodec_;\n\n          _this.activeSourceBuffers_.push(sourceBuffer);\n\n          return;\n        } // There are 2 source buffers, a combined (possibly video only) source buffer and\n        // and an audio only source buffer.\n        // By default, the audio in the combined virtual source buffer is enabled\n        // and the audio-only source buffer (if it exists) is disabled.\n\n\n        var disableCombined = false;\n        var disableAudioOnly = true; // TODO: maybe we can store the sourcebuffers on the track objects?\n        // safari may do something like this\n\n        for (var i = 0; i < _this.player_.audioTracks().length; i++) {\n          var track = _this.player_.audioTracks()[i];\n\n          if (track.enabled && track.kind !== 'main') {\n            // The enabled track is an alternate audio track so disable the audio in\n            // the combined source buffer and enable the audio-only source buffer.\n            disableCombined = true;\n            disableAudioOnly = false;\n            break;\n          }\n        }\n\n        _this.sourceBuffers.forEach(function (sourceBuffer, index) {\n          /* eslinst-disable */\n          // TODO once codecs are required, we can switch to using the codecs to determine\n          //      what stream is the video stream, rather than relying on videoTracks\n\n          /* eslinst-enable */\n          sourceBuffer.appendAudioInitSegment_ = true;\n\n          if (sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n            // combined\n            sourceBuffer.audioDisabled_ = disableCombined;\n          } else if (sourceBuffer.videoCodec_ && !sourceBuffer.audioCodec_) {\n            // If the \"combined\" source buffer is video only, then we do not want\n            // disable the audio-only source buffer (this is mostly for demuxed\n            // audio and video hls)\n            sourceBuffer.audioDisabled_ = true;\n            disableAudioOnly = false;\n          } else if (!sourceBuffer.videoCodec_ && sourceBuffer.audioCodec_) {\n            // audio only\n            // In the case of audio only with alternate audio and disableAudioOnly is true\n            // this means we want to disable the audio on the alternate audio sourcebuffer\n            // but not the main \"combined\" source buffer. The \"combined\" source buffer is\n            // always at index 0, so this ensures audio won't be disabled in both source\n            // buffers.\n            sourceBuffer.audioDisabled_ = index ? disableAudioOnly : !disableAudioOnly;\n\n            if (sourceBuffer.audioDisabled_) {\n              return;\n            }\n          }\n\n          _this.activeSourceBuffers_.push(sourceBuffer);\n        });\n      };\n\n      _this.onPlayerMediachange_ = function () {\n        _this.sourceBuffers.forEach(function (sourceBuffer) {\n          sourceBuffer.appendAudioInitSegment_ = true;\n        });\n      };\n\n      _this.onHlsReset_ = function () {\n        _this.sourceBuffers.forEach(function (sourceBuffer) {\n          if (sourceBuffer.transmuxer_) {\n            sourceBuffer.transmuxer_.postMessage({\n              action: 'resetCaptions'\n            });\n          }\n        });\n      };\n\n      _this.onHlsSegmentTimeMapping_ = function (event) {\n        _this.sourceBuffers.forEach(function (buffer) {\n          return buffer.timeMapping_ = event.mapping;\n        });\n      }; // Re-emit MediaSource events on the polyfill\n\n\n      ['sourceopen', 'sourceclose', 'sourceended'].forEach(function (eventName) {\n        this.nativeMediaSource_.addEventListener(eventName, this.trigger.bind(this));\n      }, _this); // capture the associated player when the MediaSource is\n      // successfully attached\n\n      _this.on('sourceopen', function (event) {\n        // Get the player this MediaSource is attached to\n        var video = document.querySelector('[src=\"' + _this.url_ + '\"]');\n\n        if (!video) {\n          return;\n        }\n\n        _this.player_ = videojs$1(video.parentNode);\n\n        if (!_this.player_) {\n          return;\n        } // hls-reset is fired by videojs.Hls on to the tech after the main SegmentLoader\n        // resets its state and flushes the buffer\n\n\n        _this.player_.tech_.on('hls-reset', _this.onHlsReset_); // hls-segment-time-mapping is fired by videojs.Hls on to the tech after the main\n        // SegmentLoader inspects an MTS segment and has an accurate stream to display\n        // time mapping\n\n\n        _this.player_.tech_.on('hls-segment-time-mapping', _this.onHlsSegmentTimeMapping_);\n\n        if (_this.player_.audioTracks && _this.player_.audioTracks()) {\n          _this.player_.audioTracks().on('change', _this.updateActiveSourceBuffers_);\n\n          _this.player_.audioTracks().on('addtrack', _this.updateActiveSourceBuffers_);\n\n          _this.player_.audioTracks().on('removetrack', _this.updateActiveSourceBuffers_);\n        }\n\n        _this.player_.on('mediachange', _this.onPlayerMediachange_);\n      });\n\n      _this.on('sourceended', function (event) {\n        var duration = durationOfVideo(_this.duration);\n\n        for (var i = 0; i < _this.sourceBuffers.length; i++) {\n          var sourcebuffer = _this.sourceBuffers[i];\n          var cues = sourcebuffer.metadataTrack_ && sourcebuffer.metadataTrack_.cues;\n\n          if (cues && cues.length) {\n            cues[cues.length - 1].endTime = duration;\n          }\n        }\n      }); // explicitly terminate any WebWorkers that were created\n      // by SourceHandlers\n\n\n      _this.on('sourceclose', function (event) {\n        this.sourceBuffers.forEach(function (sourceBuffer) {\n          if (sourceBuffer.transmuxer_) {\n            sourceBuffer.transmuxer_.terminate();\n          }\n        });\n        this.sourceBuffers.length = 0;\n\n        if (!this.player_) {\n          return;\n        }\n\n        if (this.player_.audioTracks && this.player_.audioTracks()) {\n          this.player_.audioTracks().off('change', this.updateActiveSourceBuffers_);\n          this.player_.audioTracks().off('addtrack', this.updateActiveSourceBuffers_);\n          this.player_.audioTracks().off('removetrack', this.updateActiveSourceBuffers_);\n        } // We can only change this if the player hasn't been disposed of yet\n        // because `off` eventually tries to use the el_ property. If it has\n        // been disposed of, then don't worry about it because there are no\n        // event handlers left to unbind anyway\n\n\n        if (this.player_.el_) {\n          this.player_.off('mediachange', this.onPlayerMediachange_);\n        }\n\n        if (this.player_.tech_ && this.player_.tech_.el_) {\n          this.player_.tech_.off('hls-reset', this.onHlsReset_);\n          this.player_.tech_.off('hls-segment-time-mapping', this.onHlsSegmentTimeMapping_);\n        }\n      });\n\n      return _this;\n    }\n    /**\n     * Add a range that that can now be seeked to.\n     *\n     * @param {Double} start where to start the addition\n     * @param {Double} end where to end the addition\n     * @private\n     */\n\n\n    createClass$1(HtmlMediaSource, [{\n      key: 'addSeekableRange_',\n      value: function addSeekableRange_(start, end) {\n        var error = void 0;\n\n        if (this.duration !== Infinity) {\n          error = new Error('MediaSource.addSeekableRange() can only be invoked ' + 'when the duration is Infinity');\n          error.name = 'InvalidStateError';\n          error.code = 11;\n          throw error;\n        }\n\n        if (end > this.nativeMediaSource_.duration || isNaN(this.nativeMediaSource_.duration)) {\n          this.nativeMediaSource_.duration = end;\n        }\n      }\n      /**\n       * Add a source buffer to the media source.\n       *\n       * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/addSourceBuffer\n       * @param {String} type the content-type of the content\n       * @return {Object} the created source buffer\n       */\n\n    }, {\n      key: 'addSourceBuffer',\n      value: function addSourceBuffer(type) {\n        var buffer = void 0;\n        var parsedType = parseContentType(type); // Create a VirtualSourceBuffer to transmux MPEG-2 transport\n        // stream segments into fragmented MP4s\n\n        if (/^(video|audio)\\/mp2t$/i.test(parsedType.type)) {\n          var codecs = [];\n\n          if (parsedType.parameters && parsedType.parameters.codecs) {\n            codecs = parsedType.parameters.codecs.split(',');\n            codecs = translateLegacyCodecs(codecs);\n            codecs = codecs.filter(function (codec) {\n              return isAudioCodec(codec) || isVideoCodec(codec);\n            });\n          }\n\n          if (codecs.length === 0) {\n            codecs = ['avc1.4d400d', 'mp4a.40.2'];\n          }\n\n          buffer = new VirtualSourceBuffer(this, codecs);\n\n          if (this.sourceBuffers.length !== 0) {\n            // If another VirtualSourceBuffer already exists, then we are creating a\n            // SourceBuffer for an alternate audio track and therefore we know that\n            // the source has both an audio and video track.\n            // That means we should trigger the manual creation of the real\n            // SourceBuffers instead of waiting for the transmuxer to return data\n            this.sourceBuffers[0].createRealSourceBuffers_();\n            buffer.createRealSourceBuffers_(); // Automatically disable the audio on the first source buffer if\n            // a second source buffer is ever created\n\n            this.sourceBuffers[0].audioDisabled_ = true;\n          }\n        } else {\n          // delegate to the native implementation\n          buffer = this.nativeMediaSource_.addSourceBuffer(type);\n        }\n\n        this.sourceBuffers.push(buffer);\n        return buffer;\n      }\n    }]);\n    return HtmlMediaSource;\n  }(videojs$1.EventTarget);\n  /**\n   * @file videojs-contrib-media-sources.js\n   */\n\n\n  var urlCount = 0; // ------------\n  // Media Source\n  // ------------\n  // store references to the media sources so they can be connected\n  // to a video element (a swf object)\n  // TODO: can we store this somewhere local to this module?\n\n  videojs$1.mediaSources = {};\n  /**\n   * Provide a method for a swf object to notify JS that a\n   * media source is now open.\n   *\n   * @param {String} msObjectURL string referencing the MSE Object URL\n   * @param {String} swfId the swf id\n   */\n\n  var open = function open(msObjectURL, swfId) {\n    var mediaSource = videojs$1.mediaSources[msObjectURL];\n\n    if (mediaSource) {\n      mediaSource.trigger({\n        type: 'sourceopen',\n        swfId: swfId\n      });\n    } else {\n      throw new Error('Media Source not found (Video.js)');\n    }\n  };\n  /**\n   * Check to see if the native MediaSource object exists and supports\n   * an MP4 container with both H.264 video and AAC-LC audio.\n   *\n   * @return {Boolean} if  native media sources are supported\n   */\n\n\n  var supportsNativeMediaSources = function supportsNativeMediaSources() {\n    return !!window$1.MediaSource && !!window$1.MediaSource.isTypeSupported && window$1.MediaSource.isTypeSupported('video/mp4;codecs=\"avc1.4d400d,mp4a.40.2\"');\n  };\n  /**\n   * An emulation of the MediaSource API so that we can support\n   * native and non-native functionality. returns an instance of\n   * HtmlMediaSource.\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/MediaSource/MediaSource\n   */\n\n\n  var MediaSource = function MediaSource() {\n    this.MediaSource = {\n      open: open,\n      supportsNativeMediaSources: supportsNativeMediaSources\n    };\n\n    if (supportsNativeMediaSources()) {\n      return new HtmlMediaSource();\n    }\n\n    throw new Error('Cannot use create a virtual MediaSource for this video');\n  };\n\n  MediaSource.open = open;\n  MediaSource.supportsNativeMediaSources = supportsNativeMediaSources;\n  /**\n   * A wrapper around the native URL for our MSE object\n   * implementation, this object is exposed under videojs.URL\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/URL\n   */\n\n  var URL$1 = {\n    /**\n     * A wrapper around the native createObjectURL for our objects.\n     * This function maps a native or emulated mediaSource to a blob\n     * url so that it can be loaded into video.js\n     *\n     * @link https://developer.mozilla.org/en-US/docs/Web/API/URL/createObjectURL\n     * @param {MediaSource} object the object to create a blob url to\n     */\n    createObjectURL: function createObjectURL(object) {\n      var objectUrlPrefix = 'blob:vjs-media-source/';\n      var url = void 0; // use the native MediaSource to generate an object URL\n\n      if (object instanceof HtmlMediaSource) {\n        url = window$1.URL.createObjectURL(object.nativeMediaSource_);\n        object.url_ = url;\n        return url;\n      } // if the object isn't an emulated MediaSource, delegate to the\n      // native implementation\n\n\n      if (!(object instanceof HtmlMediaSource)) {\n        url = window$1.URL.createObjectURL(object);\n        object.url_ = url;\n        return url;\n      } // build a URL that can be used to map back to the emulated\n      // MediaSource\n\n\n      url = objectUrlPrefix + urlCount;\n      urlCount++; // setup the mapping back to object\n\n      videojs$1.mediaSources[url] = object;\n      return url;\n    }\n  };\n  videojs$1.MediaSource = MediaSource;\n  videojs$1.URL = URL$1;\n  var EventTarget$1$1 = videojs$1.EventTarget,\n      mergeOptions$2 = videojs$1.mergeOptions;\n  /**\n   * Returns a new master manifest that is the result of merging an updated master manifest\n   * into the original version.\n   *\n   * @param {Object} oldMaster\n   *        The old parsed mpd object\n   * @param {Object} newMaster\n   *        The updated parsed mpd object\n   * @return {Object}\n   *         A new object representing the original master manifest with the updated media\n   *         playlists merged in\n   */\n\n  var updateMaster$1 = function updateMaster$$1(oldMaster, newMaster) {\n    var noChanges = void 0;\n    var update = mergeOptions$2(oldMaster, {\n      // These are top level properties that can be updated\n      duration: newMaster.duration,\n      minimumUpdatePeriod: newMaster.minimumUpdatePeriod\n    }); // First update the playlists in playlist list\n\n    for (var i = 0; i < newMaster.playlists.length; i++) {\n      var playlistUpdate = updateMaster(update, newMaster.playlists[i]);\n\n      if (playlistUpdate) {\n        update = playlistUpdate;\n      } else {\n        noChanges = true;\n      }\n    } // Then update media group playlists\n\n\n    forEachMediaGroup(newMaster, function (properties, type, group, label) {\n      if (properties.playlists && properties.playlists.length) {\n        var uri = properties.playlists[0].uri;\n\n        var _playlistUpdate = updateMaster(update, properties.playlists[0]);\n\n        if (_playlistUpdate) {\n          update = _playlistUpdate; // update the playlist reference within media groups\n\n          update.mediaGroups[type][group][label].playlists[0] = update.playlists[uri];\n          noChanges = false;\n        }\n      }\n    });\n\n    if (noChanges) {\n      return null;\n    }\n\n    return update;\n  };\n\n  var DashPlaylistLoader = function (_EventTarget) {\n    inherits$1(DashPlaylistLoader, _EventTarget); // DashPlaylistLoader must accept either a src url or a playlist because subsequent\n    // playlist loader setups from media groups will expect to be able to pass a playlist\n    // (since there aren't external URLs to media playlists with DASH)\n\n    function DashPlaylistLoader(srcUrlOrPlaylist, hls) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var masterPlaylistLoader = arguments[3];\n      classCallCheck$1(this, DashPlaylistLoader);\n\n      var _this = possibleConstructorReturn$1(this, (DashPlaylistLoader.__proto__ || Object.getPrototypeOf(DashPlaylistLoader)).call(this));\n\n      var _options$withCredenti = options.withCredentials,\n          withCredentials = _options$withCredenti === undefined ? false : _options$withCredenti,\n          _options$handleManife = options.handleManifestRedirects,\n          handleManifestRedirects = _options$handleManife === undefined ? false : _options$handleManife;\n      _this.hls_ = hls;\n      _this.withCredentials = withCredentials;\n      _this.handleManifestRedirects = handleManifestRedirects;\n\n      if (!srcUrlOrPlaylist) {\n        throw new Error('A non-empty playlist URL or playlist is required');\n      } // event naming?\n\n\n      _this.on('minimumUpdatePeriod', function () {\n        _this.refreshXml_();\n      }); // live playlist staleness timeout\n\n\n      _this.on('mediaupdatetimeout', function () {\n        _this.refreshMedia_();\n      });\n\n      _this.state = 'HAVE_NOTHING';\n      _this.loadedPlaylists_ = {}; // initialize the loader state\n      // The masterPlaylistLoader will be created with a string\n\n      if (typeof srcUrlOrPlaylist === 'string') {\n        _this.srcUrl = srcUrlOrPlaylist;\n        return possibleConstructorReturn$1(_this);\n      }\n\n      _this.setupChildLoader(masterPlaylistLoader, srcUrlOrPlaylist);\n\n      return _this;\n    }\n\n    createClass$1(DashPlaylistLoader, [{\n      key: 'setupChildLoader',\n      value: function setupChildLoader(masterPlaylistLoader, playlist) {\n        this.masterPlaylistLoader_ = masterPlaylistLoader;\n        this.childPlaylist_ = playlist;\n      }\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.stopRequest();\n        this.loadedPlaylists_ = {};\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n      }\n    }, {\n      key: 'hasPendingRequest',\n      value: function hasPendingRequest() {\n        return this.request || this.mediaRequest_;\n      }\n    }, {\n      key: 'stopRequest',\n      value: function stopRequest() {\n        if (this.request) {\n          var oldRequest = this.request;\n          this.request = null;\n          oldRequest.onreadystatechange = null;\n          oldRequest.abort();\n        }\n      }\n    }, {\n      key: 'media',\n      value: function media(playlist) {\n        // getter\n        if (!playlist) {\n          return this.media_;\n        } // setter\n\n\n        if (this.state === 'HAVE_NOTHING') {\n          throw new Error('Cannot switch media playlist from ' + this.state);\n        }\n\n        var startingState = this.state; // find the playlist object if the target playlist has been specified by URI\n\n        if (typeof playlist === 'string') {\n          if (!this.master.playlists[playlist]) {\n            throw new Error('Unknown playlist URI: ' + playlist);\n          }\n\n          playlist = this.master.playlists[playlist];\n        }\n\n        var mediaChange = !this.media_ || playlist.uri !== this.media_.uri; // switch to previously loaded playlists immediately\n\n        if (mediaChange && this.loadedPlaylists_[playlist.uri] && this.loadedPlaylists_[playlist.uri].endList) {\n          this.state = 'HAVE_METADATA';\n          this.media_ = playlist; // trigger media change if the active media has been updated\n\n          if (mediaChange) {\n            this.trigger('mediachanging');\n            this.trigger('mediachange');\n          }\n\n          return;\n        } // switching to the active playlist is a no-op\n\n\n        if (!mediaChange) {\n          return;\n        } // switching from an already loaded playlist\n\n\n        if (this.media_) {\n          this.trigger('mediachanging');\n        } // TODO: check for sidx here\n        // Continue asynchronously if there is no sidx\n        // wait one tick to allow haveMaster to run first on a child loader\n\n\n        this.mediaRequest_ = window$1.setTimeout(this.haveMetadata.bind(this, {\n          startingState: startingState,\n          playlist: playlist\n        }), 0);\n      }\n    }, {\n      key: 'haveMetadata',\n      value: function haveMetadata(_ref) {\n        var startingState = _ref.startingState,\n            playlist = _ref.playlist;\n        this.state = 'HAVE_METADATA';\n        this.media_ = playlist;\n        this.loadedPlaylists_[playlist.uri] = playlist;\n        this.mediaRequest_ = null; // This will trigger loadedplaylist\n\n        this.refreshMedia_(); // fire loadedmetadata the first time a media playlist is loaded\n        // to resolve setup of media groups\n\n        if (startingState === 'HAVE_MASTER') {\n          this.trigger('loadedmetadata');\n        } else {\n          // trigger media change if the active media has been updated\n          this.trigger('mediachange');\n        }\n      }\n    }, {\n      key: 'pause',\n      value: function pause() {\n        this.stopRequest();\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n\n        if (this.state === 'HAVE_NOTHING') {\n          // If we pause the loader before any data has been retrieved, its as if we never\n          // started, so reset to an unstarted state.\n          this.started = false;\n        }\n      }\n    }, {\n      key: 'load',\n      value: function load(isFinalRendition) {\n        var _this2 = this;\n\n        window$1.clearTimeout(this.mediaUpdateTimeout);\n        var media = this.media();\n\n        if (isFinalRendition) {\n          var delay = media ? media.targetDuration / 2 * 1000 : 5 * 1000;\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            return _this2.load();\n          }, delay);\n          return;\n        } // because the playlists are internal to the manifest, load should either load the\n        // main manifest, or do nothing but trigger an event\n\n\n        if (!this.started) {\n          this.start();\n          return;\n        }\n\n        this.trigger('loadedplaylist');\n      }\n      /**\n       * Parses the master xml string and updates playlist uri references\n       *\n       * @return {Object}\n       *         The parsed mpd manifest object\n       */\n\n    }, {\n      key: 'parseMasterXml',\n      value: function parseMasterXml() {\n        var master = parse(this.masterXml_, {\n          manifestUri: this.srcUrl,\n          clientOffset: this.clientOffset_\n        });\n        master.uri = this.srcUrl; // Set up phony URIs for the playlists since we won't have external URIs for DASH\n        // but reference playlists by their URI throughout the project\n        // TODO: Should we create the dummy uris in mpd-parser as well (leaning towards yes).\n\n        for (var i = 0; i < master.playlists.length; i++) {\n          var phonyUri = 'placeholder-uri-' + i;\n          master.playlists[i].uri = phonyUri; // set up by URI references\n\n          master.playlists[phonyUri] = master.playlists[i];\n        } // set up phony URIs for the media group playlists since we won't have external\n        // URIs for DASH but reference playlists by their URI throughout the project\n\n\n        forEachMediaGroup(master, function (properties, mediaType, groupKey, labelKey) {\n          if (properties.playlists && properties.playlists.length) {\n            var _phonyUri = 'placeholder-uri-' + mediaType + '-' + groupKey + '-' + labelKey;\n\n            properties.playlists[0].uri = _phonyUri; // setup URI references\n\n            master.playlists[_phonyUri] = properties.playlists[0];\n          }\n        });\n        setupMediaPlaylists(master);\n        resolveMediaGroupUris(master);\n        return master;\n      }\n    }, {\n      key: 'start',\n      value: function start() {\n        var _this3 = this;\n\n        this.started = true; // We don't need to request the master manifest again\n        // Call this asynchronously to match the xhr request behavior below\n\n        if (this.masterPlaylistLoader_) {\n          this.mediaRequest_ = window$1.setTimeout(this.haveMaster_.bind(this), 0);\n          return;\n        } // request the specified URL\n\n\n        this.request = this.hls_.xhr({\n          uri: this.srcUrl,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this3.request) {\n            return;\n          } // clear the loader's request reference\n\n\n          _this3.request = null;\n\n          if (error) {\n            _this3.error = {\n              status: req.status,\n              message: 'DASH playlist request error at URL: ' + _this3.srcUrl,\n              responseText: req.responseText,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n\n            if (_this3.state === 'HAVE_NOTHING') {\n              _this3.started = false;\n            }\n\n            return _this3.trigger('error');\n          }\n\n          _this3.masterXml_ = req.responseText;\n\n          if (req.responseHeaders && req.responseHeaders.date) {\n            _this3.masterLoaded_ = Date.parse(req.responseHeaders.date);\n          } else {\n            _this3.masterLoaded_ = Date.now();\n          }\n\n          _this3.srcUrl = resolveManifestRedirect(_this3.handleManifestRedirects, _this3.srcUrl, req);\n\n          _this3.syncClientServerClock_(_this3.onClientServerClockSync_.bind(_this3));\n        });\n      }\n      /**\n       * Parses the master xml for UTCTiming node to sync the client clock to the server\n       * clock. If the UTCTiming node requires a HEAD or GET request, that request is made.\n       *\n       * @param {Function} done\n       *        Function to call when clock sync has completed\n       */\n\n    }, {\n      key: 'syncClientServerClock_',\n      value: function syncClientServerClock_(done) {\n        var _this4 = this;\n\n        var utcTiming = parseUTCTiming(this.masterXml_); // No UTCTiming element found in the mpd. Use Date header from mpd request as the\n        // server clock\n\n        if (utcTiming === null) {\n          this.clientOffset_ = this.masterLoaded_ - Date.now();\n          return done();\n        }\n\n        if (utcTiming.method === 'DIRECT') {\n          this.clientOffset_ = utcTiming.value - Date.now();\n          return done();\n        }\n\n        this.request = this.hls_.xhr({\n          uri: resolveUrl$1(this.srcUrl, utcTiming.value),\n          method: utcTiming.method,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this4.request) {\n            return;\n          }\n\n          if (error) {\n            // sync request failed, fall back to using date header from mpd\n            // TODO: log warning\n            _this4.clientOffset_ = _this4.masterLoaded_ - Date.now();\n            return done();\n          }\n\n          var serverTime = void 0;\n\n          if (utcTiming.method === 'HEAD') {\n            if (!req.responseHeaders || !req.responseHeaders.date) {\n              // expected date header not preset, fall back to using date header from mpd\n              // TODO: log warning\n              serverTime = _this4.masterLoaded_;\n            } else {\n              serverTime = Date.parse(req.responseHeaders.date);\n            }\n          } else {\n            serverTime = Date.parse(req.responseText);\n          }\n\n          _this4.clientOffset_ = serverTime - Date.now();\n          done();\n        });\n      }\n    }, {\n      key: 'haveMaster_',\n      value: function haveMaster_() {\n        this.state = 'HAVE_MASTER'; // clear media request\n\n        this.mediaRequest_ = null;\n\n        if (!this.masterPlaylistLoader_) {\n          this.master = this.parseMasterXml(); // We have the master playlist at this point, so\n          // trigger this to allow MasterPlaylistController\n          // to make an initial playlist selection\n\n          this.trigger('loadedplaylist');\n        } else if (!this.media_) {\n          // no media playlist was specifically selected so select\n          // the one the child playlist loader was created with\n          this.media(this.childPlaylist_);\n        }\n      }\n      /**\n       * Handler for after client/server clock synchronization has happened. Sets up\n       * xml refresh timer if specificed by the manifest.\n       */\n\n    }, {\n      key: 'onClientServerClockSync_',\n      value: function onClientServerClockSync_() {\n        var _this5 = this;\n\n        this.haveMaster_();\n\n        if (!this.hasPendingRequest() && !this.media_) {\n          this.media(this.master.playlists[0]);\n        } // TODO: minimumUpdatePeriod can have a value of 0. Currently the manifest will not\n        // be refreshed when this is the case. The inter-op guide says that when the\n        // minimumUpdatePeriod is 0, the manifest should outline all currently available\n        // segments, but future segments may require an update. I think a good solution\n        // would be to update the manifest at the same rate that the media playlists\n        // are \"refreshed\", i.e. every targetDuration.\n\n\n        if (this.master && this.master.minimumUpdatePeriod) {\n          window$1.setTimeout(function () {\n            _this5.trigger('minimumUpdatePeriod');\n          }, this.master.minimumUpdatePeriod);\n        }\n      }\n      /**\n       * Sends request to refresh the master xml and updates the parsed master manifest\n       * TODO: Does the client offset need to be recalculated when the xml is refreshed?\n       */\n\n    }, {\n      key: 'refreshXml_',\n      value: function refreshXml_() {\n        var _this6 = this; // The srcUrl here *may* need to pass through handleManifestsRedirects when\n        // sidx is implemented\n\n\n        this.request = this.hls_.xhr({\n          uri: this.srcUrl,\n          withCredentials: this.withCredentials\n        }, function (error, req) {\n          // disposed\n          if (!_this6.request) {\n            return;\n          } // clear the loader's request reference\n\n\n          _this6.request = null;\n\n          if (error) {\n            _this6.error = {\n              status: req.status,\n              message: 'DASH playlist request error at URL: ' + _this6.srcUrl,\n              responseText: req.responseText,\n              // MEDIA_ERR_NETWORK\n              code: 2\n            };\n\n            if (_this6.state === 'HAVE_NOTHING') {\n              _this6.started = false;\n            }\n\n            return _this6.trigger('error');\n          }\n\n          _this6.masterXml_ = req.responseText;\n\n          var newMaster = _this6.parseMasterXml();\n\n          var updatedMaster = updateMaster$1(_this6.master, newMaster);\n\n          if (updatedMaster) {\n            _this6.master = updatedMaster;\n          }\n\n          window$1.setTimeout(function () {\n            _this6.trigger('minimumUpdatePeriod');\n          }, _this6.master.minimumUpdatePeriod);\n        });\n      }\n      /**\n       * Refreshes the media playlist by re-parsing the master xml and updating playlist\n       * references. If this is an alternate loader, the updated parsed manifest is retrieved\n       * from the master loader.\n       */\n\n    }, {\n      key: 'refreshMedia_',\n      value: function refreshMedia_() {\n        var _this7 = this;\n\n        var oldMaster = void 0;\n        var newMaster = void 0;\n\n        if (this.masterPlaylistLoader_) {\n          oldMaster = this.masterPlaylistLoader_.master;\n          newMaster = this.masterPlaylistLoader_.parseMasterXml();\n        } else {\n          oldMaster = this.master;\n          newMaster = this.parseMasterXml();\n        }\n\n        var updatedMaster = updateMaster$1(oldMaster, newMaster);\n\n        if (updatedMaster) {\n          if (this.masterPlaylistLoader_) {\n            this.masterPlaylistLoader_.master = updatedMaster;\n          } else {\n            this.master = updatedMaster;\n          }\n\n          this.media_ = updatedMaster.playlists[this.media_.uri];\n        } else {\n          this.trigger('playlistunchanged');\n        }\n\n        if (!this.media().endList) {\n          this.mediaUpdateTimeout = window$1.setTimeout(function () {\n            _this7.trigger('mediaupdatetimeout');\n          }, refreshDelay(this.media(), !!updatedMaster));\n        }\n\n        this.trigger('loadedplaylist');\n      }\n    }]);\n    return DashPlaylistLoader;\n  }(EventTarget$1$1);\n\n  var logger = function logger(source) {\n    if (videojs$1.log.debug) {\n      return videojs$1.log.debug.bind(videojs$1, 'VHS:', source + ' >');\n    }\n\n    return function () {};\n  };\n\n  function noop$1() {}\n  /**\n   * @file source-updater.js\n   */\n\n  /**\n   * A queue of callbacks to be serialized and applied when a\n   * MediaSource and its associated SourceBuffers are not in the\n   * updating state. It is used by the segment loader to update the\n   * underlying SourceBuffers when new data is loaded, for instance.\n   *\n   * @class SourceUpdater\n   * @param {MediaSource} mediaSource the MediaSource to create the\n   * SourceBuffer from\n   * @param {String} mimeType the desired MIME type of the underlying\n   * SourceBuffer\n   * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer is\n   * added to the media source\n   */\n\n\n  var SourceUpdater = function () {\n    function SourceUpdater(mediaSource, mimeType, type, sourceBufferEmitter) {\n      classCallCheck$1(this, SourceUpdater);\n      this.callbacks_ = [];\n      this.pendingCallback_ = null;\n      this.timestampOffset_ = 0;\n      this.mediaSource = mediaSource;\n      this.processedAppend_ = false;\n      this.type_ = type;\n      this.mimeType_ = mimeType;\n      this.logger_ = logger('SourceUpdater[' + type + '][' + mimeType + ']');\n\n      if (mediaSource.readyState === 'closed') {\n        mediaSource.addEventListener('sourceopen', this.createSourceBuffer_.bind(this, mimeType, sourceBufferEmitter));\n      } else {\n        this.createSourceBuffer_(mimeType, sourceBufferEmitter);\n      }\n    }\n\n    createClass$1(SourceUpdater, [{\n      key: 'createSourceBuffer_',\n      value: function createSourceBuffer_(mimeType, sourceBufferEmitter) {\n        var _this = this;\n\n        this.sourceBuffer_ = this.mediaSource.addSourceBuffer(mimeType);\n        this.logger_('created SourceBuffer');\n\n        if (sourceBufferEmitter) {\n          sourceBufferEmitter.trigger('sourcebufferadded');\n\n          if (this.mediaSource.sourceBuffers.length < 2) {\n            // There's another source buffer we must wait for before we can start updating\n            // our own (or else we can get into a bad state, i.e., appending video/audio data\n            // before the other video/audio source buffer is available and leading to a video\n            // or audio only buffer).\n            sourceBufferEmitter.on('sourcebufferadded', function () {\n              _this.start_();\n            });\n            return;\n          }\n        }\n\n        this.start_();\n      }\n    }, {\n      key: 'start_',\n      value: function start_() {\n        var _this2 = this;\n\n        this.started_ = true; // run completion handlers and process callbacks as updateend\n        // events fire\n\n        this.onUpdateendCallback_ = function () {\n          var pendingCallback = _this2.pendingCallback_;\n          _this2.pendingCallback_ = null;\n\n          _this2.logger_('buffered [' + printableRange(_this2.buffered()) + ']');\n\n          if (pendingCallback) {\n            pendingCallback();\n          }\n\n          _this2.runCallback_();\n        };\n\n        this.sourceBuffer_.addEventListener('updateend', this.onUpdateendCallback_);\n        this.runCallback_();\n      }\n      /**\n       * Aborts the current segment and resets the segment parser.\n       *\n       * @param {Function} done function to call when done\n       * @see http://w3c.github.io/media-source/#widl-SourceBuffer-abort-void\n       */\n\n    }, {\n      key: 'abort',\n      value: function abort(done) {\n        var _this3 = this;\n\n        if (this.processedAppend_) {\n          this.queueCallback_(function () {\n            _this3.sourceBuffer_.abort();\n          }, done);\n        }\n      }\n      /**\n       * Queue an update to append an ArrayBuffer.\n       *\n       * @param {ArrayBuffer} bytes\n       * @param {Function} done the function to call when done\n       * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-appendBuffer-void-ArrayBuffer-data\n       */\n\n    }, {\n      key: 'appendBuffer',\n      value: function appendBuffer(config, done) {\n        var _this4 = this;\n\n        this.processedAppend_ = true;\n        this.queueCallback_(function () {\n          if (config.videoSegmentTimingInfoCallback) {\n            _this4.sourceBuffer_.addEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n          }\n\n          _this4.sourceBuffer_.appendBuffer(config.bytes);\n        }, function () {\n          if (config.videoSegmentTimingInfoCallback) {\n            _this4.sourceBuffer_.removeEventListener('videoSegmentTimingInfo', config.videoSegmentTimingInfoCallback);\n          }\n\n          done();\n        });\n      }\n      /**\n       * Indicates what TimeRanges are buffered in the managed SourceBuffer.\n       *\n       * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-buffered\n       */\n\n    }, {\n      key: 'buffered',\n      value: function buffered() {\n        if (!this.sourceBuffer_) {\n          return videojs$1.createTimeRanges();\n        }\n\n        return this.sourceBuffer_.buffered;\n      }\n      /**\n       * Queue an update to remove a time range from the buffer.\n       *\n       * @param {Number} start where to start the removal\n       * @param {Number} end where to end the removal\n       * @param {Function} [done=noop] optional callback to be executed when the remove\n       * operation is complete\n       * @see http://www.w3.org/TR/media-source/#widl-SourceBuffer-remove-void-double-start-unrestricted-double-end\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end) {\n        var _this5 = this;\n\n        var done = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : noop$1;\n\n        if (this.processedAppend_) {\n          this.queueCallback_(function () {\n            _this5.logger_('remove [' + start + ' => ' + end + ']');\n\n            _this5.sourceBuffer_.remove(start, end);\n          }, done);\n        }\n      }\n      /**\n       * Whether the underlying sourceBuffer is updating or not\n       *\n       * @return {Boolean} the updating status of the SourceBuffer\n       */\n\n    }, {\n      key: 'updating',\n      value: function updating() {\n        // we are updating if the sourcebuffer is updating or\n        return !this.sourceBuffer_ || this.sourceBuffer_.updating || // if we have a pending callback that is not our internal noop\n        !!this.pendingCallback_ && this.pendingCallback_ !== noop$1;\n      }\n      /**\n       * Set/get the timestampoffset on the SourceBuffer\n       *\n       * @return {Number} the timestamp offset\n       */\n\n    }, {\n      key: 'timestampOffset',\n      value: function timestampOffset(offset) {\n        var _this6 = this;\n\n        if (typeof offset !== 'undefined') {\n          this.queueCallback_(function () {\n            _this6.sourceBuffer_.timestampOffset = offset;\n          });\n          this.timestampOffset_ = offset;\n        }\n\n        return this.timestampOffset_;\n      }\n      /**\n       * Queue a callback to run\n       */\n\n    }, {\n      key: 'queueCallback_',\n      value: function queueCallback_(callback, done) {\n        this.callbacks_.push([callback.bind(this), done]);\n        this.runCallback_();\n      }\n      /**\n       * Run a queued callback\n       */\n\n    }, {\n      key: 'runCallback_',\n      value: function runCallback_() {\n        var callbacks = void 0;\n\n        if (!this.updating() && this.callbacks_.length && this.started_) {\n          callbacks = this.callbacks_.shift();\n          this.pendingCallback_ = callbacks[1];\n          callbacks[0]();\n        }\n      }\n      /**\n       * dispose of the source updater and the underlying sourceBuffer\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.sourceBuffer_.removeEventListener('updateend', this.onUpdateendCallback_);\n\n        if (this.sourceBuffer_ && this.mediaSource.readyState === 'open') {\n          this.sourceBuffer_.abort();\n        }\n      }\n    }]);\n    return SourceUpdater;\n  }();\n\n  var Config = {\n    GOAL_BUFFER_LENGTH: 30,\n    MAX_GOAL_BUFFER_LENGTH: 60,\n    GOAL_BUFFER_LENGTH_RATE: 1,\n    // 0.5 MB/s\n    INITIAL_BANDWIDTH: 4194304,\n    // A fudge factor to apply to advertised playlist bitrates to account for\n    // temporary flucations in client bandwidth\n    BANDWIDTH_VARIANCE: 1.2,\n    // How much of the buffer must be filled before we consider upswitching\n    BUFFER_LOW_WATER_LINE: 0,\n    MAX_BUFFER_LOW_WATER_LINE: 30,\n    BUFFER_LOW_WATER_LINE_RATE: 1\n  };\n  var REQUEST_ERRORS = {\n    FAILURE: 2,\n    TIMEOUT: -101,\n    ABORTED: -102\n  };\n  /**\n   * Turns segment byterange into a string suitable for use in\n   * HTTP Range requests\n   *\n   * @param {Object} byterange - an object with two values defining the start and end\n   *                             of a byte-range\n   */\n\n  var byterangeStr = function byterangeStr(byterange) {\n    var byterangeStart = void 0;\n    var byterangeEnd = void 0; // `byterangeEnd` is one less than `offset + length` because the HTTP range\n    // header uses inclusive ranges\n\n    byterangeEnd = byterange.offset + byterange.length - 1;\n    byterangeStart = byterange.offset;\n    return 'bytes=' + byterangeStart + '-' + byterangeEnd;\n  };\n  /**\n   * Defines headers for use in the xhr request for a particular segment.\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   */\n\n\n  var segmentXhrHeaders = function segmentXhrHeaders(segment) {\n    var headers = {};\n\n    if (segment.byterange) {\n      headers.Range = byterangeStr(segment.byterange);\n    }\n\n    return headers;\n  };\n  /**\n   * Abort all requests\n   *\n   * @param {Object} activeXhrs - an object that tracks all XHR requests\n   */\n\n\n  var abortAll = function abortAll(activeXhrs) {\n    activeXhrs.forEach(function (xhr) {\n      xhr.abort();\n    });\n  };\n  /**\n   * Gather important bandwidth stats once a request has completed\n   *\n   * @param {Object} request - the XHR request from which to gather stats\n   */\n\n\n  var getRequestStats = function getRequestStats(request) {\n    return {\n      bandwidth: request.bandwidth,\n      bytesReceived: request.bytesReceived || 0,\n      roundTripTime: request.roundTripTime || 0\n    };\n  };\n  /**\n   * If possible gather bandwidth stats as a request is in\n   * progress\n   *\n   * @param {Event} progressEvent - an event object from an XHR's progress event\n   */\n\n\n  var getProgressStats = function getProgressStats(progressEvent) {\n    var request = progressEvent.target;\n    var roundTripTime = Date.now() - request.requestTime;\n    var stats = {\n      bandwidth: Infinity,\n      bytesReceived: 0,\n      roundTripTime: roundTripTime || 0\n    };\n    stats.bytesReceived = progressEvent.loaded; // This can result in Infinity if stats.roundTripTime is 0 but that is ok\n    // because we should only use bandwidth stats on progress to determine when\n    // abort a request early due to insufficient bandwidth\n\n    stats.bandwidth = Math.floor(stats.bytesReceived / stats.roundTripTime * 8 * 1000);\n    return stats;\n  };\n  /**\n   * Handle all error conditions in one place and return an object\n   * with all the information\n   *\n   * @param {Error|null} error - if non-null signals an error occured with the XHR\n   * @param {Object} request -  the XHR request that possibly generated the error\n   */\n\n\n  var handleErrors = function handleErrors(error, request) {\n    if (request.timedout) {\n      return {\n        status: request.status,\n        message: 'HLS request timed-out at URL: ' + request.uri,\n        code: REQUEST_ERRORS.TIMEOUT,\n        xhr: request\n      };\n    }\n\n    if (request.aborted) {\n      return {\n        status: request.status,\n        message: 'HLS request aborted at URL: ' + request.uri,\n        code: REQUEST_ERRORS.ABORTED,\n        xhr: request\n      };\n    }\n\n    if (error) {\n      return {\n        status: request.status,\n        message: 'HLS request errored at URL: ' + request.uri,\n        code: REQUEST_ERRORS.FAILURE,\n        xhr: request\n      };\n    }\n\n    return null;\n  };\n  /**\n   * Handle responses for key data and convert the key data to the correct format\n   * for the decryption step later\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} finishProcessingFn - a callback to execute to continue processing\n   *                                        this request\n   */\n\n\n  var handleKeyResponse = function handleKeyResponse(segment, finishProcessingFn) {\n    return function (error, request) {\n      var response = request.response;\n      var errorObj = handleErrors(error, request);\n\n      if (errorObj) {\n        return finishProcessingFn(errorObj, segment);\n      }\n\n      if (response.byteLength !== 16) {\n        return finishProcessingFn({\n          status: request.status,\n          message: 'Invalid HLS key at URL: ' + request.uri,\n          code: REQUEST_ERRORS.FAILURE,\n          xhr: request\n        }, segment);\n      }\n\n      var view = new DataView(response);\n      segment.key.bytes = new Uint32Array([view.getUint32(0), view.getUint32(4), view.getUint32(8), view.getUint32(12)]);\n      return finishProcessingFn(null, segment);\n    };\n  };\n  /**\n   * Handle init-segment responses\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} finishProcessingFn - a callback to execute to continue processing\n   *                                        this request\n   */\n\n\n  var handleInitSegmentResponse = function handleInitSegmentResponse(segment, captionParser, finishProcessingFn) {\n    return function (error, request) {\n      var response = request.response;\n      var errorObj = handleErrors(error, request);\n\n      if (errorObj) {\n        return finishProcessingFn(errorObj, segment);\n      } // stop processing if received empty content\n\n\n      if (response.byteLength === 0) {\n        return finishProcessingFn({\n          status: request.status,\n          message: 'Empty HLS segment content at URL: ' + request.uri,\n          code: REQUEST_ERRORS.FAILURE,\n          xhr: request\n        }, segment);\n      }\n\n      segment.map.bytes = new Uint8Array(request.response); // Initialize CaptionParser if it hasn't been yet\n\n      if (!captionParser.isInitialized()) {\n        captionParser.init();\n      }\n\n      segment.map.timescales = probe.timescale(segment.map.bytes);\n      segment.map.videoTrackIds = probe.videoTrackIds(segment.map.bytes);\n      return finishProcessingFn(null, segment);\n    };\n  };\n  /**\n   * Response handler for segment-requests being sure to set the correct\n   * property depending on whether the segment is encryped or not\n   * Also records and keeps track of stats that are used for ABR purposes\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} finishProcessingFn - a callback to execute to continue processing\n   *                                        this request\n   */\n\n\n  var handleSegmentResponse = function handleSegmentResponse(segment, captionParser, finishProcessingFn) {\n    return function (error, request) {\n      var response = request.response;\n      var errorObj = handleErrors(error, request);\n      var parsed = void 0;\n\n      if (errorObj) {\n        return finishProcessingFn(errorObj, segment);\n      } // stop processing if received empty content\n\n\n      if (response.byteLength === 0) {\n        return finishProcessingFn({\n          status: request.status,\n          message: 'Empty HLS segment content at URL: ' + request.uri,\n          code: REQUEST_ERRORS.FAILURE,\n          xhr: request\n        }, segment);\n      }\n\n      segment.stats = getRequestStats(request);\n\n      if (segment.key) {\n        segment.encryptedBytes = new Uint8Array(request.response);\n      } else {\n        segment.bytes = new Uint8Array(request.response);\n      } // This is likely an FMP4 and has the init segment.\n      // Run through the CaptionParser in case there are captions.\n\n\n      if (segment.map && segment.map.bytes) {\n        // Initialize CaptionParser if it hasn't been yet\n        if (!captionParser.isInitialized()) {\n          captionParser.init();\n        }\n\n        parsed = captionParser.parse(segment.bytes, segment.map.videoTrackIds, segment.map.timescales);\n\n        if (parsed && parsed.captions) {\n          segment.captionStreams = parsed.captionStreams;\n          segment.fmp4Captions = parsed.captions;\n        }\n      }\n\n      return finishProcessingFn(null, segment);\n    };\n  };\n  /**\n   * Decrypt the segment via the decryption web worker\n   *\n   * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} doneFn - a callback that is executed after decryption has completed\n   */\n\n\n  var decryptSegment = function decryptSegment(decrypter, segment, doneFn) {\n    var decryptionHandler = function decryptionHandler(event) {\n      if (event.data.source === segment.requestId) {\n        decrypter.removeEventListener('message', decryptionHandler);\n        var decrypted = event.data.decrypted;\n        segment.bytes = new Uint8Array(decrypted.bytes, decrypted.byteOffset, decrypted.byteLength);\n        return doneFn(null, segment);\n      }\n    };\n\n    decrypter.addEventListener('message', decryptionHandler); // this is an encrypted segment\n    // incrementally decrypt the segment\n\n    decrypter.postMessage(createTransferableMessage({\n      source: segment.requestId,\n      encrypted: segment.encryptedBytes,\n      key: segment.key.bytes,\n      iv: segment.key.iv\n    }), [segment.encryptedBytes.buffer, segment.key.bytes.buffer]);\n  };\n  /**\n   * This function waits for all XHRs to finish (with either success or failure)\n   * before continueing processing via it's callback. The function gathers errors\n   * from each request into a single errors array so that the error status for\n   * each request can be examined later.\n   *\n   * @param {Object} activeXhrs - an object that tracks all XHR requests\n   * @param {WebWorker} decrypter - a WebWorker interface to AES-128 decryption routines\n   * @param {Function} doneFn - a callback that is executed after all resources have been\n   *                            downloaded and any decryption completed\n   */\n\n\n  var waitForCompletion = function waitForCompletion(activeXhrs, decrypter, doneFn) {\n    var count = 0;\n    var didError = false;\n    return function (error, segment) {\n      if (didError) {\n        return;\n      }\n\n      if (error) {\n        didError = true; // If there are errors, we have to abort any outstanding requests\n\n        abortAll(activeXhrs); // Even though the requests above are aborted, and in theory we could wait until we\n        // handle the aborted events from those requests, there are some cases where we may\n        // never get an aborted event. For instance, if the network connection is lost and\n        // there were two requests, the first may have triggered an error immediately, while\n        // the second request remains unsent. In that case, the aborted algorithm will not\n        // trigger an abort: see https://xhr.spec.whatwg.org/#the-abort()-method\n        //\n        // We also can't rely on the ready state of the XHR, since the request that\n        // triggered the connection error may also show as a ready state of 0 (unsent).\n        // Therefore, we have to finish this group of requests immediately after the first\n        // seen error.\n\n        return doneFn(error, segment);\n      }\n\n      count += 1;\n\n      if (count === activeXhrs.length) {\n        // Keep track of when *all* of the requests have completed\n        segment.endOfAllRequests = Date.now();\n\n        if (segment.encryptedBytes) {\n          return decryptSegment(decrypter, segment, doneFn);\n        } // Otherwise, everything is ready just continue\n\n\n        return doneFn(null, segment);\n      }\n    };\n  };\n  /**\n   * Simple progress event callback handler that gathers some stats before\n   * executing a provided callback with the `segment` object\n   *\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} progressFn - a callback that is executed each time a progress event\n   *                                is received\n   * @param {Event} event - the progress event object from XMLHttpRequest\n   */\n\n\n  var handleProgress = function handleProgress(segment, progressFn) {\n    return function (event) {\n      segment.stats = videojs$1.mergeOptions(segment.stats, getProgressStats(event)); // record the time that we receive the first byte of data\n\n      if (!segment.stats.firstBytesReceivedAt && segment.stats.bytesReceived) {\n        segment.stats.firstBytesReceivedAt = Date.now();\n      }\n\n      return progressFn(event, segment);\n    };\n  };\n  /**\n   * Load all resources and does any processing necessary for a media-segment\n   *\n   * Features:\n   *   decrypts the media-segment if it has a key uri and an iv\n   *   aborts *all* requests if *any* one request fails\n   *\n   * The segment object, at minimum, has the following format:\n   * {\n   *   resolvedUri: String,\n   *   [byterange]: {\n   *     offset: Number,\n   *     length: Number\n   *   },\n   *   [key]: {\n   *     resolvedUri: String\n   *     [byterange]: {\n   *       offset: Number,\n   *       length: Number\n   *     },\n   *     iv: {\n   *       bytes: Uint32Array\n   *     }\n   *   },\n   *   [map]: {\n   *     resolvedUri: String,\n   *     [byterange]: {\n   *       offset: Number,\n   *       length: Number\n   *     },\n   *     [bytes]: Uint8Array\n   *   }\n   * }\n   * ...where [name] denotes optional properties\n   *\n   * @param {Function} xhr - an instance of the xhr wrapper in xhr.js\n   * @param {Object} xhrOptions - the base options to provide to all xhr requests\n   * @param {WebWorker} decryptionWorker - a WebWorker interface to AES-128\n   *                                       decryption routines\n   * @param {Object} segment - a simplified copy of the segmentInfo object\n   *                           from SegmentLoader\n   * @param {Function} progressFn - a callback that receives progress events from the main\n   *                                segment's xhr request\n   * @param {Function} doneFn - a callback that is executed only once all requests have\n   *                            succeeded or failed\n   * @returns {Function} a function that, when invoked, immediately aborts all\n   *                     outstanding requests\n   */\n\n\n  var mediaSegmentRequest = function mediaSegmentRequest(xhr, xhrOptions, decryptionWorker, captionParser, segment, progressFn, doneFn) {\n    var activeXhrs = [];\n    var finishProcessingFn = waitForCompletion(activeXhrs, decryptionWorker, doneFn); // optionally, request the decryption key\n\n    if (segment.key) {\n      var keyRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n        uri: segment.key.resolvedUri,\n        responseType: 'arraybuffer'\n      });\n      var keyRequestCallback = handleKeyResponse(segment, finishProcessingFn);\n      var keyXhr = xhr(keyRequestOptions, keyRequestCallback);\n      activeXhrs.push(keyXhr);\n    } // optionally, request the associated media init segment\n\n\n    if (segment.map && !segment.map.bytes) {\n      var initSegmentOptions = videojs$1.mergeOptions(xhrOptions, {\n        uri: segment.map.resolvedUri,\n        responseType: 'arraybuffer',\n        headers: segmentXhrHeaders(segment.map)\n      });\n      var initSegmentRequestCallback = handleInitSegmentResponse(segment, captionParser, finishProcessingFn);\n      var initSegmentXhr = xhr(initSegmentOptions, initSegmentRequestCallback);\n      activeXhrs.push(initSegmentXhr);\n    }\n\n    var segmentRequestOptions = videojs$1.mergeOptions(xhrOptions, {\n      uri: segment.resolvedUri,\n      responseType: 'arraybuffer',\n      headers: segmentXhrHeaders(segment)\n    });\n    var segmentRequestCallback = handleSegmentResponse(segment, captionParser, finishProcessingFn);\n    var segmentXhr = xhr(segmentRequestOptions, segmentRequestCallback);\n    segmentXhr.addEventListener('progress', handleProgress(segment, progressFn));\n    activeXhrs.push(segmentXhr);\n    return function () {\n      return abortAll(activeXhrs);\n    };\n  }; // Utilities\n\n  /**\n   * Returns the CSS value for the specified property on an element\n   * using `getComputedStyle`. Firefox has a long-standing issue where\n   * getComputedStyle() may return null when running in an iframe with\n   * `display: none`.\n   *\n   * @see https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n   * @param {HTMLElement} el the htmlelement to work on\n   * @param {string} the proprety to get the style for\n   */\n\n\n  var safeGetComputedStyle = function safeGetComputedStyle(el, property) {\n    var result = void 0;\n\n    if (!el) {\n      return '';\n    }\n\n    result = window$1.getComputedStyle(el);\n\n    if (!result) {\n      return '';\n    }\n\n    return result[property];\n  };\n  /**\n   * Resuable stable sort function\n   *\n   * @param {Playlists} array\n   * @param {Function} sortFn Different comparators\n   * @function stableSort\n   */\n\n\n  var stableSort = function stableSort(array, sortFn) {\n    var newArray = array.slice();\n    array.sort(function (left, right) {\n      var cmp = sortFn(left, right);\n\n      if (cmp === 0) {\n        return newArray.indexOf(left) - newArray.indexOf(right);\n      }\n\n      return cmp;\n    });\n  };\n  /**\n   * A comparator function to sort two playlist object by bandwidth.\n   *\n   * @param {Object} left a media playlist object\n   * @param {Object} right a media playlist object\n   * @return {Number} Greater than zero if the bandwidth attribute of\n   * left is greater than the corresponding attribute of right. Less\n   * than zero if the bandwidth of right is greater than left and\n   * exactly zero if the two are equal.\n   */\n\n\n  var comparePlaylistBandwidth = function comparePlaylistBandwidth(left, right) {\n    var leftBandwidth = void 0;\n    var rightBandwidth = void 0;\n\n    if (left.attributes.BANDWIDTH) {\n      leftBandwidth = left.attributes.BANDWIDTH;\n    }\n\n    leftBandwidth = leftBandwidth || window$1.Number.MAX_VALUE;\n\n    if (right.attributes.BANDWIDTH) {\n      rightBandwidth = right.attributes.BANDWIDTH;\n    }\n\n    rightBandwidth = rightBandwidth || window$1.Number.MAX_VALUE;\n    return leftBandwidth - rightBandwidth;\n  };\n  /**\n   * A comparator function to sort two playlist object by resolution (width).\n   * @param {Object} left a media playlist object\n   * @param {Object} right a media playlist object\n   * @return {Number} Greater than zero if the resolution.width attribute of\n   * left is greater than the corresponding attribute of right. Less\n   * than zero if the resolution.width of right is greater than left and\n   * exactly zero if the two are equal.\n   */\n\n\n  var comparePlaylistResolution = function comparePlaylistResolution(left, right) {\n    var leftWidth = void 0;\n    var rightWidth = void 0;\n\n    if (left.attributes.RESOLUTION && left.attributes.RESOLUTION.width) {\n      leftWidth = left.attributes.RESOLUTION.width;\n    }\n\n    leftWidth = leftWidth || window$1.Number.MAX_VALUE;\n\n    if (right.attributes.RESOLUTION && right.attributes.RESOLUTION.width) {\n      rightWidth = right.attributes.RESOLUTION.width;\n    }\n\n    rightWidth = rightWidth || window$1.Number.MAX_VALUE; // NOTE - Fallback to bandwidth sort as appropriate in cases where multiple renditions\n    // have the same media dimensions/ resolution\n\n    if (leftWidth === rightWidth && left.attributes.BANDWIDTH && right.attributes.BANDWIDTH) {\n      return left.attributes.BANDWIDTH - right.attributes.BANDWIDTH;\n    }\n\n    return leftWidth - rightWidth;\n  };\n  /**\n   * Chooses the appropriate media playlist based on bandwidth and player size\n   *\n   * @param {Object} master\n   *        Object representation of the master manifest\n   * @param {Number} playerBandwidth\n   *        Current calculated bandwidth of the player\n   * @param {Number} playerWidth\n   *        Current width of the player element\n   * @param {Number} playerHeight\n   *        Current height of the player element\n   * @param {Boolean} limitRenditionByPlayerDimensions\n   *        True if the player width and height should be used during the selection, false otherwise\n   * @return {Playlist} the highest bitrate playlist less than the\n   * currently detected bandwidth, accounting for some amount of\n   * bandwidth variance\n   */\n\n\n  var simpleSelector = function simpleSelector(master, playerBandwidth, playerWidth, playerHeight, limitRenditionByPlayerDimensions) {\n    // convert the playlists to an intermediary representation to make comparisons easier\n    var sortedPlaylistReps = master.playlists.map(function (playlist) {\n      var width = void 0;\n      var height = void 0;\n      var bandwidth = void 0;\n      width = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.width;\n      height = playlist.attributes.RESOLUTION && playlist.attributes.RESOLUTION.height;\n      bandwidth = playlist.attributes.BANDWIDTH;\n      bandwidth = bandwidth || window$1.Number.MAX_VALUE;\n      return {\n        bandwidth: bandwidth,\n        width: width,\n        height: height,\n        playlist: playlist\n      };\n    });\n    stableSort(sortedPlaylistReps, function (left, right) {\n      return left.bandwidth - right.bandwidth;\n    }); // filter out any playlists that have been excluded due to\n    // incompatible configurations\n\n    sortedPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n      return !Playlist.isIncompatible(rep.playlist);\n    }); // filter out any playlists that have been disabled manually through the representations\n    // api or blacklisted temporarily due to playback errors.\n\n    var enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n      return Playlist.isEnabled(rep.playlist);\n    });\n\n    if (!enabledPlaylistReps.length) {\n      // if there are no enabled playlists, then they have all been blacklisted or disabled\n      // by the user through the representations api. In this case, ignore blacklisting and\n      // fallback to what the user wants by using playlists the user has not disabled.\n      enabledPlaylistReps = sortedPlaylistReps.filter(function (rep) {\n        return !Playlist.isDisabled(rep.playlist);\n      });\n    } // filter out any variant that has greater effective bitrate\n    // than the current estimated bandwidth\n\n\n    var bandwidthPlaylistReps = enabledPlaylistReps.filter(function (rep) {\n      return rep.bandwidth * Config.BANDWIDTH_VARIANCE < playerBandwidth;\n    });\n    var highestRemainingBandwidthRep = bandwidthPlaylistReps[bandwidthPlaylistReps.length - 1]; // get all of the renditions with the same (highest) bandwidth\n    // and then taking the very first element\n\n    var bandwidthBestRep = bandwidthPlaylistReps.filter(function (rep) {\n      return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n    })[0]; // if we're not going to limit renditions by player size, make an early decision.\n\n    if (limitRenditionByPlayerDimensions === false) {\n      var _chosenRep = bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n\n      return _chosenRep ? _chosenRep.playlist : null;\n    } // filter out playlists without resolution information\n\n\n    var haveResolution = bandwidthPlaylistReps.filter(function (rep) {\n      return rep.width && rep.height;\n    }); // sort variants by resolution\n\n    stableSort(haveResolution, function (left, right) {\n      return left.width - right.width;\n    }); // if we have the exact resolution as the player use it\n\n    var resolutionBestRepList = haveResolution.filter(function (rep) {\n      return rep.width === playerWidth && rep.height === playerHeight;\n    });\n    highestRemainingBandwidthRep = resolutionBestRepList[resolutionBestRepList.length - 1]; // ensure that we pick the highest bandwidth variant that have exact resolution\n\n    var resolutionBestRep = resolutionBestRepList.filter(function (rep) {\n      return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n    })[0];\n    var resolutionPlusOneList = void 0;\n    var resolutionPlusOneSmallest = void 0;\n    var resolutionPlusOneRep = void 0; // find the smallest variant that is larger than the player\n    // if there is no match of exact resolution\n\n    if (!resolutionBestRep) {\n      resolutionPlusOneList = haveResolution.filter(function (rep) {\n        return rep.width > playerWidth || rep.height > playerHeight;\n      }); // find all the variants have the same smallest resolution\n\n      resolutionPlusOneSmallest = resolutionPlusOneList.filter(function (rep) {\n        return rep.width === resolutionPlusOneList[0].width && rep.height === resolutionPlusOneList[0].height;\n      }); // ensure that we also pick the highest bandwidth variant that\n      // is just-larger-than the video player\n\n      highestRemainingBandwidthRep = resolutionPlusOneSmallest[resolutionPlusOneSmallest.length - 1];\n      resolutionPlusOneRep = resolutionPlusOneSmallest.filter(function (rep) {\n        return rep.bandwidth === highestRemainingBandwidthRep.bandwidth;\n      })[0];\n    } // fallback chain of variants\n\n\n    var chosenRep = resolutionPlusOneRep || resolutionBestRep || bandwidthBestRep || enabledPlaylistReps[0] || sortedPlaylistReps[0];\n    return chosenRep ? chosenRep.playlist : null;\n  }; // Playlist Selectors\n\n  /**\n   * Chooses the appropriate media playlist based on the most recent\n   * bandwidth estimate and the player size.\n   *\n   * Expects to be called within the context of an instance of HlsHandler\n   *\n   * @return {Playlist} the highest bitrate playlist less than the\n   * currently detected bandwidth, accounting for some amount of\n   * bandwidth variance\n   */\n\n\n  var lastBandwidthSelector = function lastBandwidthSelector() {\n    return simpleSelector(this.playlists.master, this.systemBandwidth, parseInt(safeGetComputedStyle(this.tech_.el(), 'width'), 10), parseInt(safeGetComputedStyle(this.tech_.el(), 'height'), 10), this.limitRenditionByPlayerDimensions);\n  };\n  /**\n   * Chooses the appropriate media playlist based on the potential to rebuffer\n   *\n   * @param {Object} settings\n   *        Object of information required to use this selector\n   * @param {Object} settings.master\n   *        Object representation of the master manifest\n   * @param {Number} settings.currentTime\n   *        The current time of the player\n   * @param {Number} settings.bandwidth\n   *        Current measured bandwidth\n   * @param {Number} settings.duration\n   *        Duration of the media\n   * @param {Number} settings.segmentDuration\n   *        Segment duration to be used in round trip time calculations\n   * @param {Number} settings.timeUntilRebuffer\n   *        Time left in seconds until the player has to rebuffer\n   * @param {Number} settings.currentTimeline\n   *        The current timeline segments are being loaded from\n   * @param {SyncController} settings.syncController\n   *        SyncController for determining if we have a sync point for a given playlist\n   * @return {Object|null}\n   *         {Object} return.playlist\n   *         The highest bandwidth playlist with the least amount of rebuffering\n   *         {Number} return.rebufferingImpact\n   *         The amount of time in seconds switching to this playlist will rebuffer. A\n   *         negative value means that switching will cause zero rebuffering.\n   */\n\n\n  var minRebufferMaxBandwidthSelector = function minRebufferMaxBandwidthSelector(settings) {\n    var master = settings.master,\n        currentTime = settings.currentTime,\n        bandwidth = settings.bandwidth,\n        duration$$1 = settings.duration,\n        segmentDuration = settings.segmentDuration,\n        timeUntilRebuffer = settings.timeUntilRebuffer,\n        currentTimeline = settings.currentTimeline,\n        syncController = settings.syncController; // filter out any playlists that have been excluded due to\n    // incompatible configurations\n\n    var compatiblePlaylists = master.playlists.filter(function (playlist) {\n      return !Playlist.isIncompatible(playlist);\n    }); // filter out any playlists that have been disabled manually through the representations\n    // api or blacklisted temporarily due to playback errors.\n\n    var enabledPlaylists = compatiblePlaylists.filter(Playlist.isEnabled);\n\n    if (!enabledPlaylists.length) {\n      // if there are no enabled playlists, then they have all been blacklisted or disabled\n      // by the user through the representations api. In this case, ignore blacklisting and\n      // fallback to what the user wants by using playlists the user has not disabled.\n      enabledPlaylists = compatiblePlaylists.filter(function (playlist) {\n        return !Playlist.isDisabled(playlist);\n      });\n    }\n\n    var bandwidthPlaylists = enabledPlaylists.filter(Playlist.hasAttribute.bind(null, 'BANDWIDTH'));\n    var rebufferingEstimates = bandwidthPlaylists.map(function (playlist) {\n      var syncPoint = syncController.getSyncPoint(playlist, duration$$1, currentTimeline, currentTime); // If there is no sync point for this playlist, switching to it will require a\n      // sync request first. This will double the request time\n\n      var numRequests = syncPoint ? 1 : 2;\n      var requestTimeEstimate = Playlist.estimateSegmentRequestTime(segmentDuration, bandwidth, playlist);\n      var rebufferingImpact = requestTimeEstimate * numRequests - timeUntilRebuffer;\n      return {\n        playlist: playlist,\n        rebufferingImpact: rebufferingImpact\n      };\n    });\n    var noRebufferingPlaylists = rebufferingEstimates.filter(function (estimate) {\n      return estimate.rebufferingImpact <= 0;\n    }); // Sort by bandwidth DESC\n\n    stableSort(noRebufferingPlaylists, function (a, b) {\n      return comparePlaylistBandwidth(b.playlist, a.playlist);\n    });\n\n    if (noRebufferingPlaylists.length) {\n      return noRebufferingPlaylists[0];\n    }\n\n    stableSort(rebufferingEstimates, function (a, b) {\n      return a.rebufferingImpact - b.rebufferingImpact;\n    });\n    return rebufferingEstimates[0] || null;\n  };\n  /**\n   * Chooses the appropriate media playlist, which in this case is the lowest bitrate\n   * one with video.  If no renditions with video exist, return the lowest audio rendition.\n   *\n   * Expects to be called within the context of an instance of HlsHandler\n   *\n   * @return {Object|null}\n   *         {Object} return.playlist\n   *         The lowest bitrate playlist that contains a video codec.  If no such rendition\n   *         exists pick the lowest audio rendition.\n   */\n\n\n  var lowestBitrateCompatibleVariantSelector = function lowestBitrateCompatibleVariantSelector() {\n    // filter out any playlists that have been excluded due to\n    // incompatible configurations or playback errors\n    var playlists = this.playlists.master.playlists.filter(Playlist.isEnabled); // Sort ascending by bitrate\n\n    stableSort(playlists, function (a, b) {\n      return comparePlaylistBandwidth(a, b);\n    }); // Parse and assume that playlists with no video codec have no video\n    // (this is not necessarily true, although it is generally true).\n    //\n    // If an entire manifest has no valid videos everything will get filtered\n    // out.\n\n    var playlistsWithVideo = playlists.filter(function (playlist) {\n      return parseCodecs(playlist.attributes.CODECS).videoCodec;\n    });\n    return playlistsWithVideo[0] || null;\n  };\n  /**\n   * Create captions text tracks on video.js if they do not exist\n   *\n   * @param {Object} inbandTextTracks a reference to current inbandTextTracks\n   * @param {Object} tech the video.js tech\n   * @param {Object} captionStreams the caption streams to create\n   * @private\n   */\n\n\n  var createCaptionsTrackIfNotExists = function createCaptionsTrackIfNotExists(inbandTextTracks, tech, captionStreams) {\n    for (var trackId in captionStreams) {\n      if (!inbandTextTracks[trackId]) {\n        tech.trigger({\n          type: 'usage',\n          name: 'hls-608'\n        });\n        var track = tech.textTracks().getTrackById(trackId);\n\n        if (track) {\n          // Resuse an existing track with a CC# id because this was\n          // very likely created by videojs-contrib-hls from information\n          // in the m3u8 for us to use\n          inbandTextTracks[trackId] = track;\n        } else {\n          // Otherwise, create a track with the default `CC#` label and\n          // without a language\n          inbandTextTracks[trackId] = tech.addRemoteTextTrack({\n            kind: 'captions',\n            id: trackId,\n            label: trackId\n          }, false).track;\n        }\n      }\n    }\n  };\n\n  var addCaptionData = function addCaptionData(_ref) {\n    var inbandTextTracks = _ref.inbandTextTracks,\n        captionArray = _ref.captionArray,\n        timestampOffset = _ref.timestampOffset;\n\n    if (!captionArray) {\n      return;\n    }\n\n    var Cue = window.WebKitDataCue || window.VTTCue;\n    captionArray.forEach(function (caption) {\n      var track = caption.stream;\n      var startTime = caption.startTime;\n      var endTime = caption.endTime;\n\n      if (!inbandTextTracks[track]) {\n        return;\n      }\n\n      startTime += timestampOffset;\n      endTime += timestampOffset;\n      inbandTextTracks[track].addCue(new Cue(startTime, endTime, caption.text));\n    });\n  };\n  /**\n   * @file segment-loader.js\n   */\n  // in ms\n\n\n  var CHECK_BUFFER_DELAY = 500;\n  /**\n   * Determines if we should call endOfStream on the media source based\n   * on the state of the buffer or if appened segment was the final\n   * segment in the playlist.\n   *\n   * @param {Object} playlist a media playlist object\n   * @param {Object} mediaSource the MediaSource object\n   * @param {Number} segmentIndex the index of segment we last appended\n   * @returns {Boolean} do we need to call endOfStream on the MediaSource\n   */\n\n  var detectEndOfStream = function detectEndOfStream(playlist, mediaSource, segmentIndex) {\n    if (!playlist || !mediaSource) {\n      return false;\n    }\n\n    var segments = playlist.segments; // determine a few boolean values to help make the branch below easier\n    // to read\n\n    var appendedLastSegment = segmentIndex === segments.length; // if we've buffered to the end of the video, we need to call endOfStream\n    // so that MediaSources can trigger the `ended` event when it runs out of\n    // buffered data instead of waiting for me\n\n    return playlist.endList && mediaSource.readyState === 'open' && appendedLastSegment;\n  };\n\n  var finite = function finite(num) {\n    return typeof num === 'number' && isFinite(num);\n  };\n\n  var illegalMediaSwitch = function illegalMediaSwitch(loaderType, startingMedia, newSegmentMedia) {\n    // Although these checks should most likely cover non 'main' types, for now it narrows\n    // the scope of our checks.\n    if (loaderType !== 'main' || !startingMedia || !newSegmentMedia) {\n      return null;\n    }\n\n    if (!newSegmentMedia.containsAudio && !newSegmentMedia.containsVideo) {\n      return 'Neither audio nor video found in segment.';\n    }\n\n    if (startingMedia.containsVideo && !newSegmentMedia.containsVideo) {\n      return 'Only audio found in segment when we expected video.' + ' We can\\'t switch to audio only from a stream that had video.' + ' To get rid of this message, please add codec information to the manifest.';\n    }\n\n    if (!startingMedia.containsVideo && newSegmentMedia.containsVideo) {\n      return 'Video found in segment when we expected only audio.' + ' We can\\'t switch to a stream with video from an audio only stream.' + ' To get rid of this message, please add codec information to the manifest.';\n    }\n\n    return null;\n  };\n  /**\n   * Calculates a time value that is safe to remove from the back buffer without interupting\n   * playback.\n   *\n   * @param {TimeRange} seekable\n   *        The current seekable range\n   * @param {Number} currentTime\n   *        The current time of the player\n   * @param {Number} targetDuration\n   *        The target duration of the current playlist\n   * @return {Number}\n   *         Time that is safe to remove from the back buffer without interupting playback\n   */\n\n\n  var safeBackBufferTrimTime = function safeBackBufferTrimTime(seekable$$1, currentTime, targetDuration) {\n    var removeToTime = void 0;\n\n    if (seekable$$1.length && seekable$$1.start(0) > 0 && seekable$$1.start(0) < currentTime) {\n      // If we have a seekable range use that as the limit for what can be removed safely\n      removeToTime = seekable$$1.start(0);\n    } else {\n      // otherwise remove anything older than 30 seconds before the current play head\n      removeToTime = currentTime - 30;\n    } // Don't allow removing from the buffer within target duration of current time\n    // to avoid the possibility of removing the GOP currently being played which could\n    // cause playback stalls.\n\n\n    return Math.min(removeToTime, currentTime - targetDuration);\n  };\n\n  var segmentInfoString = function segmentInfoString(segmentInfo) {\n    var _segmentInfo$segment = segmentInfo.segment,\n        start = _segmentInfo$segment.start,\n        end = _segmentInfo$segment.end,\n        _segmentInfo$playlist = segmentInfo.playlist,\n        seq = _segmentInfo$playlist.mediaSequence,\n        id = _segmentInfo$playlist.id,\n        _segmentInfo$playlist2 = _segmentInfo$playlist.segments,\n        segments = _segmentInfo$playlist2 === undefined ? [] : _segmentInfo$playlist2,\n        index = segmentInfo.mediaIndex,\n        timeline = segmentInfo.timeline;\n    return ['appending [' + index + '] of [' + seq + ', ' + (seq + segments.length) + '] from playlist [' + id + ']', '[' + start + ' => ' + end + '] in timeline [' + timeline + ']'].join(' ');\n  };\n  /**\n   * An object that manages segment loading and appending.\n   *\n   * @class SegmentLoader\n   * @param {Object} options required and optional options\n   * @extends videojs.EventTarget\n   */\n\n\n  var SegmentLoader = function (_videojs$EventTarget) {\n    inherits$1(SegmentLoader, _videojs$EventTarget);\n\n    function SegmentLoader(settings) {\n      classCallCheck$1(this, SegmentLoader); // check pre-conditions\n\n      var _this = possibleConstructorReturn$1(this, (SegmentLoader.__proto__ || Object.getPrototypeOf(SegmentLoader)).call(this));\n\n      if (!settings) {\n        throw new TypeError('Initialization settings are required');\n      }\n\n      if (typeof settings.currentTime !== 'function') {\n        throw new TypeError('No currentTime getter specified');\n      }\n\n      if (!settings.mediaSource) {\n        throw new TypeError('No MediaSource specified');\n      } // public properties\n\n\n      _this.bandwidth = settings.bandwidth;\n      _this.throughput = {\n        rate: 0,\n        count: 0\n      };\n      _this.roundTrip = NaN;\n\n      _this.resetStats_();\n\n      _this.mediaIndex = null; // private settings\n\n      _this.hasPlayed_ = settings.hasPlayed;\n      _this.currentTime_ = settings.currentTime;\n      _this.seekable_ = settings.seekable;\n      _this.seeking_ = settings.seeking;\n      _this.duration_ = settings.duration;\n      _this.mediaSource_ = settings.mediaSource;\n      _this.hls_ = settings.hls;\n      _this.loaderType_ = settings.loaderType;\n      _this.startingMedia_ = void 0;\n      _this.segmentMetadataTrack_ = settings.segmentMetadataTrack;\n      _this.goalBufferLength_ = settings.goalBufferLength;\n      _this.sourceType_ = settings.sourceType;\n      _this.inbandTextTracks_ = settings.inbandTextTracks;\n      _this.state_ = 'INIT'; // private instance variables\n\n      _this.checkBufferTimeout_ = null;\n      _this.error_ = void 0;\n      _this.currentTimeline_ = -1;\n      _this.pendingSegment_ = null;\n      _this.mimeType_ = null;\n      _this.sourceUpdater_ = null;\n      _this.xhrOptions_ = null; // Fragmented mp4 playback\n\n      _this.activeInitSegmentId_ = null;\n      _this.initSegments_ = {}; // Fmp4 CaptionParser\n\n      _this.captionParser_ = new mp4_6();\n      _this.decrypter_ = settings.decrypter; // Manages the tracking and generation of sync-points, mappings\n      // between a time in the display time and a segment index within\n      // a playlist\n\n      _this.syncController_ = settings.syncController;\n      _this.syncPoint_ = {\n        segmentIndex: 0,\n        time: 0\n      };\n\n      _this.syncController_.on('syncinfoupdate', function () {\n        return _this.trigger('syncinfoupdate');\n      });\n\n      _this.mediaSource_.addEventListener('sourceopen', function () {\n        return _this.ended_ = false;\n      }); // ...for determining the fetch location\n\n\n      _this.fetchAtBuffer_ = false;\n      _this.logger_ = logger('SegmentLoader[' + _this.loaderType_ + ']');\n      Object.defineProperty(_this, 'state', {\n        get: function get$$1() {\n          return this.state_;\n        },\n        set: function set$$1(newState) {\n          if (newState !== this.state_) {\n            this.logger_(this.state_ + ' -> ' + newState);\n            this.state_ = newState;\n          }\n        }\n      });\n      return _this;\n    }\n    /**\n     * reset all of our media stats\n     *\n     * @private\n     */\n\n\n    createClass$1(SegmentLoader, [{\n      key: 'resetStats_',\n      value: function resetStats_() {\n        this.mediaBytesTransferred = 0;\n        this.mediaRequests = 0;\n        this.mediaRequestsAborted = 0;\n        this.mediaRequestsTimedout = 0;\n        this.mediaRequestsErrored = 0;\n        this.mediaTransferDuration = 0;\n        this.mediaSecondsLoaded = 0;\n      }\n      /**\n       * dispose of the SegmentLoader and reset to the default state\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.state = 'DISPOSED';\n        this.pause();\n        this.abort_();\n\n        if (this.sourceUpdater_) {\n          this.sourceUpdater_.dispose();\n        }\n\n        this.resetStats_();\n        this.captionParser_.reset();\n      }\n      /**\n       * abort anything that is currently doing on with the SegmentLoader\n       * and reset to a default state\n       */\n\n    }, {\n      key: 'abort',\n      value: function abort() {\n        if (this.state !== 'WAITING') {\n          if (this.pendingSegment_) {\n            this.pendingSegment_ = null;\n          }\n\n          return;\n        }\n\n        this.abort_(); // We aborted the requests we were waiting on, so reset the loader's state to READY\n        // since we are no longer \"waiting\" on any requests. XHR callback is not always run\n        // when the request is aborted. This will prevent the loader from being stuck in the\n        // WAITING state indefinitely.\n\n        this.state = 'READY'; // don't wait for buffer check timeouts to begin fetching the\n        // next segment\n\n        if (!this.paused()) {\n          this.monitorBuffer_();\n        }\n      }\n      /**\n       * abort all pending xhr requests and null any pending segements\n       *\n       * @private\n       */\n\n    }, {\n      key: 'abort_',\n      value: function abort_() {\n        if (this.pendingSegment_) {\n          this.pendingSegment_.abortRequests();\n        } // clear out the segment being processed\n\n\n        this.pendingSegment_ = null;\n      }\n      /**\n       * set an error on the segment loader and null out any pending segements\n       *\n       * @param {Error} error the error to set on the SegmentLoader\n       * @return {Error} the error that was set or that is currently set\n       */\n\n    }, {\n      key: 'error',\n      value: function error(_error) {\n        if (typeof _error !== 'undefined') {\n          this.error_ = _error;\n        }\n\n        this.pendingSegment_ = null;\n        return this.error_;\n      }\n    }, {\n      key: 'endOfStream',\n      value: function endOfStream() {\n        this.ended_ = true;\n        this.pause();\n        this.trigger('ended');\n      }\n      /**\n       * Indicates which time ranges are buffered\n       *\n       * @return {TimeRange}\n       *         TimeRange object representing the current buffered ranges\n       */\n\n    }, {\n      key: 'buffered_',\n      value: function buffered_() {\n        if (!this.sourceUpdater_) {\n          return videojs$1.createTimeRanges();\n        }\n\n        return this.sourceUpdater_.buffered();\n      }\n      /**\n       * Gets and sets init segment for the provided map\n       *\n       * @param {Object} map\n       *        The map object representing the init segment to get or set\n       * @param {Boolean=} set\n       *        If true, the init segment for the provided map should be saved\n       * @return {Object}\n       *         map object for desired init segment\n       */\n\n    }, {\n      key: 'initSegment',\n      value: function initSegment(map) {\n        var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (!map) {\n          return null;\n        }\n\n        var id = initSegmentId(map);\n        var storedMap = this.initSegments_[id];\n\n        if (set$$1 && !storedMap && map.bytes) {\n          this.initSegments_[id] = storedMap = {\n            resolvedUri: map.resolvedUri,\n            byterange: map.byterange,\n            bytes: map.bytes,\n            timescales: map.timescales,\n            videoTrackIds: map.videoTrackIds\n          };\n        }\n\n        return storedMap || map;\n      }\n      /**\n       * Returns true if all configuration required for loading is present, otherwise false.\n       *\n       * @return {Boolean} True if the all configuration is ready for loading\n       * @private\n       */\n\n    }, {\n      key: 'couldBeginLoading_',\n      value: function couldBeginLoading_() {\n        return this.playlist_ && ( // the source updater is created when init_ is called, so either having a\n        // source updater or being in the INIT state with a mimeType is enough\n        // to say we have all the needed configuration to start loading.\n        this.sourceUpdater_ || this.mimeType_ && this.state === 'INIT') && !this.paused();\n      }\n      /**\n       * load a playlist and start to fill the buffer\n       */\n\n    }, {\n      key: 'load',\n      value: function load() {\n        // un-pause\n        this.monitorBuffer_(); // if we don't have a playlist yet, keep waiting for one to be\n        // specified\n\n        if (!this.playlist_) {\n          return;\n        } // not sure if this is the best place for this\n\n\n        this.syncController_.setDateTimeMapping(this.playlist_); // if all the configuration is ready, initialize and begin loading\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          return this.init_();\n        } // if we're in the middle of processing a segment already, don't\n        // kick off an additional segment request\n\n\n        if (!this.couldBeginLoading_() || this.state !== 'READY' && this.state !== 'INIT') {\n          return;\n        }\n\n        this.state = 'READY';\n      }\n      /**\n       * Once all the starting parameters have been specified, begin\n       * operation. This method should only be invoked from the INIT\n       * state.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'init_',\n      value: function init_() {\n        this.state = 'READY';\n        this.sourceUpdater_ = new SourceUpdater(this.mediaSource_, this.mimeType_, this.loaderType_, this.sourceBufferEmitter_);\n        this.resetEverything();\n        return this.monitorBuffer_();\n      }\n      /**\n       * set a playlist on the segment loader\n       *\n       * @param {PlaylistLoader} media the playlist to set on the segment loader\n       */\n\n    }, {\n      key: 'playlist',\n      value: function playlist(newPlaylist) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (!newPlaylist) {\n          return;\n        }\n\n        var oldPlaylist = this.playlist_;\n        var segmentInfo = this.pendingSegment_;\n        this.playlist_ = newPlaylist;\n        this.xhrOptions_ = options; // when we haven't started playing yet, the start of a live playlist\n        // is always our zero-time so force a sync update each time the playlist\n        // is refreshed from the server\n\n        if (!this.hasPlayed_()) {\n          newPlaylist.syncInfo = {\n            mediaSequence: newPlaylist.mediaSequence,\n            time: 0\n          };\n        }\n\n        var oldId = null;\n\n        if (oldPlaylist) {\n          if (oldPlaylist.id) {\n            oldId = oldPlaylist.id;\n          } else if (oldPlaylist.uri) {\n            oldId = oldPlaylist.uri;\n          }\n        }\n\n        this.logger_('playlist update [' + oldId + ' => ' + (newPlaylist.id || newPlaylist.uri) + ']'); // in VOD, this is always a rendition switch (or we updated our syncInfo above)\n        // in LIVE, we always want to update with new playlists (including refreshes)\n\n        this.trigger('syncinfoupdate'); // if we were unpaused but waiting for a playlist, start\n        // buffering now\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          return this.init_();\n        }\n\n        if (!oldPlaylist || oldPlaylist.uri !== newPlaylist.uri) {\n          if (this.mediaIndex !== null) {\n            // we must \"resync\" the segment loader when we switch renditions and\n            // the segment loader is already synced to the previous rendition\n            this.resyncLoader();\n          } // the rest of this function depends on `oldPlaylist` being defined\n\n\n          return;\n        } // we reloaded the same playlist so we are in a live scenario\n        // and we will likely need to adjust the mediaIndex\n\n\n        var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence;\n        this.logger_('live window shift [' + mediaSequenceDiff + ']'); // update the mediaIndex on the SegmentLoader\n        // this is important because we can abort a request and this value must be\n        // equal to the last appended mediaIndex\n\n        if (this.mediaIndex !== null) {\n          this.mediaIndex -= mediaSequenceDiff;\n        } // update the mediaIndex on the SegmentInfo object\n        // this is important because we will update this.mediaIndex with this value\n        // in `handleUpdateEnd_` after the segment has been successfully appended\n\n\n        if (segmentInfo) {\n          segmentInfo.mediaIndex -= mediaSequenceDiff; // we need to update the referenced segment so that timing information is\n          // saved for the new playlist's segment, however, if the segment fell off the\n          // playlist, we can leave the old reference and just lose the timing info\n\n          if (segmentInfo.mediaIndex >= 0) {\n            segmentInfo.segment = newPlaylist.segments[segmentInfo.mediaIndex];\n          }\n        }\n\n        this.syncController_.saveExpiredSegmentInfo(oldPlaylist, newPlaylist);\n      }\n      /**\n       * Prevent the loader from fetching additional segments. If there\n       * is a segment request outstanding, it will finish processing\n       * before the loader halts. A segment loader can be unpaused by\n       * calling load().\n       */\n\n    }, {\n      key: 'pause',\n      value: function pause() {\n        if (this.checkBufferTimeout_) {\n          window$1.clearTimeout(this.checkBufferTimeout_);\n          this.checkBufferTimeout_ = null;\n        }\n      }\n      /**\n       * Returns whether the segment loader is fetching additional\n       * segments when given the opportunity. This property can be\n       * modified through calls to pause() and load().\n       */\n\n    }, {\n      key: 'paused',\n      value: function paused() {\n        return this.checkBufferTimeout_ === null;\n      }\n      /**\n       * create/set the following mimetype on the SourceBuffer through a\n       * SourceUpdater\n       *\n       * @param {String} mimeType the mime type string to use\n       * @param {Object} sourceBufferEmitter an event emitter that fires when a source buffer\n       * is added to the media source\n       */\n\n    }, {\n      key: 'mimeType',\n      value: function mimeType(_mimeType, sourceBufferEmitter) {\n        if (this.mimeType_) {\n          return;\n        }\n\n        this.mimeType_ = _mimeType;\n        this.sourceBufferEmitter_ = sourceBufferEmitter; // if we were unpaused but waiting for a sourceUpdater, start\n        // buffering now\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          this.init_();\n        }\n      }\n      /**\n       * Delete all the buffered data and reset the SegmentLoader\n       * @param {Function} [done] an optional callback to be executed when the remove\n       * operation is complete\n       */\n\n    }, {\n      key: 'resetEverything',\n      value: function resetEverything(done) {\n        this.ended_ = false;\n        this.resetLoader();\n        this.remove(0, this.duration_(), done); // clears fmp4 captions\n\n        this.captionParser_.clearAllCaptions();\n        this.trigger('reseteverything');\n      }\n      /**\n       * Force the SegmentLoader to resync and start loading around the currentTime instead\n       * of starting at the end of the buffer\n       *\n       * Useful for fast quality changes\n       */\n\n    }, {\n      key: 'resetLoader',\n      value: function resetLoader() {\n        this.fetchAtBuffer_ = false;\n        this.resyncLoader();\n      }\n      /**\n       * Force the SegmentLoader to restart synchronization and make a conservative guess\n       * before returning to the simple walk-forward method\n       */\n\n    }, {\n      key: 'resyncLoader',\n      value: function resyncLoader() {\n        this.mediaIndex = null;\n        this.syncPoint_ = null;\n        this.abort();\n      }\n      /**\n       * Remove any data in the source buffer between start and end times\n       * @param {Number} start - the start time of the region to remove from the buffer\n       * @param {Number} end - the end time of the region to remove from the buffer\n       * @param {Function} [done] - an optional callback to be executed when the remove\n       * operation is complete\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end, done) {\n        if (this.sourceUpdater_) {\n          this.sourceUpdater_.remove(start, end, done);\n        }\n\n        removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n\n        if (this.inbandTextTracks_) {\n          for (var id in this.inbandTextTracks_) {\n            removeCuesFromTrack(start, end, this.inbandTextTracks_[id]);\n          }\n        }\n      }\n      /**\n       * (re-)schedule monitorBufferTick_ to run as soon as possible\n       *\n       * @private\n       */\n\n    }, {\n      key: 'monitorBuffer_',\n      value: function monitorBuffer_() {\n        if (this.checkBufferTimeout_) {\n          window$1.clearTimeout(this.checkBufferTimeout_);\n        }\n\n        this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), 1);\n      }\n      /**\n       * As long as the SegmentLoader is in the READY state, periodically\n       * invoke fillBuffer_().\n       *\n       * @private\n       */\n\n    }, {\n      key: 'monitorBufferTick_',\n      value: function monitorBufferTick_() {\n        if (this.state === 'READY') {\n          this.fillBuffer_();\n        }\n\n        if (this.checkBufferTimeout_) {\n          window$1.clearTimeout(this.checkBufferTimeout_);\n        }\n\n        this.checkBufferTimeout_ = window$1.setTimeout(this.monitorBufferTick_.bind(this), CHECK_BUFFER_DELAY);\n      }\n      /**\n       * fill the buffer with segements unless the sourceBuffers are\n       * currently updating\n       *\n       * Note: this function should only ever be called by monitorBuffer_\n       * and never directly\n       *\n       * @private\n       */\n\n    }, {\n      key: 'fillBuffer_',\n      value: function fillBuffer_() {\n        if (this.sourceUpdater_.updating()) {\n          return;\n        }\n\n        if (!this.syncPoint_) {\n          this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n        } // see if we need to begin loading immediately\n\n\n        var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n\n        if (!segmentInfo) {\n          return;\n        }\n\n        if (this.isEndOfStream_(segmentInfo.mediaIndex)) {\n          this.endOfStream();\n          return;\n        }\n\n        if (segmentInfo.mediaIndex === this.playlist_.segments.length - 1 && this.mediaSource_.readyState === 'ended' && !this.seeking_()) {\n          return;\n        } // We will need to change timestampOffset of the sourceBuffer if either of\n        // the following conditions are true:\n        // - The segment.timeline !== this.currentTimeline\n        //   (we are crossing a discontinuity somehow)\n        // - The \"timestampOffset\" for the start of this segment is less than\n        //   the currently set timestampOffset\n        // Also, clear captions if we are crossing a discontinuity boundary\n\n\n        if (segmentInfo.timeline !== this.currentTimeline_ || segmentInfo.startOfSegment !== null && segmentInfo.startOfSegment < this.sourceUpdater_.timestampOffset()) {\n          this.syncController_.reset();\n          segmentInfo.timestampOffset = segmentInfo.startOfSegment;\n          this.captionParser_.clearAllCaptions();\n        }\n\n        this.loadSegment_(segmentInfo);\n      }\n      /**\n       * Determines if this segment loader is at the end of it's stream.\n       *\n       * @param {Number} mediaIndex the index of segment we last appended\n       * @param {Object} [playlist=this.playlist_] a media playlist object\n       * @returns {Boolean} true if at end of stream, false otherwise.\n       */\n\n    }, {\n      key: 'isEndOfStream_',\n      value: function isEndOfStream_(mediaIndex) {\n        var playlist = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.playlist_;\n        return detectEndOfStream(playlist, this.mediaSource_, mediaIndex) && !this.sourceUpdater_.updating();\n      }\n      /**\n       * Determines what segment request should be made, given current playback\n       * state.\n       *\n       * @param {TimeRanges} buffered - the state of the buffer\n       * @param {Object} playlist - the playlist object to fetch segments from\n       * @param {Number} mediaIndex - the previous mediaIndex fetched or null\n       * @param {Boolean} hasPlayed - a flag indicating whether we have played or not\n       * @param {Number} currentTime - the playback position in seconds\n       * @param {Object} syncPoint - a segment info object that describes the\n       * @returns {Object} a segment request object that describes the segment to load\n       */\n\n    }, {\n      key: 'checkBuffer_',\n      value: function checkBuffer_(buffered, playlist, mediaIndex, hasPlayed, currentTime, syncPoint) {\n        var lastBufferedEnd = 0;\n        var startOfSegment = void 0;\n\n        if (buffered.length) {\n          lastBufferedEnd = buffered.end(buffered.length - 1);\n        }\n\n        var bufferedTime = Math.max(0, lastBufferedEnd - currentTime);\n\n        if (!playlist.segments.length) {\n          return null;\n        } // if there is plenty of content buffered, and the video has\n        // been played before relax for awhile\n\n\n        if (bufferedTime >= this.goalBufferLength_()) {\n          return null;\n        } // if the video has not yet played once, and we already have\n        // one segment downloaded do nothing\n\n\n        if (!hasPlayed && bufferedTime >= 1) {\n          return null;\n        } // When the syncPoint is null, there is no way of determining a good\n        // conservative segment index to fetch from\n        // The best thing to do here is to get the kind of sync-point data by\n        // making a request\n\n\n        if (syncPoint === null) {\n          mediaIndex = this.getSyncSegmentCandidate_(playlist);\n          return this.generateSegmentInfo_(playlist, mediaIndex, null, true);\n        } // Under normal playback conditions fetching is a simple walk forward\n\n\n        if (mediaIndex !== null) {\n          var segment = playlist.segments[mediaIndex];\n\n          if (segment && segment.end) {\n            startOfSegment = segment.end;\n          } else {\n            startOfSegment = lastBufferedEnd;\n          }\n\n          return this.generateSegmentInfo_(playlist, mediaIndex + 1, startOfSegment, false);\n        } // There is a sync-point but the lack of a mediaIndex indicates that\n        // we need to make a good conservative guess about which segment to\n        // fetch\n\n\n        if (this.fetchAtBuffer_) {\n          // Find the segment containing the end of the buffer\n          var mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, lastBufferedEnd, syncPoint.segmentIndex, syncPoint.time);\n          mediaIndex = mediaSourceInfo.mediaIndex;\n          startOfSegment = mediaSourceInfo.startTime;\n        } else {\n          // Find the segment containing currentTime\n          var _mediaSourceInfo = Playlist.getMediaInfoForTime(playlist, currentTime, syncPoint.segmentIndex, syncPoint.time);\n\n          mediaIndex = _mediaSourceInfo.mediaIndex;\n          startOfSegment = _mediaSourceInfo.startTime;\n        }\n\n        return this.generateSegmentInfo_(playlist, mediaIndex, startOfSegment, false);\n      }\n      /**\n       * The segment loader has no recourse except to fetch a segment in the\n       * current playlist and use the internal timestamps in that segment to\n       * generate a syncPoint. This function returns a good candidate index\n       * for that process.\n       *\n       * @param {Object} playlist - the playlist object to look for a\n       * @returns {Number} An index of a segment from the playlist to load\n       */\n\n    }, {\n      key: 'getSyncSegmentCandidate_',\n      value: function getSyncSegmentCandidate_(playlist) {\n        var _this2 = this;\n\n        if (this.currentTimeline_ === -1) {\n          return 0;\n        }\n\n        var segmentIndexArray = playlist.segments.map(function (s, i) {\n          return {\n            timeline: s.timeline,\n            segmentIndex: i\n          };\n        }).filter(function (s) {\n          return s.timeline === _this2.currentTimeline_;\n        });\n\n        if (segmentIndexArray.length) {\n          return segmentIndexArray[Math.min(segmentIndexArray.length - 1, 1)].segmentIndex;\n        }\n\n        return Math.max(playlist.segments.length - 1, 0);\n      }\n    }, {\n      key: 'generateSegmentInfo_',\n      value: function generateSegmentInfo_(playlist, mediaIndex, startOfSegment, isSyncRequest) {\n        if (mediaIndex < 0 || mediaIndex >= playlist.segments.length) {\n          return null;\n        }\n\n        var segment = playlist.segments[mediaIndex];\n        return {\n          requestId: 'segment-loader-' + Math.random(),\n          // resolve the segment URL relative to the playlist\n          uri: segment.resolvedUri,\n          // the segment's mediaIndex at the time it was requested\n          mediaIndex: mediaIndex,\n          // whether or not to update the SegmentLoader's state with this\n          // segment's mediaIndex\n          isSyncRequest: isSyncRequest,\n          startOfSegment: startOfSegment,\n          // the segment's playlist\n          playlist: playlist,\n          // unencrypted bytes of the segment\n          bytes: null,\n          // when a key is defined for this segment, the encrypted bytes\n          encryptedBytes: null,\n          // The target timestampOffset for this segment when we append it\n          // to the source buffer\n          timestampOffset: null,\n          // The timeline that the segment is in\n          timeline: segment.timeline,\n          // The expected duration of the segment in seconds\n          duration: segment.duration,\n          // retain the segment in case the playlist updates while doing an async process\n          segment: segment\n        };\n      }\n      /**\n       * Determines if the network has enough bandwidth to complete the current segment\n       * request in a timely manner. If not, the request will be aborted early and bandwidth\n       * updated to trigger a playlist switch.\n       *\n       * @param {Object} stats\n       *        Object containing stats about the request timing and size\n       * @return {Boolean} True if the request was aborted, false otherwise\n       * @private\n       */\n\n    }, {\n      key: 'abortRequestEarly_',\n      value: function abortRequestEarly_(stats) {\n        if (this.hls_.tech_.paused() || // Don't abort if the current playlist is on the lowestEnabledRendition\n        // TODO: Replace using timeout with a boolean indicating whether this playlist is\n        //       the lowestEnabledRendition.\n        !this.xhrOptions_.timeout || // Don't abort if we have no bandwidth information to estimate segment sizes\n        !this.playlist_.attributes.BANDWIDTH) {\n          return false;\n        } // Wait at least 1 second since the first byte of data has been received before\n        // using the calculated bandwidth from the progress event to allow the bitrate\n        // to stabilize\n\n\n        if (Date.now() - (stats.firstBytesReceivedAt || Date.now()) < 1000) {\n          return false;\n        }\n\n        var currentTime = this.currentTime_();\n        var measuredBandwidth = stats.bandwidth;\n        var segmentDuration = this.pendingSegment_.duration;\n        var requestTimeRemaining = Playlist.estimateSegmentRequestTime(segmentDuration, measuredBandwidth, this.playlist_, stats.bytesReceived); // Subtract 1 from the timeUntilRebuffer so we still consider an early abort\n        // if we are only left with less than 1 second when the request completes.\n        // A negative timeUntilRebuffering indicates we are already rebuffering\n\n        var timeUntilRebuffer$$1 = timeUntilRebuffer(this.buffered_(), currentTime, this.hls_.tech_.playbackRate()) - 1; // Only consider aborting early if the estimated time to finish the download\n        // is larger than the estimated time until the player runs out of forward buffer\n\n        if (requestTimeRemaining <= timeUntilRebuffer$$1) {\n          return false;\n        }\n\n        var switchCandidate = minRebufferMaxBandwidthSelector({\n          master: this.hls_.playlists.master,\n          currentTime: currentTime,\n          bandwidth: measuredBandwidth,\n          duration: this.duration_(),\n          segmentDuration: segmentDuration,\n          timeUntilRebuffer: timeUntilRebuffer$$1,\n          currentTimeline: this.currentTimeline_,\n          syncController: this.syncController_\n        });\n\n        if (!switchCandidate) {\n          return;\n        }\n\n        var rebufferingImpact = requestTimeRemaining - timeUntilRebuffer$$1;\n        var timeSavedBySwitching = rebufferingImpact - switchCandidate.rebufferingImpact;\n        var minimumTimeSaving = 0.5; // If we are already rebuffering, increase the amount of variance we add to the\n        // potential round trip time of the new request so that we are not too aggressive\n        // with switching to a playlist that might save us a fraction of a second.\n\n        if (timeUntilRebuffer$$1 <= TIME_FUDGE_FACTOR) {\n          minimumTimeSaving = 1;\n        }\n\n        if (!switchCandidate.playlist || switchCandidate.playlist.uri === this.playlist_.uri || timeSavedBySwitching < minimumTimeSaving) {\n          return false;\n        } // set the bandwidth to that of the desired playlist being sure to scale by\n        // BANDWIDTH_VARIANCE and add one so the playlist selector does not exclude it\n        // don't trigger a bandwidthupdate as the bandwidth is artifial\n\n\n        this.bandwidth = switchCandidate.playlist.attributes.BANDWIDTH * Config.BANDWIDTH_VARIANCE + 1;\n        this.abort();\n        this.trigger('earlyabort');\n        return true;\n      }\n      /**\n       * XHR `progress` event handler\n       *\n       * @param {Event}\n       *        The XHR `progress` event\n       * @param {Object} simpleSegment\n       *        A simplified segment object copy\n       * @private\n       */\n\n    }, {\n      key: 'handleProgress_',\n      value: function handleProgress_(event, simpleSegment) {\n        if (!this.pendingSegment_ || simpleSegment.requestId !== this.pendingSegment_.requestId || this.abortRequestEarly_(simpleSegment.stats)) {\n          return;\n        }\n\n        this.trigger('progress');\n      }\n      /**\n       * load a specific segment from a request into the buffer\n       *\n       * @private\n       */\n\n    }, {\n      key: 'loadSegment_',\n      value: function loadSegment_(segmentInfo) {\n        this.state = 'WAITING';\n        this.pendingSegment_ = segmentInfo;\n        this.trimBackBuffer_(segmentInfo);\n        segmentInfo.abortRequests = mediaSegmentRequest(this.hls_.xhr, this.xhrOptions_, this.decrypter_, this.captionParser_, this.createSimplifiedSegmentObj_(segmentInfo), // progress callback\n        this.handleProgress_.bind(this), this.segmentRequestFinished_.bind(this));\n      }\n      /**\n       * trim the back buffer so that we don't have too much data\n       * in the source buffer\n       *\n       * @private\n       *\n       * @param {Object} segmentInfo - the current segment\n       */\n\n    }, {\n      key: 'trimBackBuffer_',\n      value: function trimBackBuffer_(segmentInfo) {\n        var removeToTime = safeBackBufferTrimTime(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10); // Chrome has a hard limit of 150MB of\n        // buffer and a very conservative \"garbage collector\"\n        // We manually clear out the old buffer to ensure\n        // we don't trigger the QuotaExceeded error\n        // on the source buffer during subsequent appends\n\n        if (removeToTime > 0) {\n          this.remove(0, removeToTime);\n        }\n      }\n      /**\n       * created a simplified copy of the segment object with just the\n       * information necessary to perform the XHR and decryption\n       *\n       * @private\n       *\n       * @param {Object} segmentInfo - the current segment\n       * @returns {Object} a simplified segment object copy\n       */\n\n    }, {\n      key: 'createSimplifiedSegmentObj_',\n      value: function createSimplifiedSegmentObj_(segmentInfo) {\n        var segment = segmentInfo.segment;\n        var simpleSegment = {\n          resolvedUri: segment.resolvedUri,\n          byterange: segment.byterange,\n          requestId: segmentInfo.requestId\n        };\n\n        if (segment.key) {\n          // if the media sequence is greater than 2^32, the IV will be incorrect\n          // assuming 10s segments, that would be about 1300 years\n          var iv = segment.key.iv || new Uint32Array([0, 0, 0, segmentInfo.mediaIndex + segmentInfo.playlist.mediaSequence]);\n          simpleSegment.key = {\n            resolvedUri: segment.key.resolvedUri,\n            iv: iv\n          };\n        }\n\n        if (segment.map) {\n          simpleSegment.map = this.initSegment(segment.map);\n        }\n\n        return simpleSegment;\n      }\n      /**\n       * Handle the callback from the segmentRequest function and set the\n       * associated SegmentLoader state and errors if necessary\n       *\n       * @private\n       */\n\n    }, {\n      key: 'segmentRequestFinished_',\n      value: function segmentRequestFinished_(error, simpleSegment) {\n        // every request counts as a media request even if it has been aborted\n        // or canceled due to a timeout\n        this.mediaRequests += 1;\n\n        if (simpleSegment.stats) {\n          this.mediaBytesTransferred += simpleSegment.stats.bytesReceived;\n          this.mediaTransferDuration += simpleSegment.stats.roundTripTime;\n        } // The request was aborted and the SegmentLoader has already been reset\n\n\n        if (!this.pendingSegment_) {\n          this.mediaRequestsAborted += 1;\n          return;\n        } // the request was aborted and the SegmentLoader has already started\n        // another request. this can happen when the timeout for an aborted\n        // request triggers due to a limitation in the XHR library\n        // do not count this as any sort of request or we risk double-counting\n\n\n        if (simpleSegment.requestId !== this.pendingSegment_.requestId) {\n          return;\n        } // an error occurred from the active pendingSegment_ so reset everything\n\n\n        if (error) {\n          this.pendingSegment_ = null;\n          this.state = 'READY'; // the requests were aborted just record the aborted stat and exit\n          // this is not a true error condition and nothing corrective needs\n          // to be done\n\n          if (error.code === REQUEST_ERRORS.ABORTED) {\n            this.mediaRequestsAborted += 1;\n            return;\n          }\n\n          this.pause(); // the error is really just that at least one of the requests timed-out\n          // set the bandwidth to a very low value and trigger an ABR switch to\n          // take emergency action\n\n          if (error.code === REQUEST_ERRORS.TIMEOUT) {\n            this.mediaRequestsTimedout += 1;\n            this.bandwidth = 1;\n            this.roundTrip = NaN;\n            this.trigger('bandwidthupdate');\n            return;\n          } // if control-flow has arrived here, then the error is real\n          // emit an error event to blacklist the current playlist\n\n\n          this.mediaRequestsErrored += 1;\n          this.error(error);\n          this.trigger('error');\n          return;\n        } // the response was a success so set any bandwidth stats the request\n        // generated for ABR purposes\n\n\n        this.bandwidth = simpleSegment.stats.bandwidth;\n        this.roundTrip = simpleSegment.stats.roundTripTime; // if this request included an initialization segment, save that data\n        // to the initSegment cache\n\n        if (simpleSegment.map) {\n          simpleSegment.map = this.initSegment(simpleSegment.map, true);\n        }\n\n        this.processSegmentResponse_(simpleSegment);\n      }\n      /**\n       * Move any important data from the simplified segment object\n       * back to the real segment object for future phases\n       *\n       * @private\n       */\n\n    }, {\n      key: 'processSegmentResponse_',\n      value: function processSegmentResponse_(simpleSegment) {\n        var segmentInfo = this.pendingSegment_;\n        segmentInfo.bytes = simpleSegment.bytes;\n\n        if (simpleSegment.map) {\n          segmentInfo.segment.map.bytes = simpleSegment.map.bytes;\n        }\n\n        segmentInfo.endOfAllRequests = simpleSegment.endOfAllRequests; // This has fmp4 captions, add them to text tracks\n\n        if (simpleSegment.fmp4Captions) {\n          createCaptionsTrackIfNotExists(this.inbandTextTracks_, this.hls_.tech_, simpleSegment.captionStreams);\n          addCaptionData({\n            inbandTextTracks: this.inbandTextTracks_,\n            captionArray: simpleSegment.fmp4Captions,\n            // fmp4s will not have a timestamp offset\n            timestampOffset: 0\n          }); // Reset stored captions since we added parsed\n          // captions to a text track at this point\n\n          this.captionParser_.clearParsedCaptions();\n        }\n\n        this.handleSegment_();\n      }\n      /**\n       * append a decrypted segement to the SourceBuffer through a SourceUpdater\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleSegment_',\n      value: function handleSegment_() {\n        var _this3 = this;\n\n        if (!this.pendingSegment_) {\n          this.state = 'READY';\n          return;\n        }\n\n        var segmentInfo = this.pendingSegment_;\n        var segment = segmentInfo.segment;\n        var timingInfo = this.syncController_.probeSegmentInfo(segmentInfo); // When we have our first timing info, determine what media types this loader is\n        // dealing with. Although we're maintaining extra state, it helps to preserve the\n        // separation of segment loader from the actual source buffers.\n\n        if (typeof this.startingMedia_ === 'undefined' && timingInfo && ( // Guard against cases where we're not getting timing info at all until we are\n        // certain that all streams will provide it.\n        timingInfo.containsAudio || timingInfo.containsVideo)) {\n          this.startingMedia_ = {\n            containsAudio: timingInfo.containsAudio,\n            containsVideo: timingInfo.containsVideo\n          };\n        }\n\n        var illegalMediaSwitchError = illegalMediaSwitch(this.loaderType_, this.startingMedia_, timingInfo);\n\n        if (illegalMediaSwitchError) {\n          this.error({\n            message: illegalMediaSwitchError,\n            blacklistDuration: Infinity\n          });\n          this.trigger('error');\n          return;\n        }\n\n        if (segmentInfo.isSyncRequest) {\n          this.trigger('syncinfoupdate');\n          this.pendingSegment_ = null;\n          this.state = 'READY';\n          return;\n        }\n\n        if (segmentInfo.timestampOffset !== null && segmentInfo.timestampOffset !== this.sourceUpdater_.timestampOffset()) {\n          this.sourceUpdater_.timestampOffset(segmentInfo.timestampOffset); // fired when a timestamp offset is set in HLS (can also identify discontinuities)\n\n          this.trigger('timestampoffset');\n        }\n\n        var timelineMapping = this.syncController_.mappingForTimeline(segmentInfo.timeline);\n\n        if (timelineMapping !== null) {\n          this.trigger({\n            type: 'segmenttimemapping',\n            mapping: timelineMapping\n          });\n        }\n\n        this.state = 'APPENDING'; // if the media initialization segment is changing, append it\n        // before the content segment\n\n        if (segment.map) {\n          var initId = initSegmentId(segment.map);\n\n          if (!this.activeInitSegmentId_ || this.activeInitSegmentId_ !== initId) {\n            var initSegment = this.initSegment(segment.map);\n            this.sourceUpdater_.appendBuffer({\n              bytes: initSegment.bytes\n            }, function () {\n              _this3.activeInitSegmentId_ = initId;\n            });\n          }\n        }\n\n        segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n\n        if (typeof segment.start === 'number' && typeof segment.end === 'number') {\n          this.mediaSecondsLoaded += segment.end - segment.start;\n        } else {\n          this.mediaSecondsLoaded += segment.duration;\n        }\n\n        this.logger_(segmentInfoString(segmentInfo));\n        this.sourceUpdater_.appendBuffer({\n          bytes: segmentInfo.bytes,\n          videoSegmentTimingInfoCallback: this.handleVideoSegmentTimingInfo_.bind(this, segmentInfo.requestId)\n        }, this.handleUpdateEnd_.bind(this));\n      }\n    }, {\n      key: 'handleVideoSegmentTimingInfo_',\n      value: function handleVideoSegmentTimingInfo_(requestId, event) {\n        if (!this.pendingSegment_ || requestId !== this.pendingSegment_.requestId) {\n          return;\n        }\n\n        var segment = this.pendingSegment_.segment;\n\n        if (!segment.videoTimingInfo) {\n          segment.videoTimingInfo = {};\n        }\n\n        segment.videoTimingInfo.transmuxerPrependedSeconds = event.videoSegmentTimingInfo.prependedContentDuration || 0;\n        segment.videoTimingInfo.transmuxedPresentationStart = event.videoSegmentTimingInfo.start.presentation;\n        segment.videoTimingInfo.transmuxedPresentationEnd = event.videoSegmentTimingInfo.end.presentation; // mainly used as a reference for debugging\n\n        segment.videoTimingInfo.baseMediaDecodeTime = event.videoSegmentTimingInfo.baseMediaDecodeTime;\n      }\n      /**\n       * callback to run when appendBuffer is finished. detects if we are\n       * in a good state to do things with the data we got, or if we need\n       * to wait for more\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleUpdateEnd_',\n      value: function handleUpdateEnd_() {\n        if (!this.pendingSegment_) {\n          this.state = 'READY';\n\n          if (!this.paused()) {\n            this.monitorBuffer_();\n          }\n\n          return;\n        }\n\n        var segmentInfo = this.pendingSegment_;\n        var segment = segmentInfo.segment;\n        var isWalkingForward = this.mediaIndex !== null;\n        this.pendingSegment_ = null;\n        this.recordThroughput_(segmentInfo);\n        this.addSegmentMetadataCue_(segmentInfo);\n        this.state = 'READY';\n        this.mediaIndex = segmentInfo.mediaIndex;\n        this.fetchAtBuffer_ = true;\n        this.currentTimeline_ = segmentInfo.timeline; // We must update the syncinfo to recalculate the seekable range before\n        // the following conditional otherwise it may consider this a bad \"guess\"\n        // and attempt to resync when the post-update seekable window and live\n        // point would mean that this was the perfect segment to fetch\n\n        this.trigger('syncinfoupdate'); // If we previously appended a segment that ends more than 3 targetDurations before\n        // the currentTime_ that means that our conservative guess was too conservative.\n        // In that case, reset the loader state so that we try to use any information gained\n        // from the previous request to create a new, more accurate, sync-point.\n\n        if (segment.end && this.currentTime_() - segment.end > segmentInfo.playlist.targetDuration * 3) {\n          this.resetEverything();\n          return;\n        } // Don't do a rendition switch unless we have enough time to get a sync segment\n        // and conservatively guess\n\n\n        if (isWalkingForward) {\n          this.trigger('bandwidthupdate');\n        }\n\n        this.trigger('progress'); // any time an update finishes and the last segment is in the\n        // buffer, end the stream. this ensures the \"ended\" event will\n        // fire if playback reaches that point.\n\n        if (this.isEndOfStream_(segmentInfo.mediaIndex + 1, segmentInfo.playlist)) {\n          this.endOfStream();\n        }\n\n        if (!this.paused()) {\n          this.monitorBuffer_();\n        }\n      }\n      /**\n       * Records the current throughput of the decrypt, transmux, and append\n       * portion of the semgment pipeline. `throughput.rate` is a the cumulative\n       * moving average of the throughput. `throughput.count` is the number of\n       * data points in the average.\n       *\n       * @private\n       * @param {Object} segmentInfo the object returned by loadSegment\n       */\n\n    }, {\n      key: 'recordThroughput_',\n      value: function recordThroughput_(segmentInfo) {\n        var rate = this.throughput.rate; // Add one to the time to ensure that we don't accidentally attempt to divide\n        // by zero in the case where the throughput is ridiculously high\n\n        var segmentProcessingTime = Date.now() - segmentInfo.endOfAllRequests + 1; // Multiply by 8000 to convert from bytes/millisecond to bits/second\n\n        var segmentProcessingThroughput = Math.floor(segmentInfo.byteLength / segmentProcessingTime * 8 * 1000); // This is just a cumulative moving average calculation:\n        //   newAvg = oldAvg + (sample - oldAvg) / (sampleCount + 1)\n\n        this.throughput.rate += (segmentProcessingThroughput - rate) / ++this.throughput.count;\n      }\n      /**\n       * Adds a cue to the segment-metadata track with some metadata information about the\n       * segment\n       *\n       * @private\n       * @param {Object} segmentInfo\n       *        the object returned by loadSegment\n       * @method addSegmentMetadataCue_\n       */\n\n    }, {\n      key: 'addSegmentMetadataCue_',\n      value: function addSegmentMetadataCue_(segmentInfo) {\n        if (!this.segmentMetadataTrack_) {\n          return;\n        }\n\n        var segment = segmentInfo.segment;\n        var start = segment.start;\n        var end = segment.end; // Do not try adding the cue if the start and end times are invalid.\n\n        if (!finite(start) || !finite(end)) {\n          return;\n        }\n\n        removeCuesFromTrack(start, end, this.segmentMetadataTrack_);\n        var Cue = window$1.WebKitDataCue || window$1.VTTCue;\n        var value = {\n          custom: segment.custom,\n          dateTimeObject: segment.dateTimeObject,\n          dateTimeString: segment.dateTimeString,\n          bandwidth: segmentInfo.playlist.attributes.BANDWIDTH,\n          resolution: segmentInfo.playlist.attributes.RESOLUTION,\n          codecs: segmentInfo.playlist.attributes.CODECS,\n          byteLength: segmentInfo.byteLength,\n          uri: segmentInfo.uri,\n          timeline: segmentInfo.timeline,\n          playlist: segmentInfo.playlist.uri,\n          start: start,\n          end: end\n        };\n        var data = JSON.stringify(value);\n        var cue = new Cue(start, end, data); // Attach the metadata to the value property of the cue to keep consistency between\n        // the differences of WebKitDataCue in safari and VTTCue in other browsers\n\n        cue.value = value;\n        this.segmentMetadataTrack_.addCue(cue);\n      }\n    }]);\n    return SegmentLoader;\n  }(videojs$1.EventTarget);\n\n  var uint8ToUtf8 = function uint8ToUtf8(uintArray) {\n    return decodeURIComponent(escape(String.fromCharCode.apply(null, uintArray)));\n  };\n  /**\n   * @file vtt-segment-loader.js\n   */\n\n\n  var VTT_LINE_TERMINATORS = new Uint8Array('\\n\\n'.split('').map(function (char) {\n    return char.charCodeAt(0);\n  }));\n  /**\n   * An object that manages segment loading and appending.\n   *\n   * @class VTTSegmentLoader\n   * @param {Object} options required and optional options\n   * @extends videojs.EventTarget\n   */\n\n  var VTTSegmentLoader = function (_SegmentLoader) {\n    inherits$1(VTTSegmentLoader, _SegmentLoader);\n\n    function VTTSegmentLoader(settings) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      classCallCheck$1(this, VTTSegmentLoader); // SegmentLoader requires a MediaSource be specified or it will throw an error;\n      // however, VTTSegmentLoader has no need of a media source, so delete the reference\n\n      var _this = possibleConstructorReturn$1(this, (VTTSegmentLoader.__proto__ || Object.getPrototypeOf(VTTSegmentLoader)).call(this, settings, options));\n\n      _this.mediaSource_ = null;\n      _this.subtitlesTrack_ = null;\n      return _this;\n    }\n    /**\n     * Indicates which time ranges are buffered\n     *\n     * @return {TimeRange}\n     *         TimeRange object representing the current buffered ranges\n     */\n\n\n    createClass$1(VTTSegmentLoader, [{\n      key: 'buffered_',\n      value: function buffered_() {\n        if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) {\n          return videojs$1.createTimeRanges();\n        }\n\n        var cues = this.subtitlesTrack_.cues;\n        var start = cues[0].startTime;\n        var end = cues[cues.length - 1].startTime;\n        return videojs$1.createTimeRanges([[start, end]]);\n      }\n      /**\n       * Gets and sets init segment for the provided map\n       *\n       * @param {Object} map\n       *        The map object representing the init segment to get or set\n       * @param {Boolean=} set\n       *        If true, the init segment for the provided map should be saved\n       * @return {Object}\n       *         map object for desired init segment\n       */\n\n    }, {\n      key: 'initSegment',\n      value: function initSegment(map) {\n        var set$$1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (!map) {\n          return null;\n        }\n\n        var id = initSegmentId(map);\n        var storedMap = this.initSegments_[id];\n\n        if (set$$1 && !storedMap && map.bytes) {\n          // append WebVTT line terminators to the media initialization segment if it exists\n          // to follow the WebVTT spec (https://w3c.github.io/webvtt/#file-structure) that\n          // requires two or more WebVTT line terminators between the WebVTT header and the\n          // rest of the file\n          var combinedByteLength = VTT_LINE_TERMINATORS.byteLength + map.bytes.byteLength;\n          var combinedSegment = new Uint8Array(combinedByteLength);\n          combinedSegment.set(map.bytes);\n          combinedSegment.set(VTT_LINE_TERMINATORS, map.bytes.byteLength);\n          this.initSegments_[id] = storedMap = {\n            resolvedUri: map.resolvedUri,\n            byterange: map.byterange,\n            bytes: combinedSegment\n          };\n        }\n\n        return storedMap || map;\n      }\n      /**\n       * Returns true if all configuration required for loading is present, otherwise false.\n       *\n       * @return {Boolean} True if the all configuration is ready for loading\n       * @private\n       */\n\n    }, {\n      key: 'couldBeginLoading_',\n      value: function couldBeginLoading_() {\n        return this.playlist_ && this.subtitlesTrack_ && !this.paused();\n      }\n      /**\n       * Once all the starting parameters have been specified, begin\n       * operation. This method should only be invoked from the INIT\n       * state.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'init_',\n      value: function init_() {\n        this.state = 'READY';\n        this.resetEverything();\n        return this.monitorBuffer_();\n      }\n      /**\n       * Set a subtitle track on the segment loader to add subtitles to\n       *\n       * @param {TextTrack=} track\n       *        The text track to add loaded subtitles to\n       * @return {TextTrack}\n       *        Returns the subtitles track\n       */\n\n    }, {\n      key: 'track',\n      value: function track(_track) {\n        if (typeof _track === 'undefined') {\n          return this.subtitlesTrack_;\n        }\n\n        this.subtitlesTrack_ = _track; // if we were unpaused but waiting for a sourceUpdater, start\n        // buffering now\n\n        if (this.state === 'INIT' && this.couldBeginLoading_()) {\n          this.init_();\n        }\n\n        return this.subtitlesTrack_;\n      }\n      /**\n       * Remove any data in the source buffer between start and end times\n       * @param {Number} start - the start time of the region to remove from the buffer\n       * @param {Number} end - the end time of the region to remove from the buffer\n       */\n\n    }, {\n      key: 'remove',\n      value: function remove(start, end) {\n        removeCuesFromTrack(start, end, this.subtitlesTrack_);\n      }\n      /**\n       * fill the buffer with segements unless the sourceBuffers are\n       * currently updating\n       *\n       * Note: this function should only ever be called by monitorBuffer_\n       * and never directly\n       *\n       * @private\n       */\n\n    }, {\n      key: 'fillBuffer_',\n      value: function fillBuffer_() {\n        var _this2 = this;\n\n        if (!this.syncPoint_) {\n          this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_());\n        } // see if we need to begin loading immediately\n\n\n        var segmentInfo = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);\n        segmentInfo = this.skipEmptySegments_(segmentInfo);\n\n        if (!segmentInfo) {\n          return;\n        }\n\n        if (this.syncController_.timestampOffsetForTimeline(segmentInfo.timeline) === null) {\n          // We don't have the timestamp offset that we need to sync subtitles.\n          // Rerun on a timestamp offset or user interaction.\n          var checkTimestampOffset = function checkTimestampOffset() {\n            _this2.state = 'READY';\n\n            if (!_this2.paused()) {\n              // if not paused, queue a buffer check as soon as possible\n              _this2.monitorBuffer_();\n            }\n          };\n\n          this.syncController_.one('timestampoffset', checkTimestampOffset);\n          this.state = 'WAITING_ON_TIMELINE';\n          return;\n        }\n\n        this.loadSegment_(segmentInfo);\n      }\n      /**\n       * Prevents the segment loader from requesting segments we know contain no subtitles\n       * by walking forward until we find the next segment that we don't know whether it is\n       * empty or not.\n       *\n       * @param {Object} segmentInfo\n       *        a segment info object that describes the current segment\n       * @return {Object}\n       *         a segment info object that describes the current segment\n       */\n\n    }, {\n      key: 'skipEmptySegments_',\n      value: function skipEmptySegments_(segmentInfo) {\n        while (segmentInfo && segmentInfo.segment.empty) {\n          segmentInfo = this.generateSegmentInfo_(segmentInfo.playlist, segmentInfo.mediaIndex + 1, segmentInfo.startOfSegment + segmentInfo.duration, segmentInfo.isSyncRequest);\n        }\n\n        return segmentInfo;\n      }\n      /**\n       * append a decrypted segement to the SourceBuffer through a SourceUpdater\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleSegment_',\n      value: function handleSegment_() {\n        var _this3 = this;\n\n        if (!this.pendingSegment_ || !this.subtitlesTrack_) {\n          this.state = 'READY';\n          return;\n        }\n\n        this.state = 'APPENDING';\n        var segmentInfo = this.pendingSegment_;\n        var segment = segmentInfo.segment; // Make sure that vttjs has loaded, otherwise, wait till it finished loading\n\n        if (typeof window$1.WebVTT !== 'function' && this.subtitlesTrack_ && this.subtitlesTrack_.tech_) {\n          var loadHandler = function loadHandler() {\n            _this3.handleSegment_();\n          };\n\n          this.state = 'WAITING_ON_VTTJS';\n          this.subtitlesTrack_.tech_.one('vttjsloaded', loadHandler);\n          this.subtitlesTrack_.tech_.one('vttjserror', function () {\n            _this3.subtitlesTrack_.tech_.off('vttjsloaded', loadHandler);\n\n            _this3.error({\n              message: 'Error loading vtt.js'\n            });\n\n            _this3.state = 'READY';\n\n            _this3.pause();\n\n            _this3.trigger('error');\n          });\n          return;\n        }\n\n        segment.requested = true;\n\n        try {\n          this.parseVTTCues_(segmentInfo);\n        } catch (e) {\n          this.error({\n            message: e.message\n          });\n          this.state = 'READY';\n          this.pause();\n          return this.trigger('error');\n        }\n\n        this.updateTimeMapping_(segmentInfo, this.syncController_.timelines[segmentInfo.timeline], this.playlist_);\n\n        if (segmentInfo.isSyncRequest) {\n          this.trigger('syncinfoupdate');\n          this.pendingSegment_ = null;\n          this.state = 'READY';\n          return;\n        }\n\n        segmentInfo.byteLength = segmentInfo.bytes.byteLength;\n        this.mediaSecondsLoaded += segment.duration;\n\n        if (segmentInfo.cues.length) {\n          // remove any overlapping cues to prevent doubling\n          this.remove(segmentInfo.cues[0].endTime, segmentInfo.cues[segmentInfo.cues.length - 1].endTime);\n        }\n\n        segmentInfo.cues.forEach(function (cue) {\n          _this3.subtitlesTrack_.addCue(cue);\n        });\n        this.handleUpdateEnd_();\n      }\n      /**\n       * Uses the WebVTT parser to parse the segment response\n       *\n       * @param {Object} segmentInfo\n       *        a segment info object that describes the current segment\n       * @private\n       */\n\n    }, {\n      key: 'parseVTTCues_',\n      value: function parseVTTCues_(segmentInfo) {\n        var decoder = void 0;\n        var decodeBytesToString = false;\n\n        if (typeof window$1.TextDecoder === 'function') {\n          decoder = new window$1.TextDecoder('utf8');\n        } else {\n          decoder = window$1.WebVTT.StringDecoder();\n          decodeBytesToString = true;\n        }\n\n        var parser = new window$1.WebVTT.Parser(window$1, window$1.vttjs, decoder);\n        segmentInfo.cues = [];\n        segmentInfo.timestampmap = {\n          MPEGTS: 0,\n          LOCAL: 0\n        };\n        parser.oncue = segmentInfo.cues.push.bind(segmentInfo.cues);\n\n        parser.ontimestampmap = function (map) {\n          return segmentInfo.timestampmap = map;\n        };\n\n        parser.onparsingerror = function (error) {\n          videojs$1.log.warn('Error encountered when parsing cues: ' + error.message);\n        };\n\n        if (segmentInfo.segment.map) {\n          var mapData = segmentInfo.segment.map.bytes;\n\n          if (decodeBytesToString) {\n            mapData = uint8ToUtf8(mapData);\n          }\n\n          parser.parse(mapData);\n        }\n\n        var segmentData = segmentInfo.bytes;\n\n        if (decodeBytesToString) {\n          segmentData = uint8ToUtf8(segmentData);\n        }\n\n        parser.parse(segmentData);\n        parser.flush();\n      }\n      /**\n       * Updates the start and end times of any cues parsed by the WebVTT parser using\n       * the information parsed from the X-TIMESTAMP-MAP header and a TS to media time mapping\n       * from the SyncController\n       *\n       * @param {Object} segmentInfo\n       *        a segment info object that describes the current segment\n       * @param {Object} mappingObj\n       *        object containing a mapping from TS to media time\n       * @param {Object} playlist\n       *        the playlist object containing the segment\n       * @private\n       */\n\n    }, {\n      key: 'updateTimeMapping_',\n      value: function updateTimeMapping_(segmentInfo, mappingObj, playlist) {\n        var segment = segmentInfo.segment;\n\n        if (!mappingObj) {\n          // If the sync controller does not have a mapping of TS to Media Time for the\n          // timeline, then we don't have enough information to update the cue\n          // start/end times\n          return;\n        }\n\n        if (!segmentInfo.cues.length) {\n          // If there are no cues, we also do not have enough information to figure out\n          // segment timing. Mark that the segment contains no cues so we don't re-request\n          // an empty segment.\n          segment.empty = true;\n          return;\n        }\n\n        var timestampmap = segmentInfo.timestampmap;\n        var diff = timestampmap.MPEGTS / 90000 - timestampmap.LOCAL + mappingObj.mapping;\n        segmentInfo.cues.forEach(function (cue) {\n          // First convert cue time to TS time using the timestamp-map provided within the vtt\n          cue.startTime += diff;\n          cue.endTime += diff;\n        });\n\n        if (!playlist.syncInfo) {\n          var firstStart = segmentInfo.cues[0].startTime;\n          var lastStart = segmentInfo.cues[segmentInfo.cues.length - 1].startTime;\n          playlist.syncInfo = {\n            mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n            time: Math.min(firstStart, lastStart - segment.duration)\n          };\n        }\n      }\n    }]);\n    return VTTSegmentLoader;\n  }(SegmentLoader);\n  /**\n   * @file ad-cue-tags.js\n   */\n\n  /**\n   * Searches for an ad cue that overlaps with the given mediaTime\n   */\n\n\n  var findAdCue = function findAdCue(track, mediaTime) {\n    var cues = track.cues;\n\n    for (var i = 0; i < cues.length; i++) {\n      var cue = cues[i];\n\n      if (mediaTime >= cue.adStartTime && mediaTime <= cue.adEndTime) {\n        return cue;\n      }\n    }\n\n    return null;\n  };\n\n  var updateAdCues = function updateAdCues(media, track) {\n    var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n    if (!media.segments) {\n      return;\n    }\n\n    var mediaTime = offset;\n    var cue = void 0;\n\n    for (var i = 0; i < media.segments.length; i++) {\n      var segment = media.segments[i];\n\n      if (!cue) {\n        // Since the cues will span for at least the segment duration, adding a fudge\n        // factor of half segment duration will prevent duplicate cues from being\n        // created when timing info is not exact (e.g. cue start time initialized\n        // at 10.006677, but next call mediaTime is 10.003332 )\n        cue = findAdCue(track, mediaTime + segment.duration / 2);\n      }\n\n      if (cue) {\n        if ('cueIn' in segment) {\n          // Found a CUE-IN so end the cue\n          cue.endTime = mediaTime;\n          cue.adEndTime = mediaTime;\n          mediaTime += segment.duration;\n          cue = null;\n          continue;\n        }\n\n        if (mediaTime < cue.endTime) {\n          // Already processed this mediaTime for this cue\n          mediaTime += segment.duration;\n          continue;\n        } // otherwise extend cue until a CUE-IN is found\n\n\n        cue.endTime += segment.duration;\n      } else {\n        if ('cueOut' in segment) {\n          cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, segment.cueOut);\n          cue.adStartTime = mediaTime; // Assumes tag format to be\n          // #EXT-X-CUE-OUT:30\n\n          cue.adEndTime = mediaTime + parseFloat(segment.cueOut);\n          track.addCue(cue);\n        }\n\n        if ('cueOutCont' in segment) {\n          // Entered into the middle of an ad cue\n          var adOffset = void 0;\n          var adTotal = void 0; // Assumes tag formate to be\n          // #EXT-X-CUE-OUT-CONT:10/30\n\n          var _segment$cueOutCont$s = segment.cueOutCont.split('/').map(parseFloat);\n\n          var _segment$cueOutCont$s2 = slicedToArray(_segment$cueOutCont$s, 2);\n\n          adOffset = _segment$cueOutCont$s2[0];\n          adTotal = _segment$cueOutCont$s2[1];\n          cue = new window$1.VTTCue(mediaTime, mediaTime + segment.duration, '');\n          cue.adStartTime = mediaTime - adOffset;\n          cue.adEndTime = cue.adStartTime + adTotal;\n          track.addCue(cue);\n        }\n      }\n\n      mediaTime += segment.duration;\n    }\n  };\n  /**\n   * @file sync-controller.js\n   */\n\n\n  var tsprobe = tsInspector.inspect;\n  var syncPointStrategies = [// Stategy \"VOD\": Handle the VOD-case where the sync-point is *always*\n  //                the equivalence display-time 0 === segment-index 0\n  {\n    name: 'VOD',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      if (duration$$1 !== Infinity) {\n        var syncPoint = {\n          time: 0,\n          segmentIndex: 0\n        };\n        return syncPoint;\n      }\n\n      return null;\n    }\n  }, // Stategy \"ProgramDateTime\": We have a program-date-time tag in this playlist\n  {\n    name: 'ProgramDateTime',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      if (!syncController.datetimeToDisplayTime) {\n        return null;\n      }\n\n      var segments = playlist.segments || [];\n      var syncPoint = null;\n      var lastDistance = null;\n      currentTime = currentTime || 0;\n\n      for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n\n        if (segment.dateTimeObject) {\n          var segmentTime = segment.dateTimeObject.getTime() / 1000;\n          var segmentStart = segmentTime + syncController.datetimeToDisplayTime;\n          var distance = Math.abs(currentTime - segmentStart); // Once the distance begins to increase, we have passed\n          // currentTime and can stop looking for better candidates\n\n          if (lastDistance !== null && lastDistance < distance) {\n            break;\n          }\n\n          lastDistance = distance;\n          syncPoint = {\n            time: segmentStart,\n            segmentIndex: i\n          };\n        }\n      }\n\n      return syncPoint;\n    }\n  }, // Stategy \"Segment\": We have a known time mapping for a timeline and a\n  //                    segment in the current timeline with timing data\n  {\n    name: 'Segment',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      var segments = playlist.segments || [];\n      var syncPoint = null;\n      var lastDistance = null;\n      currentTime = currentTime || 0;\n\n      for (var i = 0; i < segments.length; i++) {\n        var segment = segments[i];\n\n        if (segment.timeline === currentTimeline && typeof segment.start !== 'undefined') {\n          var distance = Math.abs(currentTime - segment.start); // Once the distance begins to increase, we have passed\n          // currentTime and can stop looking for better candidates\n\n          if (lastDistance !== null && lastDistance < distance) {\n            break;\n          }\n\n          if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n            lastDistance = distance;\n            syncPoint = {\n              time: segment.start,\n              segmentIndex: i\n            };\n          }\n        }\n      }\n\n      return syncPoint;\n    }\n  }, // Stategy \"Discontinuity\": We have a discontinuity with a known\n  //                          display-time\n  {\n    name: 'Discontinuity',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      var syncPoint = null;\n      currentTime = currentTime || 0;\n\n      if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n        var lastDistance = null;\n\n        for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n          var segmentIndex = playlist.discontinuityStarts[i];\n          var discontinuity = playlist.discontinuitySequence + i + 1;\n          var discontinuitySync = syncController.discontinuities[discontinuity];\n\n          if (discontinuitySync) {\n            var distance = Math.abs(currentTime - discontinuitySync.time); // Once the distance begins to increase, we have passed\n            // currentTime and can stop looking for better candidates\n\n            if (lastDistance !== null && lastDistance < distance) {\n              break;\n            }\n\n            if (!syncPoint || lastDistance === null || lastDistance >= distance) {\n              lastDistance = distance;\n              syncPoint = {\n                time: discontinuitySync.time,\n                segmentIndex: segmentIndex\n              };\n            }\n          }\n        }\n      }\n\n      return syncPoint;\n    }\n  }, // Stategy \"Playlist\": We have a playlist with a known mapping of\n  //                     segment index to display time\n  {\n    name: 'Playlist',\n    run: function run(syncController, playlist, duration$$1, currentTimeline, currentTime) {\n      if (playlist.syncInfo) {\n        var syncPoint = {\n          time: playlist.syncInfo.time,\n          segmentIndex: playlist.syncInfo.mediaSequence - playlist.mediaSequence\n        };\n        return syncPoint;\n      }\n\n      return null;\n    }\n  }];\n\n  var SyncController = function (_videojs$EventTarget) {\n    inherits$1(SyncController, _videojs$EventTarget);\n\n    function SyncController() {\n      classCallCheck$1(this, SyncController); // Segment Loader state variables...\n      // ...for synching across variants\n\n      var _this = possibleConstructorReturn$1(this, (SyncController.__proto__ || Object.getPrototypeOf(SyncController)).call(this));\n\n      _this.inspectCache_ = undefined; // ...for synching across variants\n\n      _this.timelines = [];\n      _this.discontinuities = [];\n      _this.datetimeToDisplayTime = null;\n      _this.logger_ = logger('SyncController');\n      return _this;\n    }\n    /**\n     * Find a sync-point for the playlist specified\n     *\n     * A sync-point is defined as a known mapping from display-time to\n     * a segment-index in the current playlist.\n     *\n     * @param {Playlist} playlist\n     *        The playlist that needs a sync-point\n     * @param {Number} duration\n     *        Duration of the MediaSource (Infinite if playing a live source)\n     * @param {Number} currentTimeline\n     *        The last timeline from which a segment was loaded\n     * @returns {Object}\n     *          A sync-point object\n     */\n\n\n    createClass$1(SyncController, [{\n      key: 'getSyncPoint',\n      value: function getSyncPoint(playlist, duration$$1, currentTimeline, currentTime) {\n        var syncPoints = this.runStrategies_(playlist, duration$$1, currentTimeline, currentTime);\n\n        if (!syncPoints.length) {\n          // Signal that we need to attempt to get a sync-point manually\n          // by fetching a segment in the playlist and constructing\n          // a sync-point from that information\n          return null;\n        } // Now find the sync-point that is closest to the currentTime because\n        // that should result in the most accurate guess about which segment\n        // to fetch\n\n\n        return this.selectSyncPoint_(syncPoints, {\n          key: 'time',\n          value: currentTime\n        });\n      }\n      /**\n       * Calculate the amount of time that has expired off the playlist during playback\n       *\n       * @param {Playlist} playlist\n       *        Playlist object to calculate expired from\n       * @param {Number} duration\n       *        Duration of the MediaSource (Infinity if playling a live source)\n       * @returns {Number|null}\n       *          The amount of time that has expired off the playlist during playback. Null\n       *          if no sync-points for the playlist can be found.\n       */\n\n    }, {\n      key: 'getExpiredTime',\n      value: function getExpiredTime(playlist, duration$$1) {\n        if (!playlist || !playlist.segments) {\n          return null;\n        }\n\n        var syncPoints = this.runStrategies_(playlist, duration$$1, playlist.discontinuitySequence, 0); // Without sync-points, there is not enough information to determine the expired time\n\n        if (!syncPoints.length) {\n          return null;\n        }\n\n        var syncPoint = this.selectSyncPoint_(syncPoints, {\n          key: 'segmentIndex',\n          value: 0\n        }); // If the sync-point is beyond the start of the playlist, we want to subtract the\n        // duration from index 0 to syncPoint.segmentIndex instead of adding.\n\n        if (syncPoint.segmentIndex > 0) {\n          syncPoint.time *= -1;\n        }\n\n        return Math.abs(syncPoint.time + sumDurations(playlist, syncPoint.segmentIndex, 0));\n      }\n      /**\n       * Runs each sync-point strategy and returns a list of sync-points returned by the\n       * strategies\n       *\n       * @private\n       * @param {Playlist} playlist\n       *        The playlist that needs a sync-point\n       * @param {Number} duration\n       *        Duration of the MediaSource (Infinity if playing a live source)\n       * @param {Number} currentTimeline\n       *        The last timeline from which a segment was loaded\n       * @returns {Array}\n       *          A list of sync-point objects\n       */\n\n    }, {\n      key: 'runStrategies_',\n      value: function runStrategies_(playlist, duration$$1, currentTimeline, currentTime) {\n        var syncPoints = []; // Try to find a sync-point in by utilizing various strategies...\n\n        for (var i = 0; i < syncPointStrategies.length; i++) {\n          var strategy = syncPointStrategies[i];\n          var syncPoint = strategy.run(this, playlist, duration$$1, currentTimeline, currentTime);\n\n          if (syncPoint) {\n            syncPoint.strategy = strategy.name;\n            syncPoints.push({\n              strategy: strategy.name,\n              syncPoint: syncPoint\n            });\n          }\n        }\n\n        return syncPoints;\n      }\n      /**\n       * Selects the sync-point nearest the specified target\n       *\n       * @private\n       * @param {Array} syncPoints\n       *        List of sync-points to select from\n       * @param {Object} target\n       *        Object specifying the property and value we are targeting\n       * @param {String} target.key\n       *        Specifies the property to target. Must be either 'time' or 'segmentIndex'\n       * @param {Number} target.value\n       *        The value to target for the specified key.\n       * @returns {Object}\n       *          The sync-point nearest the target\n       */\n\n    }, {\n      key: 'selectSyncPoint_',\n      value: function selectSyncPoint_(syncPoints, target) {\n        var bestSyncPoint = syncPoints[0].syncPoint;\n        var bestDistance = Math.abs(syncPoints[0].syncPoint[target.key] - target.value);\n        var bestStrategy = syncPoints[0].strategy;\n\n        for (var i = 1; i < syncPoints.length; i++) {\n          var newDistance = Math.abs(syncPoints[i].syncPoint[target.key] - target.value);\n\n          if (newDistance < bestDistance) {\n            bestDistance = newDistance;\n            bestSyncPoint = syncPoints[i].syncPoint;\n            bestStrategy = syncPoints[i].strategy;\n          }\n        }\n\n        this.logger_('syncPoint for [' + target.key + ': ' + target.value + '] chosen with strategy' + (' [' + bestStrategy + ']: [time:' + bestSyncPoint.time + ',') + (' segmentIndex:' + bestSyncPoint.segmentIndex + ']'));\n        return bestSyncPoint;\n      }\n      /**\n       * Save any meta-data present on the segments when segments leave\n       * the live window to the playlist to allow for synchronization at the\n       * playlist level later.\n       *\n       * @param {Playlist} oldPlaylist - The previous active playlist\n       * @param {Playlist} newPlaylist - The updated and most current playlist\n       */\n\n    }, {\n      key: 'saveExpiredSegmentInfo',\n      value: function saveExpiredSegmentInfo(oldPlaylist, newPlaylist) {\n        var mediaSequenceDiff = newPlaylist.mediaSequence - oldPlaylist.mediaSequence; // When a segment expires from the playlist and it has a start time\n        // save that information as a possible sync-point reference in future\n\n        for (var i = mediaSequenceDiff - 1; i >= 0; i--) {\n          var lastRemovedSegment = oldPlaylist.segments[i];\n\n          if (lastRemovedSegment && typeof lastRemovedSegment.start !== 'undefined') {\n            newPlaylist.syncInfo = {\n              mediaSequence: oldPlaylist.mediaSequence + i,\n              time: lastRemovedSegment.start\n            };\n            this.logger_('playlist refresh sync: [time:' + newPlaylist.syncInfo.time + ',' + (' mediaSequence: ' + newPlaylist.syncInfo.mediaSequence + ']'));\n            this.trigger('syncinfoupdate');\n            break;\n          }\n        }\n      }\n      /**\n       * Save the mapping from playlist's ProgramDateTime to display. This should\n       * only ever happen once at the start of playback.\n       *\n       * @param {Playlist} playlist - The currently active playlist\n       */\n\n    }, {\n      key: 'setDateTimeMapping',\n      value: function setDateTimeMapping(playlist) {\n        if (!this.datetimeToDisplayTime && playlist.segments && playlist.segments.length && playlist.segments[0].dateTimeObject) {\n          var playlistTimestamp = playlist.segments[0].dateTimeObject.getTime() / 1000;\n          this.datetimeToDisplayTime = -playlistTimestamp;\n        }\n      }\n      /**\n       * Reset the state of the inspection cache when we do a rendition\n       * switch\n       */\n\n    }, {\n      key: 'reset',\n      value: function reset() {\n        this.inspectCache_ = undefined;\n      }\n      /**\n       * Probe or inspect a fmp4 or an mpeg2-ts segment to determine the start\n       * and end of the segment in it's internal \"media time\". Used to generate\n       * mappings from that internal \"media time\" to the display time that is\n       * shown on the player.\n       *\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       */\n\n    }, {\n      key: 'probeSegmentInfo',\n      value: function probeSegmentInfo(segmentInfo) {\n        var segment = segmentInfo.segment;\n        var playlist = segmentInfo.playlist;\n        var timingInfo = void 0;\n\n        if (segment.map) {\n          timingInfo = this.probeMp4Segment_(segmentInfo);\n        } else {\n          timingInfo = this.probeTsSegment_(segmentInfo);\n        }\n\n        if (timingInfo) {\n          if (this.calculateSegmentTimeMapping_(segmentInfo, timingInfo)) {\n            this.saveDiscontinuitySyncInfo_(segmentInfo); // If the playlist does not have sync information yet, record that information\n            // now with segment timing information\n\n            if (!playlist.syncInfo) {\n              playlist.syncInfo = {\n                mediaSequence: playlist.mediaSequence + segmentInfo.mediaIndex,\n                time: segment.start\n              };\n            }\n          }\n        }\n\n        return timingInfo;\n      }\n      /**\n       * Probe an fmp4 or an mpeg2-ts segment to determine the start of the segment\n       * in it's internal \"media time\".\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       * @return {object} The start and end time of the current segment in \"media time\"\n       */\n\n    }, {\n      key: 'probeMp4Segment_',\n      value: function probeMp4Segment_(segmentInfo) {\n        var segment = segmentInfo.segment;\n        var timescales = probe.timescale(segment.map.bytes);\n        var startTime = probe.startTime(timescales, segmentInfo.bytes);\n\n        if (segmentInfo.timestampOffset !== null) {\n          segmentInfo.timestampOffset -= startTime;\n        }\n\n        return {\n          start: startTime,\n          end: startTime + segment.duration\n        };\n      }\n      /**\n       * Probe an mpeg2-ts segment to determine the start and end of the segment\n       * in it's internal \"media time\".\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       * @return {object} The start and end time of the current segment in \"media time\"\n       */\n\n    }, {\n      key: 'probeTsSegment_',\n      value: function probeTsSegment_(segmentInfo) {\n        var timeInfo = tsprobe(segmentInfo.bytes, this.inspectCache_);\n        var segmentStartTime = void 0;\n        var segmentEndTime = void 0;\n\n        if (!timeInfo) {\n          return null;\n        }\n\n        if (timeInfo.video && timeInfo.video.length === 2) {\n          this.inspectCache_ = timeInfo.video[1].dts;\n          segmentStartTime = timeInfo.video[0].dtsTime;\n          segmentEndTime = timeInfo.video[1].dtsTime;\n        } else if (timeInfo.audio && timeInfo.audio.length === 2) {\n          this.inspectCache_ = timeInfo.audio[1].dts;\n          segmentStartTime = timeInfo.audio[0].dtsTime;\n          segmentEndTime = timeInfo.audio[1].dtsTime;\n        }\n\n        var probedInfo = {\n          start: segmentStartTime,\n          end: segmentEndTime,\n          containsVideo: timeInfo.video && timeInfo.video.length === 2,\n          containsAudio: timeInfo.audio && timeInfo.audio.length === 2\n        };\n        return probedInfo;\n      }\n    }, {\n      key: 'timestampOffsetForTimeline',\n      value: function timestampOffsetForTimeline(timeline) {\n        if (typeof this.timelines[timeline] === 'undefined') {\n          return null;\n        }\n\n        return this.timelines[timeline].time;\n      }\n    }, {\n      key: 'mappingForTimeline',\n      value: function mappingForTimeline(timeline) {\n        if (typeof this.timelines[timeline] === 'undefined') {\n          return null;\n        }\n\n        return this.timelines[timeline].mapping;\n      }\n      /**\n       * Use the \"media time\" for a segment to generate a mapping to \"display time\" and\n       * save that display time to the segment.\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo\n       *        The current active request information\n       * @param {object} timingInfo\n       *        The start and end time of the current segment in \"media time\"\n       * @returns {Boolean}\n       *          Returns false if segment time mapping could not be calculated\n       */\n\n    }, {\n      key: 'calculateSegmentTimeMapping_',\n      value: function calculateSegmentTimeMapping_(segmentInfo, timingInfo) {\n        var segment = segmentInfo.segment;\n        var mappingObj = this.timelines[segmentInfo.timeline];\n\n        if (segmentInfo.timestampOffset !== null) {\n          mappingObj = {\n            time: segmentInfo.startOfSegment,\n            mapping: segmentInfo.startOfSegment - timingInfo.start\n          };\n          this.timelines[segmentInfo.timeline] = mappingObj;\n          this.trigger('timestampoffset');\n          this.logger_('time mapping for timeline ' + segmentInfo.timeline + ': ' + ('[time: ' + mappingObj.time + '] [mapping: ' + mappingObj.mapping + ']'));\n          segment.start = segmentInfo.startOfSegment;\n          segment.end = timingInfo.end + mappingObj.mapping;\n        } else if (mappingObj) {\n          segment.start = timingInfo.start + mappingObj.mapping;\n          segment.end = timingInfo.end + mappingObj.mapping;\n        } else {\n          return false;\n        }\n\n        return true;\n      }\n      /**\n       * Each time we have discontinuity in the playlist, attempt to calculate the location\n       * in display of the start of the discontinuity and save that. We also save an accuracy\n       * value so that we save values with the most accuracy (closest to 0.)\n       *\n       * @private\n       * @param {SegmentInfo} segmentInfo - The current active request information\n       */\n\n    }, {\n      key: 'saveDiscontinuitySyncInfo_',\n      value: function saveDiscontinuitySyncInfo_(segmentInfo) {\n        var playlist = segmentInfo.playlist;\n        var segment = segmentInfo.segment; // If the current segment is a discontinuity then we know exactly where\n        // the start of the range and it's accuracy is 0 (greater accuracy values\n        // mean more approximation)\n\n        if (segment.discontinuity) {\n          this.discontinuities[segment.timeline] = {\n            time: segment.start,\n            accuracy: 0\n          };\n        } else if (playlist.discontinuityStarts && playlist.discontinuityStarts.length) {\n          // Search for future discontinuities that we can provide better timing\n          // information for and save that information for sync purposes\n          for (var i = 0; i < playlist.discontinuityStarts.length; i++) {\n            var segmentIndex = playlist.discontinuityStarts[i];\n            var discontinuity = playlist.discontinuitySequence + i + 1;\n            var mediaIndexDiff = segmentIndex - segmentInfo.mediaIndex;\n            var accuracy = Math.abs(mediaIndexDiff);\n\n            if (!this.discontinuities[discontinuity] || this.discontinuities[discontinuity].accuracy > accuracy) {\n              var time = void 0;\n\n              if (mediaIndexDiff < 0) {\n                time = segment.start - sumDurations(playlist, segmentInfo.mediaIndex, segmentIndex);\n              } else {\n                time = segment.end + sumDurations(playlist, segmentInfo.mediaIndex + 1, segmentIndex);\n              }\n\n              this.discontinuities[discontinuity] = {\n                time: time,\n                accuracy: accuracy\n              };\n            }\n          }\n        }\n      }\n    }]);\n    return SyncController;\n  }(videojs$1.EventTarget);\n\n  var Decrypter$1 = new shimWorker(\"./decrypter-worker.worker.js\", function (window, document$$1) {\n    var self = this;\n\n    var decrypterWorker = function () {\n      /*\n       * pkcs7.pad\n       * https://github.com/brightcove/pkcs7\n       *\n       * Copyright (c) 2014 Brightcove\n       * Licensed under the apache2 license.\n       */\n\n      /**\n       * Returns the subarray of a Uint8Array without PKCS#7 padding.\n       * @param padded {Uint8Array} unencrypted bytes that have been padded\n       * @return {Uint8Array} the unpadded bytes\n       * @see http://tools.ietf.org/html/rfc5652\n       */\n      function unpad(padded) {\n        return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n      }\n\n      var classCallCheck = function classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      };\n\n      var createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var inherits = function inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      };\n\n      var possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      };\n      /**\n       * @file aes.js\n       *\n       * This file contains an adaptation of the AES decryption algorithm\n       * from the Standford Javascript Cryptography Library. That work is\n       * covered by the following copyright and permissions notice:\n       *\n       * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n       * All rights reserved.\n       *\n       * Redistribution and use in source and binary forms, with or without\n       * modification, are permitted provided that the following conditions are\n       * met:\n       *\n       * 1. Redistributions of source code must retain the above copyright\n       *    notice, this list of conditions and the following disclaimer.\n       *\n       * 2. Redistributions in binary form must reproduce the above\n       *    copyright notice, this list of conditions and the following\n       *    disclaimer in the documentation and/or other materials provided\n       *    with the distribution.\n       *\n       * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n       * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n       * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n       * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n       * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n       * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n       * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n       * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n       * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n       * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n       * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n       *\n       * The views and conclusions contained in the software and documentation\n       * are those of the authors and should not be interpreted as representing\n       * official policies, either expressed or implied, of the authors.\n       */\n\n      /**\n       * Expand the S-box tables.\n       *\n       * @private\n       */\n\n\n      var precompute = function precompute() {\n        var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n        var encTable = tables[0];\n        var decTable = tables[1];\n        var sbox = encTable[4];\n        var sboxInv = decTable[4];\n        var i = void 0;\n        var x = void 0;\n        var xInv = void 0;\n        var d = [];\n        var th = [];\n        var x2 = void 0;\n        var x4 = void 0;\n        var x8 = void 0;\n        var s = void 0;\n        var tEnc = void 0;\n        var tDec = void 0; // Compute double and third tables\n\n        for (i = 0; i < 256; i++) {\n          th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n        }\n\n        for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n          // Compute sbox\n          s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n          s = s >> 8 ^ s & 255 ^ 99;\n          sbox[x] = s;\n          sboxInv[s] = x; // Compute MixColumns\n\n          x8 = d[x4 = d[x2 = d[x]]];\n          tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n          tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n          for (i = 0; i < 4; i++) {\n            encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n            decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n          }\n        } // Compactify. Considerable speedup on Firefox.\n\n\n        for (i = 0; i < 5; i++) {\n          encTable[i] = encTable[i].slice(0);\n          decTable[i] = decTable[i].slice(0);\n        }\n\n        return tables;\n      };\n\n      var aesTables = null;\n      /**\n       * Schedule out an AES key for both encryption and decryption. This\n       * is a low-level class. Use a cipher mode to do bulk encryption.\n       *\n       * @class AES\n       * @param key {Array} The key as an array of 4, 6 or 8 words.\n       */\n\n      var AES = function () {\n        function AES(key) {\n          classCallCheck(this, AES);\n          /**\n           * The expanded S-box and inverse S-box tables. These will be computed\n           * on the client so that we don't have to send them down the wire.\n           *\n           * There are two tables, _tables[0] is for encryption and\n           * _tables[1] is for decryption.\n           *\n           * The first 4 sub-tables are the expanded S-box with MixColumns. The\n           * last (_tables[01][4]) is the S-box itself.\n           *\n           * @private\n           */\n          // if we have yet to precompute the S-box tables\n          // do so now\n\n          if (!aesTables) {\n            aesTables = precompute();\n          } // then make a copy of that object for use\n\n\n          this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n          var i = void 0;\n          var j = void 0;\n          var tmp = void 0;\n          var encKey = void 0;\n          var decKey = void 0;\n          var sbox = this._tables[0][4];\n          var decTable = this._tables[1];\n          var keyLen = key.length;\n          var rcon = 1;\n\n          if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n            throw new Error('Invalid aes key size');\n          }\n\n          encKey = key.slice(0);\n          decKey = [];\n          this._key = [encKey, decKey]; // schedule encryption keys\n\n          for (i = keyLen; i < 4 * keyLen + 28; i++) {\n            tmp = encKey[i - 1]; // apply sbox\n\n            if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n              tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n              if (i % keyLen === 0) {\n                tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n                rcon = rcon << 1 ^ (rcon >> 7) * 283;\n              }\n            }\n\n            encKey[i] = encKey[i - keyLen] ^ tmp;\n          } // schedule decryption keys\n\n\n          for (j = 0; i; j++, i--) {\n            tmp = encKey[j & 3 ? i : i - 4];\n\n            if (i <= 4 || j < 4) {\n              decKey[j] = tmp;\n            } else {\n              decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n            }\n          }\n        }\n        /**\n         * Decrypt 16 bytes, specified as four 32-bit words.\n         *\n         * @param {Number} encrypted0 the first word to decrypt\n         * @param {Number} encrypted1 the second word to decrypt\n         * @param {Number} encrypted2 the third word to decrypt\n         * @param {Number} encrypted3 the fourth word to decrypt\n         * @param {Int32Array} out the array to write the decrypted words\n         * into\n         * @param {Number} offset the offset into the output array to start\n         * writing results\n         * @return {Array} The plaintext.\n         */\n\n\n        AES.prototype.decrypt = function decrypt$$1(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n          var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n          var a = encrypted0 ^ key[0];\n          var b = encrypted3 ^ key[1];\n          var c = encrypted2 ^ key[2];\n          var d = encrypted1 ^ key[3];\n          var a2 = void 0;\n          var b2 = void 0;\n          var c2 = void 0; // key.length === 2 ?\n\n          var nInnerRounds = key.length / 4 - 2;\n          var i = void 0;\n          var kIndex = 4;\n          var table = this._tables[1]; // load up the tables\n\n          var table0 = table[0];\n          var table1 = table[1];\n          var table2 = table[2];\n          var table3 = table[3];\n          var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n          for (i = 0; i < nInnerRounds; i++) {\n            a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n            b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n            c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n            d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n            kIndex += 4;\n            a = a2;\n            b = b2;\n            c = c2;\n          } // Last round.\n\n\n          for (i = 0; i < 4; i++) {\n            out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n            a2 = a;\n            a = b;\n            b = c;\n            c = d;\n            d = a2;\n          }\n        };\n\n        return AES;\n      }();\n      /**\n       * @file stream.js\n       */\n\n      /**\n       * A lightweight readable stream implemention that handles event dispatching.\n       *\n       * @class Stream\n       */\n\n\n      var Stream = function () {\n        function Stream() {\n          classCallCheck(this, Stream);\n          this.listeners = {};\n        }\n        /**\n         * Add a listener for a specified event type.\n         *\n         * @param {String} type the event name\n         * @param {Function} listener the callback to be invoked when an event of\n         * the specified type occurs\n         */\n\n\n        Stream.prototype.on = function on(type, listener) {\n          if (!this.listeners[type]) {\n            this.listeners[type] = [];\n          }\n\n          this.listeners[type].push(listener);\n        };\n        /**\n         * Remove a listener for a specified event type.\n         *\n         * @param {String} type the event name\n         * @param {Function} listener  a function previously registered for this\n         * type of event through `on`\n         * @return {Boolean} if we could turn it off or not\n         */\n\n\n        Stream.prototype.off = function off(type, listener) {\n          if (!this.listeners[type]) {\n            return false;\n          }\n\n          var index = this.listeners[type].indexOf(listener);\n          this.listeners[type].splice(index, 1);\n          return index > -1;\n        };\n        /**\n         * Trigger an event of the specified type on this stream. Any additional\n         * arguments to this function are passed as parameters to event listeners.\n         *\n         * @param {String} type the event name\n         */\n\n\n        Stream.prototype.trigger = function trigger(type) {\n          var callbacks = this.listeners[type];\n\n          if (!callbacks) {\n            return;\n          } // Slicing the arguments on every invocation of this method\n          // can add a significant amount of overhead. Avoid the\n          // intermediate object creation for the common case of a\n          // single callback argument\n\n\n          if (arguments.length === 2) {\n            var length = callbacks.length;\n\n            for (var i = 0; i < length; ++i) {\n              callbacks[i].call(this, arguments[1]);\n            }\n          } else {\n            var args = Array.prototype.slice.call(arguments, 1);\n            var _length = callbacks.length;\n\n            for (var _i = 0; _i < _length; ++_i) {\n              callbacks[_i].apply(this, args);\n            }\n          }\n        };\n        /**\n         * Destroys the stream and cleans up.\n         */\n\n\n        Stream.prototype.dispose = function dispose() {\n          this.listeners = {};\n        };\n        /**\n         * Forwards all `data` events on this stream to the destination stream. The\n         * destination stream should provide a method `push` to receive the data\n         * events as they arrive.\n         *\n         * @param {Stream} destination the stream that will receive all `data` events\n         * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n         */\n\n\n        Stream.prototype.pipe = function pipe(destination) {\n          this.on('data', function (data) {\n            destination.push(data);\n          });\n        };\n\n        return Stream;\n      }();\n      /**\n       * @file async-stream.js\n       */\n\n      /**\n       * A wrapper around the Stream class to use setTiemout\n       * and run stream \"jobs\" Asynchronously\n       *\n       * @class AsyncStream\n       * @extends Stream\n       */\n\n\n      var AsyncStream$$1 = function (_Stream) {\n        inherits(AsyncStream$$1, _Stream);\n\n        function AsyncStream$$1() {\n          classCallCheck(this, AsyncStream$$1);\n\n          var _this = possibleConstructorReturn(this, _Stream.call(this, Stream));\n\n          _this.jobs = [];\n          _this.delay = 1;\n          _this.timeout_ = null;\n          return _this;\n        }\n        /**\n         * process an async job\n         *\n         * @private\n         */\n\n\n        AsyncStream$$1.prototype.processJob_ = function processJob_() {\n          this.jobs.shift()();\n\n          if (this.jobs.length) {\n            this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n          } else {\n            this.timeout_ = null;\n          }\n        };\n        /**\n         * push a job into the stream\n         *\n         * @param {Function} job the job to push into the stream\n         */\n\n\n        AsyncStream$$1.prototype.push = function push(job) {\n          this.jobs.push(job);\n\n          if (!this.timeout_) {\n            this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n          }\n        };\n\n        return AsyncStream$$1;\n      }(Stream);\n      /**\n       * @file decrypter.js\n       *\n       * An asynchronous implementation of AES-128 CBC decryption with\n       * PKCS#7 padding.\n       */\n\n      /**\n       * Convert network-order (big-endian) bytes into their little-endian\n       * representation.\n       */\n\n\n      var ntoh = function ntoh(word) {\n        return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n      };\n      /**\n       * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n       *\n       * @param {Uint8Array} encrypted the encrypted bytes\n       * @param {Uint32Array} key the bytes of the decryption key\n       * @param {Uint32Array} initVector the initialization vector (IV) to\n       * use for the first round of CBC.\n       * @return {Uint8Array} the decrypted bytes\n       *\n       * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n       * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n       * @see https://tools.ietf.org/html/rfc2315\n       */\n\n\n      var decrypt$$1 = function decrypt$$1(encrypted, key, initVector) {\n        // word-level access to the encrypted bytes\n        var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n        var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n        var decrypted = new Uint8Array(encrypted.byteLength);\n        var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n        // decrypted data\n\n        var init0 = void 0;\n        var init1 = void 0;\n        var init2 = void 0;\n        var init3 = void 0;\n        var encrypted0 = void 0;\n        var encrypted1 = void 0;\n        var encrypted2 = void 0;\n        var encrypted3 = void 0; // iteration variable\n\n        var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n        // passed-in reference and easier access\n\n        init0 = initVector[0];\n        init1 = initVector[1];\n        init2 = initVector[2];\n        init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n        // to each decrypted block\n\n        for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n          // convert big-endian (network order) words into little-endian\n          // (javascript order)\n          encrypted0 = ntoh(encrypted32[wordIx]);\n          encrypted1 = ntoh(encrypted32[wordIx + 1]);\n          encrypted2 = ntoh(encrypted32[wordIx + 2]);\n          encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n          decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n          // plaintext\n\n          decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n          decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n          decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n          decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n          init0 = encrypted0;\n          init1 = encrypted1;\n          init2 = encrypted2;\n          init3 = encrypted3;\n        }\n\n        return decrypted;\n      };\n      /**\n       * The `Decrypter` class that manages decryption of AES\n       * data through `AsyncStream` objects and the `decrypt`\n       * function\n       *\n       * @param {Uint8Array} encrypted the encrypted bytes\n       * @param {Uint32Array} key the bytes of the decryption key\n       * @param {Uint32Array} initVector the initialization vector (IV) to\n       * @param {Function} done the function to run when done\n       * @class Decrypter\n       */\n\n\n      var Decrypter$$1 = function () {\n        function Decrypter$$1(encrypted, key, initVector, done) {\n          classCallCheck(this, Decrypter$$1);\n          var step = Decrypter$$1.STEP;\n          var encrypted32 = new Int32Array(encrypted.buffer);\n          var decrypted = new Uint8Array(encrypted.byteLength);\n          var i = 0;\n          this.asyncStream_ = new AsyncStream$$1(); // split up the encryption job and do the individual chunks asynchronously\n\n          this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n          for (i = step; i < encrypted32.length; i += step) {\n            initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n            this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n          } // invoke the done() callback when everything is finished\n\n\n          this.asyncStream_.push(function () {\n            // remove pkcs#7 padding from the decrypted bytes\n            done(null, unpad(decrypted));\n          });\n        }\n        /**\n         * a getter for step the maximum number of bytes to process at one time\n         *\n         * @return {Number} the value of step 32000\n         */\n\n        /**\n         * @private\n         */\n\n\n        Decrypter$$1.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n          return function () {\n            var bytes = decrypt$$1(encrypted, key, initVector);\n            decrypted.set(bytes, encrypted.byteOffset);\n          };\n        };\n\n        createClass(Decrypter$$1, null, [{\n          key: 'STEP',\n          get: function get$$1() {\n            // 4 * 8000;\n            return 32000;\n          }\n        }]);\n        return Decrypter$$1;\n      }();\n      /**\n       * @file bin-utils.js\n       */\n\n      /**\n       * Creates an object for sending to a web worker modifying properties that are TypedArrays\n       * into a new object with seperated properties for the buffer, byteOffset, and byteLength.\n       *\n       * @param {Object} message\n       *        Object of properties and values to send to the web worker\n       * @return {Object}\n       *         Modified message with TypedArray values expanded\n       * @function createTransferableMessage\n       */\n\n\n      var createTransferableMessage = function createTransferableMessage(message) {\n        var transferable = {};\n        Object.keys(message).forEach(function (key) {\n          var value = message[key];\n\n          if (ArrayBuffer.isView(value)) {\n            transferable[key] = {\n              bytes: value.buffer,\n              byteOffset: value.byteOffset,\n              byteLength: value.byteLength\n            };\n          } else {\n            transferable[key] = value;\n          }\n        });\n        return transferable;\n      };\n      /**\n       * Our web worker interface so that things can talk to aes-decrypter\n       * that will be running in a web worker. the scope is passed to this by\n       * webworkify.\n       *\n       * @param {Object} self\n       *        the scope for the web worker\n       */\n\n\n      var DecrypterWorker = function DecrypterWorker(self) {\n        self.onmessage = function (event) {\n          var data = event.data;\n          var encrypted = new Uint8Array(data.encrypted.bytes, data.encrypted.byteOffset, data.encrypted.byteLength);\n          var key = new Uint32Array(data.key.bytes, data.key.byteOffset, data.key.byteLength / 4);\n          var iv = new Uint32Array(data.iv.bytes, data.iv.byteOffset, data.iv.byteLength / 4);\n          /* eslint-disable no-new, handle-callback-err */\n\n          new Decrypter$$1(encrypted, key, iv, function (err, bytes) {\n            self.postMessage(createTransferableMessage({\n              source: data.source,\n              decrypted: bytes\n            }), [bytes.buffer]);\n          });\n          /* eslint-enable */\n        };\n      };\n\n      var decrypterWorker = new DecrypterWorker(self);\n      return decrypterWorker;\n    }();\n  });\n  /**\n   * Convert the properties of an HLS track into an audioTrackKind.\n   *\n   * @private\n   */\n\n  var audioTrackKind_ = function audioTrackKind_(properties) {\n    var kind = properties.default ? 'main' : 'alternative';\n\n    if (properties.characteristics && properties.characteristics.indexOf('public.accessibility.describes-video') >= 0) {\n      kind = 'main-desc';\n    }\n\n    return kind;\n  };\n  /**\n   * Pause provided segment loader and playlist loader if active\n   *\n   * @param {SegmentLoader} segmentLoader\n   *        SegmentLoader to pause\n   * @param {Object} mediaType\n   *        Active media type\n   * @function stopLoaders\n   */\n\n\n  var stopLoaders = function stopLoaders(segmentLoader, mediaType) {\n    segmentLoader.abort();\n    segmentLoader.pause();\n\n    if (mediaType && mediaType.activePlaylistLoader) {\n      mediaType.activePlaylistLoader.pause();\n      mediaType.activePlaylistLoader = null;\n    }\n  };\n  /**\n   * Start loading provided segment loader and playlist loader\n   *\n   * @param {PlaylistLoader} playlistLoader\n   *        PlaylistLoader to start loading\n   * @param {Object} mediaType\n   *        Active media type\n   * @function startLoaders\n   */\n\n\n  var startLoaders = function startLoaders(playlistLoader, mediaType) {\n    // Segment loader will be started after `loadedmetadata` or `loadedplaylist` from the\n    // playlist loader\n    mediaType.activePlaylistLoader = playlistLoader;\n    playlistLoader.load();\n  };\n  /**\n   * Returns a function to be called when the media group changes. It performs a\n   * non-destructive (preserve the buffer) resync of the SegmentLoader. This is because a\n   * change of group is merely a rendition switch of the same content at another encoding,\n   * rather than a change of content, such as switching audio from English to Spanish.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Handler for a non-destructive resync of SegmentLoader when the active media\n   *         group changes.\n   * @function onGroupChanged\n   */\n\n\n  var onGroupChanged = function onGroupChanged(type, settings) {\n    return function () {\n      var _settings$segmentLoad = settings.segmentLoaders,\n          segmentLoader = _settings$segmentLoad[type],\n          mainSegmentLoader = _settings$segmentLoad.main,\n          mediaType = settings.mediaTypes[type];\n      var activeTrack = mediaType.activeTrack();\n      var activeGroup = mediaType.activeGroup(activeTrack);\n      var previousActiveLoader = mediaType.activePlaylistLoader;\n      stopLoaders(segmentLoader, mediaType);\n\n      if (!activeGroup) {\n        // there is no group active\n        return;\n      }\n\n      if (!activeGroup.playlistLoader) {\n        if (previousActiveLoader) {\n          // The previous group had a playlist loader but the new active group does not\n          // this means we are switching from demuxed to muxed audio. In this case we want to\n          // do a destructive reset of the main segment loader and not restart the audio\n          // loaders.\n          mainSegmentLoader.resetEverything();\n        }\n\n        return;\n      } // Non-destructive resync\n\n\n      segmentLoader.resyncLoader();\n      startLoaders(activeGroup.playlistLoader, mediaType);\n    };\n  };\n  /**\n   * Returns a function to be called when the media track changes. It performs a\n   * destructive reset of the SegmentLoader to ensure we start loading as close to\n   * currentTime as possible.\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Handler for a destructive reset of SegmentLoader when the active media\n   *         track changes.\n   * @function onTrackChanged\n   */\n\n\n  var onTrackChanged = function onTrackChanged(type, settings) {\n    return function () {\n      var _settings$segmentLoad2 = settings.segmentLoaders,\n          segmentLoader = _settings$segmentLoad2[type],\n          mainSegmentLoader = _settings$segmentLoad2.main,\n          mediaType = settings.mediaTypes[type];\n      var activeTrack = mediaType.activeTrack();\n      var activeGroup = mediaType.activeGroup(activeTrack);\n      var previousActiveLoader = mediaType.activePlaylistLoader;\n      stopLoaders(segmentLoader, mediaType);\n\n      if (!activeGroup) {\n        // there is no group active so we do not want to restart loaders\n        return;\n      }\n\n      if (!activeGroup.playlistLoader) {\n        // when switching from demuxed audio/video to muxed audio/video (noted by no playlist\n        // loader for the audio group), we want to do a destructive reset of the main segment\n        // loader and not restart the audio loaders\n        mainSegmentLoader.resetEverything();\n        return;\n      }\n\n      if (previousActiveLoader === activeGroup.playlistLoader) {\n        // Nothing has actually changed. This can happen because track change events can fire\n        // multiple times for a \"single\" change. One for enabling the new active track, and\n        // one for disabling the track that was active\n        startLoaders(activeGroup.playlistLoader, mediaType);\n        return;\n      }\n\n      if (segmentLoader.track) {\n        // For WebVTT, set the new text track in the segmentloader\n        segmentLoader.track(activeTrack);\n      } // destructive reset\n\n\n      segmentLoader.resetEverything();\n      startLoaders(activeGroup.playlistLoader, mediaType);\n    };\n  };\n\n  var onError = {\n    /**\n     * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n     * an error.\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Error handler. Logs warning (or error if the playlist is blacklisted) to\n     *         console and switches back to default audio track.\n     * @function onError.AUDIO\n     */\n    AUDIO: function AUDIO(type, settings) {\n      return function () {\n        var segmentLoader = settings.segmentLoaders[type],\n            mediaType = settings.mediaTypes[type],\n            blacklistCurrentPlaylist = settings.blacklistCurrentPlaylist;\n        stopLoaders(segmentLoader, mediaType); // switch back to default audio track\n\n        var activeTrack = mediaType.activeTrack();\n        var activeGroup = mediaType.activeGroup();\n        var id = (activeGroup.filter(function (group) {\n          return group.default;\n        })[0] || activeGroup[0]).id;\n        var defaultTrack = mediaType.tracks[id];\n\n        if (activeTrack === defaultTrack) {\n          // Default track encountered an error. All we can do now is blacklist the current\n          // rendition and hope another will switch audio groups\n          blacklistCurrentPlaylist({\n            message: 'Problem encountered loading the default audio track.'\n          });\n          return;\n        }\n\n        videojs$1.log.warn('Problem encountered loading the alternate audio track.' + 'Switching back to default.');\n\n        for (var trackId in mediaType.tracks) {\n          mediaType.tracks[trackId].enabled = mediaType.tracks[trackId] === defaultTrack;\n        }\n\n        mediaType.onTrackChanged();\n      };\n    },\n\n    /**\n     * Returns a function to be called when a SegmentLoader or PlaylistLoader encounters\n     * an error.\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Error handler. Logs warning to console and disables the active subtitle track\n     * @function onError.SUBTITLES\n     */\n    SUBTITLES: function SUBTITLES(type, settings) {\n      return function () {\n        var segmentLoader = settings.segmentLoaders[type],\n            mediaType = settings.mediaTypes[type];\n        videojs$1.log.warn('Problem encountered loading the subtitle track.' + 'Disabling subtitle track.');\n        stopLoaders(segmentLoader, mediaType);\n        var track = mediaType.activeTrack();\n\n        if (track) {\n          track.mode = 'disabled';\n        }\n\n        mediaType.onTrackChanged();\n      };\n    }\n  };\n  var setupListeners = {\n    /**\n     * Setup event listeners for audio playlist loader\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {PlaylistLoader|null} playlistLoader\n     *        PlaylistLoader to register listeners on\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function setupListeners.AUDIO\n     */\n    AUDIO: function AUDIO(type, playlistLoader, settings) {\n      if (!playlistLoader) {\n        // no playlist loader means audio will be muxed with the video\n        return;\n      }\n\n      var tech = settings.tech,\n          requestOptions = settings.requestOptions,\n          segmentLoader = settings.segmentLoaders[type];\n      playlistLoader.on('loadedmetadata', function () {\n        var media = playlistLoader.media();\n        segmentLoader.playlist(media, requestOptions); // if the video is already playing, or if this isn't a live video and preload\n        // permits, start downloading segments\n\n        if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('loadedplaylist', function () {\n        segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n        if (!tech.paused()) {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('error', onError[type](type, settings));\n    },\n\n    /**\n     * Setup event listeners for subtitle playlist loader\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {PlaylistLoader|null} playlistLoader\n     *        PlaylistLoader to register listeners on\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function setupListeners.SUBTITLES\n     */\n    SUBTITLES: function SUBTITLES(type, playlistLoader, settings) {\n      var tech = settings.tech,\n          requestOptions = settings.requestOptions,\n          segmentLoader = settings.segmentLoaders[type],\n          mediaType = settings.mediaTypes[type];\n      playlistLoader.on('loadedmetadata', function () {\n        var media = playlistLoader.media();\n        segmentLoader.playlist(media, requestOptions);\n        segmentLoader.track(mediaType.activeTrack()); // if the video is already playing, or if this isn't a live video and preload\n        // permits, start downloading segments\n\n        if (!tech.paused() || media.endList && tech.preload() !== 'none') {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('loadedplaylist', function () {\n        segmentLoader.playlist(playlistLoader.media(), requestOptions); // If the player isn't paused, ensure that the segment loader is running\n\n        if (!tech.paused()) {\n          segmentLoader.load();\n        }\n      });\n      playlistLoader.on('error', onError[type](type, settings));\n    }\n  };\n\n  var byGroupId = function byGroupId(type, groupId) {\n    return function (playlist) {\n      return playlist.attributes[type] === groupId;\n    };\n  };\n\n  var byResolvedUri = function byResolvedUri(resolvedUri) {\n    return function (playlist) {\n      return playlist.resolvedUri === resolvedUri;\n    };\n  };\n\n  var initialize = {\n    /**\n     * Setup PlaylistLoaders and AudioTracks for the audio groups\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function initialize.AUDIO\n     */\n    'AUDIO': function AUDIO(type, settings) {\n      var hls = settings.hls,\n          sourceType = settings.sourceType,\n          segmentLoader = settings.segmentLoaders[type],\n          requestOptions = settings.requestOptions,\n          _settings$master = settings.master,\n          mediaGroups = _settings$master.mediaGroups,\n          playlists = _settings$master.playlists,\n          _settings$mediaTypes$ = settings.mediaTypes[type],\n          groups = _settings$mediaTypes$.groups,\n          tracks = _settings$mediaTypes$.tracks,\n          masterPlaylistLoader = settings.masterPlaylistLoader; // force a default if we have none\n\n      if (!mediaGroups[type] || Object.keys(mediaGroups[type]).length === 0) {\n        mediaGroups[type] = {\n          main: {\n            default: {\n              default: true\n            }\n          }\n        };\n      }\n\n      for (var groupId in mediaGroups[type]) {\n        if (!groups[groupId]) {\n          groups[groupId] = [];\n        } // List of playlists that have an AUDIO attribute value matching the current\n        // group ID\n\n\n        var groupPlaylists = playlists.filter(byGroupId(type, groupId));\n\n        for (var variantLabel in mediaGroups[type][groupId]) {\n          var properties = mediaGroups[type][groupId][variantLabel]; // List of playlists for the current group ID that have a matching uri with\n          // this alternate audio variant\n\n          var matchingPlaylists = groupPlaylists.filter(byResolvedUri(properties.resolvedUri));\n\n          if (matchingPlaylists.length) {\n            // If there is a playlist that has the same uri as this audio variant, assume\n            // that the playlist is audio only. We delete the resolvedUri property here\n            // to prevent a playlist loader from being created so that we don't have\n            // both the main and audio segment loaders loading the same audio segments\n            // from the same playlist.\n            delete properties.resolvedUri;\n          }\n\n          var playlistLoader = void 0;\n\n          if (properties.resolvedUri) {\n            playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n          } else if (properties.playlists && sourceType === 'dash') {\n            playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n          } else {\n            // no resolvedUri means the audio is muxed with the video when using this\n            // audio track\n            playlistLoader = null;\n          }\n\n          properties = videojs$1.mergeOptions({\n            id: variantLabel,\n            playlistLoader: playlistLoader\n          }, properties);\n          setupListeners[type](type, properties.playlistLoader, settings);\n          groups[groupId].push(properties);\n\n          if (typeof tracks[variantLabel] === 'undefined') {\n            var track = new videojs$1.AudioTrack({\n              id: variantLabel,\n              kind: audioTrackKind_(properties),\n              enabled: false,\n              language: properties.language,\n              default: properties.default,\n              label: variantLabel\n            });\n            tracks[variantLabel] = track;\n          }\n        }\n      } // setup single error event handler for the segment loader\n\n\n      segmentLoader.on('error', onError[type](type, settings));\n    },\n\n    /**\n     * Setup PlaylistLoaders and TextTracks for the subtitle groups\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function initialize.SUBTITLES\n     */\n    'SUBTITLES': function SUBTITLES(type, settings) {\n      var tech = settings.tech,\n          hls = settings.hls,\n          sourceType = settings.sourceType,\n          segmentLoader = settings.segmentLoaders[type],\n          requestOptions = settings.requestOptions,\n          mediaGroups = settings.master.mediaGroups,\n          _settings$mediaTypes$2 = settings.mediaTypes[type],\n          groups = _settings$mediaTypes$2.groups,\n          tracks = _settings$mediaTypes$2.tracks,\n          masterPlaylistLoader = settings.masterPlaylistLoader;\n\n      for (var groupId in mediaGroups[type]) {\n        if (!groups[groupId]) {\n          groups[groupId] = [];\n        }\n\n        for (var variantLabel in mediaGroups[type][groupId]) {\n          if (mediaGroups[type][groupId][variantLabel].forced) {\n            // Subtitle playlists with the forced attribute are not selectable in Safari.\n            // According to Apple's HLS Authoring Specification:\n            //   If content has forced subtitles and regular subtitles in a given language,\n            //   the regular subtitles track in that language MUST contain both the forced\n            //   subtitles and the regular subtitles for that language.\n            // Because of this requirement and that Safari does not add forced subtitles,\n            // forced subtitles are skipped here to maintain consistent experience across\n            // all platforms\n            continue;\n          }\n\n          var properties = mediaGroups[type][groupId][variantLabel];\n          var playlistLoader = void 0;\n\n          if (sourceType === 'hls') {\n            playlistLoader = new PlaylistLoader(properties.resolvedUri, hls, requestOptions);\n          } else if (sourceType === 'dash') {\n            playlistLoader = new DashPlaylistLoader(properties.playlists[0], hls, requestOptions, masterPlaylistLoader);\n          }\n\n          properties = videojs$1.mergeOptions({\n            id: variantLabel,\n            playlistLoader: playlistLoader\n          }, properties);\n          setupListeners[type](type, properties.playlistLoader, settings);\n          groups[groupId].push(properties);\n\n          if (typeof tracks[variantLabel] === 'undefined') {\n            var track = tech.addRemoteTextTrack({\n              id: variantLabel,\n              kind: 'subtitles',\n              default: properties.default && properties.autoselect,\n              language: properties.language,\n              label: variantLabel\n            }, false).track;\n            tracks[variantLabel] = track;\n          }\n        }\n      } // setup single error event handler for the segment loader\n\n\n      segmentLoader.on('error', onError[type](type, settings));\n    },\n\n    /**\n     * Setup TextTracks for the closed-caption groups\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @function initialize['CLOSED-CAPTIONS']\n     */\n    'CLOSED-CAPTIONS': function CLOSEDCAPTIONS(type, settings) {\n      var tech = settings.tech,\n          mediaGroups = settings.master.mediaGroups,\n          _settings$mediaTypes$3 = settings.mediaTypes[type],\n          groups = _settings$mediaTypes$3.groups,\n          tracks = _settings$mediaTypes$3.tracks;\n\n      for (var groupId in mediaGroups[type]) {\n        if (!groups[groupId]) {\n          groups[groupId] = [];\n        }\n\n        for (var variantLabel in mediaGroups[type][groupId]) {\n          var properties = mediaGroups[type][groupId][variantLabel]; // We only support CEA608 captions for now, so ignore anything that\n          // doesn't use a CCx INSTREAM-ID\n\n          if (!properties.instreamId.match(/CC\\d/)) {\n            continue;\n          } // No PlaylistLoader is required for Closed-Captions because the captions are\n          // embedded within the video stream\n\n\n          groups[groupId].push(videojs$1.mergeOptions({\n            id: variantLabel\n          }, properties));\n\n          if (typeof tracks[variantLabel] === 'undefined') {\n            var track = tech.addRemoteTextTrack({\n              id: properties.instreamId,\n              kind: 'captions',\n              default: properties.default && properties.autoselect,\n              language: properties.language,\n              label: variantLabel\n            }, false).track;\n            tracks[variantLabel] = track;\n          }\n        }\n      }\n    }\n  };\n  /**\n   * Returns a function used to get the active group of the provided type\n   *\n   * @param {String} type\n   *        MediaGroup type\n   * @param {Object} settings\n   *        Object containing required information for media groups\n   * @return {Function}\n   *         Function that returns the active media group for the provided type. Takes an\n   *         optional parameter {TextTrack} track. If no track is provided, a list of all\n   *         variants in the group, otherwise the variant corresponding to the provided\n   *         track is returned.\n   * @function activeGroup\n   */\n\n  var activeGroup = function activeGroup(type, settings) {\n    return function (track) {\n      var masterPlaylistLoader = settings.masterPlaylistLoader,\n          groups = settings.mediaTypes[type].groups;\n      var media = masterPlaylistLoader.media();\n\n      if (!media) {\n        return null;\n      }\n\n      var variants = null;\n\n      if (media.attributes[type]) {\n        variants = groups[media.attributes[type]];\n      }\n\n      variants = variants || groups.main;\n\n      if (typeof track === 'undefined') {\n        return variants;\n      }\n\n      if (track === null) {\n        // An active track was specified so a corresponding group is expected. track === null\n        // means no track is currently active so there is no corresponding group\n        return null;\n      }\n\n      return variants.filter(function (props) {\n        return props.id === track.id;\n      })[0] || null;\n    };\n  };\n\n  var activeTrack = {\n    /**\n     * Returns a function used to get the active track of type provided\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Function that returns the active media track for the provided type. Returns\n     *         null if no track is active\n     * @function activeTrack.AUDIO\n     */\n    AUDIO: function AUDIO(type, settings) {\n      return function () {\n        var tracks = settings.mediaTypes[type].tracks;\n\n        for (var id in tracks) {\n          if (tracks[id].enabled) {\n            return tracks[id];\n          }\n        }\n\n        return null;\n      };\n    },\n\n    /**\n     * Returns a function used to get the active track of type provided\n     *\n     * @param {String} type\n     *        MediaGroup type\n     * @param {Object} settings\n     *        Object containing required information for media groups\n     * @return {Function}\n     *         Function that returns the active media track for the provided type. Returns\n     *         null if no track is active\n     * @function activeTrack.SUBTITLES\n     */\n    SUBTITLES: function SUBTITLES(type, settings) {\n      return function () {\n        var tracks = settings.mediaTypes[type].tracks;\n\n        for (var id in tracks) {\n          if (tracks[id].mode === 'showing') {\n            return tracks[id];\n          }\n        }\n\n        return null;\n      };\n    }\n  };\n  /**\n   * Setup PlaylistLoaders and Tracks for media groups (Audio, Subtitles,\n   * Closed-Captions) specified in the master manifest.\n   *\n   * @param {Object} settings\n   *        Object containing required information for setting up the media groups\n   * @param {SegmentLoader} settings.segmentLoaders.AUDIO\n   *        Audio segment loader\n   * @param {SegmentLoader} settings.segmentLoaders.SUBTITLES\n   *        Subtitle segment loader\n   * @param {SegmentLoader} settings.segmentLoaders.main\n   *        Main segment loader\n   * @param {Tech} settings.tech\n   *        The tech of the player\n   * @param {Object} settings.requestOptions\n   *        XHR request options used by the segment loaders\n   * @param {PlaylistLoader} settings.masterPlaylistLoader\n   *        PlaylistLoader for the master source\n   * @param {HlsHandler} settings.hls\n   *        HLS SourceHandler\n   * @param {Object} settings.master\n   *        The parsed master manifest\n   * @param {Object} settings.mediaTypes\n   *        Object to store the loaders, tracks, and utility methods for each media type\n   * @param {Function} settings.blacklistCurrentPlaylist\n   *        Blacklists the current rendition and forces a rendition switch.\n   * @function setupMediaGroups\n   */\n\n  var setupMediaGroups = function setupMediaGroups(settings) {\n    ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n      initialize[type](type, settings);\n    });\n    var mediaTypes = settings.mediaTypes,\n        masterPlaylistLoader = settings.masterPlaylistLoader,\n        tech = settings.tech,\n        hls = settings.hls; // setup active group and track getters and change event handlers\n\n    ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n      mediaTypes[type].activeGroup = activeGroup(type, settings);\n      mediaTypes[type].activeTrack = activeTrack[type](type, settings);\n      mediaTypes[type].onGroupChanged = onGroupChanged(type, settings);\n      mediaTypes[type].onTrackChanged = onTrackChanged(type, settings);\n    }); // DO NOT enable the default subtitle or caption track.\n    // DO enable the default audio track\n\n    var audioGroup = mediaTypes.AUDIO.activeGroup();\n    var groupId = (audioGroup.filter(function (group) {\n      return group.default;\n    })[0] || audioGroup[0]).id;\n    mediaTypes.AUDIO.tracks[groupId].enabled = true;\n    mediaTypes.AUDIO.onTrackChanged();\n    masterPlaylistLoader.on('mediachange', function () {\n      ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n        return mediaTypes[type].onGroupChanged();\n      });\n    }); // custom audio track change event handler for usage event\n\n    var onAudioTrackChanged = function onAudioTrackChanged() {\n      mediaTypes.AUDIO.onTrackChanged();\n      tech.trigger({\n        type: 'usage',\n        name: 'hls-audio-change'\n      });\n    };\n\n    tech.audioTracks().addEventListener('change', onAudioTrackChanged);\n    tech.remoteTextTracks().addEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n    hls.on('dispose', function () {\n      tech.audioTracks().removeEventListener('change', onAudioTrackChanged);\n      tech.remoteTextTracks().removeEventListener('change', mediaTypes.SUBTITLES.onTrackChanged);\n    }); // clear existing audio tracks and add the ones we just created\n\n    tech.clearTracks('audio');\n\n    for (var id in mediaTypes.AUDIO.tracks) {\n      tech.audioTracks().addTrack(mediaTypes.AUDIO.tracks[id]);\n    }\n  };\n  /**\n   * Creates skeleton object used to store the loaders, tracks, and utility methods for each\n   * media type\n   *\n   * @return {Object}\n   *         Object to store the loaders, tracks, and utility methods for each media type\n   * @function createMediaTypes\n   */\n\n\n  var createMediaTypes = function createMediaTypes() {\n    var mediaTypes = {};\n    ['AUDIO', 'SUBTITLES', 'CLOSED-CAPTIONS'].forEach(function (type) {\n      mediaTypes[type] = {\n        groups: {},\n        tracks: {},\n        activePlaylistLoader: null,\n        activeGroup: noop$1,\n        activeTrack: noop$1,\n        onGroupChanged: noop$1,\n        onTrackChanged: noop$1\n      };\n    });\n    return mediaTypes;\n  };\n  /**\n   * @file master-playlist-controller.js\n   */\n\n\n  var ABORT_EARLY_BLACKLIST_SECONDS = 60 * 2;\n  var Hls = void 0; // SegmentLoader stats that need to have each loader's\n  // values summed to calculate the final value\n\n  var loaderStats = ['mediaRequests', 'mediaRequestsAborted', 'mediaRequestsTimedout', 'mediaRequestsErrored', 'mediaTransferDuration', 'mediaBytesTransferred'];\n\n  var sumLoaderStat = function sumLoaderStat(stat) {\n    return this.audioSegmentLoader_[stat] + this.mainSegmentLoader_[stat];\n  };\n  /**\n   * the master playlist controller controller all interactons\n   * between playlists and segmentloaders. At this time this mainly\n   * involves a master playlist and a series of audio playlists\n   * if they are available\n   *\n   * @class MasterPlaylistController\n   * @extends videojs.EventTarget\n   */\n\n\n  var MasterPlaylistController = function (_videojs$EventTarget) {\n    inherits$1(MasterPlaylistController, _videojs$EventTarget);\n\n    function MasterPlaylistController(options) {\n      classCallCheck$1(this, MasterPlaylistController);\n\n      var _this = possibleConstructorReturn$1(this, (MasterPlaylistController.__proto__ || Object.getPrototypeOf(MasterPlaylistController)).call(this));\n\n      var url = options.url,\n          handleManifestRedirects = options.handleManifestRedirects,\n          withCredentials = options.withCredentials,\n          tech = options.tech,\n          bandwidth = options.bandwidth,\n          externHls = options.externHls,\n          useCueTags = options.useCueTags,\n          blacklistDuration = options.blacklistDuration,\n          enableLowInitialPlaylist = options.enableLowInitialPlaylist,\n          sourceType = options.sourceType,\n          seekTo = options.seekTo;\n\n      if (!url) {\n        throw new Error('A non-empty playlist URL is required');\n      }\n\n      Hls = externHls;\n      _this.withCredentials = withCredentials;\n      _this.tech_ = tech;\n      _this.hls_ = tech.hls;\n      _this.seekTo_ = seekTo;\n      _this.sourceType_ = sourceType;\n      _this.useCueTags_ = useCueTags;\n      _this.blacklistDuration = blacklistDuration;\n      _this.enableLowInitialPlaylist = enableLowInitialPlaylist;\n\n      if (_this.useCueTags_) {\n        _this.cueTagsTrack_ = _this.tech_.addTextTrack('metadata', 'ad-cues');\n        _this.cueTagsTrack_.inBandMetadataTrackDispatchType = '';\n      }\n\n      _this.requestOptions_ = {\n        withCredentials: withCredentials,\n        handleManifestRedirects: handleManifestRedirects,\n        timeout: null\n      };\n      _this.mediaTypes_ = createMediaTypes();\n      _this.mediaSource = new videojs$1.MediaSource(); // load the media source into the player\n\n      _this.mediaSource.addEventListener('sourceopen', _this.handleSourceOpen_.bind(_this));\n\n      _this.seekable_ = videojs$1.createTimeRanges();\n\n      _this.hasPlayed_ = function () {\n        return false;\n      };\n\n      _this.syncController_ = new SyncController(options);\n      _this.segmentMetadataTrack_ = tech.addRemoteTextTrack({\n        kind: 'metadata',\n        label: 'segment-metadata'\n      }, false).track;\n      _this.decrypter_ = new Decrypter$1();\n      _this.inbandTextTracks_ = {};\n      var segmentLoaderSettings = {\n        hls: _this.hls_,\n        mediaSource: _this.mediaSource,\n        currentTime: _this.tech_.currentTime.bind(_this.tech_),\n        seekable: function seekable$$1() {\n          return _this.seekable();\n        },\n        seeking: function seeking() {\n          return _this.tech_.seeking();\n        },\n        duration: function duration$$1() {\n          return _this.mediaSource.duration;\n        },\n        hasPlayed: function hasPlayed() {\n          return _this.hasPlayed_();\n        },\n        goalBufferLength: function goalBufferLength() {\n          return _this.goalBufferLength();\n        },\n        bandwidth: bandwidth,\n        syncController: _this.syncController_,\n        decrypter: _this.decrypter_,\n        sourceType: _this.sourceType_,\n        inbandTextTracks: _this.inbandTextTracks_\n      };\n      _this.masterPlaylistLoader_ = _this.sourceType_ === 'dash' ? new DashPlaylistLoader(url, _this.hls_, _this.requestOptions_) : new PlaylistLoader(url, _this.hls_, _this.requestOptions_);\n\n      _this.setupMasterPlaylistLoaderListeners_(); // setup segment loaders\n      // combined audio/video or just video when alternate audio track is selected\n\n\n      _this.mainSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n        segmentMetadataTrack: _this.segmentMetadataTrack_,\n        loaderType: 'main'\n      }), options); // alternate audio track\n\n      _this.audioSegmentLoader_ = new SegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n        loaderType: 'audio'\n      }), options);\n      _this.subtitleSegmentLoader_ = new VTTSegmentLoader(videojs$1.mergeOptions(segmentLoaderSettings, {\n        loaderType: 'vtt'\n      }), options);\n\n      _this.setupSegmentLoaderListeners_(); // Create SegmentLoader stat-getters\n\n\n      loaderStats.forEach(function (stat) {\n        _this[stat + '_'] = sumLoaderStat.bind(_this, stat);\n      });\n      _this.logger_ = logger('MPC');\n\n      _this.masterPlaylistLoader_.load();\n\n      return _this;\n    }\n    /**\n     * Register event handlers on the master playlist loader. A helper\n     * function for construction time.\n     *\n     * @private\n     */\n\n\n    createClass$1(MasterPlaylistController, [{\n      key: 'setupMasterPlaylistLoaderListeners_',\n      value: function setupMasterPlaylistLoaderListeners_() {\n        var _this2 = this;\n\n        this.masterPlaylistLoader_.on('loadedmetadata', function () {\n          var media = _this2.masterPlaylistLoader_.media();\n\n          var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n          // timeout the request.\n\n          if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n            _this2.requestOptions_.timeout = 0;\n          } else {\n            _this2.requestOptions_.timeout = requestTimeout;\n          } // if this isn't a live video and preload permits, start\n          // downloading segments\n\n\n          if (media.endList && _this2.tech_.preload() !== 'none') {\n            _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n            _this2.mainSegmentLoader_.load();\n          }\n\n          setupMediaGroups({\n            sourceType: _this2.sourceType_,\n            segmentLoaders: {\n              AUDIO: _this2.audioSegmentLoader_,\n              SUBTITLES: _this2.subtitleSegmentLoader_,\n              main: _this2.mainSegmentLoader_\n            },\n            tech: _this2.tech_,\n            requestOptions: _this2.requestOptions_,\n            masterPlaylistLoader: _this2.masterPlaylistLoader_,\n            hls: _this2.hls_,\n            master: _this2.master(),\n            mediaTypes: _this2.mediaTypes_,\n            blacklistCurrentPlaylist: _this2.blacklistCurrentPlaylist.bind(_this2)\n          });\n\n          _this2.triggerPresenceUsage_(_this2.master(), media);\n\n          try {\n            _this2.setupSourceBuffers_();\n          } catch (e) {\n            videojs$1.log.warn('Failed to create SourceBuffers', e);\n            return _this2.mediaSource.endOfStream('decode');\n          }\n\n          _this2.setupFirstPlay();\n\n          if (!_this2.mediaTypes_.AUDIO.activePlaylistLoader || _this2.mediaTypes_.AUDIO.activePlaylistLoader.media()) {\n            _this2.trigger('selectedinitialmedia');\n          } else {\n            // We must wait for the active audio playlist loader to\n            // finish setting up before triggering this event so the\n            // representations API and EME setup is correct\n            _this2.mediaTypes_.AUDIO.activePlaylistLoader.one('loadedmetadata', function () {\n              _this2.trigger('selectedinitialmedia');\n            });\n          }\n        });\n        this.masterPlaylistLoader_.on('loadedplaylist', function () {\n          var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n          if (!updatedPlaylist) {\n            // blacklist any variants that are not supported by the browser before selecting\n            // an initial media as the playlist selectors do not consider browser support\n            _this2.excludeUnsupportedVariants_();\n\n            var selectedMedia = void 0;\n\n            if (_this2.enableLowInitialPlaylist) {\n              selectedMedia = _this2.selectInitialPlaylist();\n            }\n\n            if (!selectedMedia) {\n              selectedMedia = _this2.selectPlaylist();\n            }\n\n            _this2.initialMedia_ = selectedMedia;\n\n            _this2.masterPlaylistLoader_.media(_this2.initialMedia_);\n\n            return;\n          }\n\n          if (_this2.useCueTags_) {\n            _this2.updateAdCues_(updatedPlaylist);\n          } // TODO: Create a new event on the PlaylistLoader that signals\n          // that the segments have changed in some way and use that to\n          // update the SegmentLoader instead of doing it twice here and\n          // on `mediachange`\n\n\n          _this2.mainSegmentLoader_.playlist(updatedPlaylist, _this2.requestOptions_);\n\n          _this2.updateDuration(); // If the player isn't paused, ensure that the segment loader is running,\n          // as it is possible that it was temporarily stopped while waiting for\n          // a playlist (e.g., in case the playlist errored and we re-requested it).\n\n\n          if (!_this2.tech_.paused()) {\n            _this2.mainSegmentLoader_.load();\n\n            if (_this2.audioSegmentLoader_) {\n              _this2.audioSegmentLoader_.load();\n            }\n          }\n\n          if (!updatedPlaylist.endList) {\n            var addSeekableRange = function addSeekableRange() {\n              var seekable$$1 = _this2.seekable();\n\n              if (seekable$$1.length !== 0) {\n                _this2.mediaSource.addSeekableRange_(seekable$$1.start(0), seekable$$1.end(0));\n              }\n            };\n\n            if (_this2.duration() !== Infinity) {\n              var onDurationchange = function onDurationchange() {\n                if (_this2.duration() === Infinity) {\n                  addSeekableRange();\n                } else {\n                  _this2.tech_.one('durationchange', onDurationchange);\n                }\n              };\n\n              _this2.tech_.one('durationchange', onDurationchange);\n            } else {\n              addSeekableRange();\n            }\n          }\n        });\n        this.masterPlaylistLoader_.on('error', function () {\n          _this2.blacklistCurrentPlaylist(_this2.masterPlaylistLoader_.error);\n        });\n        this.masterPlaylistLoader_.on('mediachanging', function () {\n          _this2.mainSegmentLoader_.abort();\n\n          _this2.mainSegmentLoader_.pause();\n        });\n        this.masterPlaylistLoader_.on('mediachange', function () {\n          var media = _this2.masterPlaylistLoader_.media();\n\n          var requestTimeout = media.targetDuration * 1.5 * 1000; // If we don't have any more available playlists, we don't want to\n          // timeout the request.\n\n          if (isLowestEnabledRendition(_this2.masterPlaylistLoader_.master, _this2.masterPlaylistLoader_.media())) {\n            _this2.requestOptions_.timeout = 0;\n          } else {\n            _this2.requestOptions_.timeout = requestTimeout;\n          } // TODO: Create a new event on the PlaylistLoader that signals\n          // that the segments have changed in some way and use that to\n          // update the SegmentLoader instead of doing it twice here and\n          // on `loadedplaylist`\n\n\n          _this2.mainSegmentLoader_.playlist(media, _this2.requestOptions_);\n\n          _this2.mainSegmentLoader_.load();\n\n          _this2.tech_.trigger({\n            type: 'mediachange',\n            bubbles: true\n          });\n        });\n        this.masterPlaylistLoader_.on('playlistunchanged', function () {\n          var updatedPlaylist = _this2.masterPlaylistLoader_.media();\n\n          var playlistOutdated = _this2.stuckAtPlaylistEnd_(updatedPlaylist);\n\n          if (playlistOutdated) {\n            // Playlist has stopped updating and we're stuck at its end. Try to\n            // blacklist it and switch to another playlist in the hope that that\n            // one is updating (and give the player a chance to re-adjust to the\n            // safe live point).\n            _this2.blacklistCurrentPlaylist({\n              message: 'Playlist no longer updating.'\n            }); // useful for monitoring QoS\n\n\n            _this2.tech_.trigger('playliststuck');\n          }\n        });\n        this.masterPlaylistLoader_.on('renditiondisabled', function () {\n          _this2.tech_.trigger({\n            type: 'usage',\n            name: 'hls-rendition-disabled'\n          });\n        });\n        this.masterPlaylistLoader_.on('renditionenabled', function () {\n          _this2.tech_.trigger({\n            type: 'usage',\n            name: 'hls-rendition-enabled'\n          });\n        });\n      }\n      /**\n       * A helper function for triggerring presence usage events once per source\n       *\n       * @private\n       */\n\n    }, {\n      key: 'triggerPresenceUsage_',\n      value: function triggerPresenceUsage_(master, media) {\n        var mediaGroups = master.mediaGroups || {};\n        var defaultDemuxed = true;\n        var audioGroupKeys = Object.keys(mediaGroups.AUDIO);\n\n        for (var mediaGroup in mediaGroups.AUDIO) {\n          for (var label in mediaGroups.AUDIO[mediaGroup]) {\n            var properties = mediaGroups.AUDIO[mediaGroup][label];\n\n            if (!properties.uri) {\n              defaultDemuxed = false;\n            }\n          }\n        }\n\n        if (defaultDemuxed) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-demuxed'\n          });\n        }\n\n        if (Object.keys(mediaGroups.SUBTITLES).length) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-webvtt'\n          });\n        }\n\n        if (Hls.Playlist.isAes(media)) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-aes'\n          });\n        }\n\n        if (Hls.Playlist.isFmp4(media)) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-fmp4'\n          });\n        }\n\n        if (audioGroupKeys.length && Object.keys(mediaGroups.AUDIO[audioGroupKeys[0]]).length > 1) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-alternate-audio'\n          });\n        }\n\n        if (this.useCueTags_) {\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-playlist-cue-tags'\n          });\n        }\n      }\n      /**\n       * Register event handlers on the segment loaders. A helper function\n       * for construction time.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'setupSegmentLoaderListeners_',\n      value: function setupSegmentLoaderListeners_() {\n        var _this3 = this;\n\n        this.mainSegmentLoader_.on('bandwidthupdate', function () {\n          var nextPlaylist = _this3.selectPlaylist();\n\n          var currentPlaylist = _this3.masterPlaylistLoader_.media();\n\n          var buffered = _this3.tech_.buffered();\n\n          var forwardBuffer = buffered.length ? buffered.end(buffered.length - 1) - _this3.tech_.currentTime() : 0;\n\n          var bufferLowWaterLine = _this3.bufferLowWaterLine(); // If the playlist is live, then we want to not take low water line into account.\n          // This is because in LIVE, the player plays 3 segments from the end of the\n          // playlist, and if `BUFFER_LOW_WATER_LINE` is greater than the duration availble\n          // in those segments, a viewer will never experience a rendition upswitch.\n\n\n          if (!currentPlaylist.endList || // For the same reason as LIVE, we ignore the low water line when the VOD\n          // duration is below the max potential low water line\n          _this3.duration() < Config.MAX_BUFFER_LOW_WATER_LINE || // we want to switch down to lower resolutions quickly to continue playback, but\n          nextPlaylist.attributes.BANDWIDTH < currentPlaylist.attributes.BANDWIDTH || // ensure we have some buffer before we switch up to prevent us running out of\n          // buffer while loading a higher rendition.\n          forwardBuffer >= bufferLowWaterLine) {\n            _this3.masterPlaylistLoader_.media(nextPlaylist);\n          }\n\n          _this3.tech_.trigger('bandwidthupdate');\n        });\n        this.mainSegmentLoader_.on('progress', function () {\n          _this3.trigger('progress');\n        });\n        this.mainSegmentLoader_.on('error', function () {\n          _this3.blacklistCurrentPlaylist(_this3.mainSegmentLoader_.error());\n        });\n        this.mainSegmentLoader_.on('syncinfoupdate', function () {\n          _this3.onSyncInfoUpdate_();\n        });\n        this.mainSegmentLoader_.on('timestampoffset', function () {\n          _this3.tech_.trigger({\n            type: 'usage',\n            name: 'hls-timestamp-offset'\n          });\n        });\n        this.audioSegmentLoader_.on('syncinfoupdate', function () {\n          _this3.onSyncInfoUpdate_();\n        });\n        this.mainSegmentLoader_.on('ended', function () {\n          _this3.onEndOfStream();\n        });\n        this.mainSegmentLoader_.on('earlyabort', function () {\n          _this3.blacklistCurrentPlaylist({\n            message: 'Aborted early because there isn\\'t enough bandwidth to complete the ' + 'request without rebuffering.'\n          }, ABORT_EARLY_BLACKLIST_SECONDS);\n        });\n        this.mainSegmentLoader_.on('reseteverything', function () {\n          // If playing an MTS stream, a videojs.MediaSource is listening for\n          // hls-reset to reset caption parsing state in the transmuxer\n          _this3.tech_.trigger('hls-reset');\n        });\n        this.mainSegmentLoader_.on('segmenttimemapping', function (event) {\n          // If playing an MTS stream in html, a videojs.MediaSource is listening for\n          // hls-segment-time-mapping update its internal mapping of stream to display time\n          _this3.tech_.trigger({\n            type: 'hls-segment-time-mapping',\n            mapping: event.mapping\n          });\n        });\n        this.audioSegmentLoader_.on('ended', function () {\n          _this3.onEndOfStream();\n        });\n      }\n    }, {\n      key: 'mediaSecondsLoaded_',\n      value: function mediaSecondsLoaded_() {\n        return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded);\n      }\n      /**\n       * Call load on our SegmentLoaders\n       */\n\n    }, {\n      key: 'load',\n      value: function load() {\n        this.mainSegmentLoader_.load();\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          this.audioSegmentLoader_.load();\n        }\n\n        if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n          this.subtitleSegmentLoader_.load();\n        }\n      }\n      /**\n       * Re-tune playback quality level for the current player\n       * conditions without performing destructive actions, like\n       * removing already buffered content\n       *\n       * @private\n       */\n\n    }, {\n      key: 'smoothQualityChange_',\n      value: function smoothQualityChange_() {\n        var media = this.selectPlaylist();\n\n        if (media !== this.masterPlaylistLoader_.media()) {\n          this.masterPlaylistLoader_.media(media);\n          this.mainSegmentLoader_.resetLoader(); // don't need to reset audio as it is reset when media changes\n        }\n      }\n      /**\n       * Re-tune playback quality level for the current player\n       * conditions. This method will perform destructive actions like removing\n       * already buffered content in order to readjust the currently active\n       * playlist quickly. This is good for manual quality changes\n       *\n       * @private\n       */\n\n    }, {\n      key: 'fastQualityChange_',\n      value: function fastQualityChange_() {\n        var _this4 = this;\n\n        var media = this.selectPlaylist();\n\n        if (media === this.masterPlaylistLoader_.media()) {\n          return;\n        }\n\n        this.masterPlaylistLoader_.media(media); // Delete all buffered data to allow an immediate quality switch, then seek to give\n        // the browser a kick to remove any cached frames from the previous rendtion (.04 seconds\n        // ahead is roughly the minimum that will accomplish this across a variety of content\n        // in IE and Edge, but seeking in place is sufficient on all other browsers)\n        // Edge/IE bug: https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/14600375/\n        // Chrome bug: https://bugs.chromium.org/p/chromium/issues/detail?id=651904\n\n        this.mainSegmentLoader_.resetEverything(function () {\n          // Since this is not a typical seek, we avoid the seekTo method which can cause segments\n          // from the previously enabled rendition to load before the new playlist has finished loading\n          if (videojs$1.browser.IE_VERSION || videojs$1.browser.IS_EDGE) {\n            _this4.tech_.setCurrentTime(_this4.tech_.currentTime() + 0.04);\n          } else {\n            _this4.tech_.setCurrentTime(_this4.tech_.currentTime());\n          }\n        }); // don't need to reset audio as it is reset when media changes\n      }\n      /**\n       * Begin playback.\n       */\n\n    }, {\n      key: 'play',\n      value: function play() {\n        if (this.setupFirstPlay()) {\n          return;\n        }\n\n        if (this.tech_.ended()) {\n          this.seekTo_(0);\n        }\n\n        if (this.hasPlayed_()) {\n          this.load();\n        }\n\n        var seekable$$1 = this.tech_.seekable(); // if the viewer has paused and we fell out of the live window,\n        // seek forward to the live point\n\n        if (this.tech_.duration() === Infinity) {\n          if (this.tech_.currentTime() < seekable$$1.start(0)) {\n            return this.seekTo_(seekable$$1.end(seekable$$1.length - 1));\n          }\n        }\n      }\n      /**\n       * Seek to the latest media position if this is a live video and the\n       * player and video are loaded and initialized.\n       */\n\n    }, {\n      key: 'setupFirstPlay',\n      value: function setupFirstPlay() {\n        var _this5 = this;\n\n        var media = this.masterPlaylistLoader_.media(); // Check that everything is ready to begin buffering for the first call to play\n        //  If 1) there is no active media\n        //     2) the player is paused\n        //     3) the first play has already been setup\n        // then exit early\n\n        if (!media || this.tech_.paused() || this.hasPlayed_()) {\n          return false;\n        } // when the video is a live stream\n\n\n        if (!media.endList) {\n          var seekable$$1 = this.seekable();\n\n          if (!seekable$$1.length) {\n            // without a seekable range, the player cannot seek to begin buffering at the live\n            // point\n            return false;\n          }\n\n          if (videojs$1.browser.IE_VERSION && this.tech_.readyState() === 0) {\n            // IE11 throws an InvalidStateError if you try to set currentTime while the\n            // readyState is 0, so it must be delayed until the tech fires loadedmetadata.\n            this.tech_.one('loadedmetadata', function () {\n              _this5.trigger('firstplay');\n\n              _this5.seekTo_(seekable$$1.end(0));\n\n              _this5.hasPlayed_ = function () {\n                return true;\n              };\n            });\n            return false;\n          } // trigger firstplay to inform the source handler to ignore the next seek event\n\n\n          this.trigger('firstplay'); // seek to the live point\n\n          this.seekTo_(seekable$$1.end(0));\n        }\n\n        this.hasPlayed_ = function () {\n          return true;\n        }; // we can begin loading now that everything is ready\n\n\n        this.load();\n        return true;\n      }\n      /**\n       * handle the sourceopen event on the MediaSource\n       *\n       * @private\n       */\n\n    }, {\n      key: 'handleSourceOpen_',\n      value: function handleSourceOpen_() {\n        // Only attempt to create the source buffer if none already exist.\n        // handleSourceOpen is also called when we are \"re-opening\" a source buffer\n        // after `endOfStream` has been called (in response to a seek for instance)\n        try {\n          this.setupSourceBuffers_();\n        } catch (e) {\n          videojs$1.log.warn('Failed to create Source Buffers', e);\n          return this.mediaSource.endOfStream('decode');\n        } // if autoplay is enabled, begin playback. This is duplicative of\n        // code in video.js but is required because play() must be invoked\n        // *after* the media source has opened.\n\n\n        if (this.tech_.autoplay()) {\n          var playPromise = this.tech_.play(); // Catch/silence error when a pause interrupts a play request\n          // on browsers which return a promise\n\n          if (typeof playPromise !== 'undefined' && typeof playPromise.then === 'function') {\n            playPromise.then(null, function (e) {});\n          }\n        }\n\n        this.trigger('sourceopen');\n      }\n      /**\n       * Calls endOfStream on the media source when all active stream types have called\n       * endOfStream\n       *\n       * @param {string} streamType\n       *        Stream type of the segment loader that called endOfStream\n       * @private\n       */\n\n    }, {\n      key: 'onEndOfStream',\n      value: function onEndOfStream() {\n        var isEndOfStream = this.mainSegmentLoader_.ended_;\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          // if the audio playlist loader exists, then alternate audio is active\n          if (!this.mainSegmentLoader_.startingMedia_ || this.mainSegmentLoader_.startingMedia_.containsVideo) {\n            // if we do not know if the main segment loader contains video yet or if we\n            // definitively know the main segment loader contains video, then we need to wait\n            // for both main and audio segment loaders to call endOfStream\n            isEndOfStream = isEndOfStream && this.audioSegmentLoader_.ended_;\n          } else {\n            // otherwise just rely on the audio loader\n            isEndOfStream = this.audioSegmentLoader_.ended_;\n          }\n        }\n\n        if (!isEndOfStream) {\n          return;\n        }\n\n        this.logger_('calling mediaSource.endOfStream()'); // on chrome calling endOfStream can sometimes cause an exception,\n        // even when the media source is in a valid state.\n\n        try {\n          this.mediaSource.endOfStream();\n        } catch (e) {\n          videojs$1.log.warn('Failed to call media source endOfStream', e);\n        }\n      }\n      /**\n       * Check if a playlist has stopped being updated\n       * @param {Object} playlist the media playlist object\n       * @return {boolean} whether the playlist has stopped being updated or not\n       */\n\n    }, {\n      key: 'stuckAtPlaylistEnd_',\n      value: function stuckAtPlaylistEnd_(playlist) {\n        var seekable$$1 = this.seekable();\n\n        if (!seekable$$1.length) {\n          // playlist doesn't have enough information to determine whether we are stuck\n          return false;\n        }\n\n        var expired = this.syncController_.getExpiredTime(playlist, this.mediaSource.duration);\n\n        if (expired === null) {\n          return false;\n        } // does not use the safe live end to calculate playlist end, since we\n        // don't want to say we are stuck while there is still content\n\n\n        var absolutePlaylistEnd = Hls.Playlist.playlistEnd(playlist, expired);\n        var currentTime = this.tech_.currentTime();\n        var buffered = this.tech_.buffered();\n\n        if (!buffered.length) {\n          // return true if the playhead reached the absolute end of the playlist\n          return absolutePlaylistEnd - currentTime <= SAFE_TIME_DELTA;\n        }\n\n        var bufferedEnd = buffered.end(buffered.length - 1); // return true if there is too little buffer left and buffer has reached absolute\n        // end of playlist\n\n        return bufferedEnd - currentTime <= SAFE_TIME_DELTA && absolutePlaylistEnd - bufferedEnd <= SAFE_TIME_DELTA;\n      }\n      /**\n       * Blacklists a playlist when an error occurs for a set amount of time\n       * making it unavailable for selection by the rendition selection algorithm\n       * and then forces a new playlist (rendition) selection.\n       *\n       * @param {Object=} error an optional error that may include the playlist\n       * to blacklist\n       * @param {Number=} blacklistDuration an optional number of seconds to blacklist the\n       * playlist\n       */\n\n    }, {\n      key: 'blacklistCurrentPlaylist',\n      value: function blacklistCurrentPlaylist() {\n        var error = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var blacklistDuration = arguments[1];\n        var currentPlaylist = void 0;\n        var nextPlaylist = void 0; // If the `error` was generated by the playlist loader, it will contain\n        // the playlist we were trying to load (but failed) and that should be\n        // blacklisted instead of the currently selected playlist which is likely\n        // out-of-date in this scenario\n\n        currentPlaylist = error.playlist || this.masterPlaylistLoader_.media();\n        blacklistDuration = blacklistDuration || error.blacklistDuration || this.blacklistDuration; // If there is no current playlist, then an error occurred while we were\n        // trying to load the master OR while we were disposing of the tech\n\n        if (!currentPlaylist) {\n          this.error = error;\n\n          try {\n            return this.mediaSource.endOfStream('network');\n          } catch (e) {\n            return this.trigger('error');\n          }\n        }\n\n        var isFinalRendition = this.masterPlaylistLoader_.master.playlists.filter(isEnabled).length === 1;\n\n        if (isFinalRendition) {\n          // Never blacklisting this playlist because it's final rendition\n          videojs$1.log.warn('Problem encountered with the current ' + 'HLS playlist. Trying again since it is the final playlist.');\n          this.tech_.trigger('retryplaylist');\n          return this.masterPlaylistLoader_.load(isFinalRendition);\n        } // Blacklist this playlist\n\n\n        currentPlaylist.excludeUntil = Date.now() + blacklistDuration * 1000;\n        this.tech_.trigger('blacklistplaylist');\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-rendition-blacklisted'\n        }); // Select a new playlist\n\n        nextPlaylist = this.selectPlaylist();\n        videojs$1.log.warn('Problem encountered with the current HLS playlist.' + (error.message ? ' ' + error.message : '') + ' Switching to another playlist.');\n        return this.masterPlaylistLoader_.media(nextPlaylist);\n      }\n      /**\n       * Pause all segment loaders\n       */\n\n    }, {\n      key: 'pauseLoading',\n      value: function pauseLoading() {\n        this.mainSegmentLoader_.pause();\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          this.audioSegmentLoader_.pause();\n        }\n\n        if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n          this.subtitleSegmentLoader_.pause();\n        }\n      }\n      /**\n       * set the current time on all segment loaders\n       *\n       * @param {TimeRange} currentTime the current time to set\n       * @return {TimeRange} the current time\n       */\n\n    }, {\n      key: 'setCurrentTime',\n      value: function setCurrentTime(currentTime) {\n        var buffered = findRange(this.tech_.buffered(), currentTime);\n\n        if (!(this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media())) {\n          // return immediately if the metadata is not ready yet\n          return 0;\n        } // it's clearly an edge-case but don't thrown an error if asked to\n        // seek within an empty playlist\n\n\n        if (!this.masterPlaylistLoader_.media().segments) {\n          return 0;\n        } // In flash playback, the segment loaders should be reset on every seek, even\n        // in buffer seeks. If the seek location is already buffered, continue buffering as\n        // usual\n        // TODO: redo this comment\n\n\n        if (buffered && buffered.length) {\n          return currentTime;\n        } // cancel outstanding requests so we begin buffering at the new\n        // location\n\n\n        this.mainSegmentLoader_.resetEverything();\n        this.mainSegmentLoader_.abort();\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          this.audioSegmentLoader_.resetEverything();\n          this.audioSegmentLoader_.abort();\n        }\n\n        if (this.mediaTypes_.SUBTITLES.activePlaylistLoader) {\n          this.subtitleSegmentLoader_.resetEverything();\n          this.subtitleSegmentLoader_.abort();\n        } // start segment loader loading in case they are paused\n\n\n        this.load();\n      }\n      /**\n       * get the current duration\n       *\n       * @return {TimeRange} the duration\n       */\n\n    }, {\n      key: 'duration',\n      value: function duration$$1() {\n        if (!this.masterPlaylistLoader_) {\n          return 0;\n        }\n\n        if (this.mediaSource) {\n          return this.mediaSource.duration;\n        }\n\n        return Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n      }\n      /**\n       * check the seekable range\n       *\n       * @return {TimeRange} the seekable range\n       */\n\n    }, {\n      key: 'seekable',\n      value: function seekable$$1() {\n        return this.seekable_;\n      }\n    }, {\n      key: 'onSyncInfoUpdate_',\n      value: function onSyncInfoUpdate_() {\n        var mainSeekable = void 0;\n        var audioSeekable = void 0;\n\n        if (!this.masterPlaylistLoader_) {\n          return;\n        }\n\n        var media = this.masterPlaylistLoader_.media();\n\n        if (!media) {\n          return;\n        }\n\n        var expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n        if (expired === null) {\n          // not enough information to update seekable\n          return;\n        }\n\n        mainSeekable = Hls.Playlist.seekable(media, expired);\n\n        if (mainSeekable.length === 0) {\n          return;\n        }\n\n        if (this.mediaTypes_.AUDIO.activePlaylistLoader) {\n          media = this.mediaTypes_.AUDIO.activePlaylistLoader.media();\n          expired = this.syncController_.getExpiredTime(media, this.mediaSource.duration);\n\n          if (expired === null) {\n            return;\n          }\n\n          audioSeekable = Hls.Playlist.seekable(media, expired);\n\n          if (audioSeekable.length === 0) {\n            return;\n          }\n        }\n\n        var oldEnd = void 0;\n        var oldStart = void 0;\n\n        if (this.seekable_ && this.seekable_.length) {\n          oldEnd = this.seekable_.end(0);\n          oldStart = this.seekable_.start(0);\n        }\n\n        if (!audioSeekable) {\n          // seekable has been calculated based on buffering video data so it\n          // can be returned directly\n          this.seekable_ = mainSeekable;\n        } else if (audioSeekable.start(0) > mainSeekable.end(0) || mainSeekable.start(0) > audioSeekable.end(0)) {\n          // seekables are pretty far off, rely on main\n          this.seekable_ = mainSeekable;\n        } else {\n          this.seekable_ = videojs$1.createTimeRanges([[audioSeekable.start(0) > mainSeekable.start(0) ? audioSeekable.start(0) : mainSeekable.start(0), audioSeekable.end(0) < mainSeekable.end(0) ? audioSeekable.end(0) : mainSeekable.end(0)]]);\n        } // seekable is the same as last time\n\n\n        if (this.seekable_ && this.seekable_.length) {\n          if (this.seekable_.end(0) === oldEnd && this.seekable_.start(0) === oldStart) {\n            return;\n          }\n        }\n\n        this.logger_('seekable updated [' + printableRange(this.seekable_) + ']');\n        this.tech_.trigger('seekablechanged');\n      }\n      /**\n       * Update the player duration\n       */\n\n    }, {\n      key: 'updateDuration',\n      value: function updateDuration() {\n        var _this6 = this;\n\n        var oldDuration = this.mediaSource.duration;\n        var newDuration = Hls.Playlist.duration(this.masterPlaylistLoader_.media());\n        var buffered = this.tech_.buffered();\n\n        var setDuration = function setDuration() {\n          // on firefox setting the duration may sometimes cause an exception\n          // even if the media source is open and source buffers are not\n          // updating, something about the media source being in an invalid state.\n          _this6.logger_('Setting duration from ' + _this6.mediaSource.duration + ' => ' + newDuration);\n\n          try {\n            _this6.mediaSource.duration = newDuration;\n          } catch (e) {\n            videojs$1.log.warn('Failed to set media source duration', e);\n          }\n\n          _this6.tech_.trigger('durationchange');\n\n          _this6.mediaSource.removeEventListener('sourceopen', setDuration);\n        };\n\n        if (buffered.length > 0) {\n          newDuration = Math.max(newDuration, buffered.end(buffered.length - 1));\n        } // if the duration has changed, invalidate the cached value\n\n\n        if (oldDuration !== newDuration) {\n          // update the duration\n          if (this.mediaSource.readyState !== 'open') {\n            this.mediaSource.addEventListener('sourceopen', setDuration);\n          } else {\n            setDuration();\n          }\n        }\n      }\n      /**\n       * dispose of the MasterPlaylistController and everything\n       * that it controls\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        var _this7 = this;\n\n        this.decrypter_.terminate();\n        this.masterPlaylistLoader_.dispose();\n        this.mainSegmentLoader_.dispose();\n        ['AUDIO', 'SUBTITLES'].forEach(function (type) {\n          var groups = _this7.mediaTypes_[type].groups;\n\n          for (var id in groups) {\n            groups[id].forEach(function (group) {\n              if (group.playlistLoader) {\n                group.playlistLoader.dispose();\n              }\n            });\n          }\n        });\n        this.audioSegmentLoader_.dispose();\n        this.subtitleSegmentLoader_.dispose();\n      }\n      /**\n       * return the master playlist object if we have one\n       *\n       * @return {Object} the master playlist object that we parsed\n       */\n\n    }, {\n      key: 'master',\n      value: function master() {\n        return this.masterPlaylistLoader_.master;\n      }\n      /**\n       * return the currently selected playlist\n       *\n       * @return {Object} the currently selected playlist object that we parsed\n       */\n\n    }, {\n      key: 'media',\n      value: function media() {\n        // playlist loader will not return media if it has not been fully loaded\n        return this.masterPlaylistLoader_.media() || this.initialMedia_;\n      }\n      /**\n       * setup our internal source buffers on our segment Loaders\n       *\n       * @private\n       */\n\n    }, {\n      key: 'setupSourceBuffers_',\n      value: function setupSourceBuffers_() {\n        var media = this.masterPlaylistLoader_.media();\n        var mimeTypes = void 0; // wait until a media playlist is available and the Media Source is\n        // attached\n\n        if (!media || this.mediaSource.readyState !== 'open') {\n          return;\n        }\n\n        mimeTypes = mimeTypesForPlaylist(this.masterPlaylistLoader_.master, media);\n\n        if (mimeTypes.length < 1) {\n          this.error = 'No compatible SourceBuffer configuration for the variant stream:' + media.resolvedUri;\n          return this.mediaSource.endOfStream('decode');\n        }\n\n        this.configureLoaderMimeTypes_(mimeTypes); // exclude any incompatible variant streams from future playlist\n        // selection\n\n        this.excludeIncompatibleVariants_(media);\n      }\n    }, {\n      key: 'configureLoaderMimeTypes_',\n      value: function configureLoaderMimeTypes_(mimeTypes) {\n        // If the content is demuxed, we can't start appending segments to a source buffer\n        // until both source buffers are set up, or else the browser may not let us add the\n        // second source buffer (it will assume we are playing either audio only or video\n        // only).\n        var sourceBufferEmitter = // If there is more than one mime type\n        mimeTypes.length > 1 && // and the first mime type does not have muxed video and audio\n        mimeTypes[0].indexOf(',') === -1 && // and the two mime types are different (they can be the same in the case of audio\n        // only with alternate audio)\n        mimeTypes[0] !== mimeTypes[1] ? // then we want to wait on the second source buffer\n        new videojs$1.EventTarget() : // otherwise there is no need to wait as the content is either audio only,\n        // video only, or muxed content.\n        null;\n        this.mainSegmentLoader_.mimeType(mimeTypes[0], sourceBufferEmitter);\n\n        if (mimeTypes[1]) {\n          this.audioSegmentLoader_.mimeType(mimeTypes[1], sourceBufferEmitter);\n        }\n      }\n      /**\n       * Blacklists playlists with codecs that are unsupported by the browser.\n       */\n\n    }, {\n      key: 'excludeUnsupportedVariants_',\n      value: function excludeUnsupportedVariants_() {\n        this.master().playlists.forEach(function (variant) {\n          if (variant.attributes.CODECS && window$1.MediaSource && window$1.MediaSource.isTypeSupported && !window$1.MediaSource.isTypeSupported('video/mp4; codecs=\"' + mapLegacyAvcCodecs(variant.attributes.CODECS) + '\"')) {\n            variant.excludeUntil = Infinity;\n          }\n        });\n      }\n      /**\n       * Blacklist playlists that are known to be codec or\n       * stream-incompatible with the SourceBuffer configuration. For\n       * instance, Media Source Extensions would cause the video element to\n       * stall waiting for video data if you switched from a variant with\n       * video and audio to an audio-only one.\n       *\n       * @param {Object} media a media playlist compatible with the current\n       * set of SourceBuffers. Variants in the current master playlist that\n       * do not appear to have compatible codec or stream configurations\n       * will be excluded from the default playlist selection algorithm\n       * indefinitely.\n       * @private\n       */\n\n    }, {\n      key: 'excludeIncompatibleVariants_',\n      value: function excludeIncompatibleVariants_(media) {\n        var codecCount = 2;\n        var videoCodec = null;\n        var codecs = void 0;\n\n        if (media.attributes.CODECS) {\n          codecs = parseCodecs(media.attributes.CODECS);\n          videoCodec = codecs.videoCodec;\n          codecCount = codecs.codecCount;\n        }\n\n        this.master().playlists.forEach(function (variant) {\n          var variantCodecs = {\n            codecCount: 2,\n            videoCodec: null\n          };\n\n          if (variant.attributes.CODECS) {\n            variantCodecs = parseCodecs(variant.attributes.CODECS);\n          } // if the streams differ in the presence or absence of audio or\n          // video, they are incompatible\n\n\n          if (variantCodecs.codecCount !== codecCount) {\n            variant.excludeUntil = Infinity;\n          } // if h.264 is specified on the current playlist, some flavor of\n          // it must be specified on all compatible variants\n\n\n          if (variantCodecs.videoCodec !== videoCodec) {\n            variant.excludeUntil = Infinity;\n          }\n        });\n      }\n    }, {\n      key: 'updateAdCues_',\n      value: function updateAdCues_(media) {\n        var offset = 0;\n        var seekable$$1 = this.seekable();\n\n        if (seekable$$1.length) {\n          offset = seekable$$1.start(0);\n        }\n\n        updateAdCues(media, this.cueTagsTrack_, offset);\n      }\n      /**\n       * Calculates the desired forward buffer length based on current time\n       *\n       * @return {Number} Desired forward buffer length in seconds\n       */\n\n    }, {\n      key: 'goalBufferLength',\n      value: function goalBufferLength() {\n        var currentTime = this.tech_.currentTime();\n        var initial = Config.GOAL_BUFFER_LENGTH;\n        var rate = Config.GOAL_BUFFER_LENGTH_RATE;\n        var max = Math.max(initial, Config.MAX_GOAL_BUFFER_LENGTH);\n        return Math.min(initial + currentTime * rate, max);\n      }\n      /**\n       * Calculates the desired buffer low water line based on current time\n       *\n       * @return {Number} Desired buffer low water line in seconds\n       */\n\n    }, {\n      key: 'bufferLowWaterLine',\n      value: function bufferLowWaterLine() {\n        var currentTime = this.tech_.currentTime();\n        var initial = Config.BUFFER_LOW_WATER_LINE;\n        var rate = Config.BUFFER_LOW_WATER_LINE_RATE;\n        var max = Math.max(initial, Config.MAX_BUFFER_LOW_WATER_LINE);\n        return Math.min(initial + currentTime * rate, max);\n      }\n    }]);\n    return MasterPlaylistController;\n  }(videojs$1.EventTarget);\n  /**\n   * Returns a function that acts as the Enable/disable playlist function.\n   *\n   * @param {PlaylistLoader} loader - The master playlist loader\n   * @param {String} playlistUri - uri of the playlist\n   * @param {Function} changePlaylistFn - A function to be called after a\n   * playlist's enabled-state has been changed. Will NOT be called if a\n   * playlist's enabled-state is unchanged\n   * @param {Boolean=} enable - Value to set the playlist enabled-state to\n   * or if undefined returns the current enabled-state for the playlist\n   * @return {Function} Function for setting/getting enabled\n   */\n\n\n  var enableFunction = function enableFunction(loader, playlistUri, changePlaylistFn) {\n    return function (enable) {\n      var playlist = loader.master.playlists[playlistUri];\n      var incompatible = isIncompatible(playlist);\n      var currentlyEnabled = isEnabled(playlist);\n\n      if (typeof enable === 'undefined') {\n        return currentlyEnabled;\n      }\n\n      if (enable) {\n        delete playlist.disabled;\n      } else {\n        playlist.disabled = true;\n      }\n\n      if (enable !== currentlyEnabled && !incompatible) {\n        // Ensure the outside world knows about our changes\n        changePlaylistFn();\n\n        if (enable) {\n          loader.trigger('renditionenabled');\n        } else {\n          loader.trigger('renditiondisabled');\n        }\n      }\n\n      return enable;\n    };\n  };\n  /**\n   * The representation object encapsulates the publicly visible information\n   * in a media playlist along with a setter/getter-type function (enabled)\n   * for changing the enabled-state of a particular playlist entry\n   *\n   * @class Representation\n   */\n\n\n  var Representation = function Representation(hlsHandler, playlist, id) {\n    classCallCheck$1(this, Representation);\n    var mpc = hlsHandler.masterPlaylistController_,\n        smoothQualityChange = hlsHandler.options_.smoothQualityChange; // Get a reference to a bound version of the quality change function\n\n    var changeType = smoothQualityChange ? 'smooth' : 'fast';\n    var qualityChangeFunction = mpc[changeType + 'QualityChange_'].bind(mpc); // some playlist attributes are optional\n\n    if (playlist.attributes.RESOLUTION) {\n      var resolution = playlist.attributes.RESOLUTION;\n      this.width = resolution.width;\n      this.height = resolution.height;\n    }\n\n    this.bandwidth = playlist.attributes.BANDWIDTH; // The id is simply the ordinality of the media playlist\n    // within the master playlist\n\n    this.id = id; // Partially-apply the enableFunction to create a playlist-\n    // specific variant\n\n    this.enabled = enableFunction(hlsHandler.playlists, playlist.uri, qualityChangeFunction);\n  };\n  /**\n   * A mixin function that adds the `representations` api to an instance\n   * of the HlsHandler class\n   * @param {HlsHandler} hlsHandler - An instance of HlsHandler to add the\n   * representation API into\n   */\n\n\n  var renditionSelectionMixin = function renditionSelectionMixin(hlsHandler) {\n    var playlists = hlsHandler.playlists; // Add a single API-specific function to the HlsHandler instance\n\n    hlsHandler.representations = function () {\n      return playlists.master.playlists.filter(function (media) {\n        return !isIncompatible(media);\n      }).map(function (e, i) {\n        return new Representation(hlsHandler, e, e.uri);\n      });\n    };\n  };\n  /**\n   * @file playback-watcher.js\n   *\n   * Playback starts, and now my watch begins. It shall not end until my death. I shall\n   * take no wait, hold no uncleared timeouts, father no bad seeks. I shall wear no crowns\n   * and win no glory. I shall live and die at my post. I am the corrector of the underflow.\n   * I am the watcher of gaps. I am the shield that guards the realms of seekable. I pledge\n   * my life and honor to the Playback Watch, for this Player and all the Players to come.\n   */\n  // Set of events that reset the playback-watcher time check logic and clear the timeout\n\n\n  var timerCancelEvents = ['seeking', 'seeked', 'pause', 'playing', 'error'];\n  /**\n   * @class PlaybackWatcher\n   */\n\n  var PlaybackWatcher = function () {\n    /**\n     * Represents an PlaybackWatcher object.\n     * @constructor\n     * @param {object} options an object that includes the tech and settings\n     */\n    function PlaybackWatcher(options) {\n      var _this = this;\n\n      classCallCheck$1(this, PlaybackWatcher);\n      this.tech_ = options.tech;\n      this.seekable = options.seekable;\n      this.seekTo = options.seekTo;\n      this.allowSeeksWithinUnsafeLiveWindow = options.allowSeeksWithinUnsafeLiveWindow;\n      this.media = options.media;\n      this.consecutiveUpdates = 0;\n      this.lastRecordedTime = null;\n      this.timer_ = null;\n      this.checkCurrentTimeTimeout_ = null;\n      this.logger_ = logger('PlaybackWatcher');\n      this.logger_('initialize');\n\n      var canPlayHandler = function canPlayHandler() {\n        return _this.monitorCurrentTime_();\n      };\n\n      var waitingHandler = function waitingHandler() {\n        return _this.techWaiting_();\n      };\n\n      var cancelTimerHandler = function cancelTimerHandler() {\n        return _this.cancelTimer_();\n      };\n\n      var fixesBadSeeksHandler = function fixesBadSeeksHandler() {\n        return _this.fixesBadSeeks_();\n      };\n\n      this.tech_.on('seekablechanged', fixesBadSeeksHandler);\n      this.tech_.on('waiting', waitingHandler);\n      this.tech_.on(timerCancelEvents, cancelTimerHandler);\n      this.tech_.on('canplay', canPlayHandler); // Define the dispose function to clean up our events\n\n      this.dispose = function () {\n        _this.logger_('dispose');\n\n        _this.tech_.off('seekablechanged', fixesBadSeeksHandler);\n\n        _this.tech_.off('waiting', waitingHandler);\n\n        _this.tech_.off(timerCancelEvents, cancelTimerHandler);\n\n        _this.tech_.off('canplay', canPlayHandler);\n\n        if (_this.checkCurrentTimeTimeout_) {\n          window$1.clearTimeout(_this.checkCurrentTimeTimeout_);\n        }\n\n        _this.cancelTimer_();\n      };\n    }\n    /**\n     * Periodically check current time to see if playback stopped\n     *\n     * @private\n     */\n\n\n    createClass$1(PlaybackWatcher, [{\n      key: 'monitorCurrentTime_',\n      value: function monitorCurrentTime_() {\n        this.checkCurrentTime_();\n\n        if (this.checkCurrentTimeTimeout_) {\n          window$1.clearTimeout(this.checkCurrentTimeTimeout_);\n        } // 42 = 24 fps // 250 is what Webkit uses // FF uses 15\n\n\n        this.checkCurrentTimeTimeout_ = window$1.setTimeout(this.monitorCurrentTime_.bind(this), 250);\n      }\n      /**\n       * The purpose of this function is to emulate the \"waiting\" event on\n       * browsers that do not emit it when they are waiting for more\n       * data to continue playback\n       *\n       * @private\n       */\n\n    }, {\n      key: 'checkCurrentTime_',\n      value: function checkCurrentTime_() {\n        if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n          this.consecutiveUpdates = 0;\n          this.lastRecordedTime = this.tech_.currentTime();\n          return;\n        }\n\n        if (this.tech_.paused() || this.tech_.seeking()) {\n          return;\n        }\n\n        var currentTime = this.tech_.currentTime();\n        var buffered = this.tech_.buffered();\n\n        if (this.lastRecordedTime === currentTime && (!buffered.length || currentTime + SAFE_TIME_DELTA >= buffered.end(buffered.length - 1))) {\n          // If current time is at the end of the final buffered region, then any playback\n          // stall is most likely caused by buffering in a low bandwidth environment. The tech\n          // should fire a `waiting` event in this scenario, but due to browser and tech\n          // inconsistencies. Calling `techWaiting_` here allows us to simulate\n          // responding to a native `waiting` event when the tech fails to emit one.\n          return this.techWaiting_();\n        }\n\n        if (this.consecutiveUpdates >= 5 && currentTime === this.lastRecordedTime) {\n          this.consecutiveUpdates++;\n          this.waiting_();\n        } else if (currentTime === this.lastRecordedTime) {\n          this.consecutiveUpdates++;\n        } else {\n          this.consecutiveUpdates = 0;\n          this.lastRecordedTime = currentTime;\n        }\n      }\n      /**\n       * Cancels any pending timers and resets the 'timeupdate' mechanism\n       * designed to detect that we are stalled\n       *\n       * @private\n       */\n\n    }, {\n      key: 'cancelTimer_',\n      value: function cancelTimer_() {\n        this.consecutiveUpdates = 0;\n\n        if (this.timer_) {\n          this.logger_('cancelTimer_');\n          clearTimeout(this.timer_);\n        }\n\n        this.timer_ = null;\n      }\n      /**\n       * Fixes situations where there's a bad seek\n       *\n       * @return {Boolean} whether an action was taken to fix the seek\n       * @private\n       */\n\n    }, {\n      key: 'fixesBadSeeks_',\n      value: function fixesBadSeeks_() {\n        var seeking = this.tech_.seeking();\n\n        if (!seeking) {\n          return false;\n        }\n\n        var seekable = this.seekable();\n        var currentTime = this.tech_.currentTime();\n        var isAfterSeekableRange = this.afterSeekableWindow_(seekable, currentTime, this.media(), this.allowSeeksWithinUnsafeLiveWindow);\n        var seekTo = void 0;\n\n        if (isAfterSeekableRange) {\n          var seekableEnd = seekable.end(seekable.length - 1); // sync to live point (if VOD, our seekable was updated and we're simply adjusting)\n\n          seekTo = seekableEnd;\n        }\n\n        if (this.beforeSeekableWindow_(seekable, currentTime)) {\n          var seekableStart = seekable.start(0); // sync to the beginning of the live window\n          // provide a buffer of .1 seconds to handle rounding/imprecise numbers\n\n          seekTo = seekableStart + SAFE_TIME_DELTA;\n        }\n\n        if (typeof seekTo !== 'undefined') {\n          this.logger_('Trying to seek outside of seekable at time ' + currentTime + ' with ' + ('seekable range ' + printableRange(seekable) + '. Seeking to ') + (seekTo + '.'));\n          this.seekTo(seekTo);\n          return true;\n        }\n\n        return false;\n      }\n      /**\n       * Handler for situations when we determine the player is waiting.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'waiting_',\n      value: function waiting_() {\n        if (this.techWaiting_()) {\n          return;\n        } // All tech waiting checks failed. Use last resort correction\n\n\n        var currentTime = this.tech_.currentTime();\n        var buffered = this.tech_.buffered();\n        var currentRange = findRange(buffered, currentTime); // Sometimes the player can stall for unknown reasons within a contiguous buffered\n        // region with no indication that anything is amiss (seen in Firefox). Seeking to\n        // currentTime is usually enough to kickstart the player. This checks that the player\n        // is currently within a buffered region before attempting a corrective seek.\n        // Chrome does not appear to continue `timeupdate` events after a `waiting` event\n        // until there is ~ 3 seconds of forward buffer available. PlaybackWatcher should also\n        // make sure there is ~3 seconds of forward buffer before taking any corrective action\n        // to avoid triggering an `unknownwaiting` event when the network is slow.\n\n        if (currentRange.length && currentTime + 3 <= currentRange.end(0)) {\n          this.cancelTimer_();\n          this.seekTo(currentTime);\n          this.logger_('Stopped at ' + currentTime + ' while inside a buffered region ' + ('[' + currentRange.start(0) + ' -> ' + currentRange.end(0) + ']. Attempting to resume ') + 'playback by seeking to the current time.'); // unknown waiting corrections may be useful for monitoring QoS\n\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-unknown-waiting'\n          });\n          return;\n        }\n      }\n      /**\n       * Handler for situations when the tech fires a `waiting` event\n       *\n       * @return {Boolean}\n       *         True if an action (or none) was needed to correct the waiting. False if no\n       *         checks passed\n       * @private\n       */\n\n    }, {\n      key: 'techWaiting_',\n      value: function techWaiting_() {\n        var seekable = this.seekable();\n        var currentTime = this.tech_.currentTime();\n\n        if (this.tech_.seeking() && this.fixesBadSeeks_()) {\n          // Tech is seeking or bad seek fixed, no action needed\n          return true;\n        }\n\n        if (this.tech_.seeking() || this.timer_ !== null) {\n          // Tech is seeking or already waiting on another action, no action needed\n          return true;\n        }\n\n        if (this.beforeSeekableWindow_(seekable, currentTime)) {\n          var livePoint = seekable.end(seekable.length - 1);\n          this.logger_('Fell out of live window at time ' + currentTime + '. Seeking to ' + ('live point (seekable end) ' + livePoint));\n          this.cancelTimer_();\n          this.seekTo(livePoint); // live window resyncs may be useful for monitoring QoS\n\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-live-resync'\n          });\n          return true;\n        }\n\n        var buffered = this.tech_.buffered();\n        var nextRange = findNextRange(buffered, currentTime);\n\n        if (this.videoUnderflow_(nextRange, buffered, currentTime)) {\n          // Even though the video underflowed and was stuck in a gap, the audio overplayed\n          // the gap, leading currentTime into a buffered range. Seeking to currentTime\n          // allows the video to catch up to the audio position without losing any audio\n          // (only suffering ~3 seconds of frozen video and a pause in audio playback).\n          this.cancelTimer_();\n          this.seekTo(currentTime); // video underflow may be useful for monitoring QoS\n\n          this.tech_.trigger({\n            type: 'usage',\n            name: 'hls-video-underflow'\n          });\n          return true;\n        } // check for gap\n\n\n        if (nextRange.length > 0) {\n          var difference = nextRange.start(0) - currentTime;\n          this.logger_('Stopped at ' + currentTime + ', setting timer for ' + difference + ', seeking ' + ('to ' + nextRange.start(0)));\n          this.timer_ = setTimeout(this.skipTheGap_.bind(this), difference * 1000, currentTime);\n          return true;\n        } // All checks failed. Returning false to indicate failure to correct waiting\n\n\n        return false;\n      }\n    }, {\n      key: 'afterSeekableWindow_',\n      value: function afterSeekableWindow_(seekable, currentTime, playlist) {\n        var allowSeeksWithinUnsafeLiveWindow = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        if (!seekable.length) {\n          // we can't make a solid case if there's no seekable, default to false\n          return false;\n        }\n\n        var allowedEnd = seekable.end(seekable.length - 1) + SAFE_TIME_DELTA;\n        var isLive = !playlist.endList;\n\n        if (isLive && allowSeeksWithinUnsafeLiveWindow) {\n          allowedEnd = seekable.end(seekable.length - 1) + playlist.targetDuration * 3;\n        }\n\n        if (currentTime > allowedEnd) {\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      key: 'beforeSeekableWindow_',\n      value: function beforeSeekableWindow_(seekable, currentTime) {\n        if (seekable.length && // can't fall before 0 and 0 seekable start identifies VOD stream\n        seekable.start(0) > 0 && currentTime < seekable.start(0) - SAFE_TIME_DELTA) {\n          return true;\n        }\n\n        return false;\n      }\n    }, {\n      key: 'videoUnderflow_',\n      value: function videoUnderflow_(nextRange, buffered, currentTime) {\n        if (nextRange.length === 0) {\n          // Even if there is no available next range, there is still a possibility we are\n          // stuck in a gap due to video underflow.\n          var gap = this.gapFromVideoUnderflow_(buffered, currentTime);\n\n          if (gap) {\n            this.logger_('Encountered a gap in video from ' + gap.start + ' to ' + gap.end + '. ' + ('Seeking to current time ' + currentTime));\n            return true;\n          }\n        }\n\n        return false;\n      }\n      /**\n       * Timer callback. If playback still has not proceeded, then we seek\n       * to the start of the next buffered region.\n       *\n       * @private\n       */\n\n    }, {\n      key: 'skipTheGap_',\n      value: function skipTheGap_(scheduledCurrentTime) {\n        var buffered = this.tech_.buffered();\n        var currentTime = this.tech_.currentTime();\n        var nextRange = findNextRange(buffered, currentTime);\n        this.cancelTimer_();\n\n        if (nextRange.length === 0 || currentTime !== scheduledCurrentTime) {\n          return;\n        }\n\n        this.logger_('skipTheGap_:', 'currentTime:', currentTime, 'scheduled currentTime:', scheduledCurrentTime, 'nextRange start:', nextRange.start(0)); // only seek if we still have not played\n\n        this.seekTo(nextRange.start(0) + TIME_FUDGE_FACTOR);\n        this.tech_.trigger({\n          type: 'usage',\n          name: 'hls-gap-skip'\n        });\n      }\n    }, {\n      key: 'gapFromVideoUnderflow_',\n      value: function gapFromVideoUnderflow_(buffered, currentTime) {\n        // At least in Chrome, if there is a gap in the video buffer, the audio will continue\n        // playing for ~3 seconds after the video gap starts. This is done to account for\n        // video buffer underflow/underrun (note that this is not done when there is audio\n        // buffer underflow/underrun -- in that case the video will stop as soon as it\n        // encounters the gap, as audio stalls are more noticeable/jarring to a user than\n        // video stalls). The player's time will reflect the playthrough of audio, so the\n        // time will appear as if we are in a buffered region, even if we are stuck in a\n        // \"gap.\"\n        //\n        // Example:\n        // video buffer:   0 => 10.1, 10.2 => 20\n        // audio buffer:   0 => 20\n        // overall buffer: 0 => 10.1, 10.2 => 20\n        // current time: 13\n        //\n        // Chrome's video froze at 10 seconds, where the video buffer encountered the gap,\n        // however, the audio continued playing until it reached ~3 seconds past the gap\n        // (13 seconds), at which point it stops as well. Since current time is past the\n        // gap, findNextRange will return no ranges.\n        //\n        // To check for this issue, we see if there is a gap that starts somewhere within\n        // a 3 second range (3 seconds +/- 1 second) back from our current time.\n        var gaps = findGaps(buffered);\n\n        for (var i = 0; i < gaps.length; i++) {\n          var start = gaps.start(i);\n          var end = gaps.end(i); // gap is starts no more than 4 seconds back\n\n          if (currentTime - start < 4 && currentTime - start > 2) {\n            return {\n              start: start,\n              end: end\n            };\n          }\n        }\n\n        return null;\n      }\n    }]);\n    return PlaybackWatcher;\n  }();\n\n  var defaultOptions = {\n    errorInterval: 30,\n    getSource: function getSource(next) {\n      var tech = this.tech({\n        IWillNotUseThisInPlugins: true\n      });\n      var sourceObj = tech.currentSource_;\n      return next(sourceObj);\n    }\n  };\n  /**\n   * Main entry point for the plugin\n   *\n   * @param {Player} player a reference to a videojs Player instance\n   * @param {Object} [options] an object with plugin options\n   * @private\n   */\n\n  var initPlugin = function initPlugin(player, options) {\n    var lastCalled = 0;\n    var seekTo = 0;\n    var localOptions = videojs$1.mergeOptions(defaultOptions, options);\n    player.ready(function () {\n      player.trigger({\n        type: 'usage',\n        name: 'hls-error-reload-initialized'\n      });\n    });\n    /**\n     * Player modifications to perform that must wait until `loadedmetadata`\n     * has been triggered\n     *\n     * @private\n     */\n\n    var loadedMetadataHandler = function loadedMetadataHandler() {\n      if (seekTo) {\n        player.currentTime(seekTo);\n      }\n    };\n    /**\n     * Set the source on the player element, play, and seek if necessary\n     *\n     * @param {Object} sourceObj An object specifying the source url and mime-type to play\n     * @private\n     */\n\n\n    var setSource = function setSource(sourceObj) {\n      if (sourceObj === null || sourceObj === undefined) {\n        return;\n      }\n\n      seekTo = player.duration() !== Infinity && player.currentTime() || 0;\n      player.one('loadedmetadata', loadedMetadataHandler);\n      player.src(sourceObj);\n      player.trigger({\n        type: 'usage',\n        name: 'hls-error-reload'\n      });\n      player.play();\n    };\n    /**\n     * Attempt to get a source from either the built-in getSource function\n     * or a custom function provided via the options\n     *\n     * @private\n     */\n\n\n    var errorHandler = function errorHandler() {\n      // Do not attempt to reload the source if a source-reload occurred before\n      // 'errorInterval' time has elapsed since the last source-reload\n      if (Date.now() - lastCalled < localOptions.errorInterval * 1000) {\n        player.trigger({\n          type: 'usage',\n          name: 'hls-error-reload-canceled'\n        });\n        return;\n      }\n\n      if (!localOptions.getSource || typeof localOptions.getSource !== 'function') {\n        videojs$1.log.error('ERROR: reloadSourceOnError - The option getSource must be a function!');\n        return;\n      }\n\n      lastCalled = Date.now();\n      return localOptions.getSource.call(player, setSource);\n    };\n    /**\n     * Unbind any event handlers that were bound by the plugin\n     *\n     * @private\n     */\n\n\n    var cleanupEvents = function cleanupEvents() {\n      player.off('loadedmetadata', loadedMetadataHandler);\n      player.off('error', errorHandler);\n      player.off('dispose', cleanupEvents);\n    };\n    /**\n     * Cleanup before re-initializing the plugin\n     *\n     * @param {Object} [newOptions] an object with plugin options\n     * @private\n     */\n\n\n    var reinitPlugin = function reinitPlugin(newOptions) {\n      cleanupEvents();\n      initPlugin(player, newOptions);\n    };\n\n    player.on('error', errorHandler);\n    player.on('dispose', cleanupEvents); // Overwrite the plugin function so that we can correctly cleanup before\n    // initializing the plugin\n\n    player.reloadSourceOnError = reinitPlugin;\n  };\n  /**\n   * Reload the source when an error is detected as long as there\n   * wasn't an error previously within the last 30 seconds\n   *\n   * @param {Object} [options] an object with plugin options\n   */\n\n\n  var reloadSourceOnError = function reloadSourceOnError(options) {\n    initPlugin(this, options);\n  };\n\n  var version$3 = \"1.9.3\"; // since VHS handles HLS and DASH (and in the future, more types), use * to capture all\n\n  videojs$1.use('*', function (player) {\n    return {\n      setSource: function setSource(srcObj, next) {\n        // pass null as the first argument to indicate that the source is not rejected\n        next(null, srcObj);\n      },\n      // VHS needs to know when seeks happen. For external seeks (generated at the player\n      // level), this middleware will capture the action. For internal seeks (generated at\n      // the tech level), we use a wrapped function so that we can handle it on our own\n      // (specified elsewhere).\n      setCurrentTime: function setCurrentTime(time) {\n        if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n          player.vhs.setCurrentTime(time);\n        }\n\n        return time;\n      },\n      // Sync VHS after play requests.\n      // This specifically handles replay where the order of actions is\n      // play, video element will seek to 0 (skipping the setCurrentTime middleware)\n      // then triggers a play event.\n      play: function play() {\n        if (player.vhs && player.currentSource().src === player.vhs.source_.src) {\n          player.vhs.setCurrentTime(player.tech_.currentTime());\n        }\n      }\n    };\n  });\n  /**\n   * @file videojs-http-streaming.js\n   *\n   * The main file for the HLS project.\n   * License: https://github.com/videojs/videojs-http-streaming/blob/master/LICENSE\n   */\n\n  var Hls$1 = {\n    PlaylistLoader: PlaylistLoader,\n    Playlist: Playlist,\n    Decrypter: Decrypter,\n    AsyncStream: AsyncStream,\n    decrypt: decrypt,\n    utils: utils$1,\n    STANDARD_PLAYLIST_SELECTOR: lastBandwidthSelector,\n    INITIAL_PLAYLIST_SELECTOR: lowestBitrateCompatibleVariantSelector,\n    comparePlaylistBandwidth: comparePlaylistBandwidth,\n    comparePlaylistResolution: comparePlaylistResolution,\n    xhr: xhrFactory()\n  }; // Define getter/setters for config properites\n\n  ['GOAL_BUFFER_LENGTH', 'MAX_GOAL_BUFFER_LENGTH', 'GOAL_BUFFER_LENGTH_RATE', 'BUFFER_LOW_WATER_LINE', 'MAX_BUFFER_LOW_WATER_LINE', 'BUFFER_LOW_WATER_LINE_RATE', 'BANDWIDTH_VARIANCE'].forEach(function (prop) {\n    Object.defineProperty(Hls$1, prop, {\n      get: function get$$1() {\n        videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n        return Config[prop];\n      },\n      set: function set$$1(value) {\n        videojs$1.log.warn('using Hls.' + prop + ' is UNSAFE be sure you know what you are doing');\n\n        if (typeof value !== 'number' || value < 0) {\n          videojs$1.log.warn('value of Hls.' + prop + ' must be greater than or equal to 0');\n          return;\n        }\n\n        Config[prop] = value;\n      }\n    });\n  });\n  var LOCAL_STORAGE_KEY$1 = 'videojs-vhs';\n\n  var simpleTypeFromSourceType = function simpleTypeFromSourceType(type) {\n    var mpegurlRE = /^(audio|video|application)\\/(x-|vnd\\.apple\\.)?mpegurl/i;\n\n    if (mpegurlRE.test(type)) {\n      return 'hls';\n    }\n\n    var dashRE = /^application\\/dash\\+xml/i;\n\n    if (dashRE.test(type)) {\n      return 'dash';\n    }\n\n    return null;\n  };\n  /**\n   * Updates the selectedIndex of the QualityLevelList when a mediachange happens in hls.\n   *\n   * @param {QualityLevelList} qualityLevels The QualityLevelList to update.\n   * @param {PlaylistLoader} playlistLoader PlaylistLoader containing the new media info.\n   * @function handleHlsMediaChange\n   */\n\n\n  var handleHlsMediaChange = function handleHlsMediaChange(qualityLevels, playlistLoader) {\n    var newPlaylist = playlistLoader.media();\n    var selectedIndex = -1;\n\n    for (var i = 0; i < qualityLevels.length; i++) {\n      if (qualityLevels[i].id === newPlaylist.uri) {\n        selectedIndex = i;\n        break;\n      }\n    }\n\n    qualityLevels.selectedIndex_ = selectedIndex;\n    qualityLevels.trigger({\n      selectedIndex: selectedIndex,\n      type: 'change'\n    });\n  };\n  /**\n   * Adds quality levels to list once playlist metadata is available\n   *\n   * @param {QualityLevelList} qualityLevels The QualityLevelList to attach events to.\n   * @param {Object} hls Hls object to listen to for media events.\n   * @function handleHlsLoadedMetadata\n   */\n\n\n  var handleHlsLoadedMetadata = function handleHlsLoadedMetadata(qualityLevels, hls) {\n    hls.representations().forEach(function (rep) {\n      qualityLevels.addQualityLevel(rep);\n    });\n    handleHlsMediaChange(qualityLevels, hls.playlists);\n  }; // HLS is a source handler, not a tech. Make sure attempts to use it\n  // as one do not cause exceptions.\n\n\n  Hls$1.canPlaySource = function () {\n    return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n  };\n\n  var emeKeySystems = function emeKeySystems(keySystemOptions, videoPlaylist, audioPlaylist) {\n    if (!keySystemOptions) {\n      return keySystemOptions;\n    } // upsert the content types based on the selected playlist\n\n\n    var keySystemContentTypes = {};\n\n    for (var keySystem in keySystemOptions) {\n      keySystemContentTypes[keySystem] = {\n        audioContentType: 'audio/mp4; codecs=\"' + audioPlaylist.attributes.CODECS + '\"',\n        videoContentType: 'video/mp4; codecs=\"' + videoPlaylist.attributes.CODECS + '\"'\n      };\n\n      if (videoPlaylist.contentProtection && videoPlaylist.contentProtection[keySystem] && videoPlaylist.contentProtection[keySystem].pssh) {\n        keySystemContentTypes[keySystem].pssh = videoPlaylist.contentProtection[keySystem].pssh;\n      } // videojs-contrib-eme accepts the option of specifying: 'com.some.cdm': 'url'\n      // so we need to prevent overwriting the URL entirely\n\n\n      if (typeof keySystemOptions[keySystem] === 'string') {\n        keySystemContentTypes[keySystem].url = keySystemOptions[keySystem];\n      }\n    }\n\n    return videojs$1.mergeOptions(keySystemOptions, keySystemContentTypes);\n  };\n\n  var setupEmeOptions = function setupEmeOptions(hlsHandler) {\n    if (hlsHandler.options_.sourceType !== 'dash') {\n      return;\n    }\n\n    var player = videojs$1.players[hlsHandler.tech_.options_.playerId];\n\n    if (player.eme) {\n      var sourceOptions = emeKeySystems(hlsHandler.source_.keySystems, hlsHandler.playlists.media(), hlsHandler.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());\n\n      if (sourceOptions) {\n        player.currentSource().keySystems = sourceOptions; // works around https://bugs.chromium.org/p/chromium/issues/detail?id=895449\n\n        if (player.eme.initializeMediaKeys) {\n          player.eme.initializeMediaKeys();\n        }\n      }\n    }\n  };\n\n  var getVhsLocalStorage = function getVhsLocalStorage() {\n    if (!window.localStorage) {\n      return null;\n    }\n\n    var storedObject = window.localStorage.getItem(LOCAL_STORAGE_KEY$1);\n\n    if (!storedObject) {\n      return null;\n    }\n\n    try {\n      return JSON.parse(storedObject);\n    } catch (e) {\n      // someone may have tampered with the value\n      return null;\n    }\n  };\n\n  var updateVhsLocalStorage = function updateVhsLocalStorage(options) {\n    if (!window.localStorage) {\n      return false;\n    }\n\n    var objectToStore = getVhsLocalStorage();\n    objectToStore = objectToStore ? videojs$1.mergeOptions(objectToStore, options) : options;\n\n    try {\n      window.localStorage.setItem(LOCAL_STORAGE_KEY$1, JSON.stringify(objectToStore));\n    } catch (e) {\n      // Throws if storage is full (e.g., always on iOS 5+ Safari private mode, where\n      // storage is set to 0).\n      // https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem#Exceptions\n      // No need to perform any operation.\n      return false;\n    }\n\n    return objectToStore;\n  };\n  /**\n   * Whether the browser has built-in HLS support.\n   */\n\n\n  Hls$1.supportsNativeHls = function () {\n    var video = document.createElement('video'); // native HLS is definitely not supported if HTML5 video isn't\n\n    if (!videojs$1.getTech('Html5').isSupported()) {\n      return false;\n    } // HLS manifests can go by many mime-types\n\n\n    var canPlay = [// Apple santioned\n    'application/vnd.apple.mpegurl', // Apple sanctioned for backwards compatibility\n    'audio/mpegurl', // Very common\n    'audio/x-mpegurl', // Very common\n    'application/x-mpegurl', // Included for completeness\n    'video/x-mpegurl', 'video/mpegurl', 'application/mpegurl'];\n    return canPlay.some(function (canItPlay) {\n      return /maybe|probably/i.test(video.canPlayType(canItPlay));\n    });\n  }();\n\n  Hls$1.supportsNativeDash = function () {\n    if (!videojs$1.getTech('Html5').isSupported()) {\n      return false;\n    }\n\n    return /maybe|probably/i.test(document.createElement('video').canPlayType('application/dash+xml'));\n  }();\n\n  Hls$1.supportsTypeNatively = function (type) {\n    if (type === 'hls') {\n      return Hls$1.supportsNativeHls;\n    }\n\n    if (type === 'dash') {\n      return Hls$1.supportsNativeDash;\n    }\n\n    return false;\n  };\n  /**\n   * HLS is a source handler, not a tech. Make sure attempts to use it\n   * as one do not cause exceptions.\n   */\n\n\n  Hls$1.isSupported = function () {\n    return videojs$1.log.warn('HLS is no longer a tech. Please remove it from ' + 'your player\\'s techOrder.');\n  };\n\n  var Component$1 = videojs$1.getComponent('Component');\n  /**\n   * The Hls Handler object, where we orchestrate all of the parts\n   * of HLS to interact with video.js\n   *\n   * @class HlsHandler\n   * @extends videojs.Component\n   * @param {Object} source the soruce object\n   * @param {Tech} tech the parent tech object\n   * @param {Object} options optional and required options\n   */\n\n  var HlsHandler = function (_Component) {\n    inherits$1(HlsHandler, _Component);\n\n    function HlsHandler(source, tech, options) {\n      classCallCheck$1(this, HlsHandler); // tech.player() is deprecated but setup a reference to HLS for\n      // backwards-compatibility\n\n      var _this = possibleConstructorReturn$1(this, (HlsHandler.__proto__ || Object.getPrototypeOf(HlsHandler)).call(this, tech, options.hls));\n\n      if (tech.options_ && tech.options_.playerId) {\n        var _player = videojs$1(tech.options_.playerId);\n\n        if (!_player.hasOwnProperty('hls')) {\n          Object.defineProperty(_player, 'hls', {\n            get: function get$$1() {\n              videojs$1.log.warn('player.hls is deprecated. Use player.tech().hls instead.');\n              tech.trigger({\n                type: 'usage',\n                name: 'hls-player-access'\n              });\n              return _this;\n            },\n            configurable: true\n          });\n        } // Set up a reference to the HlsHandler from player.vhs. This allows users to start\n        // migrating from player.tech_.hls... to player.vhs... for API access. Although this\n        // isn't the most appropriate form of reference for video.js (since all APIs should\n        // be provided through core video.js), it is a common pattern for plugins, and vhs\n        // will act accordingly.\n\n\n        _player.vhs = _this; // deprecated, for backwards compatibility\n\n        _player.dash = _this;\n        _this.player_ = _player;\n      }\n\n      _this.tech_ = tech;\n      _this.source_ = source;\n      _this.stats = {};\n\n      _this.setOptions_();\n\n      if (_this.options_.overrideNative && tech.overrideNativeAudioTracks && tech.overrideNativeVideoTracks) {\n        tech.overrideNativeAudioTracks(true);\n        tech.overrideNativeVideoTracks(true);\n      } else if (_this.options_.overrideNative && (tech.featuresNativeVideoTracks || tech.featuresNativeAudioTracks)) {\n        // overriding native HLS only works if audio tracks have been emulated\n        // error early if we're misconfigured\n        throw new Error('Overriding native HLS requires emulated tracks. ' + 'See https://git.io/vMpjB');\n      } // listen for fullscreenchange events for this player so that we\n      // can adjust our quality selection quickly\n\n\n      _this.on(document, ['fullscreenchange', 'webkitfullscreenchange', 'mozfullscreenchange', 'MSFullscreenChange'], function (event) {\n        var fullscreenElement = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n\n        if (fullscreenElement && fullscreenElement.contains(_this.tech_.el())) {\n          _this.masterPlaylistController_.smoothQualityChange_();\n        }\n      }); // Handle seeking when looping - middleware doesn't handle this seek event from the tech\n\n\n      _this.on(_this.tech_, 'seeking', function () {\n        if (this.tech_.currentTime() === 0 && this.tech_.player_.loop()) {\n          this.setCurrentTime(0);\n        }\n      });\n\n      _this.on(_this.tech_, 'error', function () {\n        if (this.masterPlaylistController_) {\n          this.masterPlaylistController_.pauseLoading();\n        }\n      });\n\n      _this.on(_this.tech_, 'play', _this.play);\n\n      return _this;\n    }\n\n    createClass$1(HlsHandler, [{\n      key: 'setOptions_',\n      value: function setOptions_() {\n        var _this2 = this; // defaults\n\n\n        this.options_.withCredentials = this.options_.withCredentials || false;\n        this.options_.handleManifestRedirects = this.options_.handleManifestRedirects || false;\n        this.options_.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions === false ? false : true;\n        this.options_.smoothQualityChange = this.options_.smoothQualityChange || false;\n        this.options_.useBandwidthFromLocalStorage = typeof this.source_.useBandwidthFromLocalStorage !== 'undefined' ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || false;\n        this.options_.customTagParsers = this.options_.customTagParsers || [];\n        this.options_.customTagMappers = this.options_.customTagMappers || [];\n\n        if (typeof this.options_.blacklistDuration !== 'number') {\n          this.options_.blacklistDuration = 5 * 60;\n        }\n\n        if (typeof this.options_.bandwidth !== 'number') {\n          if (this.options_.useBandwidthFromLocalStorage) {\n            var storedObject = getVhsLocalStorage();\n\n            if (storedObject && storedObject.bandwidth) {\n              this.options_.bandwidth = storedObject.bandwidth;\n              this.tech_.trigger({\n                type: 'usage',\n                name: 'hls-bandwidth-from-local-storage'\n              });\n            }\n\n            if (storedObject && storedObject.throughput) {\n              this.options_.throughput = storedObject.throughput;\n              this.tech_.trigger({\n                type: 'usage',\n                name: 'hls-throughput-from-local-storage'\n              });\n            }\n          }\n        } // if bandwidth was not set by options or pulled from local storage, start playlist\n        // selection at a reasonable bandwidth\n\n\n        if (typeof this.options_.bandwidth !== 'number') {\n          this.options_.bandwidth = Config.INITIAL_BANDWIDTH;\n        } // If the bandwidth number is unchanged from the initial setting\n        // then this takes precedence over the enableLowInitialPlaylist option\n\n\n        this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Config.INITIAL_BANDWIDTH; // grab options passed to player.src\n\n        ['withCredentials', 'limitRenditionByPlayerDimensions', 'bandwidth', 'smoothQualityChange', 'customTagParsers', 'customTagMappers', 'handleManifestRedirects'].forEach(function (option) {\n          if (typeof _this2.source_[option] !== 'undefined') {\n            _this2.options_[option] = _this2.source_[option];\n          }\n        });\n        this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions;\n      }\n      /**\n       * called when player.src gets called, handle a new source\n       *\n       * @param {Object} src the source object to handle\n       */\n\n    }, {\n      key: 'src',\n      value: function src(_src, type) {\n        var _this3 = this; // do nothing if the src is falsey\n\n\n        if (!_src) {\n          return;\n        }\n\n        this.setOptions_(); // add master playlist controller options\n\n        this.options_.url = this.source_.src;\n        this.options_.tech = this.tech_;\n        this.options_.externHls = Hls$1;\n        this.options_.sourceType = simpleTypeFromSourceType(type); // Whenever we seek internally, we should update both the tech and call our own\n        // setCurrentTime function. This is needed because \"seeking\" events aren't always\n        // reliable. External seeks (via the player object) are handled via middleware.\n\n        this.options_.seekTo = function (time) {\n          _this3.tech_.setCurrentTime(time);\n\n          _this3.setCurrentTime(time);\n        };\n\n        this.masterPlaylistController_ = new MasterPlaylistController(this.options_);\n        this.playbackWatcher_ = new PlaybackWatcher(videojs$1.mergeOptions(this.options_, {\n          seekable: function seekable$$1() {\n            return _this3.seekable();\n          },\n          media: function media() {\n            return _this3.masterPlaylistController_.media();\n          }\n        }));\n        this.masterPlaylistController_.on('error', function () {\n          var player = videojs$1.players[_this3.tech_.options_.playerId];\n          player.error(_this3.masterPlaylistController_.error);\n        }); // `this` in selectPlaylist should be the HlsHandler for backwards\n        // compatibility with < v2\n\n        this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Hls$1.STANDARD_PLAYLIST_SELECTOR.bind(this);\n        this.masterPlaylistController_.selectInitialPlaylist = Hls$1.INITIAL_PLAYLIST_SELECTOR.bind(this); // re-expose some internal objects for backwards compatibility with < v2\n\n        this.playlists = this.masterPlaylistController_.masterPlaylistLoader_;\n        this.mediaSource = this.masterPlaylistController_.mediaSource; // Proxy assignment of some properties to the master playlist\n        // controller. Using a custom property for backwards compatibility\n        // with < v2\n\n        Object.defineProperties(this, {\n          selectPlaylist: {\n            get: function get$$1() {\n              return this.masterPlaylistController_.selectPlaylist;\n            },\n            set: function set$$1(selectPlaylist) {\n              this.masterPlaylistController_.selectPlaylist = selectPlaylist.bind(this);\n            }\n          },\n          throughput: {\n            get: function get$$1() {\n              return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate;\n            },\n            set: function set$$1(throughput) {\n              this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = throughput; // By setting `count` to 1 the throughput value becomes the starting value\n              // for the cumulative average\n\n              this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1;\n            }\n          },\n          bandwidth: {\n            get: function get$$1() {\n              return this.masterPlaylistController_.mainSegmentLoader_.bandwidth;\n            },\n            set: function set$$1(bandwidth) {\n              this.masterPlaylistController_.mainSegmentLoader_.bandwidth = bandwidth; // setting the bandwidth manually resets the throughput counter\n              // `count` is set to zero that current value of `rate` isn't included\n              // in the cumulative average\n\n              this.masterPlaylistController_.mainSegmentLoader_.throughput = {\n                rate: 0,\n                count: 0\n              };\n            }\n          },\n\n          /**\n           * `systemBandwidth` is a combination of two serial processes bit-rates. The first\n           * is the network bitrate provided by `bandwidth` and the second is the bitrate of\n           * the entire process after that - decryption, transmuxing, and appending - provided\n           * by `throughput`.\n           *\n           * Since the two process are serial, the overall system bandwidth is given by:\n           *   sysBandwidth = 1 / (1 / bandwidth + 1 / throughput)\n           */\n          systemBandwidth: {\n            get: function get$$1() {\n              var invBandwidth = 1 / (this.bandwidth || 1);\n              var invThroughput = void 0;\n\n              if (this.throughput > 0) {\n                invThroughput = 1 / this.throughput;\n              } else {\n                invThroughput = 0;\n              }\n\n              var systemBitrate = Math.floor(1 / (invBandwidth + invThroughput));\n              return systemBitrate;\n            },\n            set: function set$$1() {\n              videojs$1.log.error('The \"systemBandwidth\" property is read-only');\n            }\n          }\n        });\n\n        if (this.options_.bandwidth) {\n          this.bandwidth = this.options_.bandwidth;\n        }\n\n        if (this.options_.throughput) {\n          this.throughput = this.options_.throughput;\n        }\n\n        Object.defineProperties(this.stats, {\n          bandwidth: {\n            get: function get$$1() {\n              return _this3.bandwidth || 0;\n            },\n            enumerable: true\n          },\n          mediaRequests: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequests_() || 0;\n            },\n            enumerable: true\n          },\n          mediaRequestsAborted: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequestsAborted_() || 0;\n            },\n            enumerable: true\n          },\n          mediaRequestsTimedout: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequestsTimedout_() || 0;\n            },\n            enumerable: true\n          },\n          mediaRequestsErrored: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaRequestsErrored_() || 0;\n            },\n            enumerable: true\n          },\n          mediaTransferDuration: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaTransferDuration_() || 0;\n            },\n            enumerable: true\n          },\n          mediaBytesTransferred: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaBytesTransferred_() || 0;\n            },\n            enumerable: true\n          },\n          mediaSecondsLoaded: {\n            get: function get$$1() {\n              return _this3.masterPlaylistController_.mediaSecondsLoaded_() || 0;\n            },\n            enumerable: true\n          },\n          buffered: {\n            get: function get$$1() {\n              return timeRangesToArray(_this3.tech_.buffered());\n            },\n            enumerable: true\n          },\n          currentTime: {\n            get: function get$$1() {\n              return _this3.tech_.currentTime();\n            },\n            enumerable: true\n          },\n          currentSource: {\n            get: function get$$1() {\n              return _this3.tech_.currentSource_;\n            },\n            enumerable: true\n          },\n          currentTech: {\n            get: function get$$1() {\n              return _this3.tech_.name_;\n            },\n            enumerable: true\n          },\n          duration: {\n            get: function get$$1() {\n              return _this3.tech_.duration();\n            },\n            enumerable: true\n          },\n          master: {\n            get: function get$$1() {\n              return _this3.playlists.master;\n            },\n            enumerable: true\n          },\n          playerDimensions: {\n            get: function get$$1() {\n              return _this3.tech_.currentDimensions();\n            },\n            enumerable: true\n          },\n          seekable: {\n            get: function get$$1() {\n              return timeRangesToArray(_this3.tech_.seekable());\n            },\n            enumerable: true\n          },\n          timestamp: {\n            get: function get$$1() {\n              return Date.now();\n            },\n            enumerable: true\n          },\n          videoPlaybackQuality: {\n            get: function get$$1() {\n              return _this3.tech_.getVideoPlaybackQuality();\n            },\n            enumerable: true\n          }\n        });\n        this.tech_.one('canplay', this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));\n        this.tech_.on('bandwidthupdate', function () {\n          if (_this3.options_.useBandwidthFromLocalStorage) {\n            updateVhsLocalStorage({\n              bandwidth: _this3.bandwidth,\n              throughput: Math.round(_this3.throughput)\n            });\n          }\n        });\n        this.masterPlaylistController_.on('selectedinitialmedia', function () {\n          // Add the manual rendition mix-in to HlsHandler\n          renditionSelectionMixin(_this3);\n          setupEmeOptions(_this3);\n        }); // the bandwidth of the primary segment loader is our best\n        // estimate of overall bandwidth\n\n        this.on(this.masterPlaylistController_, 'progress', function () {\n          this.tech_.trigger('progress');\n        });\n        this.tech_.ready(function () {\n          return _this3.setupQualityLevels_();\n        }); // do nothing if the tech has been disposed already\n        // this can occur if someone sets the src in player.ready(), for instance\n\n        if (!this.tech_.el()) {\n          return;\n        }\n\n        this.tech_.src(videojs$1.URL.createObjectURL(this.masterPlaylistController_.mediaSource));\n      }\n      /**\n       * Initializes the quality levels and sets listeners to update them.\n       *\n       * @method setupQualityLevels_\n       * @private\n       */\n\n    }, {\n      key: 'setupQualityLevels_',\n      value: function setupQualityLevels_() {\n        var _this4 = this;\n\n        var player = videojs$1.players[this.tech_.options_.playerId];\n\n        if (player && player.qualityLevels) {\n          this.qualityLevels_ = player.qualityLevels();\n          this.masterPlaylistController_.on('selectedinitialmedia', function () {\n            handleHlsLoadedMetadata(_this4.qualityLevels_, _this4);\n          });\n          this.playlists.on('mediachange', function () {\n            handleHlsMediaChange(_this4.qualityLevels_, _this4.playlists);\n          });\n        }\n      }\n      /**\n       * Begin playing the video.\n       */\n\n    }, {\n      key: 'play',\n      value: function play() {\n        this.masterPlaylistController_.play();\n      }\n      /**\n       * a wrapper around the function in MasterPlaylistController\n       */\n\n    }, {\n      key: 'setCurrentTime',\n      value: function setCurrentTime(currentTime) {\n        this.masterPlaylistController_.setCurrentTime(currentTime);\n      }\n      /**\n       * a wrapper around the function in MasterPlaylistController\n       */\n\n    }, {\n      key: 'duration',\n      value: function duration$$1() {\n        return this.masterPlaylistController_.duration();\n      }\n      /**\n       * a wrapper around the function in MasterPlaylistController\n       */\n\n    }, {\n      key: 'seekable',\n      value: function seekable$$1() {\n        return this.masterPlaylistController_.seekable();\n      }\n      /**\n       * Abort all outstanding work and cleanup.\n       */\n\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        if (this.playbackWatcher_) {\n          this.playbackWatcher_.dispose();\n        }\n\n        if (this.masterPlaylistController_) {\n          this.masterPlaylistController_.dispose();\n        }\n\n        if (this.qualityLevels_) {\n          this.qualityLevels_.dispose();\n        }\n\n        if (this.player_) {\n          delete this.player_.vhs;\n          delete this.player_.dash;\n          delete this.player_.hls;\n        }\n\n        if (this.tech_ && this.tech_.hls) {\n          delete this.tech_.hls;\n        }\n\n        get$1(HlsHandler.prototype.__proto__ || Object.getPrototypeOf(HlsHandler.prototype), 'dispose', this).call(this);\n      }\n    }, {\n      key: 'convertToProgramTime',\n      value: function convertToProgramTime(time, callback) {\n        return getProgramTime({\n          playlist: this.masterPlaylistController_.media(),\n          time: time,\n          callback: callback\n        });\n      } // the player must be playing before calling this\n\n    }, {\n      key: 'seekToProgramTime',\n      value: function seekToProgramTime$$1(programTime, callback) {\n        var pauseAfterSeek = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var retryCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 2;\n        return seekToProgramTime({\n          programTime: programTime,\n          playlist: this.masterPlaylistController_.media(),\n          retryCount: retryCount,\n          pauseAfterSeek: pauseAfterSeek,\n          seekTo: this.options_.seekTo,\n          tech: this.options_.tech,\n          callback: callback\n        });\n      }\n    }]);\n    return HlsHandler;\n  }(Component$1);\n  /**\n   * The Source Handler object, which informs video.js what additional\n   * MIME types are supported and sets up playback. It is registered\n   * automatically to the appropriate tech based on the capabilities of\n   * the browser it is running in. It is not necessary to use or modify\n   * this object in normal usage.\n   */\n\n\n  var HlsSourceHandler = {\n    name: 'videojs-http-streaming',\n    VERSION: version$3,\n    canHandleSource: function canHandleSource(srcObj) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n      return HlsSourceHandler.canPlayType(srcObj.type, localOptions);\n    },\n    handleSource: function handleSource(source, tech) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var localOptions = videojs$1.mergeOptions(videojs$1.options, options);\n      tech.hls = new HlsHandler(source, tech, localOptions);\n      tech.hls.xhr = xhrFactory();\n      tech.hls.src(source.src, source.type);\n      return tech.hls;\n    },\n    canPlayType: function canPlayType(type) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _videojs$mergeOptions = videojs$1.mergeOptions(videojs$1.options, options),\n          overrideNative = _videojs$mergeOptions.hls.overrideNative;\n\n      var supportedType = simpleTypeFromSourceType(type);\n      var canUseMsePlayback = supportedType && (!Hls$1.supportsTypeNatively(supportedType) || overrideNative);\n      return canUseMsePlayback ? 'maybe' : '';\n    }\n  };\n\n  if (typeof videojs$1.MediaSource === 'undefined' || typeof videojs$1.URL === 'undefined') {\n    videojs$1.MediaSource = MediaSource;\n    videojs$1.URL = URL$1;\n  } // register source handlers with the appropriate techs\n\n\n  if (MediaSource.supportsNativeMediaSources()) {\n    videojs$1.getTech('Html5').registerSourceHandler(HlsSourceHandler, 0);\n  }\n\n  videojs$1.HlsHandler = HlsHandler;\n  videojs$1.HlsSourceHandler = HlsSourceHandler;\n  videojs$1.Hls = Hls$1;\n\n  if (!videojs$1.use) {\n    videojs$1.registerComponent('Hls', Hls$1);\n  }\n\n  videojs$1.options.hls = videojs$1.options.hls || {};\n\n  if (videojs$1.registerPlugin) {\n    videojs$1.registerPlugin('reloadSourceOnError', reloadSourceOnError);\n  } else {\n    videojs$1.plugin('reloadSourceOnError', reloadSourceOnError);\n  }\n\n  return videojs$1;\n\n}));\n"],"file":"video-lazy.min.js"}